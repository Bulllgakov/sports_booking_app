const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-B4NdpcEc.js","assets/vendor-Bj75XVPh.js","assets/firebase-n6uIb8Jv.js"])))=>i.map(i=>d[i]);
var TI=Object.defineProperty;var _I=(e,t,n)=>t in e?TI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ib=(e,t,n)=>_I(e,typeof t!="symbol"?t+"":t,n);import{r as b,a as s5,R as Gv,b as al,d as fn,e as If,N as dd,u as rs,f as UI,O as kb,h as Ao,L as wd,g as DI,i as Kc,B as LI,j as MI,k as sn}from"./vendor-Bj75XVPh.js";import{L as QI,a as wt,_ as i5,C as a5,r as Hp,s as cs,j as xy,c as co,b as jc,m as Op,d as PI,S as RI,e as HI,f as Ah,g as OI,h as $I,D as o5,q as zI,i as WI,k as KI,l as Fb,n as l5,o as VI,p as ch,t as GI,u as _g,v as qI,w as YI,x as A5,y as c5,z as u5,A as XI,B as JI,F as d5,E as ZI,G as ek,H as tk,I as nk,J as rk,K as sk,M as ik,N as zt,O as Tt,P as Ct,Q as Wt,R as rn,T as bt,U as qv,V as ak,W as h5,X as Nb,Y as Tb,Z as _b,$ as Nn,a0 as ok,a1 as va,a2 as Vc,a3 as Ii,a4 as qt,a5 as bp,a6 as uc,a7 as lk,a8 as f5,a9 as by}from"./firebase-n6uIb8Jv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var p5={exports:{}},Ug={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=b,ck=Symbol.for("react.element"),uk=Symbol.for("react.fragment"),dk=Object.prototype.hasOwnProperty,hk=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fk={key:!0,ref:!0,__self:!0,__source:!0};function g5(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)dk.call(t,r)&&!fk.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ck,type:e,key:a,ref:o,props:s,_owner:hk.current}}Ug.Fragment=uk;Ug.jsx=g5;Ug.jsxs=g5;p5.exports=Ug;var i=p5.exports,Yv={},Ub=s5;Yv.createRoot=Ub.createRoot,Yv.hydrateRoot=Ub.hydrateRoot;function eo(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const pk=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),Ol="$$material";function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}function Je(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gk(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mk(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var vk=function(){function e(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mk(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=gk(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),vs="-ms-",$p="-moz-",kn="-webkit-",m5="comm",wy="rule",By="decl",yk="@import",v5="@keyframes",xk="@layer",bk=Math.abs,Dg=String.fromCharCode,wk=Object.assign;function Bk(e,t){return ls(e,0)^45?(((t<<2^ls(e,0))<<2^ls(e,1))<<2^ls(e,2))<<2^ls(e,3):0}function y5(e){return e.trim()}function Ck(e,t){return(e=t.exec(e))?e[0]:e}function Fn(e,t,n){return e.replace(t,n)}function Xv(e,t){return e.indexOf(t)}function ls(e,t){return e.charCodeAt(t)|0}function Od(e,t,n){return e.slice(t,n)}function ca(e){return e.length}function Cy(e){return e.length}function kf(e,t){return t.push(e),e}function Sk(e,t){return e.map(t).join("")}var Lg=1,Ec=1,x5=0,Vs=0,Qr=0,Gc="";function Mg(e,t,n,r,s,a,o){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:Lg,column:Ec,length:o,return:""}}function Ru(e,t){return wk(Mg("",null,null,"",null,null,0),e,{length:-e.length},t)}function jk(){return Qr}function Ek(){return Qr=Vs>0?ls(Gc,--Vs):0,Ec--,Qr===10&&(Ec=1,Lg--),Qr}function ai(){return Qr=Vs<x5?ls(Gc,Vs++):0,Ec++,Qr===10&&(Ec=1,Lg++),Qr}function ya(){return ls(Gc,Vs)}function wp(){return Vs}function uh(e,t){return Od(Gc,e,t)}function $d(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function b5(e){return Lg=Ec=1,x5=ca(Gc=e),Vs=0,[]}function w5(e){return Gc="",e}function Bp(e){return y5(uh(Vs-1,Jv(e===91?e+2:e===40?e+1:e)))}function Ik(e){for(;(Qr=ya())&&Qr<33;)ai();return $d(e)>2||$d(Qr)>3?"":" "}function kk(e,t){for(;--t&&ai()&&!(Qr<48||Qr>102||Qr>57&&Qr<65||Qr>70&&Qr<97););return uh(e,wp()+(t<6&&ya()==32&&ai()==32))}function Jv(e){for(;ai();)switch(Qr){case e:return Vs;case 34:case 39:e!==34&&e!==39&&Jv(Qr);break;case 40:e===41&&Jv(e);break;case 92:ai();break}return Vs}function Fk(e,t){for(;ai()&&e+Qr!==57;)if(e+Qr===84&&ya()===47)break;return"/*"+uh(t,Vs-1)+"*"+Dg(e===47?e:ai())}function Nk(e){for(;!$d(ya());)ai();return uh(e,Vs)}function Tk(e){return w5(Cp("",null,null,null,[""],e=b5(e),0,[0],e))}function Cp(e,t,n,r,s,a,o,l,A){for(var c=0,u=0,d=o,p=0,h=0,m=0,g=1,y=1,x=1,C=0,S="",w=s,L=a,I=r,U=S;y;)switch(m=C,C=ai()){case 40:if(m!=108&&ls(U,d-1)==58){Xv(U+=Fn(Bp(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:U+=Bp(C);break;case 9:case 10:case 13:case 32:U+=Ik(m);break;case 92:U+=kk(wp()-1,7);continue;case 47:switch(ya()){case 42:case 47:kf(_k(Fk(ai(),wp()),t,n),A);break;default:U+="/"}break;case 123*g:l[c++]=ca(U)*x;case 125*g:case 59:case 0:switch(C){case 0:case 125:y=0;case 59+u:x==-1&&(U=Fn(U,/\f/g,"")),h>0&&ca(U)-d&&kf(h>32?Lb(U+";",r,n,d-1):Lb(Fn(U," ","")+";",r,n,d-2),A);break;case 59:U+=";";default:if(kf(I=Db(U,t,n,c,u,s,l,S,w=[],L=[],d),a),C===123)if(u===0)Cp(U,t,I,I,w,a,d,l,L);else switch(p===99&&ls(U,3)===110?100:p){case 100:case 108:case 109:case 115:Cp(e,I,I,r&&kf(Db(e,I,I,0,0,s,l,S,s,w=[],d),L),s,L,d,l,r?w:L);break;default:Cp(U,I,I,I,[""],L,0,l,L)}}c=u=h=0,g=x=1,S=U="",d=o;break;case 58:d=1+ca(U),h=m;default:if(g<1){if(C==123)--g;else if(C==125&&g++==0&&Ek()==125)continue}switch(U+=Dg(C),C*g){case 38:x=u>0?1:(U+="\f",-1);break;case 44:l[c++]=(ca(U)-1)*x,x=1;break;case 64:ya()===45&&(U+=Bp(ai())),p=ya(),u=d=ca(S=U+=Nk(wp())),C++;break;case 45:m===45&&ca(U)==2&&(g=0)}}return a}function Db(e,t,n,r,s,a,o,l,A,c,u){for(var d=s-1,p=s===0?a:[""],h=Cy(p),m=0,g=0,y=0;m<r;++m)for(var x=0,C=Od(e,d+1,d=bk(g=o[m])),S=e;x<h;++x)(S=y5(g>0?p[x]+" "+C:Fn(C,/&\f/g,p[x])))&&(A[y++]=S);return Mg(e,t,n,s===0?wy:l,A,c,u)}function _k(e,t,n){return Mg(e,t,n,m5,Dg(jk()),Od(e,2,-2),0)}function Lb(e,t,n,r){return Mg(e,t,n,By,Od(e,0,r),Od(e,r+1,-1),r)}function dc(e,t){for(var n="",r=Cy(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function Uk(e,t,n,r){switch(e.type){case xk:if(e.children.length)break;case yk:case By:return e.return=e.return||e.value;case m5:return"";case v5:return e.return=e.value+"{"+dc(e.children,r)+"}";case wy:e.value=e.props.join(",")}return ca(n=dc(e.children,r))?e.return=e.value+"{"+n+"}":""}function Dk(e){var t=Cy(e);return function(n,r,s,a){for(var o="",l=0;l<t;l++)o+=e[l](n,r,s,a)||"";return o}}function Lk(e){return function(t){t.root||(t=t.return)&&e(t)}}function B5(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Mk=function(t,n,r){for(var s=0,a=0;s=a,a=ya(),s===38&&a===12&&(n[r]=1),!$d(a);)ai();return uh(t,Vs)},Qk=function(t,n){var r=-1,s=44;do switch($d(s)){case 0:s===38&&ya()===12&&(n[r]=1),t[r]+=Mk(Vs-1,n,r);break;case 2:t[r]+=Bp(s);break;case 4:if(s===44){t[++r]=ya()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Dg(s)}while(s=ai());return t},Pk=function(t,n){return w5(Qk(b5(t),n))},Mb=new WeakMap,Rk=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Mb.get(r))&&!s){Mb.set(t,!0);for(var a=[],o=Pk(n,a),l=r.props,A=0,c=0;A<o.length;A++)for(var u=0;u<l.length;u++,c++)t.props[c]=a[A]?o[A].replace(/&\f/g,l[u]):l[u]+" "+o[A]}}},Hk=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function C5(e,t){switch(Bk(e,t)){case 5103:return kn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return kn+e+$p+e+vs+e+e;case 6828:case 4268:return kn+e+vs+e+e;case 6165:return kn+e+vs+"flex-"+e+e;case 5187:return kn+e+Fn(e,/(\w+).+(:[^]+)/,kn+"box-$1$2"+vs+"flex-$1$2")+e;case 5443:return kn+e+vs+"flex-item-"+Fn(e,/flex-|-self/,"")+e;case 4675:return kn+e+vs+"flex-line-pack"+Fn(e,/align-content|flex-|-self/,"")+e;case 5548:return kn+e+vs+Fn(e,"shrink","negative")+e;case 5292:return kn+e+vs+Fn(e,"basis","preferred-size")+e;case 6060:return kn+"box-"+Fn(e,"-grow","")+kn+e+vs+Fn(e,"grow","positive")+e;case 4554:return kn+Fn(e,/([^-])(transform)/g,"$1"+kn+"$2")+e;case 6187:return Fn(Fn(Fn(e,/(zoom-|grab)/,kn+"$1"),/(image-set)/,kn+"$1"),e,"")+e;case 5495:case 3959:return Fn(e,/(image-set\([^]*)/,kn+"$1$`$1");case 4968:return Fn(Fn(e,/(.+:)(flex-)?(.*)/,kn+"box-pack:$3"+vs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kn+e+e;case 4095:case 3583:case 4068:case 2532:return Fn(e,/(.+)-inline(.+)/,kn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ca(e)-1-t>6)switch(ls(e,t+1)){case 109:if(ls(e,t+4)!==45)break;case 102:return Fn(e,/(.+:)(.+)-([^]+)/,"$1"+kn+"$2-$3$1"+$p+(ls(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Xv(e,"stretch")?C5(Fn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ls(e,t+1)!==115)break;case 6444:switch(ls(e,ca(e)-3-(~Xv(e,"!important")&&10))){case 107:return Fn(e,":",":"+kn)+e;case 101:return Fn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kn+(ls(e,14)===45?"inline-":"")+"box$3$1"+kn+"$2$3$1"+vs+"$2box$3")+e}break;case 5936:switch(ls(e,t+11)){case 114:return kn+e+vs+Fn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return kn+e+vs+Fn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return kn+e+vs+Fn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return kn+e+vs+e+e}return e}var Ok=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case By:t.return=C5(t.value,t.length);break;case v5:return dc([Ru(t,{value:Fn(t.value,"@","@"+kn)})],s);case wy:if(t.length)return Sk(t.props,function(a){switch(Ck(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dc([Ru(t,{props:[Fn(a,/:(read-\w+)/,":"+$p+"$1")]})],s);case"::placeholder":return dc([Ru(t,{props:[Fn(a,/:(plac\w+)/,":"+kn+"input-$1")]}),Ru(t,{props:[Fn(a,/:(plac\w+)/,":"+$p+"$1")]}),Ru(t,{props:[Fn(a,/:(plac\w+)/,vs+"input-$1")]})],s)}return""})}},$k=[Ok],S5=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=t.stylisPlugins||$k,a={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)a[y[x]]=!0;l.push(g)});var A,c=[Rk,Hk];{var u,d=[Uk,Lk(function(g){u.insert(g)})],p=Dk(c.concat(s,d)),h=function(y){return dc(Tk(y),p)};A=function(y,x,C,S){u=C,h(y?y+"{"+x.styles+"}":x.styles),S&&(m.inserted[x.name]=!0)}}var m={key:n,sheet:new vk({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:A};return m.sheet.hydrate(l),m},j5={exports:{}},Qn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=typeof Symbol=="function"&&Symbol.for,Sy=ss?Symbol.for("react.element"):60103,jy=ss?Symbol.for("react.portal"):60106,Qg=ss?Symbol.for("react.fragment"):60107,Pg=ss?Symbol.for("react.strict_mode"):60108,Rg=ss?Symbol.for("react.profiler"):60114,Hg=ss?Symbol.for("react.provider"):60109,Og=ss?Symbol.for("react.context"):60110,Ey=ss?Symbol.for("react.async_mode"):60111,$g=ss?Symbol.for("react.concurrent_mode"):60111,zg=ss?Symbol.for("react.forward_ref"):60112,Wg=ss?Symbol.for("react.suspense"):60113,zk=ss?Symbol.for("react.suspense_list"):60120,Kg=ss?Symbol.for("react.memo"):60115,Vg=ss?Symbol.for("react.lazy"):60116,Wk=ss?Symbol.for("react.block"):60121,Kk=ss?Symbol.for("react.fundamental"):60117,Vk=ss?Symbol.for("react.responder"):60118,Gk=ss?Symbol.for("react.scope"):60119;function Ai(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sy:switch(e=e.type,e){case Ey:case $g:case Qg:case Rg:case Pg:case Wg:return e;default:switch(e=e&&e.$$typeof,e){case Og:case zg:case Vg:case Kg:case Hg:return e;default:return t}}case jy:return t}}}function E5(e){return Ai(e)===$g}Qn.AsyncMode=Ey;Qn.ConcurrentMode=$g;Qn.ContextConsumer=Og;Qn.ContextProvider=Hg;Qn.Element=Sy;Qn.ForwardRef=zg;Qn.Fragment=Qg;Qn.Lazy=Vg;Qn.Memo=Kg;Qn.Portal=jy;Qn.Profiler=Rg;Qn.StrictMode=Pg;Qn.Suspense=Wg;Qn.isAsyncMode=function(e){return E5(e)||Ai(e)===Ey};Qn.isConcurrentMode=E5;Qn.isContextConsumer=function(e){return Ai(e)===Og};Qn.isContextProvider=function(e){return Ai(e)===Hg};Qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sy};Qn.isForwardRef=function(e){return Ai(e)===zg};Qn.isFragment=function(e){return Ai(e)===Qg};Qn.isLazy=function(e){return Ai(e)===Vg};Qn.isMemo=function(e){return Ai(e)===Kg};Qn.isPortal=function(e){return Ai(e)===jy};Qn.isProfiler=function(e){return Ai(e)===Rg};Qn.isStrictMode=function(e){return Ai(e)===Pg};Qn.isSuspense=function(e){return Ai(e)===Wg};Qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qg||e===$g||e===Rg||e===Pg||e===Wg||e===zk||typeof e=="object"&&e!==null&&(e.$$typeof===Vg||e.$$typeof===Kg||e.$$typeof===Hg||e.$$typeof===Og||e.$$typeof===zg||e.$$typeof===Kk||e.$$typeof===Vk||e.$$typeof===Gk||e.$$typeof===Wk)};Qn.typeOf=Ai;j5.exports=Qn;var qk=j5.exports,I5=qk,Yk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k5={};k5[I5.ForwardRef]=Yk;k5[I5.Memo]=Xk;var Jk=!0;function F5(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var Iy=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||Jk===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},ky=function(t,n,r){Iy(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function Zk(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var eF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tF=/[A-Z]|^ms/g,nF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,N5=function(t){return t.charCodeAt(1)===45},Qb=function(t){return t!=null&&typeof t!="boolean"},M0=B5(function(e){return N5(e)?e:e.replace(tF,"-$&").toLowerCase()}),Pb=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(nF,function(r,s,a){return ua={name:s,styles:a,next:ua},s})}return eF[t]!==1&&!N5(t)&&typeof n=="number"&&n!==0?n+"px":n};function zd(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ua={name:s.name,styles:s.styles,next:ua},s.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)ua={name:o.name,styles:o.styles,next:ua},o=o.next;var l=a.styles+";";return l}return rF(e,t,n)}case"function":{if(e!==void 0){var A=ua,c=n(e);return ua=A,zd(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function rF(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=zd(e,t,n[s])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?r+=a+"{"+t[l]+"}":Qb(l)&&(r+=M0(a)+":"+Pb(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var A=0;A<o.length;A++)Qb(o[A])&&(r+=M0(a)+":"+Pb(a,o[A])+";");else{var c=zd(e,t,o);switch(a){case"animation":case"animationName":{r+=M0(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var Rb=/label:\s*([^\s;{]+)\s*(;|$)/g,ua;function dh(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";ua=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,s+=zd(n,t,a);else{var o=a;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=zd(n,t,e[l]),r){var A=a;s+=A[l]}Rb.lastIndex=0;for(var c="",u;(u=Rb.exec(s))!==null;)c+="-"+u[1];var d=Zk(s)+c;return{name:d,styles:s,next:ua}}var sF=function(t){return t()},T5=Gv.useInsertionEffect?Gv.useInsertionEffect:!1,_5=T5||sF,Hb=T5||b.useLayoutEffect,U5=b.createContext(typeof HTMLElement<"u"?S5({key:"css"}):null),iF=U5.Provider,Fy=function(t){return b.forwardRef(function(n,r){var s=b.useContext(U5);return t(n,s,r)})},qc=b.createContext({}),Ny={}.hasOwnProperty,Zv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",aF=function(t,n){var r={};for(var s in n)Ny.call(n,s)&&(r[s]=n[s]);return r[Zv]=t,r},oF=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Iy(n,r,s),_5(function(){return ky(n,r,s)}),null},lF=Fy(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[Zv],a=[r],o="";typeof e.className=="string"?o=F5(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var l=dh(a,void 0,b.useContext(qc));o+=t.key+"-"+l.name;var A={};for(var c in e)Ny.call(e,c)&&c!=="css"&&c!==Zv&&(A[c]=e[c]);return A.className=o,n&&(A.ref=n),b.createElement(b.Fragment,null,b.createElement(oF,{cache:t,serialized:l,isStringTag:typeof s=="string"}),b.createElement(s,A))}),AF=lF,Q0={exports:{}},Ob;function D5(){return Ob||(Ob=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Q0)),Q0.exports}D5();var $b=function(t,n){var r=arguments;if(n==null||!Ny.call(n,"css"))return b.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=AF,a[1]=aF(t,n);for(var o=2;o<s;o++)a[o]=r[o];return b.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})($b||($b={}));var cF=Fy(function(e,t){var n=e.styles,r=dh([n],void 0,b.useContext(qc)),s=b.useRef();return Hb(function(){var a=t.key+"-global",o=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,A=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),A!==null&&(l=!0,A.setAttribute("data-emotion",a),o.hydrate([A])),s.current=[o,l],function(){o.flush()}},[t]),Hb(function(){var a=s.current,o=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&ky(t,r.next,!0),o.tags.length){var A=o.tags[o.tags.length-1].nextElementSibling;o.before=A,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Zl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dh(t)}function uo(){var e=Zl.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var uF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dF=B5(function(e){return uF.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),hF=dF,fF=function(t){return t!=="theme"},zb=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?hF:fF},Wb=function(t,n,r){var s;if(n){var a=n.shouldForwardProp;s=t.__emotion_forwardProp&&a?function(o){return t.__emotion_forwardProp(o)&&a(o)}:a}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},pF=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Iy(n,r,s),_5(function(){return ky(n,r,s)}),null},gF=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,a,o;n!==void 0&&(a=n.label,o=n.target);var l=Wb(t,n,r),A=l||zb(s),c=!A("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&d.push("label:"+a+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var p=u[0];d.push(p[0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],p[m])}var g=Fy(function(y,x,C){var S=c&&y.as||s,w="",L=[],I=y;if(y.theme==null){I={};for(var U in y)I[U]=y[U];I.theme=b.useContext(qc)}typeof y.className=="string"?w=F5(x.registered,L,y.className):y.className!=null&&(w=y.className+" ");var _=dh(d.concat(L),x.registered,I);w+=x.key+"-"+_.name,o!==void 0&&(w+=" "+o);var F=c&&l===void 0?zb(S):A,R={};for(var k in y)c&&k==="as"||F(k)&&(R[k]=y[k]);return R.className=w,C&&(R.ref=C),b.createElement(b.Fragment,null,b.createElement(pF,{cache:x,serialized:_,isStringTag:typeof S=="string"}),b.createElement(S,R))});return g.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,x){var C=e(y,z({},n,x,{shouldForwardProp:Wb(g,x,!0)}));return C.apply(void 0,d)},g}},mF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],e1=gF.bind(null);mF.forEach(function(e){e1[e]=e1(e)});function vF(e,t){const n=S5({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),r(...s))}return n}const P0=new Map;function yF(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,s=b.useMemo(()=>{const a=`${t}-${n}`;if(typeof document=="object"&&P0.has(a))return P0.get(a);const o=vF(t,n);return P0.set(a,o),o},[t,n]);return t||n?i.jsx(iF,{value:s,children:r}):r}function xF(e){return e==null||Object.keys(e).length===0}function L5(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(xF(s)?n:s):t;return i.jsx(cF,{styles:r})}function Ty(e,t){return e1(e,t)}const M5=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Kb=[];function zp(e){return Kb[0]=e,dh(Kb)}const bF=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:L5,StyledEngineProvider:yF,ThemeContext:qc,css:Zl,default:Ty,internal_processStyles:M5,internal_serializeStyles:zp,keyframes:uo},Symbol.toStringTag,{value:"Module"}));function za(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Q5(e){if(b.isValidElement(e)||!za(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Q5(e[n])}),t}function Us(e,t,n={clone:!0}){const r=n.clone?z({},e):e;return za(e)&&za(t)&&Object.keys(t).forEach(s=>{b.isValidElement(t[s])?r[s]=t[s]:za(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&za(e[s])?r[s]=Us(e[s],t[s],n):n.clone?r[s]=za(t[s])?Q5(t[s]):t[s]:r[s]=t[s]}),r}const wF=Object.freeze(Object.defineProperty({__proto__:null,default:Us,isPlainObject:za},Symbol.toStringTag,{value:"Module"})),BF=["values","unit","step"],CF=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>z({},n,{[r.key]:r.val}),{})};function P5(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=Je(e,BF),a=CF(t),o=Object.keys(a);function l(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n})`}function A(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${n})`}function c(p,h){const m=o.indexOf(h);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n}) and (max-width:${(m!==-1&&typeof t[o[m]]=="number"?t[o[m]]:h)-r/100}${n})`}function u(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):l(p)}function d(p){const h=o.indexOf(p);return h===0?l(o[1]):h===o.length-1?A(o[h]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return z({keys:o,values:a,up:l,down:A,between:c,only:u,not:d,unit:n},s)}const SF={borderRadius:4};function Bd(e,t){return t?Us(e,t,{clone:!1}):e}const _y={xs:0,sm:600,md:900,lg:1200,xl:1536},Vb={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${_y[e]}px)`};function Gs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||Vb;return t.reduce((o,l,A)=>(o[a.up(a.keys[A])]=n(t[A]),o),{})}if(typeof t=="object"){const a=r.breakpoints||Vb;return Object.keys(t).reduce((o,l)=>{if(Object.keys(a.values||_y).indexOf(l)!==-1){const A=a.up(l);o[A]=n(t[l],l)}else{const A=l;o[A]=t[A]}return o},{})}return n(t)}function R5(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,s)=>{const a=e.up(s);return r[a]={},r},{}))||{}}function t1(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function jF(e,...t){const n=R5(e),r=[n,...t].reduce((s,a)=>Us(s,a),{});return t1(Object.keys(n),r)}function EF(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((s,a)=>{a<e.length&&(n[s]=!0)}):r.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function Ul({values:e,breakpoints:t,base:n}){const r=n||EF(e,t),s=Object.keys(r);if(s.length===0)return e;let a;return s.reduce((o,l,A)=>(Array.isArray(e)?(o[l]=e[A]!=null?e[A]:e[a],a=A):typeof e=="object"?(o[l]=e[l]!=null?e[l]:e[a],a=l):o[l]=e,o),{})}function Ye(e){if(typeof e!="string")throw new Error(eo(7));return e.charAt(0).toUpperCase()+e.slice(1)}const IF=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"}));function Gg(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function Wp(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=Gg(e,n)||r,t&&(s=t(s,r,e)),s}function _r(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,a=o=>{if(o[t]==null)return null;const l=o[t],A=o.theme,c=Gg(A,r)||{};return Gs(o,l,d=>{let p=Wp(c,s,d);return d===p&&typeof d=="string"&&(p=Wp(c,s,`${t}${d==="default"?"":Ye(d)}`,d)),n===!1?p:{[n]:p}})};return a.propTypes={},a.filterProps=[t],a}function kF(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const FF={m:"margin",p:"padding"},NF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Gb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},TF=kF(e=>{if(e.length>2)if(Gb[e])e=Gb[e];else return[e];const[t,n]=e.split(""),r=FF[t],s=NF[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),Uy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Dy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Uy,...Dy];function hh(e,t,n,r){var s;const a=(s=Gg(e,t,!1))!=null?s:n;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function Ly(e){return hh(e,"spacing",8)}function $l(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function _F(e,t){return n=>e.reduce((r,s)=>(r[s]=$l(t,n),r),{})}function UF(e,t,n,r){if(t.indexOf(n)===-1)return null;const s=TF(n),a=_F(s,r),o=e[n];return Gs(e,o,a)}function H5(e,t){const n=Ly(e.theme);return Object.keys(e).map(r=>UF(e,t,r,n)).reduce(Bd,{})}function vr(e){return H5(e,Uy)}vr.propTypes={};vr.filterProps=Uy;function yr(e){return H5(e,Dy)}yr.propTypes={};yr.filterProps=Dy;function DF(e=8){if(e.mui)return e;const t=Ly({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(a=>{const o=t(a);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function qg(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>t[a]?Bd(s,t[a](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Bi(e){return typeof e!="number"?e:`${e}px solid`}function Li(e,t){return _r({prop:e,themeKey:"borders",transform:t})}const LF=Li("border",Bi),MF=Li("borderTop",Bi),QF=Li("borderRight",Bi),PF=Li("borderBottom",Bi),RF=Li("borderLeft",Bi),HF=Li("borderColor"),OF=Li("borderTopColor"),$F=Li("borderRightColor"),zF=Li("borderBottomColor"),WF=Li("borderLeftColor"),KF=Li("outline",Bi),VF=Li("outlineColor"),Yg=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=hh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:$l(t,r)});return Gs(e,e.borderRadius,n)}return null};Yg.propTypes={};Yg.filterProps=["borderRadius"];qg(LF,MF,QF,PF,RF,HF,OF,$F,zF,WF,Yg,KF,VF);const Xg=e=>{if(e.gap!==void 0&&e.gap!==null){const t=hh(e.theme,"spacing",8),n=r=>({gap:$l(t,r)});return Gs(e,e.gap,n)}return null};Xg.propTypes={};Xg.filterProps=["gap"];const Jg=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=hh(e.theme,"spacing",8),n=r=>({columnGap:$l(t,r)});return Gs(e,e.columnGap,n)}return null};Jg.propTypes={};Jg.filterProps=["columnGap"];const Zg=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=hh(e.theme,"spacing",8),n=r=>({rowGap:$l(t,r)});return Gs(e,e.rowGap,n)}return null};Zg.propTypes={};Zg.filterProps=["rowGap"];const GF=_r({prop:"gridColumn"}),qF=_r({prop:"gridRow"}),YF=_r({prop:"gridAutoFlow"}),XF=_r({prop:"gridAutoColumns"}),JF=_r({prop:"gridAutoRows"}),ZF=_r({prop:"gridTemplateColumns"}),eN=_r({prop:"gridTemplateRows"}),tN=_r({prop:"gridTemplateAreas"}),nN=_r({prop:"gridArea"});qg(Xg,Jg,Zg,GF,qF,YF,XF,JF,ZF,eN,tN,nN);function hc(e,t){return t==="grey"?t:e}const rN=_r({prop:"color",themeKey:"palette",transform:hc}),sN=_r({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hc}),iN=_r({prop:"backgroundColor",themeKey:"palette",transform:hc});qg(rN,sN,iN);function ri(e){return e<=1&&e!==0?`${e*100}%`:e}const aN=_r({prop:"width",transform:ri}),My=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,s;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||_y[n];return a?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:ri(n)}};return Gs(e,e.maxWidth,t)}return null};My.filterProps=["maxWidth"];const oN=_r({prop:"minWidth",transform:ri}),lN=_r({prop:"height",transform:ri}),AN=_r({prop:"maxHeight",transform:ri}),cN=_r({prop:"minHeight",transform:ri});_r({prop:"size",cssProperty:"width",transform:ri});_r({prop:"size",cssProperty:"height",transform:ri});const uN=_r({prop:"boxSizing"});qg(aN,My,oN,lN,AN,cN,uN);const fh={border:{themeKey:"borders",transform:Bi},borderTop:{themeKey:"borders",transform:Bi},borderRight:{themeKey:"borders",transform:Bi},borderBottom:{themeKey:"borders",transform:Bi},borderLeft:{themeKey:"borders",transform:Bi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Bi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Yg},color:{themeKey:"palette",transform:hc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hc},backgroundColor:{themeKey:"palette",transform:hc},p:{style:yr},pt:{style:yr},pr:{style:yr},pb:{style:yr},pl:{style:yr},px:{style:yr},py:{style:yr},padding:{style:yr},paddingTop:{style:yr},paddingRight:{style:yr},paddingBottom:{style:yr},paddingLeft:{style:yr},paddingX:{style:yr},paddingY:{style:yr},paddingInline:{style:yr},paddingInlineStart:{style:yr},paddingInlineEnd:{style:yr},paddingBlock:{style:yr},paddingBlockStart:{style:yr},paddingBlockEnd:{style:yr},m:{style:vr},mt:{style:vr},mr:{style:vr},mb:{style:vr},ml:{style:vr},mx:{style:vr},my:{style:vr},margin:{style:vr},marginTop:{style:vr},marginRight:{style:vr},marginBottom:{style:vr},marginLeft:{style:vr},marginX:{style:vr},marginY:{style:vr},marginInline:{style:vr},marginInlineStart:{style:vr},marginInlineEnd:{style:vr},marginBlock:{style:vr},marginBlockStart:{style:vr},marginBlockEnd:{style:vr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Xg},rowGap:{style:Zg},columnGap:{style:Jg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ri},maxWidth:{style:My},minWidth:{transform:ri},height:{transform:ri},maxHeight:{transform:ri},minHeight:{transform:ri},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dN(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function hN(e,t){return typeof e=="function"?e(t):e}function O5(){function e(n,r,s,a){const o={[n]:r,theme:s},l=a[n];if(!l)return{[n]:r};const{cssProperty:A=n,themeKey:c,transform:u,style:d}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=Gg(s,c)||{};return d?d(o):Gs(o,r,m=>{let g=Wp(p,u,m);return m===g&&typeof m=="string"&&(g=Wp(p,u,`${n}${m==="default"?"":Ye(m)}`,m)),A===!1?g:{[A]:g}})}function t(n){var r;const{sx:s,theme:a={},nested:o}=n||{};if(!s)return null;const l=(r=a.unstable_sxConfig)!=null?r:fh;function A(c){let u=c;if(typeof c=="function")u=c(a);else if(typeof c!="object")return c;if(!u)return null;const d=R5(a.breakpoints),p=Object.keys(d);let h=d;return Object.keys(u).forEach(m=>{const g=hN(u[m],a);if(g!=null)if(typeof g=="object")if(l[m])h=Bd(h,e(m,g,a,l));else{const y=Gs({theme:a},g,x=>({[m]:x}));dN(y,g)?h[m]=t({sx:g,theme:a,nested:!0}):h=Bd(h,y)}else h=Bd(h,e(m,g,a,l))}),!o&&a.modularCssLayers?{"@layer sx":t1(p,h)}:t1(p,h)}return Array.isArray(s)?s.map(A):A(s)}return t}const Yc=O5();Yc.filterProps=["sx"];function $5(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const fN=["breakpoints","palette","spacing","shape"];function Xc(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:a={}}=e,o=Je(e,fN),l=P5(n),A=DF(s);let c=Us({breakpoints:l,direction:"ltr",components:{},palette:z({mode:"light"},r),spacing:A,shape:z({},SF,a)},o);return c.applyStyles=$5,c=t.reduce((u,d)=>Us(u,d),c),c.unstable_sxConfig=z({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Yc({sx:d,theme:this})},c}const pN=Object.freeze(Object.defineProperty({__proto__:null,default:Xc,private_createBreakpoints:P5,unstable_applyStyles:$5},Symbol.toStringTag,{value:"Module"}));function gN(e){return Object.keys(e).length===0}function em(e=null){const t=b.useContext(qc);return!t||gN(t)?e:t}const mN=Xc();function Jc(e=mN){return em(e)}function R0(e){const t=zp(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function z5({styles:e,themeId:t,defaultTheme:n={}}){const r=Jc(n),s=t&&r[t]||r;let a=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(a)?a=a.map(o=>R0(typeof o=="function"?o(s):o)):a=R0(a)),i.jsx(L5,{styles:a})}const vN=["sx"],yN=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:fh;return Object.keys(e).forEach(a=>{s[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function ph(e){const{sx:t}=e,n=Je(e,vN),{systemProps:r,otherProps:s}=yN(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...o)=>{const l=t(...o);return za(l)?z({},r,l):r}:a=z({},r,t),z({},s,{sx:a})}const xN=Object.freeze(Object.defineProperty({__proto__:null,default:Yc,extendSxProp:ph,unstable_createStyleFunctionSx:O5,unstable_defaultSxConfig:fh},Symbol.toStringTag,{value:"Module"})),qb=e=>e,bN=()=>{let e=qb;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qb}}},W5=bN();function K5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=K5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=K5(e))&&(r&&(r+=" "),r+=t);return r}const wN=["className","component"];function BN(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,a=Ty("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Yc);return b.forwardRef(function(A,c){const u=Jc(n),d=ph(A),{className:p,component:h="div"}=d,m=Je(d,wN);return i.jsx(a,z({as:h,ref:c,className:et(p,s?s(r):r),theme:t&&u[t]||u},m))})}const CN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ht(e,t,n="Mui"){const r=CN[t];return r?`${n}-${r}`:`${W5.generate(e)}-${t}`}function ft(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=ht(e,s,n)}),r}var V5={exports:{}},Gn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=Symbol.for("react.transitional.element"),Py=Symbol.for("react.portal"),tm=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),sm=Symbol.for("react.consumer"),im=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),cm=Symbol.for("react.lazy"),SN=Symbol.for("react.view_transition"),jN=Symbol.for("react.client.reference");function Mi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qy:switch(e=e.type,e){case tm:case rm:case nm:case om:case lm:case SN:return e;default:switch(e=e&&e.$$typeof,e){case im:case am:case cm:case Am:return e;case sm:return e;default:return t}}case Py:return t}}}Gn.ContextConsumer=sm;Gn.ContextProvider=im;Gn.Element=Qy;Gn.ForwardRef=am;Gn.Fragment=tm;Gn.Lazy=cm;Gn.Memo=Am;Gn.Portal=Py;Gn.Profiler=rm;Gn.StrictMode=nm;Gn.Suspense=om;Gn.SuspenseList=lm;Gn.isContextConsumer=function(e){return Mi(e)===sm};Gn.isContextProvider=function(e){return Mi(e)===im};Gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qy};Gn.isForwardRef=function(e){return Mi(e)===am};Gn.isFragment=function(e){return Mi(e)===tm};Gn.isLazy=function(e){return Mi(e)===cm};Gn.isMemo=function(e){return Mi(e)===Am};Gn.isPortal=function(e){return Mi(e)===Py};Gn.isProfiler=function(e){return Mi(e)===rm};Gn.isStrictMode=function(e){return Mi(e)===nm};Gn.isSuspense=function(e){return Mi(e)===om};Gn.isSuspenseList=function(e){return Mi(e)===lm};Gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tm||e===rm||e===nm||e===om||e===lm||typeof e=="object"&&e!==null&&(e.$$typeof===cm||e.$$typeof===Am||e.$$typeof===im||e.$$typeof===sm||e.$$typeof===am||e.$$typeof===jN||e.getModuleId!==void 0)};Gn.typeOf=Mi;V5.exports=Gn;var Yb=V5.exports;const EN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function G5(e){const t=`${e}`.match(EN);return t&&t[1]||""}function q5(e,t=""){return e.displayName||e.name||G5(e)||t}function Xb(e,t,n){const r=q5(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function IN(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return q5(e,"Component");if(typeof e=="object")switch(e.$$typeof){case Yb.ForwardRef:return Xb(e,e.render,"ForwardRef");case Yb.Memo:return Xb(e,e.type,"memo");default:return}}}const kN=Object.freeze(Object.defineProperty({__proto__:null,default:IN,getFunctionName:G5},Symbol.toStringTag,{value:"Module"})),FN=["ownerState"],NN=["variants"],TN=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _N(e){return Object.keys(e).length===0}function UN(e){return typeof e=="string"&&e.charCodeAt(0)>96}function H0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Jb(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const DN=Xc(),LN=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Ff({defaultTheme:e,theme:t,themeId:n}){return _N(t)?e:t[n]||t}function MN(e){return e?(t,n)=>n[e]:null}function Sp(e,t,n){let{ownerState:r}=t,s=Je(t,FN);const a=typeof e=="function"?e(z({ownerState:r},s)):e;if(Array.isArray(a))return a.flatMap(o=>Sp(o,z({ownerState:r},s),n));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let A=Je(a,NN);return o.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props(z({ownerState:r},s,r)):Object.keys(c.props).forEach(d=>{(r==null?void 0:r[d])!==c.props[d]&&s[d]!==c.props[d]&&(u=!1)}),u){Array.isArray(A)||(A=[A]);const d=typeof c.style=="function"?c.style(z({ownerState:r},s,r)):c.style;A.push(n?Jb(zp(d),n):d)}}),A}return n?Jb(zp(a),n):a}function QN(e={}){const{themeId:t,defaultTheme:n=DN,rootShouldForwardProp:r=H0,slotShouldForwardProp:s=H0}=e,a=o=>Yc(z({},o,{theme:Ff(z({},o,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(o,l={})=>{M5(o,I=>I.filter(U=>!(U!=null&&U.__mui_systemSx)));const{name:A,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:p=MN(LN(c))}=l,h=Je(l,TN),m=A&&A.startsWith("Mui")||c?"components":"custom",g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,C=H0;c==="Root"||c==="root"?C=r:c?C=s:UN(o)&&(C=void 0);const S=Ty(o,z({shouldForwardProp:C,label:x},h)),w=I=>typeof I=="function"&&I.__emotion_real!==I||za(I)?U=>{const _=Ff({theme:U.theme,defaultTheme:n,themeId:t});return Sp(I,z({},U,{theme:_}),_.modularCssLayers?m:void 0)}:I,L=(I,...U)=>{let _=w(I);const F=U?U.map(w):[];A&&p&&F.push(j=>{const M=Ff(z({},j,{defaultTheme:n,themeId:t}));if(!M.components||!M.components[A]||!M.components[A].styleOverrides)return null;const N=M.components[A].styleOverrides,$={};return Object.entries(N).forEach(([P,D])=>{$[P]=Sp(D,z({},j,{theme:M}),M.modularCssLayers?"theme":void 0)}),p(j,$)}),A&&!g&&F.push(j=>{var M;const N=Ff(z({},j,{defaultTheme:n,themeId:t})),$=N==null||(M=N.components)==null||(M=M[A])==null?void 0:M.variants;return Sp({variants:$},z({},j,{theme:N}),N.modularCssLayers?"theme":void 0)}),y||F.push(a);const R=F.length-U.length;if(Array.isArray(I)&&R>0){const j=new Array(R).fill("");_=[...I,...j],_.raw=[...I.raw,...j]}const k=S(_,...F);return o.muiName&&(k.muiName=o.muiName),k};return S.withConfig&&(L.withConfig=S.withConfig),L}}const Y5=QN();function Wd(e,t){const n=z({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=z({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},a=t[r];n[r]={},!a||!Object.keys(a)?n[r]=s:!s||!Object.keys(s)?n[r]=a:(n[r]=z({},a),Object.keys(s).forEach(o=>{n[r][o]=Wd(s[o],a[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function X5(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Wd(t.components[n].defaultProps,r)}function Ry({props:e,name:t,defaultTheme:n,themeId:r}){let s=Jc(n);return r&&(s=s[r]||s),X5({theme:s,name:t,props:e})}const js=typeof window<"u"?b.useLayoutEffect:b.useEffect;function PN(e,t,n,r,s){const[a,o]=b.useState(()=>s&&n?n(e).matches:r?r(e).matches:t);return js(()=>{let l=!0;if(!n)return;const A=n(e),c=()=>{l&&o(A.matches)};return c(),A.addListener(c),()=>{l=!1,A.removeListener(c)}},[e,n]),a}const J5=b.useSyncExternalStore;function RN(e,t,n,r,s){const a=b.useCallback(()=>t,[t]),o=b.useMemo(()=>{if(s&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return a},[a,e,r,s,n]),[l,A]=b.useMemo(()=>{if(n===null)return[a,()=>()=>{}];const u=n(e);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[a,n,e]);return J5(A,l,o)}function HN(e,t={}){const n=em(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:a=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:l=!1}=X5({name:"MuiUseMediaQuery",props:t,theme:n});let A=e;return A=A.replace(/^@media( ?)/m,""),(J5!==void 0?RN:PN)(A,s,a,o,l)}function Z5(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const ON=Object.freeze(Object.defineProperty({__proto__:null,default:Z5},Symbol.toStringTag,{value:"Module"}));function $N(e,t=0,n=1){return Z5(e,t,n)}function zN(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function e4(e){if(e.type)return e;if(e.charAt(0)==="#")return e4(zN(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(eo(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(eo(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}function WN(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,a)=>a<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Ic(e,t){return e=e4(e),t=$N(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,WN(e)}function Zb(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function um(e,t=166){let n;function r(...s){const a=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function jp(e,t){var n,r;return b.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Wr(e){return e&&e.ownerDocument||document}function to(e){return Wr(e).defaultView||window}function n1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let e2=0;function KN(e){const[t,n]=b.useState(e),r=e||t;return b.useEffect(()=>{t==null&&(e2+=1,n(`mui-${e2}`))},[t]),r}const t2=Gv.useId;function Zc(e){if(t2!==void 0){const t=t2();return e??t}return KN(e)}function wa({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=b.useRef(e!==void 0),[a,o]=b.useState(t),l=s?e:a,A=b.useCallback(c=>{s||o(c)},[]);return[l,A]}function en(e){const t=b.useRef(e);return js(()=>{t.current=e}),b.useRef((...n)=>(0,t.current)(...n)).current}function sr(...e){return b.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{n1(n,t)})},e)}const n2={};function VN(e,t){const n=b.useRef(n2);return n.current===n2&&(n.current=e(t)),n}const GN=[];function qN(e){b.useEffect(e,GN)}class gh{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new gh}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Po(){const e=VN(gh.create).current;return qN(e.disposeEffect),e}let dm=!0,r1=!1;const YN=new gh,XN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function JN(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&XN[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function ZN(e){e.metaKey||e.altKey||e.ctrlKey||(dm=!0)}function O0(){dm=!1}function eT(){this.visibilityState==="hidden"&&r1&&(dm=!0)}function tT(e){e.addEventListener("keydown",ZN,!0),e.addEventListener("mousedown",O0,!0),e.addEventListener("pointerdown",O0,!0),e.addEventListener("touchstart",O0,!0),e.addEventListener("visibilitychange",eT,!0)}function nT(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return dm||JN(t)}function t4(){const e=b.useCallback(s=>{s!=null&&tT(s.ownerDocument)},[]),t=b.useRef(!1);function n(){return t.current?(r1=!0,YN.start(100,()=>{r1=!1}),t.current=!1,!0):!1}function r(s){return nT(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function n4(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let TA;function r4(){if(TA)return TA;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),TA="reverse",e.scrollLeft>0?TA="default":(e.scrollLeft=1,e.scrollLeft===0&&(TA="negative")),document.body.removeChild(e),TA}function rT(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(r4()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function gt(e,t,n=void 0){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s].reduce((a,o)=>{if(o){const l=t(o);l!==""&&a.push(l),n&&n[o]&&a.push(n[o])}return a},[]).join(" ")}),r}function kc(e){return typeof e=="string"}function sc(e,t,n){return e===void 0||kc(e)?t:z({},t,{ownerState:z({},t.ownerState,n)})}function Kp(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function r2(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function s4(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=e;if(!t){const h=et(n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),m=z({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),g=z({},n,s,r);return h.length>0&&(g.className=h),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=Kp(z({},s,r)),l=r2(r),A=r2(s),c=t(o),u=et(c==null?void 0:c.className,n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),d=z({},c==null?void 0:c.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),p=z({},c,n,A,l);return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}function i4(e,t,n){return typeof e=="function"?e(t,n):e}const sT=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Fi(e){var t;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:a=!1}=e,o=Je(e,sT),l=a?{}:i4(r,s),{props:A,internalRef:c}=s4(z({},o,{externalSlotProps:l})),u=sr(c,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return sc(n,z({},A,{ref:u}),s)}function eA(e){if(parseInt(b.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const a4=b.createContext(null);function o4(){return b.useContext(a4)}const iT=typeof Symbol=="function"&&Symbol.for,aT=iT?Symbol.for("mui.nested"):"__THEME_NESTED__";function oT(e,t){return typeof t=="function"?t(e):z({},e,t)}function lT(e){const{children:t,theme:n}=e,r=o4(),s=b.useMemo(()=>{const a=r===null?n:oT(r,n);return a!=null&&(a[aT]=r!==null),a},[n,r]);return i.jsx(a4.Provider,{value:s,children:t})}const AT=["value"],l4=b.createContext();function cT(e){let{value:t}=e,n=Je(e,AT);return i.jsx(l4.Provider,z({value:t??!0},n))}const mh=()=>{const e=b.useContext(l4);return e??!1},A4=b.createContext(void 0);function uT({value:e,children:t}){return i.jsx(A4.Provider,{value:e,children:t})}function dT(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?Wd(s.defaultProps,r):!s.styleOverrides&&!s.variants?Wd(s,r):r}function hT({props:e,name:t}){const n=b.useContext(A4);return dT({props:e,name:t,theme:{components:n}})}function fT(e){const t=em(),n=Zc()||"",{modularCssLayers:r}=e;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,js(()=>{const a=document.querySelector("head");if(!a)return;const o=a.firstChild;if(s){var l;if(o&&(l=o.hasAttribute)!=null&&l.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=s,a.prepend(c)}else{var A;(A=a.querySelector(`style[data-mui-layer-order="${n}"]`))==null||A.remove()}},[s,n]),s?i.jsx(z5,{styles:s}):null}const s2={};function i2(e,t,n,r=!1){return b.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const a=n(s),o=e?z({},t,{[e]:a}):a;return r?()=>o:o}return e?z({},t,{[e]:n}):z({},t,n)},[e,t,n,r])}function pT(e){const{children:t,theme:n,themeId:r}=e,s=em(s2),a=o4()||s2,o=i2(r,s,n),l=i2(r,a,n,!0),A=o.direction==="rtl",c=fT(o);return i.jsx(lT,{theme:l,children:i.jsx(qc.Provider,{value:o,children:i.jsx(cT,{value:A,children:i.jsxs(uT,{value:o==null?void 0:o.components,children:[c,t]})})})})}function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function gT(e,t){if(dn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c4(e){var t=gT(e,"string");return dn(t)=="symbol"?t:t+""}const mT=["className","component","disableGutters","fixed","maxWidth","classes"],vT=Xc(),yT=Y5("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ye(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),xT=e=>Ry({props:e,name:"MuiContainer",defaultTheme:vT}),bT=(e,t)=>{const n=A=>ht(t,A),{classes:r,fixed:s,disableGutters:a,maxWidth:o}=e,l={root:["root",o&&`maxWidth${Ye(String(o))}`,s&&"fixed",a&&"disableGutters"]};return gt(l,n,r)};function wT(e={}){const{createStyledComponent:t=yT,useThemeProps:n=xT,componentName:r="MuiContainer"}=e,s=t(({theme:o,ownerState:l})=>z({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:l})=>l.fixed&&Object.keys(o.breakpoints.values).reduce((A,c)=>{const u=c,d=o.breakpoints.values[u];return d!==0&&(A[o.breakpoints.up(u)]={maxWidth:`${d}${o.breakpoints.unit}`}),A},{}),({theme:o,ownerState:l})=>z({},l.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[o.breakpoints.up(l.maxWidth)]:{maxWidth:`${o.breakpoints.values[l.maxWidth]}${o.breakpoints.unit}`}}));return b.forwardRef(function(l,A){const c=n(l),{className:u,component:d="div",disableGutters:p=!1,fixed:h=!1,maxWidth:m="lg"}=c,g=Je(c,mT),y=z({},c,{component:d,disableGutters:p,fixed:h,maxWidth:m}),x=bT(y,r);return i.jsx(s,z({as:d,ownerState:y,className:et(x.root,u),ref:A},g))})}const BT=["component","direction","spacing","divider","children","className","useFlexGap"],CT=Xc(),ST=Y5("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function jT(e){return Ry({props:e,name:"MuiStack",defaultTheme:CT})}function ET(e,t){const n=b.Children.toArray(e).filter(Boolean);return n.reduce((r,s,a)=>(r.push(s),a<n.length-1&&r.push(b.cloneElement(t,{key:`separator-${a}`})),r),[])}const IT=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],kT=({ownerState:e,theme:t})=>{let n=z({display:"flex",flexDirection:"column"},Gs({theme:t},Ul({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Ly(t),s=Object.keys(t.breakpoints.values).reduce((A,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(A[c]=!0),A),{}),a=Ul({values:e.direction,base:s}),o=Ul({values:e.spacing,base:s});typeof a=="object"&&Object.keys(a).forEach((A,c,u)=>{if(!a[A]){const p=c>0?a[u[c-1]]:"column";a[A]=p}}),n=Us(n,Gs({theme:t},o,(A,c)=>e.useFlexGap?{gap:$l(r,A)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${IT(c?a[c]:e.direction)}`]:$l(r,A)}}))}return n=jF(t.breakpoints,n),n};function FT(e={}){const{createStyledComponent:t=ST,useThemeProps:n=jT,componentName:r="MuiStack"}=e,s=()=>gt({root:["root"]},A=>ht(r,A),{}),a=t(kT);return b.forwardRef(function(A,c){const u=n(A),d=ph(u),{component:p="div",direction:h="column",spacing:m=0,divider:g,children:y,className:x,useFlexGap:C=!1}=d,S=Je(d,BT),w={direction:h,spacing:m,useFlexGap:C},L=s();return i.jsx(a,z({as:p,ownerState:w,ref:c,className:et(L.root,x)},S,{children:g?ET(y,g):y}))})}function NT(e,t){return z({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Ur={},u4={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(u4);var d4=u4.exports;const TT=al(pk),_T=al(ON);var h4=d4;Object.defineProperty(Ur,"__esModule",{value:!0});var un=Ur.alpha=m4;Ur.blend=WT;Ur.colorChannel=void 0;var Fc=Ur.darken=Oy;Ur.decomposeColor=Ni;var UT=Ur.emphasize=v4,DT=Ur.getContrastRatio=RT;Ur.getLuminance=Vp;Ur.hexToRgb=f4;Ur.hslToRgb=g4;var Nc=Ur.lighten=$y;Ur.private_safeAlpha=HT;Ur.private_safeColorChannel=void 0;Ur.private_safeDarken=OT;Ur.private_safeEmphasize=zT;Ur.private_safeLighten=$T;Ur.recomposeColor=eu;Ur.rgbToHex=PT;var a2=h4(TT),LT=h4(_T);function Hy(e,t=0,n=1){return(0,LT.default)(e,t,n)}function f4(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function MT(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ni(e){if(e.type)return e;if(e.charAt(0)==="#")return Ni(f4(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,a2.default)(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,a2.default)(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const p4=e=>{const t=Ni(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Ur.colorChannel=p4;const QT=(e,t)=>{try{return p4(e)}catch{return e}};Ur.private_safeColorChannel=QT;function eu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,a)=>a<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function PT(e){if(e.indexOf("#")===0)return e;const{values:t}=Ni(e);return`#${t.map((n,r)=>MT(r===3?Math.round(255*n):n)).join("")}`}function g4(e){e=Ni(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,a=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-a*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const A=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",A.push(t[3])),eu({type:l,values:A})}function Vp(e){e=Ni(e);let t=e.type==="hsl"||e.type==="hsla"?Ni(g4(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function RT(e,t){const n=Vp(e),r=Vp(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function m4(e,t){return e=Ni(e),t=Hy(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,eu(e)}function HT(e,t,n){try{return m4(e,t)}catch{return e}}function Oy(e,t){if(e=Ni(e),t=Hy(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return eu(e)}function OT(e,t,n){try{return Oy(e,t)}catch{return e}}function $y(e,t){if(e=Ni(e),t=Hy(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return eu(e)}function $T(e,t,n){try{return $y(e,t)}catch{return e}}function v4(e,t=.15){return Vp(e)>.5?Oy(e,t):$y(e,t)}function zT(e,t,n){try{return v4(e,t)}catch{return e}}function WT(e,t,n,r=1){const s=(A,c)=>Math.round((A**(1/r)*(1-n)+c**(1/r)*n)**r),a=Ni(e),o=Ni(t),l=[s(a.values[0],o.values[0]),s(a.values[1],o.values[1]),s(a.values[2],o.values[2])];return eu({type:"rgb",values:l})}const Kd={black:"#000",white:"#fff"},KT={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},_A={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},UA={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Hu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},DA={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},LA={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},MA={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},VT=["mode","contrastThreshold","tonalOffset"],o2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kd.white,default:Kd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$0={text:{primary:Kd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function l2(e,t,n,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Nc(e.main,s):t==="dark"&&(e.dark=Fc(e.main,a)))}function GT(e="light"){return e==="dark"?{main:DA[200],light:DA[50],dark:DA[400]}:{main:DA[700],light:DA[400],dark:DA[800]}}function qT(e="light"){return e==="dark"?{main:_A[200],light:_A[50],dark:_A[400]}:{main:_A[500],light:_A[300],dark:_A[700]}}function YT(e="light"){return e==="dark"?{main:UA[500],light:UA[300],dark:UA[700]}:{main:UA[700],light:UA[400],dark:UA[800]}}function XT(e="light"){return e==="dark"?{main:LA[400],light:LA[300],dark:LA[700]}:{main:LA[700],light:LA[500],dark:LA[900]}}function JT(e="light"){return e==="dark"?{main:MA[400],light:MA[300],dark:MA[700]}:{main:MA[800],light:MA[500],dark:MA[900]}}function ZT(e="light"){return e==="dark"?{main:Hu[400],light:Hu[300],dark:Hu[700]}:{main:"#ed6c02",light:Hu[500],dark:Hu[900]}}function e_(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,s=Je(e,VT),a=e.primary||GT(t),o=e.secondary||qT(t),l=e.error||YT(t),A=e.info||XT(t),c=e.success||JT(t),u=e.warning||ZT(t);function d(g){return DT(g,$0.text.primary)>=n?$0.text.primary:o2.text.primary}const p=({color:g,name:y,mainShade:x=500,lightShade:C=300,darkShade:S=700})=>{if(g=z({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(eo(11,y?` (${y})`:"",x));if(typeof g.main!="string")throw new Error(eo(12,y?` (${y})`:"",JSON.stringify(g.main)));return l2(g,"light",C,r),l2(g,"dark",S,r),g.contrastText||(g.contrastText=d(g.main)),g},h={dark:$0,light:o2};return Us(z({common:z({},Kd),mode:t,primary:p({color:a,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:A,name:"info"}),success:p({color:c,name:"success"}),grey:KT,contrastThreshold:n,getContrastText:d,augmentColor:p,tonalOffset:r},h[t]),s)}const t_=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function n_(e){return Math.round(e*1e5)/1e5}const A2={textTransform:"uppercase"},c2='"Roboto", "Helvetica", "Arial", sans-serif';function r_(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=c2,fontSize:s=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:A=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,p=Je(n,t_),h=s/14,m=d||(x=>`${x/c*h}rem`),g=(x,C,S,w,L)=>z({fontFamily:r,fontWeight:x,fontSize:m(C),lineHeight:S},r===c2?{letterSpacing:`${n_(w/C)}em`}:{},L,u),y={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(l,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(l,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(l,14,1.75,.4,A2),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,A2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Us(z({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:A},y),p,{clone:!1})}const s_=.2,i_=.14,a_=.12;function lr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${s_})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${i_})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${a_})`].join(",")}const o_=["none",lr(0,2,1,-1,0,1,1,0,0,1,3,0),lr(0,3,1,-2,0,2,2,0,0,1,5,0),lr(0,3,3,-2,0,3,4,0,0,1,8,0),lr(0,2,4,-1,0,4,5,0,0,1,10,0),lr(0,3,5,-1,0,5,8,0,0,1,14,0),lr(0,3,5,-1,0,6,10,0,0,1,18,0),lr(0,4,5,-2,0,7,10,1,0,2,16,1),lr(0,5,5,-3,0,8,10,1,0,3,14,2),lr(0,5,6,-3,0,9,12,1,0,3,16,2),lr(0,6,6,-3,0,10,14,1,0,4,18,3),lr(0,6,7,-4,0,11,15,1,0,4,20,3),lr(0,7,8,-4,0,12,17,2,0,5,22,4),lr(0,7,8,-4,0,13,19,2,0,5,24,4),lr(0,7,9,-4,0,14,21,2,0,5,26,4),lr(0,8,9,-5,0,15,22,2,0,6,28,5),lr(0,8,10,-5,0,16,24,2,0,6,30,5),lr(0,8,11,-5,0,17,26,2,0,6,32,5),lr(0,9,11,-5,0,18,28,2,0,7,34,6),lr(0,9,12,-6,0,19,29,2,0,7,36,6),lr(0,10,13,-6,0,20,31,3,0,8,38,7),lr(0,10,13,-6,0,21,33,3,0,8,40,7),lr(0,10,14,-6,0,22,35,3,0,8,42,7),lr(0,11,14,-7,0,23,36,3,0,9,44,8),lr(0,11,15,-7,0,24,38,3,0,9,46,8)],l_=["duration","easing","delay"],A_={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},y4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u2(e){return`${Math.round(e)}ms`}function c_(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function u_(e){const t=z({},A_,e.easing),n=z({},y4,e.duration);return z({getAutoHeightDuration:c_,create:(s=["all"],a={})=>{const{duration:o=n.standard,easing:l=t.easeInOut,delay:A=0}=a;return Je(a,l_),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:u2(o)} ${l} ${typeof A=="string"?A:u2(A)}`).join(",")}},e,{easing:t,duration:n})}const d_={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},h_=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zy(e={},...t){const{mixins:n={},palette:r={},transitions:s={},typography:a={}}=e,o=Je(e,h_);if(e.vars&&e.generateCssVars===void 0)throw new Error(eo(18));const l=e_(r),A=Xc(e);let c=Us(A,{mixins:NT(A.breakpoints,n),palette:l,shadows:o_.slice(),typography:r_(l,a),transitions:u_(s),zIndex:z({},d_)});return c=Us(c,o),c=t.reduce((u,d)=>Us(u,d),c),c.unstable_sxConfig=z({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Yc({sx:d,theme:this})},c}const hm=zy();function Qi(){const e=Jc(hm);return e[Ol]||e}function Pi({props:e,name:t}){return Ry({props:e,name:t,defaultTheme:hm,themeId:Ol})}var vh={},z0={exports:{}},d2;function f_(){return d2||(d2=1,function(e){function t(n,r){if(n==null)return{};var s={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(r.indexOf(a)!==-1)continue;s[a]=n[a]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(z0)),z0.exports}const x4=al(bF),p_=al(wF),g_=al(IF),m_=al(kN),v_=al(pN),y_=al(xN);var tu=d4;Object.defineProperty(vh,"__esModule",{value:!0});var x_=vh.default=__;vh.shouldForwardProp=Ep;vh.systemDefaultTheme=void 0;var xi=tu(D5()),s1=tu(f_()),Gp=E_(x4),b_=p_;tu(g_);tu(m_);var w_=tu(v_),B_=tu(y_);const C_=["ownerState"],S_=["variants"],j_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(b4=function(r){return r?n:t})(e)}function E_(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=b4(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function I_(e){return Object.keys(e).length===0}function k_(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ep(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function h2(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const F_=vh.systemDefaultTheme=(0,w_.default)(),N_=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Nf({defaultTheme:e,theme:t,themeId:n}){return I_(t)?e:t[n]||t}function T_(e){return e?(t,n)=>n[e]:null}function Ip(e,t,n){let{ownerState:r}=t,s=(0,s1.default)(t,C_);const a=typeof e=="function"?e((0,xi.default)({ownerState:r},s)):e;if(Array.isArray(a))return a.flatMap(o=>Ip(o,(0,xi.default)({ownerState:r},s),n));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let A=(0,s1.default)(a,S_);return o.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props((0,xi.default)({ownerState:r},s,r)):Object.keys(c.props).forEach(d=>{(r==null?void 0:r[d])!==c.props[d]&&s[d]!==c.props[d]&&(u=!1)}),u){Array.isArray(A)||(A=[A]);const d=typeof c.style=="function"?c.style((0,xi.default)({ownerState:r},s,r)):c.style;A.push(n?h2((0,Gp.internal_serializeStyles)(d),n):d)}}),A}return n?h2((0,Gp.internal_serializeStyles)(a),n):a}function __(e={}){const{themeId:t,defaultTheme:n=F_,rootShouldForwardProp:r=Ep,slotShouldForwardProp:s=Ep}=e,a=o=>(0,B_.default)((0,xi.default)({},o,{theme:Nf((0,xi.default)({},o,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(o,l={})=>{(0,Gp.internal_processStyles)(o,I=>I.filter(U=>!(U!=null&&U.__mui_systemSx)));const{name:A,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:p=T_(N_(c))}=l,h=(0,s1.default)(l,j_),m=A&&A.startsWith("Mui")||c?"components":"custom",g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,C=Ep;c==="Root"||c==="root"?C=r:c?C=s:k_(o)&&(C=void 0);const S=(0,Gp.default)(o,(0,xi.default)({shouldForwardProp:C,label:x},h)),w=I=>typeof I=="function"&&I.__emotion_real!==I||(0,b_.isPlainObject)(I)?U=>{const _=Nf({theme:U.theme,defaultTheme:n,themeId:t});return Ip(I,(0,xi.default)({},U,{theme:_}),_.modularCssLayers?m:void 0)}:I,L=(I,...U)=>{let _=w(I);const F=U?U.map(w):[];A&&p&&F.push(j=>{const M=Nf((0,xi.default)({},j,{defaultTheme:n,themeId:t}));if(!M.components||!M.components[A]||!M.components[A].styleOverrides)return null;const N=M.components[A].styleOverrides,$={};return Object.entries(N).forEach(([P,D])=>{$[P]=Ip(D,(0,xi.default)({},j,{theme:M}),M.modularCssLayers?"theme":void 0)}),p(j,$)}),A&&!g&&F.push(j=>{var M;const N=Nf((0,xi.default)({},j,{defaultTheme:n,themeId:t})),$=N==null||(M=N.components)==null||(M=M[A])==null?void 0:M.variants;return Ip({variants:$},(0,xi.default)({},j,{theme:N}),N.modularCssLayers?"theme":void 0)}),y||F.push(a);const R=F.length-U.length;if(Array.isArray(I)&&R>0){const j=new Array(R).fill("");_=[...I,...j],_.raw=[...I.raw,...j]}const k=S(_,...F);return o.muiName&&(k.muiName=o.muiName),k};return S.withConfig&&(L.withConfig=S.withConfig),L}}function w4(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const qs=e=>w4(e)&&e!=="classes",Re=x_({themeId:Ol,defaultTheme:hm,rootShouldForwardProp:qs}),U_=["theme"];function D_(e){let{theme:t}=e,n=Je(e,U_);const r=t[Ol];let s=r||t;return typeof t!="function"&&(r&&!r.vars?s=z({},r,{vars:null}):t&&!t.vars&&(s=z({},t,{vars:null}))),i.jsx(pT,z({},n,{themeId:r?Ol:void 0,theme:s}))}const f2=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function kt(e){return hT(e)}function B4(e){return i.jsx(z5,z({},e,{defaultTheme:hm,themeId:Ol}))}const L_=(e,t)=>z({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),M_=e=>z({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Q_=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([o,l])=>{var A;r[e.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(A=l.palette)==null?void 0:A.mode}});let s=z({html:L_(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:z({margin:0},M_(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const a=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return a&&(s=[s,a]),s};function P_(e){const t=kt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return i.jsxs(b.Fragment,{children:[i.jsx(B4,{styles:s=>Q_(s,r)}),n]})}var p2={};const g2="@firebase/database",m2="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C4="";function R_(e){C4=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),cs(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:xy(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return co(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new H_(t)}}catch{}return new O_},Fl=S4("localStorage"),$_=S4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new QI("@firebase/database"),z_=function(){let e=1;return function(){return e++}}(),j4=function(e){const t=PI(e),n=new RI;n.update(t);const r=n.digest();return HI.encodeByteArray(r)},yh=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=yh.apply(null,r):typeof r=="object"?t+=cs(r):t+=r,t+=" "}return t};let Cd=null,v2=!0;const W_=function(e,t){wt(!0,"Can't turn on custom loggers persistently."),fc.logLevel=$I.VERBOSE,Cd=fc.log.bind(fc)},bs=function(...e){if(v2===!0&&(v2=!1,Cd===null&&$_.get("logging_enabled")===!0&&W_()),Cd){const t=yh.apply(null,e);Cd(t)}},xh=function(e){return function(...t){bs(e,...t)}},i1=function(...e){const t="FIREBASE INTERNAL ERROR: "+yh(...e);fc.error(t)},no=function(...e){const t=`FIREBASE FATAL ERROR: ${yh(...e)}`;throw fc.error(t),new Error(t)},oi=function(...e){const t="FIREBASE WARNING: "+yh(...e);fc.warn(t)},K_=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&oi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},E4=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},V_=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tc="[MIN_NAME]",zl="[MAX_NAME]",nu=function(e,t){if(e===t)return 0;if(e===Tc||t===zl)return-1;if(t===Tc||e===zl)return 1;{const n=y2(e),r=y2(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},G_=function(e,t){return e===t?0:e<t?-1:1},Ou=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+cs(t))},Wy=function(e){if(typeof e!="object"||e===null)return cs(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=cs(t[r]),n+=":",n+=Wy(e[t[r]]);return n+="}",n},I4=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function Ti(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const k4=function(e){wt(!E4(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let s,a,o,l,A;e===0?(a=0,o=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),a=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(A=n;A;A-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(A=t;A;A-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(A=0;A<64;A+=8){let p=parseInt(u.substr(A,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},q_=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Y_=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},X_=new RegExp("^-?(0*)\\d{1,10}$"),J_=-2147483648,Z_=2147483647,y2=function(e){if(X_.test(e)){const t=Number(e);if(t>=J_&&t<=Z_)return t}return null},bh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw oi("Exception was thrown by user callback.",n),t},Math.floor(0))}},e6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sd=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){oi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(bs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oi(t)}}class kp{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}kp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="5",F4="v",N4="s",T4="r",_4="f",U4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,D4="ls",L4="p",a1="ac",M4="websocket",Q4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t,n,r,s,a=!1,o="",l=!1,A=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=A,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fl.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function r6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function R4(e,t,n){wt(typeof t=="string","typeof type must == string"),wt(typeof n=="object","typeof params must == object");let r;if(t===M4)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Q4)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);r6(e)&&(n.ns=e.namespace);const s=[];return Ti(n,(a,o)=>{s.push(a+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.counters_={}}incrementCounter(t,n=1){co(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return GI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={},K0={};function Vy(e){const t=e.toString();return W0[t]||(W0[t]=new s6),W0[t]}function i6(e,t){const n=e.toString();return K0[n]||(K0[n]=t()),K0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&bh(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="start",o6="close",l6="pLPCommand",A6="pRTLPCB",H4="id",O4="pw",$4="ser",c6="cb",u6="seg",d6="ts",h6="d",f6="dframe",z4=1870,W4=30,p6=z4-W4,g6=25e3,m6=3e4;class ic{constructor(t,n,r,s,a,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xh(t),this.stats_=Vy(n),this.urlFn=A=>(this.appCheckToken&&(A[a1]=this.appCheckToken),R4(n,Q4,A))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(m6)),V_(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gy((...a)=>{const[o,l,A,c,u]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===x2)this.id=l,this.password=A;else if(o===o6)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[x2]="t",r[$4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[c6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[F4]=Ky,this.transportSessionId&&(r[N4]=this.transportSessionId),this.lastSessionId&&(r[D4]=this.lastSessionId),this.applicationId&&(r[L4]=this.applicationId),this.appCheckToken&&(r[a1]=this.appCheckToken),typeof location<"u"&&location.hostname&&U4.test(location.hostname)&&(r[T4]=_4);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ic.forceAllow_=!0}static forceDisallow(){ic.forceDisallow_=!0}static isAvailable(){return ic.forceAllow_?!0:!ic.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q_()&&!Y_()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=cs(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qI(n),s=I4(r,p6);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[f6]="t",r[H4]=t,r[O4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=cs(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gy{constructor(t,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=z_(),window[l6+this.uniqueCallbackIdentifier]=t,window[A6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gy.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){bs("frame writing exception"),l.stack&&bs(l.stack),bs(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||bs("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[H4]=this.myID,t[O4]=this.myPW,t[$4]=this.currentSerial;let n=this.urlFn(t),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+W4+r.length<=z4;){const o=this.pendingSegs.shift();r=r+"&"+u6+s+"="+o.seg+"&"+d6+s+"="+o.ts+"&"+h6+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(g6)),a=()=>{clearTimeout(s),r()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{bs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=16384,y6=45e3;let qp=null;typeof MozWebSocket<"u"?qp=MozWebSocket:typeof WebSocket<"u"&&(qp=WebSocket);class Yi{constructor(t,n,r,s,a,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xh(this.connId),this.stats_=Vy(n),this.connURL=Yi.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,s,a){const o={};return o[F4]=Ky,typeof location<"u"&&location.hostname&&U4.test(location.hostname)&&(o[T4]=_4),n&&(o[N4]=n),r&&(o[D4]=r),s&&(o[a1]=s),a&&(o[L4]=a),R4(t,M4,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fl.set("previous_websocket_failure",!0);try{let r;YI(),this.mySock=new qp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Yi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&qp!==null&&!Yi.forceDisallow_}static previouslyFailed(){return Fl.isInMemoryStorage||Fl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=xy(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(wt(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=cs(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=I4(n,v6);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(y6))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yi.responsesRequiredToBeHealthy=2;Yi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ic,Yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Yi&&Yi.isAvailable();let r=n&&!Yi.previouslyFailed();if(t.webSocketOnly&&(n||oi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yi];else{const s=this.transports_=[];for(const a of Vd.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Vd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=6e4,b6=5e3,w6=10*1024,B6=100*1024,V0="t",b2="d",C6="s",w2="r",S6="e",B2="o",C2="a",S2="n",j2="p",j6="h";class E6{constructor(t,n,r,s,a,o,l,A,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=A,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xh("c:"+this.id+":"),this.transportManager_=new Vd(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=Sd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>B6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(V0 in t){const n=t[V0];n===C2?this.upgradeIfSecondaryHealthy_():n===w2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===B2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ou("t",t),r=Ou("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:j2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:C2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:S2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ou("t",t),r=Ou("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ou(V0,t);if(b2 in t){const r=t[b2];if(n===j6){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===S2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===C6?this.onConnectionShutdown_(r):n===w2?this.onReset_(r):n===S6?i1("Server Error: "+r):n===B2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):i1("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ky!==r&&oi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(x6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(b6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:j2,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{put(t,n,r,s){}merge(t,n,r,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.allowedEvents_=t,this.listeners_={},wt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const s=this.getInitialEvent(t);s&&n.apply(r,s)}off(t,n,r){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!r||r===s[a].context)){s.splice(a,1);return}}validateEventType_(t){wt(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends V4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!l5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yp}getInitialEvent(t){return wt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=32,I2=768;class ir{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function zn(){return new ir("")}function yn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Xo(e){return e.pieces_.length-e.pieceNum_}function nr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ir(e.pieces_,t)}function G4(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function I6(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function q4(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Y4(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ir(t,0)}function ns(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ir)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ir(n,0)}function pn(e){return e.pieceNum_>=e.pieces_.length}function Si(e,t){const n=yn(e),r=yn(t);if(n===null)return t;if(n===r)return Si(nr(e),nr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function X4(e,t){if(Xo(e)!==Xo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ji(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Xo(e)>Xo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class k6{constructor(t,n){this.errorPrefix_=n,this.parts_=q4(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_g(this.parts_[r]);J4(this)}}function F6(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=_g(t),J4(e)}function N6(e){const t=e.parts_.pop();e.byteLength_-=_g(t),e.parts_.length>0&&(e.byteLength_-=1)}function J4(e){if(e.byteLength_>I2)throw new Error(e.errorPrefix_+"has a key path longer than "+I2+" bytes ("+e.byteLength_+").");if(e.parts_.length>E2)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+E2+") or object contains a cycle "+wl(e))}function wl(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends V4{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qy}getInitialEvent(t){return wt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=1e3,T6=60*5*1e3,k2=30*1e3,_6=1.3,U6=3e4,D6="server_kill",F2=3;class qa extends K4{constructor(t,n,r,s,a,o,l,A){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=A,this.id=qa.nextPersistentConnectionId_++,this.log_=xh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$u,this.maxReconnectDelay_=T6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qy.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Yp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const s=++this.requestNumber_,a={r:s,a:t,b:n};this.log_(cs(a)),wt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const n=new o5,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,r,s){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),wt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),wt(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:t,tag:r};this.listens.get(o).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,l=>{const A=l.d,c=l.s;qa.warnOnListenWarnings_(A,n),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(c,A))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&co(t,"w")){const r=jc(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();oi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||WI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=k2)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=KI(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const a=s.s,o=s.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),wt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,n)}sendUnlisten_(t,n,r,s){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";s&&(a.q=r,a.t=s),this.sendRequest(o,a)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,s){const a={p:n,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(t,n,r,s){this.putInternal("p",t,n,r,s)}merge(t,n,r,s){this.putInternal("m",t,n,r,s)}putInternal(t,n,r,s,a){this.initConnection_();const o={p:n,d:r};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+cs(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):i1("Unrecognized action received from server: "+cs(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){wt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$u,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$u,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U6&&(this.reconnectDelay_=$u),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qa.nextConnectionId_++,a=this.lastSessionId;let o=!1,l=null;const A=function(){l?l.close():(o=!0,r())},c=function(d){wt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:A,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,p]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?bs("getToken() completed but was canceled"):(bs("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,l=new E6(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,h=>{oi(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(D6)},a))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&oi(d),A())}}}interrupt(t){bs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){bs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Fb(this.interruptReasons_)&&(this.reconnectDelay_=$u,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(a=>Wy(a)).join("$"):r="default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const r=new ir(t).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,n){bs("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=F2&&(this.reconnectDelay_=k2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){bs("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=F2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+C4.replace(/\./g,"-")]=1,l5()?t["framework.cordova"]=1:VI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Yp.getInstance().currentlyOnline();return Fb(this.interruptReasons_)&&t}}qa.nextPersistentConnectionId_=0;qa.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new xn(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new xn(Tc,t),s=new xn(Tc,n);return this.compare(r,s)!==0}minPost(){return xn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;class Z4 extends fm{static get __EMPTY_NODE(){return Tf}static set __EMPTY_NODE(t){Tf=t}compare(t,n){return nu(t.name,n.name)}isDefinedOn(t){throw Ah("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return xn.MIN}maxPost(){return new xn(zl,Tf)}makePost(t,n){return wt(typeof t=="string","KeyIndex indexValue must always be a string."),new xn(t,Tf)}toString(){return".key"}}const pc=new Z4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,s&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Jr{constructor(t,n,r,s,a){this.key=t,this.value=n,this.color=r??Jr.RED,this.left=s??$s.EMPTY_NODE,this.right=a??$s.EMPTY_NODE}copy(t,n,r,s,a){return new Jr(t??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const a=r(t,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(t,n,r),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return $s.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,s;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return $s.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Jr.RED=!0;Jr.BLACK=!1;class L6{copy(t,n,r,s,a){return this}insert(t,n,r){return new Jr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $s{constructor(t,n=$s.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new $s(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jr.BLACK,null,null))}remove(t){return new $s(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _f(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new _f(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new _f(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new _f(this.root_,null,this.comparator_,!0,t)}}$s.EMPTY_NODE=new L6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(e,t){return nu(e.name,t.name)}function Yy(e,t){return nu(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1;function Q6(e){o1=e}const eS=function(e){return typeof e=="number"?"number:"+k4(e):"string:"+e},tS=function(e){if(e.isLeafNode()){const t=e.val();wt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&co(t,".sv"),"Priority must be a string or number.")}else wt(e===o1||e.isEmpty(),"priority of unexpected type.");wt(e===o1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2;class Xr{constructor(t,n=Xr.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,wt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tS(this.priorityNode_)}static set __childrenNodeConstructor(t){N2=t}static get __childrenNodeConstructor(){return N2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Xr(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Xr.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pn(t)?this:yn(t)===".priority"?this.priorityNode_:Xr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Xr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=yn(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(wt(r!==".priority"||Xo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xr.__childrenNodeConstructor.EMPTY_NODE.updateChild(nr(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+eS(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=k4(this.value_):t+=this.value_,this.lazyHash_=j4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Xr.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Xr.__childrenNodeConstructor?-1:(wt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,s=Xr.VALUE_TYPE_ORDER.indexOf(n),a=Xr.VALUE_TYPE_ORDER.indexOf(r);return wt(s>=0,"Unknown leaf type: "+n),wt(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nS,rS;function P6(e){nS=e}function R6(e){rS=e}class H6 extends fm{compare(t,n){const r=t.node.getPriority(),s=n.node.getPriority(),a=r.compareTo(s);return a===0?nu(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return xn.MIN}maxPost(){return new xn(zl,new Xr("[PRIORITY-POST]",rS))}makePost(t,n){const r=nS(t);return new xn(n,new Xr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ss=new H6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=Math.log(2);class $6{constructor(t){const n=a=>parseInt(Math.log(a)/O6,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=r(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Xp=function(e,t,n,r){e.sort(t);const s=function(A,c){const u=c-A;let d,p;if(u===0)return null;if(u===1)return d=e[A],p=n?n(d):d,new Jr(p,d.node,Jr.BLACK,null,null);{const h=parseInt(u/2,10)+A,m=s(A,h),g=s(h+1,c);return d=e[h],p=n?n(d):d,new Jr(p,d.node,Jr.BLACK,m,g)}},a=function(A){let c=null,u=null,d=e.length;const p=function(m,g){const y=d-m,x=d;d-=m;const C=s(y+1,x),S=e[y],w=n?n(S):S;h(new Jr(w,S.node,g,null,C))},h=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<A.count;++m){const g=A.nextBitIsOne(),y=Math.pow(2,A.count-(m+1));g?p(y,Jr.BLACK):(p(y,Jr.BLACK),p(y,Jr.RED))}return u},o=new $6(e.length),l=a(o);return new $s(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0;const QA={};class Wa{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return wt(QA&&Ss,"ChildrenNode.ts has not been loaded"),G0=G0||new Wa({".priority":QA},{".priority":Ss}),G0}get(t){const n=jc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof $s?n:null}hasIndex(t){return co(this.indexSet_,t.toString())}addIndex(t,n){wt(t!==pc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const a=n.getIterator(xn.Wrap);let o=a.getNext();for(;o;)s=s||t.isDefinedOn(o.node),r.push(o),o=a.getNext();let l;s?l=Xp(r,t.getCompare()):l=QA;const A=t.toString(),c=Object.assign({},this.indexSet_);c[A]=t;const u=Object.assign({},this.indexes_);return u[A]=l,new Wa(u,c)}addToIndexes(t,n){const r=Op(this.indexes_,(s,a)=>{const o=jc(this.indexSet_,a);if(wt(o,"Missing index implementation for "+a),s===QA)if(o.isDefinedOn(t.node)){const l=[],A=n.getIterator(xn.Wrap);let c=A.getNext();for(;c;)c.name!==t.name&&l.push(c),c=A.getNext();return l.push(t),Xp(l,o.getCompare())}else return QA;else{const l=n.get(t.name);let A=s;return l&&(A=A.remove(new xn(t.name,l))),A.insert(t,t.node)}});return new Wa(r,this.indexSet_)}removeFromIndexes(t,n){const r=Op(this.indexes_,s=>{if(s===QA)return s;{const a=n.get(t.name);return a?s.remove(new xn(t.name,a)):s}});return new Wa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;class Dn{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tS(this.priorityNode_),this.children_.isEmpty()&&wt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zu||(zu=new Dn(new $s(Yy),null,Wa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zu}updatePriority(t){return this.children_.isEmpty()?this:new Dn(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?zu:n}}getChild(t){const n=yn(t);return n===null?this:this.getImmediateChild(n).getChild(nr(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(wt(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new xn(t,n);let s,a;n.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?zu:this.priorityNode_;return new Dn(s,o,a)}}updateChild(t,n){const r=yn(t);if(r===null)return n;{wt(yn(t)!==".priority"||Xo(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(nr(t),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,s=0,a=!0;if(this.forEachChild(Ss,(o,l)=>{n[o]=l.val(t),r++,a&&Dn.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):a=!1}),!t&&a&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+eS(this.getPriority().val())+":"),this.forEachChild(Ss,(n,r)=>{const s=r.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":j4(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new xn(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new xn(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new xn(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,xn.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,xn.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===wh?-1:0}withIndex(t){if(t===pc||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Dn(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===pc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ss),s=n.getIterator(Ss);let a=r.getNext(),o=s.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=r.getNext(),o=s.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===pc?null:this.indexMap_.get(t.toString())}}Dn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class z6 extends Dn{constructor(){super(new $s(Yy),Dn.EMPTY_NODE,Wa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Dn.EMPTY_NODE}isEmpty(){return!1}}const wh=new z6;Object.defineProperties(xn,{MIN:{value:new xn(Tc,Dn.EMPTY_NODE)},MAX:{value:new xn(zl,wh)}});Z4.__EMPTY_NODE=Dn.EMPTY_NODE;Xr.__childrenNodeConstructor=Dn;Q6(wh);R6(wh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=!0;function ws(e,t=null){if(e===null)return Dn.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),wt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Xr(n,ws(t))}if(!(e instanceof Array)&&W6){const n=[];let r=!1;if(Ti(e,(o,l)=>{if(o.substring(0,1)!=="."){const A=ws(l);A.isEmpty()||(r=r||!A.getPriority().isEmpty(),n.push(new xn(o,A)))}}),n.length===0)return Dn.EMPTY_NODE;const a=Xp(n,M6,o=>o.name,Yy);if(r){const o=Xp(n,Ss.getCompare());return new Dn(a,ws(t),new Wa({".priority":o},{".priority":Ss}))}else return new Dn(a,ws(t),Wa.Default)}else{let n=Dn.EMPTY_NODE;return Ti(e,(r,s)=>{if(co(e,r)&&r.substring(0,1)!=="."){const a=ws(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(ws(t))}}P6(ws);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6 extends fm{constructor(t){super(),this.indexPath_=t,wt(!pn(t)&&yn(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),s=this.extractChild(n.node),a=r.compareTo(s);return a===0?nu(t.name,n.name):a}makePost(t,n){const r=ws(t),s=Dn.EMPTY_NODE.updateChild(this.indexPath_,r);return new xn(n,s)}maxPost(){const t=Dn.EMPTY_NODE.updateChild(this.indexPath_,wh);return new xn(zl,t)}toString(){return q4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6 extends fm{compare(t,n){const r=t.node.compareTo(n.node);return r===0?nu(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return xn.MIN}maxPost(){return xn.MAX}makePost(t,n){const r=ws(t);return new xn(n,r)}toString(){return".value"}}const G6=new V6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(e){return{type:"value",snapshotNode:e}}function Y6(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function X6(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function T2(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function J6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ss}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return wt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return wt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tc}hasEnd(){return this.endSet_}getIndexEndValue(){return wt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return wt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return wt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ss}copy(){const t=new Xy;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _2(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ss?n="$priority":e.index_===G6?n="$value":e.index_===pc?n="$key":(wt(e.index_ instanceof K6,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=cs(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=cs(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+cs(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=cs(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+cs(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function U2(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ss&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends K4{constructor(t,n,r,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=xh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(wt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,s){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=Jp.getListenId_(t,r),l={};this.listens_[o]=l;const A=_2(t._queryParams);this.restRequest_(a+".json",A,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(a,d,!1,r),jc(this.listens_,o)===l){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",s(p,null)}})}unlisten(t,n){const r=Jp.getListenId_(t,n);delete this.listens_[r]}get(t){const n=_2(t._queryParams),r=t._path.toString(),s=new o5;return this.restRequest_(r+".json",n,(a,o)=>{let l=o;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+zI(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let A=null;if(l.status>=200&&l.status<300){try{A=xy(l.responseText)}catch{oi("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,A)}else l.status!==401&&l.status!==404&&oi("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.rootNode_=Dn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){return{value:null,children:new Map}}function sS(e,t,n){if(pn(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=yn(t);e.children.has(r)||e.children.set(r,Zp());const s=e.children.get(r);t=nr(t),sS(s,t,n)}}function l1(e,t,n){e.value!==null?n(t,e.value):eU(e,(r,s)=>{const a=new ir(t.toString()+"/"+r);l1(s,a,n)})}function eU(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ti(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=10*1e3,nU=30*1e3,rU=5*60*1e3;class sU{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tU(t);const r=D2+(nU-D2)*Math.random();Sd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ti(t,(s,a)=>{a>0&&co(this.statsToReport_,s)&&(n[s]=a,r=!0)}),r&&this.server_.reportStats(n),Sd(this.reportStats_.bind(this),Math.floor(Math.random()*2*rU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ga||(ga={}));function iS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ga.ACK_USER_WRITE,this.source=iS()}operationForChild(t){if(pn(this.path)){if(this.affectedTree.value!=null)return wt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ir(t));return new eg(zn(),n,this.revert)}}else return wt(yn(this.path)===t,"operationForChild called for unrelated child."),new eg(nr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ga.OVERWRITE}operationForChild(t){return pn(this.path)?new Wl(this.source,zn(),this.snap.getImmediateChild(t)):new Wl(this.source,nr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ga.MERGE}operationForChild(t){if(pn(this.path)){const n=this.children.subtree(new ir(t));return n.isEmpty()?null:n.value?new Wl(this.source,zn(),n.value):new Gd(this.source,zn(),n)}else return wt(yn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gd(this.source,nr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pn(t))return this.isFullyInitialized()&&!this.filtered_;const n=yn(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function iU(e,t,n,r){const s=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(J6(o.childName,o.snapshotNode))}),Wu(e,s,"child_removed",t,r,n),Wu(e,s,"child_added",t,r,n),Wu(e,s,"child_moved",a,r,n),Wu(e,s,"child_changed",t,r,n),Wu(e,s,"value",t,r,n),s}function Wu(e,t,n,r,s,a){const o=r.filter(l=>l.type===n);o.sort((l,A)=>oU(e,l,A)),o.forEach(l=>{const A=aU(e,l,a);s.forEach(c=>{c.respondsTo(l.type)&&t.push(c.createEvent(A,e.query_))})})}function aU(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function oU(e,t,n){if(t.childName==null||n.childName==null)throw Ah("Should only compare child_ events.");const r=new xn(t.childName,t.snapshotNode),s=new xn(n.childName,n.snapshotNode);return e.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e,t){return{eventCache:e,serverCache:t}}function jd(e,t,n,r){return lS(new Jy(t,n,r),e.serverCache)}function AS(e,t,n,r){return lS(e.eventCache,new Jy(t,n,r))}function A1(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Kl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q0;const lU=()=>(q0||(q0=new $s(G_)),q0);class tr{constructor(t,n=lU()){this.value=t,this.children=n}static fromObject(t){let n=new tr(null);return Ti(t,(r,s)=>{n=n.set(new ir(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:zn(),value:this.value};if(pn(t))return null;{const r=yn(t),s=this.children.get(r);if(s!==null){const a=s.findRootMostMatchingPathAndValue(nr(t),n);return a!=null?{path:ns(new ir(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pn(t))return this;{const n=yn(t),r=this.children.get(n);return r!==null?r.subtree(nr(t)):new tr(null)}}set(t,n){if(pn(t))return new tr(n,this.children);{const r=yn(t),a=(this.children.get(r)||new tr(null)).set(nr(t),n),o=this.children.insert(r,a);return new tr(this.value,o)}}remove(t){if(pn(t))return this.children.isEmpty()?new tr(null):new tr(null,this.children);{const n=yn(t),r=this.children.get(n);if(r){const s=r.remove(nr(t));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new tr(null):new tr(this.value,a)}else return this}}get(t){if(pn(t))return this.value;{const n=yn(t),r=this.children.get(n);return r?r.get(nr(t)):null}}setTree(t,n){if(pn(t))return n;{const r=yn(t),a=(this.children.get(r)||new tr(null)).setTree(nr(t),n);let o;return a.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,a),new tr(this.value,o)}}fold(t){return this.fold_(zn(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((s,a)=>{r[s]=a.fold_(ns(t,s),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,zn(),n)}findOnPath_(t,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(pn(t))return null;{const a=yn(t),o=this.children.get(a);return o?o.findOnPath_(nr(t),ns(n,a),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,zn(),n)}foreachOnPath_(t,n,r){if(pn(t))return this;{this.value&&r(n,this.value);const s=yn(t),a=this.children.get(s);return a?a.foreachOnPath_(nr(t),ns(n,s),r):new tr(null)}}foreach(t){this.foreach_(zn(),t)}foreach_(t,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ns(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.writeTree_=t}static empty(){return new Zi(new tr(null))}}function Ed(e,t,n){if(pn(t))return new Zi(new tr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const s=r.path;let a=r.value;const o=Si(s,t);return a=a.updateChild(o,n),new Zi(e.writeTree_.set(s,a))}else{const s=new tr(n),a=e.writeTree_.setTree(t,s);return new Zi(a)}}}function L2(e,t,n){let r=e;return Ti(n,(s,a)=>{r=Ed(r,ns(t,s),a)}),r}function M2(e,t){if(pn(t))return Zi.empty();{const n=e.writeTree_.setTree(t,new tr(null));return new Zi(n)}}function c1(e,t){return tA(e,t)!=null}function tA(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Si(n.path,t)):null}function Q2(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ss,(r,s)=>{t.push(new xn(r,s))}):e.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&t.push(new xn(r,s.value))}),t}function Vo(e,t){if(pn(t))return e;{const n=tA(e,t);return n!=null?new Zi(new tr(n)):new Zi(e.writeTree_.subtree(t))}}function u1(e){return e.writeTree_.isEmpty()}function _c(e,t){return cS(zn(),e.writeTree_,t)}function cS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((s,a)=>{s===".priority"?(wt(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=cS(ns(e,s),a,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ns(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(e,t){return gS(t,e)}function AU(e,t,n,r,s){wt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=Ed(e.visibleWrites,t,n)),e.lastWriteId=r}function cU(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function uU(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);wt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,a=!1,o=e.allWrites.length-1;for(;s&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&dU(l,r.path)?s=!1:Ji(r.path,l.path)&&(a=!0)),o--}if(s){if(a)return hU(e),!0;if(r.snap)e.visibleWrites=M2(e.visibleWrites,r.path);else{const l=r.children;Ti(l,A=>{e.visibleWrites=M2(e.visibleWrites,ns(r.path,A))})}return!0}else return!1}function dU(e,t){if(e.snap)return Ji(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ji(ns(e.path,n),t))return!0;return!1}function hU(e){e.visibleWrites=dS(e.allWrites,fU,zn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function fU(e){return e.visible}function dS(e,t,n){let r=Zi.empty();for(let s=0;s<e.length;++s){const a=e[s];if(t(a)){const o=a.path;let l;if(a.snap)Ji(n,o)?(l=Si(n,o),r=Ed(r,l,a.snap)):Ji(o,n)&&(l=Si(o,n),r=Ed(r,zn(),a.snap.getChild(l)));else if(a.children){if(Ji(n,o))l=Si(n,o),r=L2(r,l,a.children);else if(Ji(o,n))if(l=Si(o,n),pn(l))r=L2(r,zn(),a.children);else{const A=jc(a.children,yn(l));if(A){const c=A.getChild(nr(l));r=Ed(r,zn(),c)}}}else throw Ah("WriteRecord should have .snap or .children")}}return r}function hS(e,t,n,r,s){if(!r&&!s){const a=tA(e.visibleWrites,t);if(a!=null)return a;{const o=Vo(e.visibleWrites,t);if(u1(o))return n;if(n==null&&!c1(o,zn()))return null;{const l=n||Dn.EMPTY_NODE;return _c(o,l)}}}else{const a=Vo(e.visibleWrites,t);if(!s&&u1(a))return n;if(!s&&n==null&&!c1(a,zn()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ji(c.path,t)||Ji(t,c.path))},l=dS(e.allWrites,o,t),A=n||Dn.EMPTY_NODE;return _c(l,A)}}}function pU(e,t,n){let r=Dn.EMPTY_NODE;const s=tA(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Ss,(a,o)=>{r=r.updateImmediateChild(a,o)}),r;if(n){const a=Vo(e.visibleWrites,t);return n.forEachChild(Ss,(o,l)=>{const A=_c(Vo(a,new ir(o)),l);r=r.updateImmediateChild(o,A)}),Q2(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const a=Vo(e.visibleWrites,t);return Q2(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function gU(e,t,n,r,s){wt(r||s,"Either existingEventSnap or existingServerSnap must exist");const a=ns(t,n);if(c1(e.visibleWrites,a))return null;{const o=Vo(e.visibleWrites,a);return u1(o)?s.getChild(n):_c(o,s.getChild(n))}}function mU(e,t,n,r){const s=ns(t,n),a=tA(e.visibleWrites,s);if(a!=null)return a;if(r.isCompleteForChild(n)){const o=Vo(e.visibleWrites,s);return _c(o,r.getNode().getImmediateChild(n))}else return null}function vU(e,t){return tA(e.visibleWrites,t)}function yU(e,t,n,r,s,a,o){let l;const A=Vo(e.visibleWrites,t),c=tA(A,zn());if(c!=null)l=c;else if(n!=null)l=_c(A,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],d=o.getCompare(),p=a?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let h=p.getNext();for(;h&&u.length<s;)d(h,r)!==0&&u.push(h),h=p.getNext();return u}else return[]}function xU(){return{visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1}}function d1(e,t,n,r){return hS(e.writeTree,e.treePath,t,n,r)}function fS(e,t){return pU(e.writeTree,e.treePath,t)}function P2(e,t,n,r){return gU(e.writeTree,e.treePath,t,n,r)}function tg(e,t){return vU(e.writeTree,ns(e.treePath,t))}function bU(e,t,n,r,s,a){return yU(e.writeTree,e.treePath,t,n,r,s,a)}function Zy(e,t,n){return mU(e.writeTree,e.treePath,t,n)}function pS(e,t){return gS(ns(e.treePath,t),e.writeTree)}function gS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;wt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),wt(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,T2(r,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,X6(r,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,Y6(r,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,T2(r,t.snapshotNode,s.oldSnap));else throw Ah("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const mS=new BU;class ex{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Jy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zy(this.writes_,t,r)}}getChildAfterChild(t,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Kl(this.viewCache_),a=bU(this.writes_,s,n,1,r,t);return a.length===0?null:a[0]}}function CU(e,t){wt(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),wt(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function SU(e,t,n,r,s){const a=new wU;let o,l;if(n.type===ga.OVERWRITE){const c=n;c.source.fromUser?o=h1(e,t,c.path,c.snap,r,s,a):(wt(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!pn(c.path),o=ng(e,t,c.path,c.snap,r,s,l,a))}else if(n.type===ga.MERGE){const c=n;c.source.fromUser?o=EU(e,t,c.path,c.children,r,s,a):(wt(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),o=f1(e,t,c.path,c.children,r,s,l,a))}else if(n.type===ga.ACK_USER_WRITE){const c=n;c.revert?o=FU(e,t,c.path,r,s,a):o=IU(e,t,c.path,c.affectedTree,r,s,a)}else if(n.type===ga.LISTEN_COMPLETE)o=kU(e,t,n.path,r,a);else throw Ah("Unknown operation type: "+n.type);const A=a.getChanges();return jU(t,o,A),{viewCache:o,changes:A}}function jU(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=A1(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(q6(A1(t)))}}function vS(e,t,n,r,s,a){const o=t.eventCache;if(tg(r,n)!=null)return t;{let l,A;if(pn(n))if(wt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Kl(t),u=c instanceof Dn?c:Dn.EMPTY_NODE,d=fS(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{const c=d1(r,Kl(t));l=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{const c=yn(n);if(c===".priority"){wt(Xo(n)===1,"Can't have a priority with additional path components");const u=o.getNode();A=t.serverCache.getNode();const d=P2(r,n,u,A);d!=null?l=e.filter.updatePriority(u,d):l=o.getNode()}else{const u=nr(n);let d;if(o.isCompleteForChild(c)){A=t.serverCache.getNode();const p=P2(r,n,o.getNode(),A);p!=null?d=o.getNode().getImmediateChild(c).updateChild(u,p):d=o.getNode().getImmediateChild(c)}else d=Zy(r,c,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),c,d,u,s,a):l=o.getNode()}}return jd(t,l,o.isFullyInitialized()||pn(n),e.filter.filtersNodes())}}function ng(e,t,n,r,s,a,o,l){const A=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(pn(n))c=u.updateFullNode(A.getNode(),r,null);else if(u.filtersNodes()&&!A.isFiltered()){const h=A.getNode().updateChild(n,r);c=u.updateFullNode(A.getNode(),h,null)}else{const h=yn(n);if(!A.isCompleteForPath(n)&&Xo(n)>1)return t;const m=nr(n),y=A.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?c=u.updatePriority(A.getNode(),y):c=u.updateChild(A.getNode(),h,y,m,mS,null)}const d=AS(t,c,A.isFullyInitialized()||pn(n),u.filtersNodes()),p=new ex(s,d,a);return vS(e,d,n,s,p,l)}function h1(e,t,n,r,s,a,o){const l=t.eventCache;let A,c;const u=new ex(s,t,a);if(pn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),A=jd(t,c,!0,e.filter.filtersNodes());else{const d=yn(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),A=jd(t,c,l.isFullyInitialized(),l.isFiltered());else{const p=nr(n),h=l.getNode().getImmediateChild(d);let m;if(pn(p))m=r;else{const g=u.getCompleteChild(d);g!=null?G4(p)===".priority"&&g.getChild(Y4(p)).isEmpty()?m=g:m=g.updateChild(p,r):m=Dn.EMPTY_NODE}if(h.equals(m))A=t;else{const g=e.filter.updateChild(l.getNode(),d,m,p,u,o);A=jd(t,g,l.isFullyInitialized(),e.filter.filtersNodes())}}}return A}function R2(e,t){return e.eventCache.isCompleteForChild(t)}function EU(e,t,n,r,s,a,o){let l=t;return r.foreach((A,c)=>{const u=ns(n,A);R2(t,yn(u))&&(l=h1(e,l,u,c,s,a,o))}),r.foreach((A,c)=>{const u=ns(n,A);R2(t,yn(u))||(l=h1(e,l,u,c,s,a,o))}),l}function H2(e,t,n){return n.foreach((r,s)=>{t=t.updateChild(r,s)}),t}function f1(e,t,n,r,s,a,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A=t,c;pn(n)?c=r:c=new tr(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((d,p)=>{if(u.hasChild(d)){const h=t.serverCache.getNode().getImmediateChild(d),m=H2(e,h,p);A=ng(e,A,new ir(d),m,s,a,o,l)}}),c.children.inorderTraversal((d,p)=>{const h=!t.serverCache.isCompleteForChild(d)&&p.value===null;if(!u.hasChild(d)&&!h){const m=t.serverCache.getNode().getImmediateChild(d),g=H2(e,m,p);A=ng(e,A,new ir(d),g,s,a,o,l)}}),A}function IU(e,t,n,r,s,a,o){if(tg(s,n)!=null)return t;const l=t.serverCache.isFiltered(),A=t.serverCache;if(r.value!=null){if(pn(n)&&A.isFullyInitialized()||A.isCompleteForPath(n))return ng(e,t,n,A.getNode().getChild(n),s,a,l,o);if(pn(n)){let c=new tr(null);return A.getNode().forEachChild(pc,(u,d)=>{c=c.set(new ir(u),d)}),f1(e,t,n,c,s,a,l,o)}else return t}else{let c=new tr(null);return r.foreach((u,d)=>{const p=ns(n,u);A.isCompleteForPath(p)&&(c=c.set(u,A.getNode().getChild(p)))}),f1(e,t,n,c,s,a,l,o)}}function kU(e,t,n,r,s){const a=t.serverCache,o=AS(t,a.getNode(),a.isFullyInitialized()||pn(n),a.isFiltered());return vS(e,o,n,r,mS,s)}function FU(e,t,n,r,s,a){let o;if(tg(r,n)!=null)return t;{const l=new ex(r,t,s),A=t.eventCache.getNode();let c;if(pn(n)||yn(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=d1(r,Kl(t));else{const d=t.serverCache.getNode();wt(d instanceof Dn,"serverChildren would be complete if leaf node"),u=fS(r,d)}u=u,c=e.filter.updateFullNode(A,u,a)}else{const u=yn(n);let d=Zy(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=A.getImmediateChild(u)),d!=null?c=e.filter.updateChild(A,u,d,nr(n),l,a):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(A,u,Dn.EMPTY_NODE,nr(n),l,a):c=A,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=d1(r,Kl(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,a)))}return o=t.serverCache.isFullyInitialized()||tg(r,zn())!=null,jd(t,c,o,e.filter.filtersNodes())}}function NU(e,t){const n=Kl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pn(t)&&!n.getImmediateChild(yn(t)).isEmpty())?n.getChild(t):null}function O2(e,t,n,r){t.type===ga.MERGE&&t.source.queryId!==null&&(wt(Kl(e.viewCache_),"We should always have a full cache before handling merges"),wt(A1(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,a=SU(e.processor_,s,t,n,r);return CU(e.processor_,a.viewCache),wt(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,TU(e,a.changes,a.viewCache.eventCache.getNode())}function TU(e,t,n,r){const s=e.eventRegistrations_;return iU(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $2;function _U(e){wt(!$2,"__referenceConstructor has already been defined"),$2=e}function tx(e,t,n,r){const s=t.source.queryId;if(s!==null){const a=e.views.get(s);return wt(a!=null,"SyncTree gave us an op for an invalid query."),O2(a,t,n,r)}else{let a=[];for(const o of e.views.values())a=a.concat(O2(o,t,n,r));return a}}function nx(e,t){let n=null;for(const r of e.views.values())n=n||NU(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z2;function UU(e){wt(!z2,"__referenceConstructor has already been defined"),z2=e}class W2{constructor(t){this.listenProvider_=t,this.syncPointTree_=new tr(null),this.pendingWriteTree_=xU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DU(e,t,n,r,s){return AU(e.pendingWriteTree_,t,n,r,s),s?gm(e,new Wl(iS(),t,n)):[]}function ac(e,t,n=!1){const r=cU(e.pendingWriteTree_,t);if(uU(e.pendingWriteTree_,t)){let a=new tr(null);return r.snap!=null?a=a.set(zn(),!0):Ti(r.children,o=>{a=a.set(new ir(o),!0)}),gm(e,new eg(r.path,a,n))}else return[]}function pm(e,t,n){return gm(e,new Wl(aS(),t,n))}function LU(e,t,n){const r=tr.fromObject(n);return gm(e,new Gd(aS(),t,r))}function MU(e,t,n,r){const s=wS(e,r);if(s!=null){const a=BS(s),o=a.path,l=a.queryId,A=Si(o,t),c=new Wl(oS(l),A,n);return CS(e,o,c)}else return[]}function QU(e,t,n,r){const s=wS(e,r);if(s){const a=BS(s),o=a.path,l=a.queryId,A=Si(o,t),c=tr.fromObject(n),u=new Gd(oS(l),A,c);return CS(e,o,u)}else return[]}function yS(e,t,n){const s=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,l)=>{const A=Si(o,t),c=nx(l,A);if(c)return c});return hS(s,t,a,n,!0)}function gm(e,t){return xS(t,e.syncPointTree_,null,uS(e.pendingWriteTree_,zn()))}function xS(e,t,n,r){if(pn(e.path))return bS(e,t,n,r);{const s=t.get(zn());n==null&&s!=null&&(n=nx(s,zn()));let a=[];const o=yn(e.path),l=e.operationForChild(o),A=t.children.get(o);if(A&&l){const c=n?n.getImmediateChild(o):null,u=pS(r,o);a=a.concat(xS(l,A,c,u))}return s&&(a=a.concat(tx(s,e,r,n))),a}}function bS(e,t,n,r){const s=t.get(zn());n==null&&s!=null&&(n=nx(s,zn()));let a=[];return t.children.inorderTraversal((o,l)=>{const A=n?n.getImmediateChild(o):null,c=pS(r,o),u=e.operationForChild(o);u&&(a=a.concat(bS(u,l,A,c)))}),s&&(a=a.concat(tx(s,e,r,n))),a}function wS(e,t){return e.tagToQueryMap.get(t)}function BS(e){const t=e.indexOf("$");return wt(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ir(e.substr(0,t))}}function CS(e,t,n){const r=e.syncPointTree_.get(t);wt(r,"Missing sync point for query tag that we're tracking");const s=uS(e.pendingWriteTree_,t);return tx(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new rx(n)}node(){return this.node_}}class sx{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ns(this.path_,t);return new sx(this.syncTree_,n)}node(){return yS(this.syncTree_,this.path_)}}const PU=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},K2=function(e,t,n){if(!e||typeof e!="object")return e;if(wt(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return RU(e[".sv"],t,n);if(typeof e[".sv"]=="object")return HU(e[".sv"],t);wt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},RU=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:wt(!1,"Unexpected server value: "+e)}},HU=function(e,t,n){e.hasOwnProperty("increment")||wt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&wt(!1,"Unexpected increment value: "+r);const s=t.node();if(wt(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},OU=function(e,t,n,r){return ix(t,new sx(n,e),r)},$U=function(e,t,n){return ix(e,new rx(t),n)};function ix(e,t,n){const r=e.getPriority().val(),s=K2(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,l=K2(o.getValue(),t,n);return l!==o.getValue()||s!==o.getPriority().val()?new Xr(l,ws(s)):e}else{const o=e;return a=o,s!==o.getPriority().val()&&(a=a.updatePriority(new Xr(s))),o.forEachChild(Ss,(l,A)=>{const c=ix(A,t.getImmediateChild(l),n);c!==A&&(a=a.updateImmediateChild(l,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function ox(e,t){let n=t instanceof ir?t:new ir(t),r=e,s=yn(n);for(;s!==null;){const a=jc(r.node.children,s)||{children:{},childCount:0};r=new ax(s,r,a),n=nr(n),s=yn(n)}return r}function ru(e){return e.node.value}function SS(e,t){e.node.value=t,p1(e)}function jS(e){return e.node.childCount>0}function zU(e){return ru(e)===void 0&&!jS(e)}function mm(e,t){Ti(e.node.children,(n,r)=>{t(new ax(n,e,r))})}function ES(e,t,n,r){n&&t(e),mm(e,s=>{ES(s,t,!0)})}function WU(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Bh(e){return new ir(e.parent===null?e.name:Bh(e.parent)+"/"+e.name)}function p1(e){e.parent!==null&&KU(e.parent,e.name,e)}function KU(e,t,n){const r=zU(n),s=co(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,p1(e)):!r&&!s&&(e.node.children[t]=n.node,e.node.childCount++,p1(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=/[\[\].#$\/\u0000-\u001F\u007F]/,GU=/[\[\].#$\u0000-\u001F\u007F]/,Y0=10*1024*1024,IS=function(e){return typeof e=="string"&&e.length!==0&&!VU.test(e)},qU=function(e){return typeof e=="string"&&e.length!==0&&!GU.test(e)},YU=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qU(e)},kS=function(e,t,n){const r=n instanceof ir?new k6(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+wl(r));if(typeof t=="function")throw new Error(e+"contains a function "+wl(r)+" with contents = "+t.toString());if(E4(t))throw new Error(e+"contains "+t.toString()+" "+wl(r));if(typeof t=="string"&&t.length>Y0/3&&_g(t)>Y0)throw new Error(e+"contains a string greater than "+Y0+" utf8 bytes "+wl(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,a=!1;if(Ti(t,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!IS(o)))throw new Error(e+" contains an invalid key ("+o+") "+wl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);F6(r,o),kS(e,l,r),N6(r)}),s&&a)throw new Error(e+' contains ".value" child '+wl(r)+" in addition to actual children.")}},XU=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!IS(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YU(n))throw new Error(OI(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ZU(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],a=s.getPath();n!==null&&!X4(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&e.eventLists_.push(n)}function nA(e,t,n){ZU(e,n),eD(e,r=>Ji(r,t)||Ji(t,r))}function eD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){const a=s.path;t(a)?(tD(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function tD(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Cd&&bs("event: "+n.toString()),bh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="repo_interrupt",rD=25;class sD{constructor(t,n,r,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zp(),this.transactionQueueTree_=new ax,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iD(e,t,n){if(e.stats_=Vy(e.repoInfo_),e.forceRestClient_||e6())e.server_=new Jp(e.repoInfo_,(r,s,a,o)=>{V2(e,r,s,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>G2(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cs(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qa(e.repoInfo_,t,(r,s,a,o)=>{V2(e,r,s,a,o)},r=>{G2(e,r)},r=>{oD(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=i6(e.repoInfo_,()=>new sU(e.stats_,e.server_)),e.infoData_=new Z6,e.infoSyncTree_=new W2({startListening:(r,s,a,o)=>{let l=[];const A=e.infoData_.getNode(r._path);return A.isEmpty()||(l=pm(e.infoSyncTree_,r._path,A),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),lx(e,"connected",!1),e.serverSyncTree_=new W2({startListening:(r,s,a,o)=>(e.server_.listen(r,a,s,(l,A)=>{const c=o(l,A);nA(e.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{e.server_.unlisten(r,s)}})}function aD(e){const n=e.infoData_.getNode(new ir(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function FS(e){return PU({timestamp:aD(e)})}function V2(e,t,n,r,s){e.dataUpdateCount++;const a=new ir(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(s)if(r){const A=Op(n,c=>ws(c));o=QU(e.serverSyncTree_,a,A,s)}else{const A=ws(n);o=MU(e.serverSyncTree_,a,A,s)}else if(r){const A=Op(n,c=>ws(c));o=LU(e.serverSyncTree_,a,A)}else{const A=ws(n);o=pm(e.serverSyncTree_,a,A)}let l=a;o.length>0&&(l=cx(e,a)),nA(e.eventQueue_,l,o)}function G2(e,t){lx(e,"connected",t),t===!1&&AD(e)}function oD(e,t){Ti(t,(n,r)=>{lx(e,n,r)})}function lx(e,t,n){const r=new ir("/.info/"+t),s=ws(n);e.infoData_.updateSnapshot(r,s);const a=pm(e.infoSyncTree_,r,s);nA(e.eventQueue_,r,a)}function lD(e){return e.nextWriteId_++}function AD(e){NS(e,"onDisconnectEvents");const t=FS(e),n=Zp();l1(e.onDisconnect_,zn(),(s,a)=>{const o=OU(s,a,e.serverSyncTree_,t);sS(n,s,o)});let r=[];l1(n,zn(),(s,a)=>{r=r.concat(pm(e.serverSyncTree_,s,a));const o=hD(e,s);cx(e,o)}),e.onDisconnect_=Zp(),nA(e.eventQueue_,zn(),r)}function cD(e){e.persistentConnection_&&e.persistentConnection_.interrupt(nD)}function NS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),bs(n,...t)}function TS(e,t,n){return yS(e.serverSyncTree_,t,n)||Dn.EMPTY_NODE}function Ax(e,t=e.transactionQueueTree_){if(t||vm(e,t),ru(t)){const n=US(e,t);wt(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&uD(e,Bh(t),n)}else jS(t)&&mm(t,n=>{Ax(e,n)})}function uD(e,t,n){const r=n.map(c=>c.currentWriteId),s=TS(e,t,r);let a=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];wt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Si(t,u.path);a=a.updateChild(d,u.currentOutputSnapshotRaw)}const l=a.val(!0),A=t;e.server_.put(A.toString(),l,c=>{NS(e,"transaction put response",{path:A.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(ac(e.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();vm(e,ox(e.transactionQueueTree_,t)),Ax(e,e.transactionQueueTree_),nA(e.eventQueue_,t,u);for(let p=0;p<d.length;p++)bh(d[p])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{oi("transaction at "+A.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}cx(e,t)}},o)}function cx(e,t){const n=_S(e,t),r=Bh(n),s=US(e,n);return dD(e,s,r),r}function dD(e,t,n){if(t.length===0)return;const r=[];let s=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const A=t[l],c=Si(n,A.path);let u=!1,d;if(wt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),A.status===4)u=!0,d=A.abortReason,s=s.concat(ac(e.serverSyncTree_,A.currentWriteId,!0));else if(A.status===0)if(A.retryCount>=rD)u=!0,d="maxretry",s=s.concat(ac(e.serverSyncTree_,A.currentWriteId,!0));else{const p=TS(e,A.path,o);A.currentInputSnapshot=p;const h=t[l].update(p.val());if(h!==void 0){kS("transaction failed: Data returned ",h,A.path);let m=ws(h);typeof h=="object"&&h!=null&&co(h,".priority")||(m=m.updatePriority(p.getPriority()));const y=A.currentWriteId,x=FS(e),C=$U(m,p,x);A.currentOutputSnapshotRaw=m,A.currentOutputSnapshotResolved=C,A.currentWriteId=lD(e),o.splice(o.indexOf(y),1),s=s.concat(DU(e.serverSyncTree_,A.path,C,A.currentWriteId,A.applyLocally)),s=s.concat(ac(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",s=s.concat(ac(e.serverSyncTree_,A.currentWriteId,!0))}nA(e.eventQueue_,n,s),s=[],u&&(t[l].status=2,function(p){setTimeout(p,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}vm(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)bh(r[l]);Ax(e,e.transactionQueueTree_)}function _S(e,t){let n,r=e.transactionQueueTree_;for(n=yn(t);n!==null&&ru(r)===void 0;)r=ox(r,n),t=nr(t),n=yn(t);return r}function US(e,t){const n=[];return DS(e,t,n),n.sort((r,s)=>r.order-s.order),n}function DS(e,t,n){const r=ru(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);mm(t,s=>{DS(e,s,n)})}function vm(e,t){const n=ru(t);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,SS(t,n.length>0?n:void 0)}mm(t,r=>{vm(e,r)})}function hD(e,t){const n=Bh(_S(e,t)),r=ox(e.transactionQueueTree_,t);return WU(r,s=>{X0(e,s)}),X0(e,r),ES(r,s=>{X0(e,s)}),n}function X0(e,t){const n=ru(t);if(n){const r=[];let s=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(wt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(wt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ac(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?SS(t,void 0):n.length=a+1,nA(e.eventQueue_,Bh(t),s);for(let o=0;o<r.length;o++)bh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function pD(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):oi(`Invalid query segment '${n}' in query '${e}'`)}return t}const q2=function(e,t){const n=gD(e),r=n.namespace;n.domain==="firebase.com"&&no(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&no("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||K_();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new P4(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new ir(n.pathString)}},gD=function(e){let t="",n="",r="",s="",a="",o=!0,l="https",A=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(l=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(s=fD(e.substring(u,d)));const p=pD(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o=l==="https"||l==="wss",A=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),a=r}"ns"in p&&(a=p.ns)}return{host:t,port:A,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,n,r,s){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return pn(this._path)?null:G4(this._path)}get ref(){return new su(this._repo,this._path)}get _queryIdentifier(){const t=U2(this._queryParams),n=Wy(t);return n==="{}"?"default":n}get _queryObject(){return U2(this._queryParams)}isEqual(t){if(t=ch(t),!(t instanceof ux))return!1;const n=this._repo===t._repo,r=X4(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+I6(this._path)}}class su extends ux{constructor(t,n){super(t,n,new Xy,!1)}get parent(){const t=Y4(this._path);return t===null?null:new su(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}_U(su);UU(su);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="FIREBASE_DATABASE_EMULATOR_HOST",g1={};let vD=!1;function yD(e,t,n,r){e.repoInfo_=new P4(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function xD(e,t,n,r,s){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||no("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bs("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=q2(a,s),l=o.repoInfo,A;typeof process<"u"&&p2&&(A=p2[mD]),A?(a=`http://${A}?ns=${l.namespace}`,o=q2(a,s),l=o.repoInfo):o.repoInfo.secure;const c=new n6(e.name,e.options,t);XU("Invalid Firebase Database URL",o),pn(o.path)||no("Database URL must point to the root of a Firebase Database (not including a child path).");const u=wD(l,e,c,new t6(e.name,n));return new BD(u,e)}function bD(e,t){const n=g1[t];(!n||n[e.key]!==e)&&no(`Database ${t}(${e.repoInfo_}) has already been deleted.`),cD(e),delete n[e.key]}function wD(e,t,n,r){let s=g1[t.name];s||(s={},g1[t.name]=s);let a=s[e.toURLString()];return a&&no("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new sD(e,vD,n,r),s[e.toURLString()]=a,a}class BD{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(iD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new su(this._repo,zn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&no("Cannot call "+t+" on a deleted database.")}}function CD(e=A5(),t){const n=c5(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=u5("database");r&&SD(n,...r)}return n}function SD(e,t,n,r={}){e=ch(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&no("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&no('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new kp(kp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:XI(r.mockUserToken,e.app.options.projectId);a=new kp(o)}yD(s,t,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e){R_(JI),i5(new a5("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return xD(r,s,a,n)},"PUBLIC").setMultipleInstances(!0)),Hp(g2,m2,e),Hp(g2,m2,"esm2017")}qa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};qa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};jD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="type.googleapis.com/google.protobuf.Int64Value",ID="type.googleapis.com/google.protobuf.UInt64Value";function LS(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function m1(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>m1(t));if(typeof e=="function"||typeof e=="object")return LS(e,t=>m1(t));throw new Error("Data cannot be encoded in JSON: "+e)}function rg(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case ED:case ID:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>rg(t)):typeof e=="function"||typeof e=="object"?LS(e,t=>rg(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gc extends d5{constructor(t,n,r){super(`${dx}/${t}`,n||""),this.details=r}}function kD(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function FD(e,t){let n=kD(e),r=n,s;try{const a=t&&t.error;if(a){const o=a.status;if(typeof o=="string"){if(!Y2[o])return new gc("internal","internal");n=Y2[o],r=o}const l=a.message;typeof l=="string"&&(r=l),s=a.details,s!==void 0&&(s=rg(s))}}catch{}return n==="ok"?null:new gc(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="us-central1";function TD(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new gc("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class _D{constructor(t,n,r,s,a=v1,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ND(n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=v1}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function UD(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function DD(e,t,n){return r=>MD(e,t,r,n||{})}async function LD(e,t,n,r){n["Content-Type"]="application/json";let s;try{s=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}function MD(e,t,n,r){const s=e._url(t);return QD(e,s,n,r)}async function QD(e,t,n,r){n=m1(n);const s={data:n},a={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(a.Authorization="Bearer "+o.authToken),o.messagingToken&&(a["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=o.appCheckToken);const l=r.timeout||7e4,A=TD(l),c=await Promise.race([LD(t,s,a,e.fetchImpl),A.promise,e.cancelAllRequests]);if(A.cancel(),!c)throw new gc("cancelled","Firebase Functions instance was deleted.");const u=FD(c.status,c.json);if(u)throw u;if(!c.json)throw new gc("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new gc("internal","Response is missing data field.");return{data:rg(d)}}const X2="@firebase/functions",J2="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="auth-internal",RD="app-check-internal",HD="messaging-internal";function OD(e,t){const n=(r,{instanceIdentifier:s})=>{const a=r.getProvider("app").getImmediate(),o=r.getProvider(PD),l=r.getProvider(HD),A=r.getProvider(RD);return new _D(a,o,l,A,s,e)};i5(new a5(dx,n,"PUBLIC").setMultipleInstances(!0)),Hp(X2,J2,t),Hp(X2,J2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(e=A5(),t=v1){const r=c5(ch(e),dx).getImmediate({identifier:t}),s=u5("functions");return s&&MS(r,...s),r}function MS(e,t,n){UD(ch(e),t,n)}function es(e,t,n){return DD(ch(e),t,n)}OD(fetch.bind(self));const $D=Object.freeze(Object.defineProperty({__proto__:null,connectFunctionsEmulator:MS,getFunctions:Dl,httpsCallable:es},Symbol.toStringTag,{value:"Module"})),zD={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},Ch=ZI(zD),$e=ek(Ch,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),Bs=tk(Ch);nk(Bs,sk).catch(e=>{console.error("Error setting persistence:",e)});const y1=rk(Ch);CD(Ch);const Jo=Dl(Ch,"europe-west1"),WD=Object.freeze(Object.defineProperty({__proto__:null,auth:Bs,db:$e,functions:Jo,storage:y1},Symbol.toStringTag,{value:"Module"})),QS=b.createContext(void 0),hr=()=>{const e=b.useContext(QS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},KD=({children:e})=>{const[t,n]=b.useState(null),[r,s]=b.useState(null),[a,o]=b.useState(null),[l,A]=b.useState(!0);b.useEffect(()=>ik(Bs,async h=>{if(console.log("🔄 Auth state changed:",(h==null?void 0:h.email)||"no user","at",new Date().toLocaleTimeString()),h)console.log("🔐 User authenticated:",{uid:h.uid,email:h.email,emailVerified:h.emailVerified,providerId:h.providerId,metadata:h.metadata});else{console.log("🚪 User signed out or session expired");const m=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",m?"exists":"not found")}if(h)try{console.log("🔍 Searching for admin with email:",h.email);const m=zt(Tt($e,"admins"),Ct("email","==",h.email)),g=await Wt(m);if(console.log("📊 Admin search result:",g.empty?"not found":"found"),g.empty)console.warn("Admin not found for user:",h.email),n(h),s(null),o(null);else{const y=g.docs[0],x={id:y.id,...y.data()};if(console.log("✅ Admin data loaded:",x),n(h),s(x),x.venueId){const C=await rn(bt($e,"venues",x.venueId));C.exists()&&o({id:C.id,...C.data()})}else x.role==="superadmin"&&o(null)}}catch(m){console.error("Error fetching admin data:",m),n(null),s(null),o(null)}else n(null),s(null),o(null);A(!1)}),[]);const d={user:t,admin:r,club:a,loading:l,logout:async()=>{try{await qv(Bs),n(null),s(null),o(null)}catch(p){console.error("Logout error:",p)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{console.log("Refreshing club data for venue:",r.venueId);const p=await rn(bt($e,"venues",r.venueId));if(p.exists()){const h=p.data();console.log("Loaded venue data:",h),o({id:p.id,name:h.name||"",address:h.address||"",phone:h.phone||"",email:h.email||"",city:h.city||"",location:h.location,description:h.description,logoUrl:h.logoUrl,photos:h.photos||[],amenities:h.amenities,organizationType:h.organizationType,inn:h.inn,bankAccount:h.bankAccount,legalName:h.legalName,ogrn:h.ogrn,kpp:h.kpp,legalAddress:h.legalAddress,bankName:h.bankName,bankBik:h.bankBik,bankCorrespondentAccount:h.bankCorrespondentAccount,directorName:h.directorName,directorPosition:h.directorPosition,workingHours:h.workingHours,bookingDurations:h.bookingDurations,bookingSlotInterval:h.bookingSlotInterval})}}catch(p){console.error("Error refreshing club data:",p)}}};return i.jsx(QS.Provider,{value:d,children:e})};function VD(e){return ht("MuiSvgIcon",e)}ft("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const GD=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qD=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${Ye(t)}`,`fontSize${Ye(n)}`]};return gt(s,VD,r)},YD=Re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ye(n.color)}`],t[`fontSize${Ye(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,s,a,o,l,A,c,u,d,p,h,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(o=a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(A=l.pxToRem)==null?void 0:A.call(l,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(p=(e.vars||e).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?d:{action:(h=(e.vars||e).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[t.color]}}),sg=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSvgIcon"}),{children:s,className:a,color:o="inherit",component:l="svg",fontSize:A="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,h=Je(r,GD),m=b.isValidElement(s)&&s.type==="svg",g=z({},r,{color:o,component:l,fontSize:A,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:p,hasSvgAsChild:m}),y={};u||(y.viewBox=p);const x=qD(g);return i.jsxs(YD,z({as:l,className:et(x.root,a),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},y,h,m&&s.props,{ownerState:g,children:[m?s.props.children:s,d?i.jsx("title",{children:d}):null]}))});sg.muiName="SvgIcon";function At(e,t){function n(r,s){return i.jsx(sg,z({"data-testid":`${t}Icon`,ref:s},r,{children:e}))}return n.muiName=sg.muiName,b.memo(b.forwardRef(n))}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ig(e,t)}function hx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ig(e,t)}function XD(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function JD(e,t){e.classList?e.classList.add(t):XD(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Z2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ZD(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Z2(e.className,t):e.setAttribute("class",Z2(e.className&&e.className.baseVal||"",t))}const ew={disabled:!1},ag=fn.createContext(null);var PS=function(t){return t.scrollTop},hd="unmounted",Bl="exited",Cl="entering",YA="entered",x1="exiting",Ri=function(e){hx(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,A;return a.appearStatus=null,r.in?l?(A=Bl,a.appearStatus=Cl):A=YA:r.unmountOnExit||r.mountOnEnter?A=hd:A=Bl,a.state={status:A},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var o=s.in;return o&&a.status===hd?{status:Bl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Cl&&o!==YA&&(a=Cl):(o===Cl||o===YA)&&(a=x1)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,o,l;return a=o=l=s,s!=null&&typeof s!="number"&&(a=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:a,enter:o,appear:l}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Cl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:If.findDOMNode(this);o&&PS(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bl&&this.setState({status:hd})},n.performEnter=function(s){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:s,A=this.props.nodeRef?[l]:[If.findDOMNode(this),l],c=A[0],u=A[1],d=this.getTimeouts(),p=l?d.appear:d.enter;if(!s&&!o||ew.disabled){this.safeSetState({status:YA},function(){a.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Cl},function(){a.props.onEntering(c,u),a.onTransitionEnd(p,function(){a.safeSetState({status:YA},function(){a.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:If.findDOMNode(this);if(!a||ew.disabled){this.safeSetState({status:Bl},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:x1},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Bl},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:If.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var A=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=A[0],u=A[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===hd)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=Je(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(ag.Provider,{value:null},typeof o=="function"?o(s,l):fn.cloneElement(fn.Children.only(o),l))},t}(fn.Component);Ri.contextType=ag;Ri.propTypes={};function PA(){}Ri.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:PA,onEntering:PA,onEntered:PA,onExit:PA,onExiting:PA,onExited:PA};Ri.UNMOUNTED=hd;Ri.EXITED=Bl;Ri.ENTERING=Cl;Ri.ENTERED=YA;Ri.EXITING=x1;var eL=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return JD(t,r)})},J0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return ZD(t,r)})},fx=function(e){hx(t,e);function t(){for(var r,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,A){var c=r.resolveArguments(l,A),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,A)},r.onEntering=function(l,A){var c=r.resolveArguments(l,A),u=c[0],d=c[1],p=d?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(l,A)},r.onEntered=function(l,A){var c=r.resolveArguments(l,A),u=c[0],d=c[1],p=d?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(l,A)},r.onExit=function(l){var A=r.resolveArguments(l),c=A[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var A=r.resolveArguments(l),c=A[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var A=r.resolveArguments(l),c=A[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,A){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,A]},r.getClassNames=function(l){var A=r.props.classNames,c=typeof A=="string",u=c&&A?A+"-":"",d=c?""+u+l:A[l],p=c?d+"-active":A[l+"Active"],h=c?d+"-done":A[l+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:h}},r}var n=t.prototype;return n.addClass=function(s,a,o){var l=this.getClassNames(a)[o+"ClassName"],A=this.getClassNames("enter"),c=A.doneClassName;a==="appear"&&o==="done"&&c&&(l+=" "+c),o==="active"&&s&&PS(s),l&&(this.appliedClasses[a][o]=l,eL(s,l))},n.removeClasses=function(s,a){var o=this.appliedClasses[a],l=o.base,A=o.active,c=o.done;this.appliedClasses[a]={},l&&J0(s,l),A&&J0(s,A),c&&J0(s,c)},n.render=function(){var s=this.props;s.classNames;var a=Je(s,["classNames"]);return fn.createElement(Ri,z({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(fn.Component);fx.defaultProps={classNames:""};fx.propTypes={};function Nt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function px(e,t){var n=function(a){return t&&b.isValidElement(a)?t(a):a},r=Object.create(null);return e&&b.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function tL(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),s=[];for(var a in e)a in t?s.length&&(r[a]=s,s=[]):s.push(a);var o,l={};for(var A in t){if(r[A])for(o=0;o<r[A].length;o++){var c=r[A][o];l[r[A][o]]=n(c)}l[A]=n(A)}for(o=0;o<s.length;o++)l[s[o]]=n(s[o]);return l}function Nl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function nL(e,t){return px(e.children,function(n){return b.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Nl(n,"appear",e),enter:Nl(n,"enter",e),exit:Nl(n,"exit",e)})})}function rL(e,t,n){var r=px(e.children),s=tL(t,r);return Object.keys(s).forEach(function(a){var o=s[a];if(b.isValidElement(o)){var l=a in t,A=a in r,c=t[a],u=b.isValidElement(c)&&!c.props.in;A&&(!l||u)?s[a]=b.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Nl(o,"exit",e),enter:Nl(o,"enter",e)}):!A&&l&&!u?s[a]=b.cloneElement(o,{in:!1}):A&&l&&b.isValidElement(c)&&(s[a]=b.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Nl(o,"exit",e),enter:Nl(o,"enter",e)}))}}),s}var sL=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},iL={component:"div",childFactory:function(t){return t}},Sh=function(e){hx(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var o=a.handleExited.bind(Nt(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,a){var o=a.children,l=a.handleExited,A=a.firstRender;return{children:A?nL(s,l):rL(s,o,l),firstRender:!1}},n.handleExited=function(s,a){var o=px(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(l){var A=z({},l.children);return delete A[s.key],{children:A}}))},n.render=function(){var s=this.props,a=s.component,o=s.childFactory,l=Je(s,["component","childFactory"]),A=this.state.contextValue,c=sL(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?fn.createElement(ag.Provider,{value:A},c):fn.createElement(ag.Provider,{value:A},fn.createElement(a,l,c))},t}(fn.Component);Sh.propTypes={};Sh.defaultProps=iL;const RS=e=>e.scrollTop;function Uc(e,t){var n,r;const{timeout:s,easing:a,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof a=="object"?a[t.mode]:a,delay:o.transitionDelay}}function aL(e){return ht("MuiCollapse",e)}ft("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const oL=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],lL=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return gt(r,aL,n)},AL=Re("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>z({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&z({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),cL=Re("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>z({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),uL=Re("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>z({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),gx=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCollapse"}),{addEndListener:s,children:a,className:o,collapsedSize:l="0px",component:A,easing:c,in:u,onEnter:d,onEntered:p,onEntering:h,onExit:m,onExited:g,onExiting:y,orientation:x="vertical",style:C,timeout:S=y4.standard,TransitionComponent:w=Ri}=r,L=Je(r,oL),I=z({},r,{orientation:x,collapsedSize:l}),U=lL(I),_=Qi(),F=Po(),R=b.useRef(null),k=b.useRef(),j=typeof l=="number"?`${l}px`:l,M=x==="horizontal",N=M?"width":"height",$=b.useRef(null),P=sr(n,$),D=V=>X=>{if(V){const ie=$.current;X===void 0?V(ie):V(ie,X)}},W=()=>R.current?R.current[M?"clientWidth":"clientHeight"]:0,G=D((V,X)=>{R.current&&M&&(R.current.style.position="absolute"),V.style[N]=j,d&&d(V,X)}),Z=D((V,X)=>{const ie=W();R.current&&M&&(R.current.style.position="");const{duration:ae,easing:Ce}=Uc({style:C,timeout:S,easing:c},{mode:"enter"});if(S==="auto"){const ce=_.transitions.getAutoHeightDuration(ie);V.style.transitionDuration=`${ce}ms`,k.current=ce}else V.style.transitionDuration=typeof ae=="string"?ae:`${ae}ms`;V.style[N]=`${ie}px`,V.style.transitionTimingFunction=Ce,h&&h(V,X)}),le=D((V,X)=>{V.style[N]="auto",p&&p(V,X)}),T=D(V=>{V.style[N]=`${W()}px`,m&&m(V)}),H=D(g),Q=D(V=>{const X=W(),{duration:ie,easing:ae}=Uc({style:C,timeout:S,easing:c},{mode:"exit"});if(S==="auto"){const Ce=_.transitions.getAutoHeightDuration(X);V.style.transitionDuration=`${Ce}ms`,k.current=Ce}else V.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;V.style[N]=j,V.style.transitionTimingFunction=ae,y&&y(V)}),K=V=>{S==="auto"&&F.start(k.current||0,V),s&&s($.current,V)};return i.jsx(w,z({in:u,onEnter:G,onEntered:le,onEntering:Z,onExit:T,onExited:H,onExiting:Q,addEndListener:K,nodeRef:$,timeout:S==="auto"?null:S},L,{children:(V,X)=>i.jsx(AL,z({as:A,className:et(U.root,o,{entered:U.entered,exited:!u&&j==="0px"&&U.hidden}[V]),style:z({[M?"minWidth":"minHeight"]:j},C),ref:P},X,{ownerState:z({},I,{state:V}),children:i.jsx(cL,{ownerState:z({},I,{state:V}),className:U.wrapper,ref:R,children:i.jsx(uL,{ownerState:z({},I,{state:V}),className:U.wrapperInner,children:a})})}))}))});gx.muiSupportAuto=!0;function dL(e){return ht("MuiPaper",e)}ft("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hL=["className","component","elevation","square","variant"],fL=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return gt(a,dL,s)},pL=Re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return z({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&z({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${un("#fff",f2(t.elevation))}, ${un("#fff",f2(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),$n=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiPaper"}),{className:s,component:a="div",elevation:o=1,square:l=!1,variant:A="elevation"}=r,c=Je(r,hL),u=z({},r,{component:a,elevation:o,square:l,variant:A}),d=fL(u);return i.jsx(pL,z({as:a,ownerState:u,className:et(d.root,s),ref:n},c))}),gL=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],mL=["component","slots","slotProps"],vL=["component"];function tw(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,getSlotOwnerState:o,internalForwardedProps:l}=t,A=Je(t,gL),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=a,p=Je(a,mL),h=u[e]||r,m=i4(d[e],s),g=s4(z({className:n},A,{externalForwardedProps:e==="root"?p:void 0,externalSlotProps:m})),{props:{component:y},internalRef:x}=g,C=Je(g.props,vL),S=sr(x,m==null?void 0:m.ref,t.ref),w=o?o(C):{},L=z({},s,w),I=e==="root"?y||c:y,U=sc(h,z({},e==="root"&&!c&&!u[e]&&l,e!=="root"&&!u[e]&&l,C,I&&{as:I},{ref:S}),L);return Object.keys(w).forEach(_=>{delete U[_]}),[h,U]}function yL(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:o,in:l,onExited:A,timeout:c}=e,[u,d]=b.useState(!1),p=et(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:o,height:o,top:-(o/2)+a,left:-(o/2)+s},m=et(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&d(!0),b.useEffect(()=>{if(!l&&A!=null){const g=setTimeout(A,c);return()=>{clearTimeout(g)}}},[A,l,c]),i.jsx("span",{className:p,style:h,children:i.jsx("span",{className:m})})}const wi=ft("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xL=["center","classes","className"];let ym=e=>e,nw,rw,sw,iw;const b1=550,bL=80,wL=uo(nw||(nw=ym`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),BL=uo(rw||(rw=ym`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),CL=uo(sw||(sw=ym`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),SL=Re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jL=Re(yL,{name:"MuiTouchRipple",slot:"Ripple"})(iw||(iw=ym`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),wi.rippleVisible,wL,b1,({theme:e})=>e.transitions.easing.easeInOut,wi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,wi.child,wi.childLeaving,BL,b1,({theme:e})=>e.transitions.easing.easeInOut,wi.childPulsate,CL,({theme:e})=>e.transitions.easing.easeInOut),EL=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:o}=r,l=Je(r,xL),[A,c]=b.useState([]),u=b.useRef(0),d=b.useRef(null);b.useEffect(()=>{d.current&&(d.current(),d.current=null)},[A]);const p=b.useRef(!1),h=Po(),m=b.useRef(null),g=b.useRef(null),y=b.useCallback(w=>{const{pulsate:L,rippleX:I,rippleY:U,rippleSize:_,cb:F}=w;c(R=>[...R,i.jsx(jL,{classes:{ripple:et(a.ripple,wi.ripple),rippleVisible:et(a.rippleVisible,wi.rippleVisible),ripplePulsate:et(a.ripplePulsate,wi.ripplePulsate),child:et(a.child,wi.child),childLeaving:et(a.childLeaving,wi.childLeaving),childPulsate:et(a.childPulsate,wi.childPulsate)},timeout:b1,pulsate:L,rippleX:I,rippleY:U,rippleSize:_},u.current)]),u.current+=1,d.current=F},[a]),x=b.useCallback((w={},L={},I=()=>{})=>{const{pulsate:U=!1,center:_=s||L.pulsate,fakeElement:F=!1}=L;if((w==null?void 0:w.type)==="mousedown"&&p.current){p.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(p.current=!0);const R=F?null:g.current,k=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,M,N;if(_||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)j=Math.round(k.width/2),M=Math.round(k.height/2);else{const{clientX:$,clientY:P}=w.touches&&w.touches.length>0?w.touches[0]:w;j=Math.round($-k.left),M=Math.round(P-k.top)}if(_)N=Math.sqrt((2*k.width**2+k.height**2)/3),N%2===0&&(N+=1);else{const $=Math.max(Math.abs((R?R.clientWidth:0)-j),j)*2+2,P=Math.max(Math.abs((R?R.clientHeight:0)-M),M)*2+2;N=Math.sqrt($**2+P**2)}w!=null&&w.touches?m.current===null&&(m.current=()=>{y({pulsate:U,rippleX:j,rippleY:M,rippleSize:N,cb:I})},h.start(bL,()=>{m.current&&(m.current(),m.current=null)})):y({pulsate:U,rippleX:j,rippleY:M,rippleSize:N,cb:I})},[s,y,h]),C=b.useCallback(()=>{x({},{pulsate:!0})},[x]),S=b.useCallback((w,L)=>{if(h.clear(),(w==null?void 0:w.type)==="touchend"&&m.current){m.current(),m.current=null,h.start(0,()=>{S(w,L)});return}m.current=null,c(I=>I.length>0?I.slice(1):I),d.current=L},[h]);return b.useImperativeHandle(n,()=>({pulsate:C,start:x,stop:S}),[C,x,S]),i.jsx(SL,z({className:et(wi.root,a.root,o),ref:g},l,{children:i.jsx(Sh,{component:null,exit:!0,children:A})}))});function IL(e){return ht("MuiButtonBase",e)}const kL=ft("MuiButtonBase",["root","disabled","focusVisible"]),FL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],NL=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,o=gt({root:["root",t&&"disabled",n&&"focusVisible"]},IL,s);return n&&r&&(o.root+=` ${r}`),o},TL=Re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ba=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:o,className:l,component:A="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:m,onClick:g,onContextMenu:y,onDragLeave:x,onFocus:C,onFocusVisible:S,onKeyDown:w,onKeyUp:L,onMouseDown:I,onMouseLeave:U,onMouseUp:_,onTouchEnd:F,onTouchMove:R,onTouchStart:k,tabIndex:j=0,TouchRippleProps:M,touchRippleRef:N,type:$}=r,P=Je(r,FL),D=b.useRef(null),W=b.useRef(null),G=sr(W,N),{isFocusVisibleRef:Z,onFocus:le,onBlur:T,ref:H}=t4(),[Q,K]=b.useState(!1);c&&Q&&K(!1),b.useImperativeHandle(s,()=>({focusVisible:()=>{K(!0),D.current.focus()}}),[]);const[V,X]=b.useState(!1);b.useEffect(()=>{X(!0)},[]);const ie=V&&!u&&!c;b.useEffect(()=>{Q&&p&&!u&&V&&W.current.pulsate()},[u,p,Q,V]);function ae(oe,ge,Ie=d){return en(Ne=>(ge&&ge(Ne),!Ie&&W.current&&W.current[oe](Ne),!0))}const Ce=ae("start",I),ce=ae("stop",y),fe=ae("stop",x),ue=ae("stop",_),we=ae("stop",oe=>{Q&&oe.preventDefault(),U&&U(oe)}),he=ae("start",k),re=ae("stop",F),Ve=ae("stop",R),ye=ae("stop",oe=>{T(oe),Z.current===!1&&K(!1),m&&m(oe)},!1),pe=en(oe=>{D.current||(D.current=oe.currentTarget),le(oe),Z.current===!0&&(K(!0),S&&S(oe)),C&&C(oe)}),Fe=()=>{const oe=D.current;return A&&A!=="button"&&!(oe.tagName==="A"&&oe.href)},De=b.useRef(!1),ze=en(oe=>{p&&!De.current&&Q&&W.current&&oe.key===" "&&(De.current=!0,W.current.stop(oe,()=>{W.current.start(oe)})),oe.target===oe.currentTarget&&Fe()&&oe.key===" "&&oe.preventDefault(),w&&w(oe),oe.target===oe.currentTarget&&Fe()&&oe.key==="Enter"&&!c&&(oe.preventDefault(),g&&g(oe))}),Xe=en(oe=>{p&&oe.key===" "&&W.current&&Q&&!oe.defaultPrevented&&(De.current=!1,W.current.stop(oe,()=>{W.current.pulsate(oe)})),L&&L(oe),g&&oe.target===oe.currentTarget&&Fe()&&oe.key===" "&&!oe.defaultPrevented&&g(oe)});let at=A;at==="button"&&(P.href||P.to)&&(at=h);const ct={};at==="button"?(ct.type=$===void 0?"button":$,ct.disabled=c):(!P.href&&!P.to&&(ct.role="button"),c&&(ct["aria-disabled"]=c));const st=sr(n,H,D),me=z({},r,{centerRipple:a,component:A,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:p,tabIndex:j,focusVisible:Q}),Pe=NL(me);return i.jsxs(TL,z({as:at,className:et(Pe.root,l),ownerState:me,onBlur:ye,onClick:g,onContextMenu:ce,onFocus:pe,onKeyDown:ze,onKeyUp:Xe,onMouseDown:Ce,onMouseLeave:we,onMouseUp:ue,onDragLeave:fe,onTouchEnd:re,onTouchMove:Ve,onTouchStart:he,ref:st,tabIndex:c?-1:j,type:$},ct,P,{children:[o,ie?i.jsx(EL,z({ref:G,center:a},M)):null]}))});function _L(e){return ht("MuiAlert",e)}const aw=ft("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function UL(e){return ht("MuiIconButton",e)}const DL=ft("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),LL=["edge","children","className","color","disabled","disableFocusRipple","size"],ML=e=>{const{classes:t,disabled:n,color:r,edge:s,size:a}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Ye(r)}`,s&&`edge${Ye(s)}`,`size${Ye(a)}`]};return gt(o,UL,t)},QL=Re(Ba,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Ye(n.color)}`],n.edge&&t[`edge${Ye(n.edge)}`],t[`size${Ye(n.size)}`]]}})(({theme:e,ownerState:t})=>z({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return z({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&z({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":z({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${DL.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Ds=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiIconButton"}),{edge:s=!1,children:a,className:o,color:l="default",disabled:A=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Je(r,LL),p=z({},r,{edge:s,color:l,disabled:A,disableFocusRipple:c,size:u}),h=ML(p);return i.jsx(QL,z({className:et(h.root,o),centerRipple:!0,focusRipple:!c,disabled:A,ref:n},d,{ownerState:p,children:a}))}),PL=At(i.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),RL=At(i.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),HL=At(i.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),OL=At(i.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),$L=At(i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zL=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],WL=e=>{const{variant:t,color:n,severity:r,classes:s}=e,a={root:["root",`color${Ye(n||r)}`,`${t}${Ye(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return gt(a,_L,s)},KL=Re($n,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ye(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Fc:Nc,n=e.palette.mode==="light"?Nc:Fc;return z({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${aw.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${aw.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:z({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),VL=Re("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),GL=Re("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ow=Re("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),lw={success:i.jsx(PL,{fontSize:"inherit"}),warning:i.jsx(RL,{fontSize:"inherit"}),error:i.jsx(HL,{fontSize:"inherit"}),info:i.jsx(OL,{fontSize:"inherit"})},Jt=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAlert"}),{action:s,children:a,className:o,closeText:l="Close",color:A,components:c={},componentsProps:u={},icon:d,iconMapping:p=lw,onClose:h,role:m="alert",severity:g="success",slotProps:y={},slots:x={},variant:C="standard"}=r,S=Je(r,zL),w=z({},r,{color:A,severity:g,variant:C,colorSeverity:A||g}),L=WL(w),I={slots:z({closeButton:c.CloseButton,closeIcon:c.CloseIcon},x),slotProps:z({},u,y)},[U,_]=tw("closeButton",{elementType:Ds,externalForwardedProps:I,ownerState:w}),[F,R]=tw("closeIcon",{elementType:$L,externalForwardedProps:I,ownerState:w});return i.jsxs(KL,z({role:m,elevation:0,ownerState:w,className:et(L.root,o),ref:n},S,{children:[d!==!1?i.jsx(VL,{ownerState:w,className:L.icon,children:d||p[g]||lw[g]}):null,i.jsx(GL,{ownerState:w,className:L.message,children:a}),s!=null?i.jsx(ow,{ownerState:w,className:L.action,children:s}):null,s==null&&h?i.jsx(ow,{ownerState:w,className:L.action,children:i.jsx(U,z({size:"small","aria-label":l,title:l,color:"inherit",onClick:h},_,{children:i.jsx(F,z({fontSize:"small"},R))}))}):null]}))});function qL(e){return ht("MuiTypography",e)}ft("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const YL=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],XL=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:o}=e,l={root:["root",a,e.align!=="inherit"&&`align${Ye(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return gt(l,qL,o)},JL=Re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ye(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>z({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Aw={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ZL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},eM=e=>ZL[e]||e,te=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTypography"}),s=eM(r.color),a=ph(z({},r,{color:s})),{align:o="inherit",className:l,component:A,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:p="body1",variantMapping:h=Aw}=a,m=Je(a,YL),g=z({},a,{align:o,color:s,className:l,component:A,gutterBottom:c,noWrap:u,paragraph:d,variant:p,variantMapping:h}),y=A||(d?"p":h[p]||Aw[p])||"span",x=XL(g);return i.jsx(JL,z({as:y,ref:n,ownerState:g,className:et(x.root,l)},m))});function tM(e){return ht("MuiAlertTitle",e)}ft("MuiAlertTitle",["root"]);const nM=["className"],rM=e=>{const{classes:t}=e;return gt({root:["root"]},tM,t)},sM=Re(te,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),Vl=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiAlertTitle"}),{className:s}=r,a=Je(r,nM),o=r,l=rM(o);return i.jsx(sM,z({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:et(l.root,s)},a))});var mx={};Object.defineProperty(mx,"__esModule",{value:!0});var HS=mx.default=void 0,iM=oM(b),aM=x4;function OS(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(OS=function(r){return r?n:t})(e)}function oM(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=OS(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function lM(e){return Object.keys(e).length===0}function AM(e=null){const t=iM.useContext(aM.ThemeContext);return!t||lM(t)?e:t}HS=mx.default=AM;var Ws="top",_i="bottom",Ui="right",Ks="left",vx="auto",jh=[Ws,_i,Ui,Ks],Dc="start",qd="end",cM="clippingParents",$S="viewport",Ku="popper",uM="reference",cw=jh.reduce(function(e,t){return e.concat([t+"-"+Dc,t+"-"+qd])},[]),zS=[].concat(jh,[vx]).reduce(function(e,t){return e.concat([t,t+"-"+Dc,t+"-"+qd])},[]),dM="beforeRead",hM="read",fM="afterRead",pM="beforeMain",gM="main",mM="afterMain",vM="beforeWrite",yM="write",xM="afterWrite",bM=[dM,hM,fM,pM,gM,mM,vM,yM,xM];function Ca(e){return e?(e.nodeName||"").toLowerCase():null}function li(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Gl(e){var t=li(e).Element;return e instanceof t||e instanceof Element}function ki(e){var t=li(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function yx(e){if(typeof ShadowRoot>"u")return!1;var t=li(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function wM(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},a=t.elements[n];!ki(a)||!Ca(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?a.removeAttribute(o):a.setAttribute(o,l===!0?"":l)}))})}function BM(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],a=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=o.reduce(function(A,c){return A[c]="",A},{});!ki(s)||!Ca(s)||(Object.assign(s.style,l),Object.keys(a).forEach(function(A){s.removeAttribute(A)}))})}}const CM={name:"applyStyles",enabled:!0,phase:"write",fn:wM,effect:BM,requires:["computeStyles"]};function xa(e){return e.split("-")[0]}var Ll=Math.max,og=Math.min,Lc=Math.round;function w1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function WS(){return!/^((?!chrome|android).)*safari/i.test(w1())}function Mc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,a=1;t&&ki(e)&&(s=e.offsetWidth>0&&Lc(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Lc(r.height)/e.offsetHeight||1);var o=Gl(e)?li(e):window,l=o.visualViewport,A=!WS()&&n,c=(r.left+(A&&l?l.offsetLeft:0))/s,u=(r.top+(A&&l?l.offsetTop:0))/a,d=r.width/s,p=r.height/a;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function xx(e){var t=Mc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function KS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&yx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ro(e){return li(e).getComputedStyle(e)}function SM(e){return["table","td","th"].indexOf(Ca(e))>=0}function ol(e){return((Gl(e)?e.ownerDocument:e.document)||window.document).documentElement}function xm(e){return Ca(e)==="html"?e:e.assignedSlot||e.parentNode||(yx(e)?e.host:null)||ol(e)}function uw(e){return!ki(e)||ro(e).position==="fixed"?null:e.offsetParent}function jM(e){var t=/firefox/i.test(w1()),n=/Trident/i.test(w1());if(n&&ki(e)){var r=ro(e);if(r.position==="fixed")return null}var s=xm(e);for(yx(s)&&(s=s.host);ki(s)&&["html","body"].indexOf(Ca(s))<0;){var a=ro(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Eh(e){for(var t=li(e),n=uw(e);n&&SM(n)&&ro(n).position==="static";)n=uw(n);return n&&(Ca(n)==="html"||Ca(n)==="body"&&ro(n).position==="static")?t:n||jM(e)||t}function bx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Id(e,t,n){return Ll(e,og(t,n))}function EM(e,t,n){var r=Id(e,t,n);return r>n?n:r}function VS(){return{top:0,right:0,bottom:0,left:0}}function GS(e){return Object.assign({},VS(),e)}function qS(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var IM=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,GS(typeof t!="number"?t:qS(t,jh))};function kM(e){var t,n=e.state,r=e.name,s=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,l=xa(n.placement),A=bx(l),c=[Ks,Ui].indexOf(l)>=0,u=c?"height":"width";if(!(!a||!o)){var d=IM(s.padding,n),p=xx(a),h=A==="y"?Ws:Ks,m=A==="y"?_i:Ui,g=n.rects.reference[u]+n.rects.reference[A]-o[A]-n.rects.popper[u],y=o[A]-n.rects.reference[A],x=Eh(a),C=x?A==="y"?x.clientHeight||0:x.clientWidth||0:0,S=g/2-y/2,w=d[h],L=C-p[u]-d[m],I=C/2-p[u]/2+S,U=Id(w,I,L),_=A;n.modifiersData[r]=(t={},t[_]=U,t.centerOffset=U-I,t)}}function FM(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||KS(t.elements.popper,s)&&(t.elements.arrow=s))}const NM={name:"arrow",enabled:!0,phase:"main",fn:kM,effect:FM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qc(e){return e.split("-")[1]}var TM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _M(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Lc(n*s)/s||0,y:Lc(r*s)/s||0}}function dw(e){var t,n=e.popper,r=e.popperRect,s=e.placement,a=e.variation,o=e.offsets,l=e.position,A=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=o.x,h=p===void 0?0:p,m=o.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var x=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),S=Ks,w=Ws,L=window;if(c){var I=Eh(n),U="clientHeight",_="clientWidth";if(I===li(n)&&(I=ol(n),ro(I).position!=="static"&&l==="absolute"&&(U="scrollHeight",_="scrollWidth")),I=I,s===Ws||(s===Ks||s===Ui)&&a===qd){w=_i;var F=d&&I===L&&L.visualViewport?L.visualViewport.height:I[U];g-=F-r.height,g*=A?1:-1}if(s===Ks||(s===Ws||s===_i)&&a===qd){S=Ui;var R=d&&I===L&&L.visualViewport?L.visualViewport.width:I[_];h-=R-r.width,h*=A?1:-1}}var k=Object.assign({position:l},c&&TM),j=u===!0?_M({x:h,y:g},li(n)):{x:h,y:g};if(h=j.x,g=j.y,A){var M;return Object.assign({},k,(M={},M[w]=C?"0":"",M[S]=x?"0":"",M.transform=(L.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",M))}return Object.assign({},k,(t={},t[w]=C?g+"px":"",t[S]=x?h+"px":"",t.transform="",t))}function UM(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,l=n.roundOffsets,A=l===void 0?!0:l,c={placement:xa(t.placement),variation:Qc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dw(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:A})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dw(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const DM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UM,data:{}};var Uf={passive:!0};function LM(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,a=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,A=li(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",n.update,Uf)}),l&&A.addEventListener("resize",n.update,Uf),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Uf)}),l&&A.removeEventListener("resize",n.update,Uf)}}const MM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LM,data:{}};var QM={left:"right",right:"left",bottom:"top",top:"bottom"};function Fp(e){return e.replace(/left|right|bottom|top/g,function(t){return QM[t]})}var PM={start:"end",end:"start"};function hw(e){return e.replace(/start|end/g,function(t){return PM[t]})}function wx(e){var t=li(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Bx(e){return Mc(ol(e)).left+wx(e).scrollLeft}function RM(e,t){var n=li(e),r=ol(e),s=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,A=0;if(s){a=s.width,o=s.height;var c=WS();(c||!c&&t==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}return{width:a,height:o,x:l+Bx(e),y:A}}function HM(e){var t,n=ol(e),r=wx(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Ll(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ll(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+Bx(e),A=-r.scrollTop;return ro(s||n).direction==="rtl"&&(l+=Ll(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:l,y:A}}function Cx(e){var t=ro(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function YS(e){return["html","body","#document"].indexOf(Ca(e))>=0?e.ownerDocument.body:ki(e)&&Cx(e)?e:YS(xm(e))}function kd(e,t){var n;t===void 0&&(t=[]);var r=YS(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),a=li(r),o=s?[a].concat(a.visualViewport||[],Cx(r)?r:[]):r,l=t.concat(o);return s?l:l.concat(kd(xm(o)))}function B1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function OM(e,t){var n=Mc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function fw(e,t,n){return t===$S?B1(RM(e,n)):Gl(t)?OM(t,n):B1(HM(ol(e)))}function $M(e){var t=kd(xm(e)),n=["absolute","fixed"].indexOf(ro(e).position)>=0,r=n&&ki(e)?Eh(e):e;return Gl(r)?t.filter(function(s){return Gl(s)&&KS(s,r)&&Ca(s)!=="body"}):[]}function zM(e,t,n,r){var s=t==="clippingParents"?$M(e):[].concat(t),a=[].concat(s,[n]),o=a[0],l=a.reduce(function(A,c){var u=fw(e,c,r);return A.top=Ll(u.top,A.top),A.right=og(u.right,A.right),A.bottom=og(u.bottom,A.bottom),A.left=Ll(u.left,A.left),A},fw(e,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function XS(e){var t=e.reference,n=e.element,r=e.placement,s=r?xa(r):null,a=r?Qc(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,A;switch(s){case Ws:A={x:o,y:t.y-n.height};break;case _i:A={x:o,y:t.y+t.height};break;case Ui:A={x:t.x+t.width,y:l};break;case Ks:A={x:t.x-n.width,y:l};break;default:A={x:t.x,y:t.y}}var c=s?bx(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case Dc:A[c]=A[c]-(t[u]/2-n[u]/2);break;case qd:A[c]=A[c]+(t[u]/2-n[u]/2);break}}return A}function Yd(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,a=n.strategy,o=a===void 0?e.strategy:a,l=n.boundary,A=l===void 0?cM:l,c=n.rootBoundary,u=c===void 0?$S:c,d=n.elementContext,p=d===void 0?Ku:d,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,y=g===void 0?0:g,x=GS(typeof y!="number"?y:qS(y,jh)),C=p===Ku?uM:Ku,S=e.rects.popper,w=e.elements[m?C:p],L=zM(Gl(w)?w:w.contextElement||ol(e.elements.popper),A,u,o),I=Mc(e.elements.reference),U=XS({reference:I,element:S,placement:s}),_=B1(Object.assign({},S,U)),F=p===Ku?_:I,R={top:L.top-F.top+x.top,bottom:F.bottom-L.bottom+x.bottom,left:L.left-F.left+x.left,right:F.right-L.right+x.right},k=e.modifiersData.offset;if(p===Ku&&k){var j=k[s];Object.keys(R).forEach(function(M){var N=[Ui,_i].indexOf(M)>=0?1:-1,$=[Ws,_i].indexOf(M)>=0?"y":"x";R[M]+=j[$]*N})}return R}function WM(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,a=n.rootBoundary,o=n.padding,l=n.flipVariations,A=n.allowedAutoPlacements,c=A===void 0?zS:A,u=Qc(r),d=u?l?cw:cw.filter(function(m){return Qc(m)===u}):jh,p=d.filter(function(m){return c.indexOf(m)>=0});p.length===0&&(p=d);var h=p.reduce(function(m,g){return m[g]=Yd(e,{placement:g,boundary:s,rootBoundary:a,padding:o})[xa(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function KM(e){if(xa(e)===vx)return[];var t=Fp(e);return[hw(e),t,hw(t)]}function VM(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,A=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,y=t.options.placement,x=xa(y),C=x===y,S=A||(C||!m?[Fp(y)]:KM(y)),w=[y].concat(S).reduce(function(Q,K){return Q.concat(xa(K)===vx?WM(t,{placement:K,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):K)},[]),L=t.rects.reference,I=t.rects.popper,U=new Map,_=!0,F=w[0],R=0;R<w.length;R++){var k=w[R],j=xa(k),M=Qc(k)===Dc,N=[Ws,_i].indexOf(j)>=0,$=N?"width":"height",P=Yd(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),D=N?M?Ui:Ks:M?_i:Ws;L[$]>I[$]&&(D=Fp(D));var W=Fp(D),G=[];if(a&&G.push(P[j]<=0),l&&G.push(P[D]<=0,P[W]<=0),G.every(function(Q){return Q})){F=k,_=!1;break}U.set(k,G)}if(_)for(var Z=m?3:1,le=function(K){var V=w.find(function(X){var ie=U.get(X);if(ie)return ie.slice(0,K).every(function(ae){return ae})});if(V)return F=V,"break"},T=Z;T>0;T--){var H=le(T);if(H==="break")break}t.placement!==F&&(t.modifiersData[r]._skip=!0,t.placement=F,t.reset=!0)}}const GM={name:"flip",enabled:!0,phase:"main",fn:VM,requiresIfExists:["offset"],data:{_skip:!1}};function pw(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function gw(e){return[Ws,Ui,_i,Ks].some(function(t){return e[t]>=0})}function qM(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,o=Yd(t,{elementContext:"reference"}),l=Yd(t,{altBoundary:!0}),A=pw(o,r),c=pw(l,s,a),u=gw(A),d=gw(c);t.modifiersData[n]={referenceClippingOffsets:A,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const YM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qM};function XM(e,t,n){var r=xa(e),s=[Ks,Ws].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=a[0],l=a[1];return o=o||0,l=(l||0)*s,[Ks,Ui].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function JM(e){var t=e.state,n=e.options,r=e.name,s=n.offset,a=s===void 0?[0,0]:s,o=zS.reduce(function(u,d){return u[d]=XM(d,t.rects,a),u},{}),l=o[t.placement],A=l.x,c=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=A,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const ZM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:JM};function eQ(e){var t=e.state,n=e.name;t.modifiersData[n]=XS({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const tQ={name:"popperOffsets",enabled:!0,phase:"read",fn:eQ,data:{}};function nQ(e){return e==="x"?"y":"x"}function rQ(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,a=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,A=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=p===void 0?!0:p,m=n.tetherOffset,g=m===void 0?0:m,y=Yd(t,{boundary:A,rootBoundary:c,padding:d,altBoundary:u}),x=xa(t.placement),C=Qc(t.placement),S=!C,w=bx(x),L=nQ(w),I=t.modifiersData.popperOffsets,U=t.rects.reference,_=t.rects.popper,F=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,R=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(I){if(a){var M,N=w==="y"?Ws:Ks,$=w==="y"?_i:Ui,P=w==="y"?"height":"width",D=I[w],W=D+y[N],G=D-y[$],Z=h?-_[P]/2:0,le=C===Dc?U[P]:_[P],T=C===Dc?-_[P]:-U[P],H=t.elements.arrow,Q=h&&H?xx(H):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:VS(),V=K[N],X=K[$],ie=Id(0,U[P],Q[P]),ae=S?U[P]/2-Z-ie-V-R.mainAxis:le-ie-V-R.mainAxis,Ce=S?-U[P]/2+Z+ie+X+R.mainAxis:T+ie+X+R.mainAxis,ce=t.elements.arrow&&Eh(t.elements.arrow),fe=ce?w==="y"?ce.clientTop||0:ce.clientLeft||0:0,ue=(M=k==null?void 0:k[w])!=null?M:0,we=D+ae-ue-fe,he=D+Ce-ue,re=Id(h?og(W,we):W,D,h?Ll(G,he):G);I[w]=re,j[w]=re-D}if(l){var Ve,ye=w==="x"?Ws:Ks,pe=w==="x"?_i:Ui,Fe=I[L],De=L==="y"?"height":"width",ze=Fe+y[ye],Xe=Fe-y[pe],at=[Ws,Ks].indexOf(x)!==-1,ct=(Ve=k==null?void 0:k[L])!=null?Ve:0,st=at?ze:Fe-U[De]-_[De]-ct+R.altAxis,me=at?Fe+U[De]+_[De]-ct-R.altAxis:Xe,Pe=h&&at?EM(st,Fe,me):Id(h?st:ze,Fe,h?me:Xe);I[L]=Pe,j[L]=Pe-Fe}t.modifiersData[r]=j}}const sQ={name:"preventOverflow",enabled:!0,phase:"main",fn:rQ,requiresIfExists:["offset"]};function iQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function aQ(e){return e===li(e)||!ki(e)?wx(e):iQ(e)}function oQ(e){var t=e.getBoundingClientRect(),n=Lc(t.width)/e.offsetWidth||1,r=Lc(t.height)/e.offsetHeight||1;return n!==1||r!==1}function lQ(e,t,n){n===void 0&&(n=!1);var r=ki(t),s=ki(t)&&oQ(t),a=ol(t),o=Mc(e,s,n),l={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(r||!r&&!n)&&((Ca(t)!=="body"||Cx(a))&&(l=aQ(t)),ki(t)?(A=Mc(t,!0),A.x+=t.clientLeft,A.y+=t.clientTop):a&&(A.x=Bx(a))),{x:o.left+l.scrollLeft-A.x,y:o.top+l.scrollTop-A.y,width:o.width,height:o.height}}function AQ(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function s(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var A=t.get(l);A&&s(A)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||s(a)}),r}function cQ(e){var t=AQ(e);return bM.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function uQ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function dQ(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var mw={placement:"bottom",modifiers:[],strategy:"absolute"};function vw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hQ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,a=s===void 0?mw:s;return function(l,A,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},mw,a),modifiersData:{},elements:{reference:l,popper:A},attributes:{},styles:{}},d=[],p=!1,h={state:u,setOptions:function(x){var C=typeof x=="function"?x(u.options):x;g(),u.options=Object.assign({},a,u.options,C),u.scrollParents={reference:Gl(l)?kd(l):l.contextElement?kd(l.contextElement):[],popper:kd(A)};var S=cQ(dQ([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!p){var x=u.elements,C=x.reference,S=x.popper;if(vw(C,S)){u.rects={reference:lQ(C,Eh(S),u.options.strategy==="fixed"),popper:xx(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var L=u.orderedModifiers[w],I=L.fn,U=L.options,_=U===void 0?{}:U,F=L.name;typeof I=="function"&&(u=I({state:u,options:_,name:F,instance:h})||u)}}}},update:uQ(function(){return new Promise(function(y){h.forceUpdate(),y(u)})}),destroy:function(){g(),p=!0}};if(!vw(l,A))return h;h.setOptions(c).then(function(y){!p&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var x=y.name,C=y.options,S=C===void 0?{}:C,w=y.effect;if(typeof w=="function"){var L=w({state:u,name:x,instance:h,options:S}),I=function(){};d.push(L||I)}})}function g(){d.forEach(function(y){return y()}),d=[]}return h}}var fQ=[MM,tQ,DM,CM,ZM,GM,sQ,NM,YM],pQ=hQ({defaultModifiers:fQ});function gQ(e){return typeof e=="function"?e():e}const JS=b.forwardRef(function(t,n){const{children:r,container:s,disablePortal:a=!1}=t,[o,l]=b.useState(null),A=sr(b.isValidElement(r)?eA(r):null,n);if(js(()=>{a||l(gQ(s)||document.body)},[s,a]),js(()=>{if(o&&!a)return n1(n,o),()=>{n1(n,null)}},[n,o,a]),a){if(b.isValidElement(r)){const c={ref:A};return b.cloneElement(r,c)}return i.jsx(b.Fragment,{children:r})}return i.jsx(b.Fragment,{children:o&&s5.createPortal(r,o)})});function mQ(e){return ht("MuiPopper",e)}ft("MuiPopper",["root"]);const vQ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],yQ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function xQ(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function C1(e){return typeof e=="function"?e():e}function bQ(e){return e.nodeType!==void 0}const wQ=e=>{const{classes:t}=e;return gt({root:["root"]},mQ,t)},BQ={},CQ=b.forwardRef(function(t,n){var r;const{anchorEl:s,children:a,direction:o,disablePortal:l,modifiers:A,open:c,placement:u,popperOptions:d,popperRef:p,slotProps:h={},slots:m={},TransitionProps:g}=t,y=Je(t,vQ),x=b.useRef(null),C=sr(x,n),S=b.useRef(null),w=sr(S,p),L=b.useRef(w);js(()=>{L.current=w},[w]),b.useImperativeHandle(p,()=>S.current,[]);const I=xQ(u,o),[U,_]=b.useState(I),[F,R]=b.useState(C1(s));b.useEffect(()=>{S.current&&S.current.forceUpdate()}),b.useEffect(()=>{s&&R(C1(s))},[s]),js(()=>{if(!F||!c)return;const $=W=>{_(W.placement)};let P=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{$(W)}}];A!=null&&(P=P.concat(A)),d&&d.modifiers!=null&&(P=P.concat(d.modifiers));const D=pQ(F,x.current,z({placement:I},d,{modifiers:P}));return L.current(D),()=>{D.destroy(),L.current(null)}},[F,l,A,c,d,I]);const k={placement:U};g!==null&&(k.TransitionProps=g);const j=wQ(t),M=(r=m.root)!=null?r:"div",N=Fi({elementType:M,externalSlotProps:h.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:C},ownerState:t,className:j.root});return i.jsx(M,z({},N,{children:typeof a=="function"?a(k):a}))}),SQ=b.forwardRef(function(t,n){const{anchorEl:r,children:s,container:a,direction:o="ltr",disablePortal:l=!1,keepMounted:A=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:p=BQ,popperRef:h,style:m,transition:g=!1,slotProps:y={},slots:x={}}=t,C=Je(t,yQ),[S,w]=b.useState(!0),L=()=>{w(!1)},I=()=>{w(!0)};if(!A&&!u&&(!g||S))return null;let U;if(a)U=a;else if(r){const R=C1(r);U=R&&bQ(R)?Wr(R).body:Wr(null).body}const _=!u&&A&&(!g||S)?"none":void 0,F=g?{in:u,onEnter:L,onExited:I}:void 0;return i.jsx(JS,{disablePortal:l,container:U,children:i.jsx(CQ,z({anchorEl:r,direction:o,disablePortal:l,modifiers:c,ref:n,open:g?!S:u,placement:d,popperOptions:p,popperRef:h,slotProps:y,slots:x},C,{style:z({position:"fixed",top:0,left:0,display:_},m),TransitionProps:F,children:s}))})}),jQ=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],EQ=Re(SQ,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ZS=b.forwardRef(function(t,n){var r;const s=HS(),a=kt({props:t,name:"MuiPopper"}),{anchorEl:o,component:l,components:A,componentsProps:c,container:u,disablePortal:d,keepMounted:p,modifiers:h,open:m,placement:g,popperOptions:y,popperRef:x,transition:C,slots:S,slotProps:w}=a,L=Je(a,jQ),I=(r=S==null?void 0:S.root)!=null?r:A==null?void 0:A.Root,U=z({anchorEl:o,container:u,disablePortal:d,keepMounted:p,modifiers:h,open:m,placement:g,popperOptions:y,popperRef:x,transition:C},L);return i.jsx(EQ,z({as:l,direction:s==null?void 0:s.direction,slots:{root:I},slotProps:w??c},U,{ref:n}))}),IQ=At(i.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function kQ(e){return ht("MuiChip",e)}const Sn=ft("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),FQ=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],NQ=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:a,onDelete:o,clickable:l,variant:A}=e,c={root:["root",A,n&&"disabled",`size${Ye(r)}`,`color${Ye(s)}`,l&&"clickable",l&&`clickableColor${Ye(s)}`,o&&"deletable",o&&`deletableColor${Ye(s)}`,`${A}${Ye(s)}`],label:["label",`label${Ye(r)}`],avatar:["avatar",`avatar${Ye(r)}`,`avatarColor${Ye(s)}`],icon:["icon",`icon${Ye(r)}`,`iconColor${Ye(a)}`],deleteIcon:["deleteIcon",`deleteIcon${Ye(r)}`,`deleteIconColor${Ye(s)}`,`deleteIcon${Ye(A)}Color${Ye(s)}`]};return gt(c,kQ,t)},TQ=Re("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:a,onDelete:o,size:l,variant:A}=n;return[{[`& .${Sn.avatar}`]:t.avatar},{[`& .${Sn.avatar}`]:t[`avatar${Ye(l)}`]},{[`& .${Sn.avatar}`]:t[`avatarColor${Ye(r)}`]},{[`& .${Sn.icon}`]:t.icon},{[`& .${Sn.icon}`]:t[`icon${Ye(l)}`]},{[`& .${Sn.icon}`]:t[`iconColor${Ye(s)}`]},{[`& .${Sn.deleteIcon}`]:t.deleteIcon},{[`& .${Sn.deleteIcon}`]:t[`deleteIcon${Ye(l)}`]},{[`& .${Sn.deleteIcon}`]:t[`deleteIconColor${Ye(r)}`]},{[`& .${Sn.deleteIcon}`]:t[`deleteIcon${Ye(A)}Color${Ye(r)}`]},t.root,t[`size${Ye(l)}`],t[`color${Ye(r)}`],a&&t.clickable,a&&r!=="default"&&t[`clickableColor${Ye(r)})`],o&&t.deletable,o&&r!=="default"&&t[`deletableColor${Ye(r)}`],t[A],t[`${A}${Ye(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return z({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Sn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Sn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Sn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Sn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Sn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Sn.icon}`]:z({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&z({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Sn.deleteIcon}`]:z({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:un(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:un(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:un(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Sn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:un(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Sn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>z({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:un(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Sn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:un(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Sn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>z({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Sn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Sn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Sn.avatar}`]:{marginLeft:4},[`& .${Sn.avatarSmall}`]:{marginLeft:2},[`& .${Sn.icon}`]:{marginLeft:4},[`& .${Sn.iconSmall}`]:{marginLeft:2},[`& .${Sn.deleteIcon}`]:{marginRight:5},[`& .${Sn.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:un(e.palette[t.color].main,.7)}`,[`&.${Sn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Sn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:un(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Sn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:un(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),_Q=Re("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Ye(r)}`]]}})(({ownerState:e})=>z({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function yw(e){return e.key==="Backspace"||e.key==="Delete"}const Di=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiChip"}),{avatar:s,className:a,clickable:o,color:l="default",component:A,deleteIcon:c,disabled:u=!1,icon:d,label:p,onClick:h,onDelete:m,onKeyDown:g,onKeyUp:y,size:x="medium",variant:C="filled",tabIndex:S,skipFocusWhenDisabled:w=!1}=r,L=Je(r,FQ),I=b.useRef(null),U=sr(I,n),_=G=>{G.stopPropagation(),m&&m(G)},F=G=>{G.currentTarget===G.target&&yw(G)&&G.preventDefault(),g&&g(G)},R=G=>{G.currentTarget===G.target&&(m&&yw(G)?m(G):G.key==="Escape"&&I.current&&I.current.blur()),y&&y(G)},k=o!==!1&&h?!0:o,j=k||m?Ba:A||"div",M=z({},r,{component:j,disabled:u,size:x,color:l,iconColor:b.isValidElement(d)&&d.props.color||l,onDelete:!!m,clickable:k,variant:C}),N=NQ(M),$=j===Ba?z({component:A||"div",focusVisibleClassName:N.focusVisible},m&&{disableRipple:!0}):{};let P=null;m&&(P=c&&b.isValidElement(c)?b.cloneElement(c,{className:et(c.props.className,N.deleteIcon),onClick:_}):i.jsx(IQ,{className:et(N.deleteIcon),onClick:_}));let D=null;s&&b.isValidElement(s)&&(D=b.cloneElement(s,{className:et(N.avatar,s.props.className)}));let W=null;return d&&b.isValidElement(d)&&(W=b.cloneElement(d,{className:et(N.icon,d.props.className)})),i.jsxs(TQ,z({as:j,className:et(N.root,a),disabled:k&&u?!0:void 0,onClick:h,onKeyDown:F,onKeyUp:R,ref:U,tabIndex:w&&u?-1:S,ownerState:M},$,L,{children:[D||W,i.jsx(_Q,{className:et(N.label),ownerState:M,children:p}),P]}))}),UQ=["onChange","maxRows","minRows","style","value"];function Df(e){return parseInt(e,10)||0}const DQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function LQ(e){for(const t in e)return!1;return!0}function xw(e){return LQ(e)||e.outerHeightStyle===0&&!e.overflowing}const MQ=b.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:a=1,style:o,value:l}=t,A=Je(t,UQ),{current:c}=b.useRef(l!=null),u=b.useRef(null),d=sr(n,u),p=b.useRef(null),h=b.useRef(null),m=b.useCallback(()=>{const S=u.current,w=h.current;if(!S||!w)return;const I=to(S).getComputedStyle(S);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};w.style.width=I.width,w.value=S.value||t.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const U=I.boxSizing,_=Df(I.paddingBottom)+Df(I.paddingTop),F=Df(I.borderBottomWidth)+Df(I.borderTopWidth),R=w.scrollHeight;w.value="x";const k=w.scrollHeight;let j=R;a&&(j=Math.max(Number(a)*k,j)),s&&(j=Math.min(Number(s)*k,j)),j=Math.max(j,k);const M=j+(U==="border-box"?_+F:0),N=Math.abs(j-R)<=1;return{outerHeightStyle:M,overflowing:N}},[s,a,t.placeholder]),g=en(()=>{const S=u.current,w=m();if(!S||!w||xw(w))return!1;const L=w.outerHeightStyle;return p.current!=null&&p.current!==L}),y=b.useCallback(()=>{const S=u.current,w=m();if(!S||!w||xw(w))return;const L=w.outerHeightStyle;p.current!==L&&(p.current=L,S.style.height=`${L}px`),S.style.overflow=w.overflowing?"hidden":""},[m]),x=b.useRef(-1);js(()=>{const S=um(y),w=u==null?void 0:u.current;if(!w)return;const L=to(w);L.addEventListener("resize",S);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{g()&&(I.unobserve(w),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{I.observe(w)}))}),I.observe(w)),()=>{S.clear(),cancelAnimationFrame(x.current),L.removeEventListener("resize",S),I&&I.disconnect()}},[m,y,g]),js(()=>{y()});const C=S=>{c||y(),r&&r(S)};return i.jsxs(b.Fragment,{children:[i.jsx("textarea",z({value:l,onChange:C,ref:d,rows:a,style:o},A)),i.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:z({},DQ.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function ll({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const bm=b.createContext(void 0);function ja(){return b.useContext(bm)}function bw(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function lg(e,t=!1){return e&&(bw(e.value)&&e.value!==""||t&&bw(e.defaultValue)&&e.defaultValue!=="")}function QQ(e){return e.startAdornment}function PQ(e){return ht("MuiInputBase",e)}const Pc=ft("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),RQ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],wm=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Ye(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Bm=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},HQ=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:a,focused:o,formControl:l,fullWidth:A,hiddenLabel:c,multiline:u,readOnly:d,size:p,startAdornment:h,type:m}=e,g={root:["root",`color${Ye(n)}`,r&&"disabled",s&&"error",A&&"fullWidth",o&&"focused",l&&"formControl",p&&p!=="medium"&&`size${Ye(p)}`,u&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",p==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]};return gt(g,PQ,t)},Cm=Re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wm})(({theme:e,ownerState:t})=>z({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Pc.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&z({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Sm=Re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Bm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=z({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return z({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Pc.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Pc.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),OQ=i.jsx(B4,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Sx=b.forwardRef(function(t,n){var r;const s=kt({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:l,className:A,components:c={},componentsProps:u={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:h,endAdornment:m,fullWidth:g=!1,id:y,inputComponent:x="input",inputProps:C={},inputRef:S,maxRows:w,minRows:L,multiline:I=!1,name:U,onBlur:_,onChange:F,onClick:R,onFocus:k,onKeyDown:j,onKeyUp:M,placeholder:N,readOnly:$,renderSuffix:P,rows:D,slotProps:W={},slots:G={},startAdornment:Z,type:le="text",value:T}=s,H=Je(s,RQ),Q=C.value!=null?C.value:T,{current:K}=b.useRef(Q!=null),V=b.useRef(),X=b.useCallback(Pe=>{},[]),ie=sr(V,S,C.ref,X),[ae,Ce]=b.useState(!1),ce=ja(),fe=ll({props:s,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});fe.focused=ce?ce.focused:ae,b.useEffect(()=>{!ce&&p&&ae&&(Ce(!1),_&&_())},[ce,p,ae,_]);const ue=ce&&ce.onFilled,we=ce&&ce.onEmpty,he=b.useCallback(Pe=>{lg(Pe)?ue&&ue():we&&we()},[ue,we]);js(()=>{K&&he({value:Q})},[Q,he,K]);const re=Pe=>{if(fe.disabled){Pe.stopPropagation();return}k&&k(Pe),C.onFocus&&C.onFocus(Pe),ce&&ce.onFocus?ce.onFocus(Pe):Ce(!0)},Ve=Pe=>{_&&_(Pe),C.onBlur&&C.onBlur(Pe),ce&&ce.onBlur?ce.onBlur(Pe):Ce(!1)},ye=(Pe,...oe)=>{if(!K){const ge=Pe.target||V.current;if(ge==null)throw new Error(eo(1));he({value:ge.value})}C.onChange&&C.onChange(Pe,...oe),F&&F(Pe,...oe)};b.useEffect(()=>{he(V.current)},[]);const pe=Pe=>{V.current&&Pe.currentTarget===Pe.target&&V.current.focus(),R&&R(Pe)};let Fe=x,De=C;I&&Fe==="input"&&(D?De=z({type:void 0,minRows:D,maxRows:D},De):De=z({type:void 0,maxRows:w,minRows:L},De),Fe=MQ);const ze=Pe=>{he(Pe.animationName==="mui-auto-fill-cancel"?V.current:{value:"x"})};b.useEffect(()=>{ce&&ce.setAdornedStart(!!Z)},[ce,Z]);const Xe=z({},s,{color:fe.color||"primary",disabled:fe.disabled,endAdornment:m,error:fe.error,focused:fe.focused,formControl:ce,fullWidth:g,hiddenLabel:fe.hiddenLabel,multiline:I,size:fe.size,startAdornment:Z,type:le}),at=HQ(Xe),ct=G.root||c.Root||Cm,st=W.root||u.root||{},me=G.input||c.Input||Sm;return De=z({},De,(r=W.input)!=null?r:u.input),i.jsxs(b.Fragment,{children:[!h&&OQ,i.jsxs(ct,z({},st,!kc(ct)&&{ownerState:z({},Xe,st.ownerState)},{ref:n,onClick:pe},H,{className:et(at.root,st.className,A,$&&"MuiInputBase-readOnly"),children:[Z,i.jsx(bm.Provider,{value:null,children:i.jsx(me,z({ownerState:Xe,"aria-invalid":fe.error,"aria-describedby":a,autoComplete:o,autoFocus:l,defaultValue:d,disabled:fe.disabled,id:y,onAnimationStart:ze,name:U,placeholder:N,readOnly:$,required:fe.required,rows:D,value:Q,onKeyDown:j,onKeyUp:M,type:le},De,!kc(me)&&{as:Fe,ownerState:z({},Xe,De.ownerState)},{ref:ie,className:et(at.input,De.className,$&&"MuiInputBase-readOnly"),onBlur:Ve,onChange:ye,onFocus:re}))}),m,P?P(z({},fe,{startAdornment:Z})):null]}))]})});function $Q(e){return ht("MuiInput",e)}const Vu=z({},Pc,ft("MuiInput",["root","underline","input"]));function zQ(e){return ht("MuiOutlinedInput",e)}const ko=z({},Pc,ft("MuiOutlinedInput",["root","notchedOutline","input"]));function WQ(e){return ht("MuiFilledInput",e)}const yl=z({},Pc,ft("MuiFilledInput",["root","underline","input"])),KQ=At(i.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),VQ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],GQ={entering:{opacity:1},entered:{opacity:1}},Ih=b.forwardRef(function(t,n){const r=Qi(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,easing:A,in:c,onEnter:u,onEntered:d,onEntering:p,onExit:h,onExited:m,onExiting:g,style:y,timeout:x=s,TransitionComponent:C=Ri}=t,S=Je(t,VQ),w=b.useRef(null),L=sr(w,eA(l),n),I=N=>$=>{if(N){const P=w.current;$===void 0?N(P):N(P,$)}},U=I(p),_=I((N,$)=>{RS(N);const P=Uc({style:y,timeout:x,easing:A},{mode:"enter"});N.style.webkitTransition=r.transitions.create("opacity",P),N.style.transition=r.transitions.create("opacity",P),u&&u(N,$)}),F=I(d),R=I(g),k=I(N=>{const $=Uc({style:y,timeout:x,easing:A},{mode:"exit"});N.style.webkitTransition=r.transitions.create("opacity",$),N.style.transition=r.transitions.create("opacity",$),h&&h(N)}),j=I(m),M=N=>{a&&a(w.current,N)};return i.jsx(C,z({appear:o,in:c,nodeRef:w,onEnter:_,onEntered:F,onEntering:U,onExit:k,onExited:j,onExiting:R,addEndListener:M,timeout:x},S,{children:(N,$)=>b.cloneElement(l,z({style:z({opacity:0,visibility:N==="exited"&&!c?"hidden":void 0},GQ[N],y,l.props.style),ref:L},$))}))});function qQ(e){return ht("MuiBackdrop",e)}ft("MuiBackdrop",["root","invisible"]);const YQ=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],XQ=e=>{const{classes:t,invisible:n}=e;return gt({root:["root",n&&"invisible"]},qQ,t)},JQ=Re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>z({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),ej=b.forwardRef(function(t,n){var r,s,a;const o=kt({props:t,name:"MuiBackdrop"}),{children:l,className:A,component:c="div",components:u={},componentsProps:d={},invisible:p=!1,open:h,slotProps:m={},slots:g={},TransitionComponent:y=Ih,transitionDuration:x}=o,C=Je(o,YQ),S=z({},o,{component:c,invisible:p}),w=XQ(S),L=(r=m.root)!=null?r:d.root;return i.jsx(y,z({in:h,timeout:x},C,{children:i.jsx(JQ,z({"aria-hidden":!0},L,{as:(s=(a=g.root)!=null?a:u.Root)!=null?s:c,className:et(w.root,A,L==null?void 0:L.className),ownerState:z({},S,L==null?void 0:L.ownerState),classes:w,ref:n,children:l}))}))}),ZQ=ft("MuiBox",["root"]),eP=zy(),Ue=BN({themeId:Ol,defaultTheme:eP,defaultClassName:ZQ.root,generateClassName:W5.generate});function tP(e){return ht("MuiButton",e)}const Lf=ft("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),nP=b.createContext({}),rP=b.createContext(void 0),sP=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],iP=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:a,classes:o}=e,l={root:["root",a,`${a}${Ye(t)}`,`size${Ye(s)}`,`${a}Size${Ye(s)}`,`color${Ye(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ye(s)}`],endIcon:["icon","endIcon",`iconSize${Ye(s)}`]},A=gt(l,tP,o);return z({},o,A)},tj=e=>z({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),aP=Re(Ba,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ye(n.color)}`],t[`size${Ye(n.size)}`],t[`${n.variant}Size${Ye(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],a=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return z({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":z({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":z({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Lf.focusVisible}`]:z({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Lf.disabled}`]:z({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${un(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Lf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Lf.disabled}`]:{boxShadow:"none"}}),oP=Re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Ye(n.size)}`]]}})(({ownerState:e})=>z({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},tj(e))),lP=Re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Ye(n.size)}`]]}})(({ownerState:e})=>z({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},tj(e))),Dt=b.forwardRef(function(t,n){const r=b.useContext(nP),s=b.useContext(rP),a=Wd(r,t),o=kt({props:a,name:"MuiButton"}),{children:l,color:A="primary",component:c="button",className:u,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:h=!1,endIcon:m,focusVisibleClassName:g,fullWidth:y=!1,size:x="medium",startIcon:C,type:S,variant:w="text"}=o,L=Je(o,sP),I=z({},o,{color:A,component:c,disabled:d,disableElevation:p,disableFocusRipple:h,fullWidth:y,size:x,type:S,variant:w}),U=iP(I),_=C&&i.jsx(oP,{className:U.startIcon,ownerState:I,children:C}),F=m&&i.jsx(lP,{className:U.endIcon,ownerState:I,children:m}),R=s||"";return i.jsxs(aP,z({ownerState:I,className:et(r.className,U.root,u,R),component:c,disabled:d,focusRipple:!h,focusVisibleClassName:et(U.focusVisible,g),ref:n,type:S},L,{classes:U,children:[_,l,F]}))});function AP(e){return ht("MuiCard",e)}ft("MuiCard",["root"]);const cP=["className","raised"],uP=e=>{const{classes:t}=e;return gt({root:["root"]},AP,t)},dP=Re($n,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),tn=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCard"}),{className:s,raised:a=!1}=r,o=Je(r,cP),l=z({},r,{raised:a}),A=uP(l);return i.jsx(dP,z({className:et(A.root,s),elevation:a?8:void 0,ref:n,ownerState:l},o))});function hP(e){return ht("MuiCardActions",e)}ft("MuiCardActions",["root","spacing"]);const fP=["disableSpacing","className"],pP=e=>{const{classes:t,disableSpacing:n}=e;return gt({root:["root",!n&&"spacing"]},hP,t)},gP=Re("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>z({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),mP=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCardActions"}),{disableSpacing:s=!1,className:a}=r,o=Je(r,fP),l=z({},r,{disableSpacing:s}),A=pP(l);return i.jsx(gP,z({className:et(A.root,a),ownerState:l,ref:n},o))});function vP(e){return ht("MuiCardContent",e)}ft("MuiCardContent",["root"]);const yP=["className","component"],xP=e=>{const{classes:t}=e;return gt({root:["root"]},vP,t)},bP=Re("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),nn=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCardContent"}),{className:s,component:a="div"}=r,o=Je(r,yP),l=z({},r,{component:a}),A=xP(l);return i.jsx(bP,z({as:a,className:et(A.root,s),ownerState:l,ref:n},o))});function wP(e){return ht("PrivateSwitchBase",e)}ft("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const BP=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],CP=e=>{const{classes:t,checked:n,disabled:r,edge:s}=e,a={root:["root",n&&"checked",r&&"disabled",s&&`edge${Ye(s)}`],input:["input"]};return gt(a,wP,t)},SP=Re(Ba,{name:"MuiSwitchBase"})(({ownerState:e})=>z({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),jP=Re("input",{name:"MuiSwitchBase",shouldForwardProp:qs})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),nj=b.forwardRef(function(t,n){const{autoFocus:r,checked:s,checkedIcon:a,className:o,defaultChecked:l,disabled:A,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:p,inputProps:h,inputRef:m,name:g,onBlur:y,onChange:x,onFocus:C,readOnly:S,required:w=!1,tabIndex:L,type:I,value:U}=t,_=Je(t,BP),[F,R]=wa({controlled:s,default:!!l,name:"SwitchBase",state:"checked"}),k=ja(),j=G=>{C&&C(G),k&&k.onFocus&&k.onFocus(G)},M=G=>{y&&y(G),k&&k.onBlur&&k.onBlur(G)},N=G=>{if(G.nativeEvent.defaultPrevented)return;const Z=G.target.checked;R(Z),x&&x(G,Z)};let $=A;k&&typeof $>"u"&&($=k.disabled);const P=I==="checkbox"||I==="radio",D=z({},t,{checked:F,disabled:$,disableFocusRipple:c,edge:u}),W=CP(D);return i.jsxs(SP,z({component:"span",className:et(W.root,o),centerRipple:!0,focusRipple:!c,disabled:$,tabIndex:null,role:void 0,onFocus:j,onBlur:M,ownerState:D,ref:n},_,{children:[i.jsx(jP,z({autoFocus:r,checked:s,defaultChecked:l,className:W.input,disabled:$,id:P?p:void 0,name:g,onChange:N,readOnly:S,ref:m,required:w,ownerState:D,tabIndex:L,type:I},I==="checkbox"&&U===void 0?{}:{value:U},h)),F?a:d]}))}),EP=At(i.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),IP=At(i.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),kP=At(i.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function FP(e){return ht("MuiCheckbox",e)}const Z0=ft("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),NP=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],TP=e=>{const{classes:t,indeterminate:n,color:r,size:s}=e,a={root:["root",n&&"indeterminate",`color${Ye(r)}`,`size${Ye(s)}`]},o=gt(a,FP,t);return z({},t,o)},_P=Re(nj,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ye(n.size)}`],n.color!=="default"&&t[`color${Ye(n.color)}`]]}})(({theme:e,ownerState:t})=>z({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Z0.checked}, &.${Z0.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Z0.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),UP=i.jsx(IP,{}),DP=i.jsx(EP,{}),LP=i.jsx(kP,{}),Sl=b.forwardRef(function(t,n){var r,s;const a=kt({props:t,name:"MuiCheckbox"}),{checkedIcon:o=UP,color:l="primary",icon:A=DP,indeterminate:c=!1,indeterminateIcon:u=LP,inputProps:d,size:p="medium",className:h}=a,m=Je(a,NP),g=c?u:A,y=c?u:o,x=z({},a,{color:l,indeterminate:c,size:p}),C=TP(x);return i.jsx(_P,z({type:"checkbox",inputProps:z({"data-indeterminate":c},d),icon:b.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:p}),checkedIcon:b.cloneElement(y,{fontSize:(s=y.props.fontSize)!=null?s:p}),ownerState:x,ref:n,className:et(C.root,h)},m,{classes:C}))});function MP(e){return ht("MuiCircularProgress",e)}ft("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const QP=["className","color","disableShrink","size","style","thickness","value","variant"];let jm=e=>e,ww,Bw,Cw,Sw;const Fo=44,PP=uo(ww||(ww=jm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),RP=uo(Bw||(Bw=jm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),HP=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,a={root:["root",n,`color${Ye(r)}`],svg:["svg"],circle:["circle",`circle${Ye(n)}`,s&&"circleDisableShrink"]};return gt(a,MP,t)},OP=Re("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ye(n.color)}`]]}})(({ownerState:e,theme:t})=>z({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Zl(Cw||(Cw=jm`
      animation: ${0} 1.4s linear infinite;
    `),PP)),$P=Re("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),zP=Re("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ye(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>z({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Zl(Sw||(Sw=jm`
      animation: ${0} 1.4s ease-in-out infinite;
    `),RP)),Rr=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:o=!1,size:l=40,style:A,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,p=Je(r,QP),h=z({},r,{color:a,disableShrink:o,size:l,thickness:c,value:u,variant:d}),m=HP(h),g={},y={},x={};if(d==="determinate"){const C=2*Math.PI*((Fo-c)/2);g.strokeDasharray=C.toFixed(3),x["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*C).toFixed(3)}px`,y.transform="rotate(-90deg)"}return i.jsx(OP,z({className:et(m.root,s),style:z({width:l,height:l},y,A),ownerState:h,ref:n,role:"progressbar"},x,p,{children:i.jsx($P,{className:m.svg,ownerState:h,viewBox:`${Fo/2} ${Fo/2} ${Fo} ${Fo}`,children:i.jsx(zP,{className:m.circle,style:g,ownerState:h,cx:Fo,cy:Fo,r:(Fo-c)/2,fill:"none",strokeWidth:c})})}))});function jw(e){return e.substring(2).toLowerCase()}function WP(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function KP(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:a="onTouchEnd"}=e,o=b.useRef(!1),l=b.useRef(null),A=b.useRef(!1),c=b.useRef(!1);b.useEffect(()=>(setTimeout(()=>{A.current=!0},0),()=>{A.current=!1}),[]);const u=sr(eA(t),l),d=en(m=>{const g=c.current;c.current=!1;const y=Wr(l.current);if(!A.current||!l.current||"clientX"in m&&WP(m,y))return;if(o.current){o.current=!1;return}let x;m.composedPath?x=m.composedPath().indexOf(l.current)>-1:x=!y.documentElement.contains(m.target)||l.current.contains(m.target),!x&&(n||!g)&&s(m)}),p=m=>g=>{c.current=!0;const y=t.props[m];y&&y(g)},h={ref:u};return a!==!1&&(h[a]=p(a)),b.useEffect(()=>{if(a!==!1){const m=jw(a),g=Wr(l.current),y=()=>{o.current=!0};return g.addEventListener(m,d),g.addEventListener("touchmove",y),()=>{g.removeEventListener(m,d),g.removeEventListener("touchmove",y)}}},[d,a]),r!==!1&&(h[r]=p(r)),b.useEffect(()=>{if(r!==!1){const m=jw(r),g=Wr(l.current);return g.addEventListener(m,d),()=>{g.removeEventListener(m,d)}}},[d,r]),i.jsx(b.Fragment,{children:b.cloneElement(t,h)})}const Ml=wT({createStyledComponent:Re("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ye(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>kt({props:e,name:"MuiContainer"})});function VP(e){const t=Wr(e);return t.body===e?to(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Fd(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ew(e){return parseInt(to(e).getComputedStyle(e).paddingRight,10)||0}function GP(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Iw(e,t,n,r,s){const a=[t,n,...r];[].forEach.call(e.children,o=>{const l=a.indexOf(o)===-1,A=!GP(o);l&&A&&Fd(o,s)})}function ev(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function qP(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(VP(r)){const o=n4(Wr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ew(r)+o}px`;const l=Wr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,A=>{n.push({value:A.style.paddingRight,property:"padding-right",el:A}),A.style.paddingRight=`${Ew(A)+o}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=Wr(r).body;else{const o=r.parentElement,l=to(r);a=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:o,property:l})=>{a?o.style.setProperty(l,a):o.style.removeProperty(l)})}}function YP(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class XP{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Fd(t.modalRef,!1);const s=YP(n);Iw(n,t.mount,t.modalRef,s,!0);const a=ev(this.containers,o=>o.container===n);return a!==-1?(this.containers[a].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=ev(this.containers,a=>a.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=qP(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=ev(this.containers,o=>o.modals.indexOf(t)!==-1),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&Fd(t.modalRef,n),Iw(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&Fd(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const JP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ZP(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function eR(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function tR(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||eR(e))}function nR(e){const t=[],n=[];return Array.from(e.querySelectorAll(JP)).forEach((r,s)=>{const a=ZP(r);a===-1||!tR(r)||(a===0?t.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function rR(){return!0}function sR(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=nR,isEnabled:o=rR,open:l}=e,A=b.useRef(!1),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),p=b.useRef(null),h=b.useRef(!1),m=b.useRef(null),g=sr(eA(t),m),y=b.useRef(null);b.useEffect(()=>{!l||!m.current||(h.current=!n)},[n,l]),b.useEffect(()=>{if(!l||!m.current)return;const S=Wr(m.current);return m.current.contains(S.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),h.current&&m.current.focus()),()=>{s||(d.current&&d.current.focus&&(A.current=!0,d.current.focus()),d.current=null)}},[l]),b.useEffect(()=>{if(!l||!m.current)return;const S=Wr(m.current),w=U=>{y.current=U,!(r||!o()||U.key!=="Tab")&&S.activeElement===m.current&&U.shiftKey&&(A.current=!0,u.current&&u.current.focus())},L=()=>{const U=m.current;if(U===null)return;if(!S.hasFocus()||!o()||A.current){A.current=!1;return}if(U.contains(S.activeElement)||r&&S.activeElement!==c.current&&S.activeElement!==u.current)return;if(S.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!h.current)return;let _=[];if((S.activeElement===c.current||S.activeElement===u.current)&&(_=a(m.current)),_.length>0){var F,R;const k=!!((F=y.current)!=null&&F.shiftKey&&((R=y.current)==null?void 0:R.key)==="Tab"),j=_[0],M=_[_.length-1];typeof j!="string"&&typeof M!="string"&&(k?M.focus():j.focus())}else U.focus()};S.addEventListener("focusin",L),S.addEventListener("keydown",w,!0);const I=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(I),S.removeEventListener("focusin",L),S.removeEventListener("keydown",w,!0)}},[n,r,s,o,l,a]);const x=S=>{d.current===null&&(d.current=S.relatedTarget),h.current=!0,p.current=S.target;const w=t.props.onFocus;w&&w(S)},C=S=>{d.current===null&&(d.current=S.relatedTarget),h.current=!0};return i.jsxs(b.Fragment,{children:[i.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),b.cloneElement(t,{ref:g,onFocus:x}),i.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:u,"data-testid":"sentinelEnd"})]})}function iR(e){return typeof e=="function"?e():e}function aR(e){return e?e.props.hasOwnProperty("in"):!1}const oR=new XP;function lR(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=oR,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:l,children:A,onClose:c,open:u,rootRef:d}=e,p=b.useRef({}),h=b.useRef(null),m=b.useRef(null),g=sr(m,d),[y,x]=b.useState(!u),C=aR(A);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const w=()=>Wr(h.current),L=()=>(p.current.modalRef=m.current,p.current.mount=h.current,p.current),I=()=>{s.mount(L(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},U=en(()=>{const P=iR(t)||w().body;s.add(L(),P),m.current&&I()}),_=b.useCallback(()=>s.isTopModal(L()),[s]),F=en(P=>{h.current=P,P&&(u&&_()?I():m.current&&Fd(m.current,S))}),R=b.useCallback(()=>{s.remove(L(),S)},[S,s]);b.useEffect(()=>()=>{R()},[R]),b.useEffect(()=>{u?U():(!C||!a)&&R()},[u,R,C,a,U]);const k=P=>D=>{var W;(W=P.onKeyDown)==null||W.call(P,D),!(D.key!=="Escape"||D.which===229||!_())&&(n||(D.stopPropagation(),c&&c(D,"escapeKeyDown")))},j=P=>D=>{var W;(W=P.onClick)==null||W.call(P,D),D.target===D.currentTarget&&c&&c(D,"backdropClick")};return{getRootProps:(P={})=>{const D=Kp(e);delete D.onTransitionEnter,delete D.onTransitionExited;const W=z({},D,P);return z({role:"presentation"},W,{onKeyDown:k(W),ref:g})},getBackdropProps:(P={})=>{const D=P;return z({"aria-hidden":!0},D,{onClick:j(D),open:u})},getTransitionProps:()=>{const P=()=>{x(!1),o&&o()},D=()=>{x(!0),l&&l(),a&&R()};return{onEnter:Zb(P,A==null?void 0:A.props.onEnter),onExited:Zb(D,A==null?void 0:A.props.onExited)}},rootRef:g,portalRef:F,isTopModal:_,exited:y,hasTransition:C}}function AR(e){return ht("MuiModal",e)}ft("MuiModal",["root","hidden","backdrop"]);const cR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],uR=e=>{const{open:t,exited:n,classes:r}=e;return gt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},AR,r)},dR=Re("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>z({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),hR=Re(ej,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),rj=b.forwardRef(function(t,n){var r,s,a,o,l,A;const c=kt({name:"MuiModal",props:t}),{BackdropComponent:u=hR,BackdropProps:d,className:p,closeAfterTransition:h=!1,children:m,container:g,component:y,components:x={},componentsProps:C={},disableAutoFocus:S=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:L=!1,disablePortal:I=!1,disableRestoreFocus:U=!1,disableScrollLock:_=!1,hideBackdrop:F=!1,keepMounted:R=!1,onBackdropClick:k,open:j,slotProps:M,slots:N}=c,$=Je(c,cR),P=z({},c,{closeAfterTransition:h,disableAutoFocus:S,disableEnforceFocus:w,disableEscapeKeyDown:L,disablePortal:I,disableRestoreFocus:U,disableScrollLock:_,hideBackdrop:F,keepMounted:R}),{getRootProps:D,getBackdropProps:W,getTransitionProps:G,portalRef:Z,isTopModal:le,exited:T,hasTransition:H}=lR(z({},P,{rootRef:n})),Q=z({},P,{exited:T}),K=uR(Q),V={};if(m.props.tabIndex===void 0&&(V.tabIndex="-1"),H){const{onEnter:ue,onExited:we}=G();V.onEnter=ue,V.onExited=we}const X=(r=(s=N==null?void 0:N.root)!=null?s:x.Root)!=null?r:dR,ie=(a=(o=N==null?void 0:N.backdrop)!=null?o:x.Backdrop)!=null?a:u,ae=(l=M==null?void 0:M.root)!=null?l:C.root,Ce=(A=M==null?void 0:M.backdrop)!=null?A:C.backdrop,ce=Fi({elementType:X,externalSlotProps:ae,externalForwardedProps:$,getSlotProps:D,additionalProps:{ref:n,as:y},ownerState:Q,className:et(p,ae==null?void 0:ae.className,K==null?void 0:K.root,!Q.open&&Q.exited&&(K==null?void 0:K.hidden))}),fe=Fi({elementType:ie,externalSlotProps:Ce,additionalProps:d,getSlotProps:ue=>W(z({},ue,{onClick:we=>{k&&k(we),ue!=null&&ue.onClick&&ue.onClick(we)}})),className:et(Ce==null?void 0:Ce.className,d==null?void 0:d.className,K==null?void 0:K.backdrop),ownerState:Q});return!R&&!j&&(!H||T)?null:i.jsx(JS,{ref:Z,container:g,disablePortal:I,children:i.jsxs(X,z({},ce,{children:[!F&&u?i.jsx(ie,z({},fe)):null,i.jsx(sR,{disableEnforceFocus:w,disableAutoFocus:S,disableRestoreFocus:U,isEnabled:le,open:j,children:b.cloneElement(m,V)})]}))})});function fR(e){return ht("MuiDialog",e)}const tv=ft("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),sj=b.createContext({}),pR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],gR=Re(ej,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),mR=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:s,fullScreen:a}=e,o={root:["root"],container:["container",`scroll${Ye(n)}`],paper:["paper",`paperScroll${Ye(n)}`,`paperWidth${Ye(String(r))}`,s&&"paperFullWidth",a&&"paperFullScreen"]};return gt(o,fR,t)},vR=Re(rj,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),yR=Re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Ye(n.scroll)}`]]}})(({ownerState:e})=>z({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),xR=Re($n,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Ye(n.scroll)}`],t[`paperWidth${Ye(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>z({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${tv.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${tv.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${tv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),so=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialog"}),s=Qi(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,BackdropComponent:A,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:p=!1,fullScreen:h=!1,fullWidth:m=!1,maxWidth:g="sm",onBackdropClick:y,onClick:x,onClose:C,open:S,PaperComponent:w=$n,PaperProps:L={},scroll:I="paper",TransitionComponent:U=Ih,transitionDuration:_=a,TransitionProps:F}=r,R=Je(r,pR),k=z({},r,{disableEscapeKeyDown:p,fullScreen:h,fullWidth:m,maxWidth:g,scroll:I}),j=mR(k),M=b.useRef(),N=W=>{M.current=W.target===W.currentTarget},$=W=>{x&&x(W),M.current&&(M.current=null,y&&y(W),C&&C(W,"backdropClick"))},P=Zc(l),D=b.useMemo(()=>({titleId:P}),[P]);return i.jsx(vR,z({className:et(j.root,d),closeAfterTransition:!0,components:{Backdrop:gR},componentsProps:{backdrop:z({transitionDuration:_,as:A},c)},disableEscapeKeyDown:p,onClose:C,open:S,ref:n,onClick:$,ownerState:k},R,{children:i.jsx(U,z({appear:!0,in:S,timeout:_,role:"presentation"},F,{children:i.jsx(yR,{className:et(j.container),onMouseDown:N,ownerState:k,children:i.jsx(xR,z({as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},L,{className:et(j.paper,L.className),ownerState:k,children:i.jsx(sj.Provider,{value:D,children:u})}))})}))}))});function bR(e){return ht("MuiDialogActions",e)}ft("MuiDialogActions",["root","spacing"]);const wR=["className","disableSpacing"],BR=e=>{const{classes:t,disableSpacing:n}=e;return gt({root:["root",!n&&"spacing"]},bR,t)},CR=Re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>z({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Zo=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:a=!1}=r,o=Je(r,wR),l=z({},r,{disableSpacing:a}),A=BR(l);return i.jsx(CR,z({className:et(A.root,s),ownerState:l,ref:n},o))});function SR(e){return ht("MuiDialogContent",e)}ft("MuiDialogContent",["root","dividers"]);function jR(e){return ht("MuiDialogTitle",e)}const ER=ft("MuiDialogTitle",["root"]),IR=["className","dividers"],kR=e=>{const{classes:t,dividers:n}=e;return gt({root:["root",n&&"dividers"]},SR,t)},FR=Re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>z({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${ER.root} + &`]:{paddingTop:0}})),io=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogContent"}),{className:s,dividers:a=!1}=r,o=Je(r,IR),l=z({},r,{dividers:a}),A=kR(l);return i.jsx(FR,z({className:et(A.root,s),ownerState:l,ref:n},o))}),NR=["className","id"],TR=e=>{const{classes:t}=e;return gt({root:["root"]},jR,t)},_R=Re(te,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),el=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDialogTitle"}),{className:s,id:a}=r,o=Je(r,NR),l=r,A=TR(l),{titleId:c=a}=b.useContext(sj);return i.jsx(_R,z({component:"h2",className:et(A.root,s),ownerState:l,ref:n,variant:"h6",id:a??c},o))});function UR(e){return ht("MuiDivider",e)}const kw=ft("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),DR=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],LR=e=>{const{absolute:t,children:n,classes:r,flexItem:s,light:a,orientation:o,textAlign:l,variant:A}=e;return gt({root:["root",t&&"absolute",A,a&&"light",o==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},UR,r)},MR=Re("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>z({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:un(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>z({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>z({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>z({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>z({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),QR=Re("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>z({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),bi=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiDivider"}),{absolute:s=!1,children:a,className:o,component:l=a?"div":"hr",flexItem:A=!1,light:c=!1,orientation:u="horizontal",role:d=l!=="hr"?"separator":void 0,textAlign:p="center",variant:h="fullWidth"}=r,m=Je(r,DR),g=z({},r,{absolute:s,component:l,flexItem:A,light:c,orientation:u,role:d,textAlign:p,variant:h}),y=LR(g);return i.jsx(MR,z({as:l,className:et(y.root,o),role:d,ref:n,ownerState:g},m,{children:a?i.jsx(QR,{className:y.wrapper,ownerState:g,children:a}):null}))});bi.muiSkipListHighlight=!0;const PR=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],RR=e=>{const{classes:t,disableUnderline:n}=e,s=gt({root:["root",!n&&"underline"],input:["input"]},WQ,t);return z({},t,s)},HR=Re(Cm,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...wm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return z({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${yl.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${yl.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yl.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yl.disabled}, .${yl.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${yl.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&z({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),OR=Re(Sm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Bm})(({theme:e,ownerState:t})=>z({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),jx=b.forwardRef(function(t,n){var r,s,a,o;const l=kt({props:t,name:"MuiFilledInput"}),{components:A={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:p=!1,slotProps:h,slots:m={},type:g="text"}=l,y=Je(l,PR),x=z({},l,{fullWidth:u,inputComponent:d,multiline:p,type:g}),C=RR(l),S={root:{ownerState:x},input:{ownerState:x}},w=h??c?Us(S,h??c):S,L=(r=(s=m.root)!=null?s:A.Root)!=null?r:HR,I=(a=(o=m.input)!=null?o:A.Input)!=null?a:OR;return i.jsx(Sx,z({slots:{root:L,input:I},componentsProps:w,fullWidth:u,inputComponent:d,multiline:p,ref:n,type:g},y,{classes:C}))});jx.muiName="Input";function $R(e){return ht("MuiFormControl",e)}ft("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zR=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],WR=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${Ye(n)}`,r&&"fullWidth"]};return gt(s,$R,t)},KR=Re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>z({},t.root,t[`margin${Ye(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>z({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Ya=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormControl"}),{children:s,className:a,color:o="primary",component:l="div",disabled:A=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:p=!1,margin:h="none",required:m=!1,size:g="medium",variant:y="outlined"}=r,x=Je(r,zR),C=z({},r,{color:o,component:l,disabled:A,error:c,fullWidth:d,hiddenLabel:p,margin:h,required:m,size:g,variant:y}),S=WR(C),[w,L]=b.useState(()=>{let M=!1;return s&&b.Children.forEach(s,N=>{if(!jp(N,["Input","Select"]))return;const $=jp(N,["Select"])?N.props.input:N;$&&QQ($.props)&&(M=!0)}),M}),[I,U]=b.useState(()=>{let M=!1;return s&&b.Children.forEach(s,N=>{jp(N,["Input","Select"])&&(lg(N.props,!0)||lg(N.props.inputProps,!0))&&(M=!0)}),M}),[_,F]=b.useState(!1);A&&_&&F(!1);const R=u!==void 0&&!A?u:_;let k;const j=b.useMemo(()=>({adornedStart:w,setAdornedStart:L,color:o,disabled:A,error:c,filled:I,focused:R,fullWidth:d,hiddenLabel:p,size:g,onBlur:()=>{F(!1)},onEmpty:()=>{U(!1)},onFilled:()=>{U(!0)},onFocus:()=>{F(!0)},registerEffect:k,required:m,variant:y}),[w,o,A,c,I,R,d,p,k,m,g,y]);return i.jsx(bm.Provider,{value:j,children:i.jsx(KR,z({as:l,ownerState:C,className:et(S.root,a),ref:n},x,{children:s}))})}),XA=FT({createStyledComponent:Re("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>kt({props:e,name:"MuiStack"})});function VR(e){return ht("MuiFormControlLabel",e)}const fd=ft("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),GR=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],qR=e=>{const{classes:t,disabled:n,labelPlacement:r,error:s,required:a}=e,o={root:["root",n&&"disabled",`labelPlacement${Ye(r)}`,s&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return gt(o,VR,t)},YR=Re("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${fd.label}`]:t.label},t.root,t[`labelPlacement${Ye(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>z({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${fd.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${fd.label}`]:{[`&.${fd.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),XR=Re("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${fd.error}`]:{color:(e.vars||e).palette.error.main}})),As=b.forwardRef(function(t,n){var r,s;const a=kt({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:l={},control:A,disabled:c,disableTypography:u,label:d,labelPlacement:p="end",required:h,slotProps:m={}}=a,g=Je(a,GR),y=ja(),x=(r=c??A.props.disabled)!=null?r:y==null?void 0:y.disabled,C=h??A.props.required,S={disabled:x,required:C};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof A.props[F]>"u"&&typeof a[F]<"u"&&(S[F]=a[F])});const w=ll({props:a,muiFormControl:y,states:["error"]}),L=z({},a,{disabled:x,labelPlacement:p,required:C,error:w.error}),I=qR(L),U=(s=m.typography)!=null?s:l.typography;let _=d;return _!=null&&_.type!==te&&!u&&(_=i.jsx(te,z({component:"span"},U,{className:et(I.label,U==null?void 0:U.className),children:_}))),i.jsxs(YR,z({className:et(I.root,o),ownerState:L,ref:n},g,{children:[b.cloneElement(A,S),C?i.jsxs(XA,{display:"block",children:[_,i.jsxs(XR,{ownerState:L,"aria-hidden":!0,className:I.asterisk,children:[" ","*"]})]}):_]}))});function JR(e){return ht("MuiFormGroup",e)}ft("MuiFormGroup",["root","row","error"]);const ZR=["className","row"],e8=e=>{const{classes:t,row:n,error:r}=e;return gt({root:["root",n&&"row",r&&"error"]},JR,t)},t8=Re("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>z({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),ij=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormGroup"}),{className:s,row:a=!1}=r,o=Je(r,ZR),l=ja(),A=ll({props:r,muiFormControl:l,states:["error"]}),c=z({},r,{row:a,error:A.error}),u=e8(c);return i.jsx(t8,z({className:et(u.root,s),ownerState:c,ref:n},o))});function n8(e){return ht("MuiFormHelperText",e)}const Fw=ft("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Nw;const r8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],s8=e=>{const{classes:t,contained:n,size:r,disabled:s,error:a,filled:o,focused:l,required:A}=e,c={root:["root",s&&"disabled",a&&"error",r&&`size${Ye(r)}`,n&&"contained",l&&"focused",o&&"filled",A&&"required"]};return gt(c,n8,t)},i8=Re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Ye(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>z({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Fw.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Fw.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),a8=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormHelperText"}),{children:s,className:a,component:o="p"}=r,l=Je(r,r8),A=ja(),c=ll({props:r,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),u=z({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=s8(u);return i.jsx(i8,z({as:o,ownerState:u,className:et(d.root,a),ref:n},l,{children:s===" "?Nw||(Nw=i.jsx("span",{className:"notranslate",children:"​"})):s}))});function o8(e){return ht("MuiFormLabel",e)}const Nd=ft("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),l8=["children","className","color","component","disabled","error","filled","focused","required"],A8=e=>{const{classes:t,color:n,focused:r,disabled:s,error:a,filled:o,required:l}=e,A={root:["root",`color${Ye(n)}`,s&&"disabled",a&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return gt(A,o8,t)},c8=Re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>z({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>z({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Nd.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Nd.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Nd.error}`]:{color:(e.vars||e).palette.error.main}})),u8=Re("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Nd.error}`]:{color:(e.vars||e).palette.error.main}})),aj=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiFormLabel"}),{children:s,className:a,component:o="label"}=r,l=Je(r,l8),A=ja(),c=ll({props:r,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),u=z({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=A8(u);return i.jsxs(c8,z({as:o,ownerState:u,className:et(d.root,a),ref:n},l,{children:[s,c.required&&i.jsxs(u8,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),Tw=b.createContext();function d8(e){return ht("MuiGrid",e)}const h8=[0,1,2,3,4,5,6,7,8,9,10],f8=["column-reverse","column","row-reverse","row"],p8=["nowrap","wrap-reverse","wrap"],Gu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Xd=ft("MuiGrid",["root","container","item","zeroMinWidth",...h8.map(e=>`spacing-xs-${e}`),...f8.map(e=>`direction-xs-${e}`),...p8.map(e=>`wrap-xs-${e}`),...Gu.map(e=>`grid-xs-${e}`),...Gu.map(e=>`grid-sm-${e}`),...Gu.map(e=>`grid-md-${e}`),...Gu.map(e=>`grid-lg-${e}`),...Gu.map(e=>`grid-xl-${e}`)]),g8=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function mc(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function m8({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,s)=>{let a={};if(t[s]&&(n=t[s]),!n)return r;if(n===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Ul({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof o=="object"?o[s]:o;if(l==null)return r;const A=`${Math.round(n/l*1e8)/1e6}%`;let c={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${A} + ${mc(u)})`;c={flexBasis:d,maxWidth:d}}}a=z({flexBasis:A,flexGrow:0,maxWidth:A},c)}return e.breakpoints.values[s]===0?Object.assign(r,a):r[e.breakpoints.up(s)]=a,r},{})}function v8({theme:e,ownerState:t}){const n=Ul({values:t.direction,breakpoints:e.breakpoints.values});return Gs({theme:e},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Xd.item}`]={maxWidth:"none"}),s})}function oj({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(s=>{n===""&&t[s]!==0&&(n=s)});const r=Object.keys(e).sort((s,a)=>e[s]-e[a]);return r.slice(0,r.indexOf(n))}function y8({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let s={};if(n&&r!==0){const a=Ul({values:r,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=oj({breakpoints:e.breakpoints.values,values:a})),s=Gs({theme:e},a,(l,A)=>{var c;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${mc(u)}`,[`& > .${Xd.item}`]:{paddingTop:mc(u)}}:(c=o)!=null&&c.includes(A)?{}:{marginTop:0,[`& > .${Xd.item}`]:{paddingTop:0}}})}return s}function x8({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let s={};if(n&&r!==0){const a=Ul({values:r,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=oj({breakpoints:e.breakpoints.values,values:a})),s=Gs({theme:e},a,(l,A)=>{var c;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${mc(u)})`,marginLeft:`-${mc(u)}`,[`& > .${Xd.item}`]:{paddingLeft:mc(u)}}:(c=o)!=null&&c.includes(A)?{}:{width:"100%",marginLeft:0,[`& > .${Xd.item}`]:{paddingLeft:0}}})}return s}function b8(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(s=>{const a=e[s];Number(a)>0&&r.push(n[`spacing-${s}-${String(a)}`])}),r}const w8=Re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:s,item:a,spacing:o,wrap:l,zeroMinWidth:A,breakpoints:c}=n;let u=[];r&&(u=b8(o,c,t));const d=[];return c.forEach(p=>{const h=n[p];h&&d.push(t[`grid-${p}-${String(h)}`])}),[t.root,r&&t.container,a&&t.item,A&&t.zeroMinWidth,...u,s!=="row"&&t[`direction-xs-${String(s)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...d]}})(({ownerState:e})=>z({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),v8,y8,x8,m8);function B8(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const s=e[r];if(Number(s)>0){const a=`spacing-${r}-${String(s)}`;n.push(a)}}),n}const C8=e=>{const{classes:t,container:n,direction:r,item:s,spacing:a,wrap:o,zeroMinWidth:l,breakpoints:A}=e;let c=[];n&&(c=B8(a,A));const u=[];A.forEach(p=>{const h=e[p];h&&u.push(`grid-${p}-${String(h)}`)});const d={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return gt(d,d8,t)},dt=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiGrid"}),{breakpoints:s}=Qi(),a=ph(r),{className:o,columns:l,columnSpacing:A,component:c="div",container:u=!1,direction:d="row",item:p=!1,rowSpacing:h,spacing:m=0,wrap:g="wrap",zeroMinWidth:y=!1}=a,x=Je(a,g8),C=h||m,S=A||m,w=b.useContext(Tw),L=u?l||12:w,I={},U=z({},x);s.keys.forEach(R=>{x[R]!=null&&(I[R]=x[R],delete U[R])});const _=z({},a,{columns:L,container:u,direction:d,item:p,rowSpacing:C,columnSpacing:S,wrap:g,zeroMinWidth:y,spacing:m},I,{breakpoints:s.keys}),F=C8(_);return i.jsx(Tw.Provider,{value:L,children:i.jsx(w8,z({ownerState:_,className:et(F.root,o),as:c,ref:n},U))})}),S8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function S1(e){return`scale(${e}, ${e**2})`}const j8={entering:{opacity:1,transform:S1(1)},entered:{opacity:1,transform:"none"}},nv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Jd=b.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:a,easing:o,in:l,onEnter:A,onEntered:c,onEntering:u,onExit:d,onExited:p,onExiting:h,style:m,timeout:g="auto",TransitionComponent:y=Ri}=t,x=Je(t,S8),C=Po(),S=b.useRef(),w=Qi(),L=b.useRef(null),I=sr(L,eA(a),n),U=$=>P=>{if($){const D=L.current;P===void 0?$(D):$(D,P)}},_=U(u),F=U(($,P)=>{RS($);const{duration:D,delay:W,easing:G}=Uc({style:m,timeout:g,easing:o},{mode:"enter"});let Z;g==="auto"?(Z=w.transitions.getAutoHeightDuration($.clientHeight),S.current=Z):Z=D,$.style.transition=[w.transitions.create("opacity",{duration:Z,delay:W}),w.transitions.create("transform",{duration:nv?Z:Z*.666,delay:W,easing:G})].join(","),A&&A($,P)}),R=U(c),k=U(h),j=U($=>{const{duration:P,delay:D,easing:W}=Uc({style:m,timeout:g,easing:o},{mode:"exit"});let G;g==="auto"?(G=w.transitions.getAutoHeightDuration($.clientHeight),S.current=G):G=P,$.style.transition=[w.transitions.create("opacity",{duration:G,delay:D}),w.transitions.create("transform",{duration:nv?G:G*.666,delay:nv?D:D||G*.333,easing:W})].join(","),$.style.opacity=0,$.style.transform=S1(.75),d&&d($)}),M=U(p),N=$=>{g==="auto"&&C.start(S.current||0,$),r&&r(L.current,$)};return i.jsx(y,z({appear:s,in:l,nodeRef:L,onEnter:F,onEntered:R,onEntering:_,onExit:j,onExited:M,onExiting:k,addEndListener:N,timeout:g==="auto"?null:g},x,{children:($,P)=>b.cloneElement(a,z({style:z({opacity:0,transform:S1(.75),visibility:$==="exited"&&!l?"hidden":void 0},j8[$],m,a.props.style),ref:I},P))}))});Jd.muiSupportAuto=!0;const E8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],I8=e=>{const{classes:t,disableUnderline:n}=e,s=gt({root:["root",!n&&"underline"],input:["input"]},$Q,t);return z({},t,s)},k8=Re(Cm,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...wm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),z({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vu.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vu.disabled}, .${Vu.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Vu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),F8=Re(Sm,{name:"MuiInput",slot:"Input",overridesResolver:Bm})({}),Ex=b.forwardRef(function(t,n){var r,s,a,o;const l=kt({props:t,name:"MuiInput"}),{disableUnderline:A,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:p="input",multiline:h=!1,slotProps:m,slots:g={},type:y="text"}=l,x=Je(l,E8),C=I8(l),w={root:{ownerState:{disableUnderline:A}}},L=m??u?Us(m??u,w):w,I=(r=(s=g.root)!=null?s:c.Root)!=null?r:k8,U=(a=(o=g.input)!=null?o:c.Input)!=null?a:F8;return i.jsx(Sx,z({slots:{root:I,input:U},slotProps:L,fullWidth:d,inputComponent:p,multiline:h,ref:n,type:y},x,{classes:C}))});Ex.muiName="Input";function N8(e){return ht("MuiInputAdornment",e)}const _w=ft("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Uw;const T8=["children","className","component","disablePointerEvents","disableTypography","position","variant"],_8=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ye(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},U8=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:s,size:a,variant:o}=e,l={root:["root",n&&"disablePointerEvents",s&&`position${Ye(s)}`,o,r&&"hiddenLabel",a&&`size${Ye(a)}`]};return gt(l,N8,t)},D8=Re("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:_8})(({theme:e,ownerState:t})=>z({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${_w.positionStart}&:not(.${_w.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),L8=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiInputAdornment"}),{children:s,className:a,component:o="div",disablePointerEvents:l=!1,disableTypography:A=!1,position:c,variant:u}=r,d=Je(r,T8),p=ja()||{};let h=u;u&&p.variant,p&&!h&&(h=p.variant);const m=z({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:l,position:c,variant:h}),g=U8(m);return i.jsx(bm.Provider,{value:null,children:i.jsx(D8,z({as:o,ownerState:m,className:et(g.root,a),ref:n},d,{children:typeof s=="string"&&!A?i.jsx(te,{color:"text.secondary",children:s}):i.jsxs(b.Fragment,{children:[c==="start"?Uw||(Uw=i.jsx("span",{className:"notranslate",children:"​"})):null,s]})}))})});function M8(e){return ht("MuiInputLabel",e)}ft("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Q8=["disableAnimation","margin","shrink","variant","className"],P8=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:a,variant:o,required:l}=e,A={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="normal"&&`size${Ye(r)}`,o],asterisk:[l&&"asterisk"]},c=gt(A,M8,t);return z({},t,c)},R8=Re(aj,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Nd.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>z({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&z({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&z({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&z({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),tl=b.forwardRef(function(t,n){const r=kt({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:a,className:o}=r,l=Je(r,Q8),A=ja();let c=a;typeof c>"u"&&A&&(c=A.filled||A.focused||A.adornedStart);const u=ll({props:r,muiFormControl:A,states:["size","variant","required","focused"]}),d=z({},r,{disableAnimation:s,formControl:A,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),p=P8(d);return i.jsx(R8,z({"data-shrink":c,ownerState:d,ref:n,className:et(p.root,o)},l,{classes:p}))});function H8(e){return ht("MuiLinearProgress",e)}ft("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const O8=["className","color","value","valueBuffer","variant"];let iu=e=>e,Dw,Lw,Mw,Qw,Pw,Rw;const j1=4,$8=uo(Dw||(Dw=iu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),z8=uo(Lw||(Lw=iu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),W8=uo(Mw||(Mw=iu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),K8=e=>{const{classes:t,variant:n,color:r}=e,s={root:["root",`color${Ye(r)}`,n],dashed:["dashed",`dashedColor${Ye(r)}`],bar1:["bar",`barColor${Ye(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Ye(r)}`,n==="buffer"&&`color${Ye(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return gt(s,H8,t)},Ix=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Nc(e.palette[t].main,.62):Fc(e.palette[t].main,.5),V8=Re("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ye(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>z({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Ix(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),G8=Re("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Ye(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=Ix(t,e.color);return z({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Zl(Qw||(Qw=iu`
    animation: ${0} 3s infinite linear;
  `),W8)),q8=Re("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Ye(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>z({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${j1}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${j1}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Zl(Pw||(Pw=iu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),$8)),Y8=Re("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Ye(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>z({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:Ix(t,e.color),transition:`transform .${j1}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Zl(Rw||(Rw=iu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),z8)),lj=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiLinearProgress"}),{className:s,color:a="primary",value:o,valueBuffer:l,variant:A="indeterminate"}=r,c=Je(r,O8),u=z({},r,{color:a,variant:A}),d=K8(u),p=mh(),h={},m={bar1:{},bar2:{}};if((A==="determinate"||A==="buffer")&&o!==void 0){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let g=o-100;p&&(g=-g),m.bar1.transform=`translateX(${g}%)`}if(A==="buffer"&&l!==void 0){let g=(l||0)-100;p&&(g=-g),m.bar2.transform=`translateX(${g}%)`}return i.jsxs(V8,z({className:et(d.root,s),ownerState:u,role:"progressbar"},h,{ref:n},c,{children:[A==="buffer"?i.jsx(G8,{className:d.dashed,ownerState:u}):null,i.jsx(q8,{className:d.bar1,ownerState:u,style:m.bar1}),A==="determinate"?null:i.jsx(Y8,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),Xa=b.createContext({});function X8(e){return ht("MuiList",e)}ft("MuiList",["root","padding","dense","subheader"]);const J8=["children","className","component","dense","disablePadding","subheader"],Z8=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return gt({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},X8,t)},eH=Re("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>z({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Zd=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiList"}),{children:s,className:a,component:o="ul",dense:l=!1,disablePadding:A=!1,subheader:c}=r,u=Je(r,J8),d=b.useMemo(()=>({dense:l}),[l]),p=z({},r,{component:o,dense:l,disablePadding:A}),h=Z8(p);return i.jsx(Xa.Provider,{value:d,children:i.jsxs(eH,z({as:o,className:et(h.root,a),ref:n,ownerState:p},u,{children:[c,s]}))})});function tH(e){return ht("MuiListItem",e)}const JA=ft("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),nH=ft("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function rH(e){return ht("MuiListItemSecondaryAction",e)}ft("MuiListItemSecondaryAction",["root","disableGutters"]);const sH=["className"],iH=e=>{const{disableGutters:t,classes:n}=e;return gt({root:["root",t&&"disableGutters"]},rH,n)},aH=Re("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>z({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Tl=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=r,a=Je(r,sH),o=b.useContext(Xa),l=z({},r,{disableGutters:o.disableGutters}),A=iH(l);return i.jsx(aH,z({className:et(A.root,s),ownerState:l,ref:n},a))});Tl.muiName="ListItemSecondaryAction";const oH=["className"],lH=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],AH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},cH=e=>{const{alignItems:t,button:n,classes:r,dense:s,disabled:a,disableGutters:o,disablePadding:l,divider:A,hasSecondaryAction:c,selected:u}=e;return gt({root:["root",s&&"dense",!o&&"gutters",!l&&"padding",A&&"divider",a&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},tH,r)},uH=Re("div",{name:"MuiListItem",slot:"Root",overridesResolver:AH})(({theme:e,ownerState:t})=>z({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&z({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${nH.root}`]:{paddingRight:48}},{[`&.${JA.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${JA.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:un(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${JA.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:un(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${JA.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${JA.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:un(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:un(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),dH=Re("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Ka=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:a=!1,button:o=!1,children:l,className:A,component:c,components:u={},componentsProps:d={},ContainerComponent:p="li",ContainerProps:{className:h}={},dense:m=!1,disabled:g=!1,disableGutters:y=!1,disablePadding:x=!1,divider:C=!1,focusVisibleClassName:S,secondaryAction:w,selected:L=!1,slotProps:I={},slots:U={}}=r,_=Je(r.ContainerProps,oH),F=Je(r,lH),R=b.useContext(Xa),k=b.useMemo(()=>({dense:m||R.dense||!1,alignItems:s,disableGutters:y}),[s,R.dense,m,y]),j=b.useRef(null);js(()=>{a&&j.current&&j.current.focus()},[a]);const M=b.Children.toArray(l),N=M.length&&jp(M[M.length-1],["ListItemSecondaryAction"]),$=z({},r,{alignItems:s,autoFocus:a,button:o,dense:k.dense,disabled:g,disableGutters:y,disablePadding:x,divider:C,hasSecondaryAction:N,selected:L}),P=cH($),D=sr(j,n),W=U.root||u.Root||uH,G=I.root||d.root||{},Z=z({className:et(P.root,G.className,A),disabled:g},F);let le=c||"li";return o&&(Z.component=c||"div",Z.focusVisibleClassName=et(JA.focusVisible,S),le=Ba),N?(le=!Z.component&&!c?"div":le,p==="li"&&(le==="li"?le="div":Z.component==="li"&&(Z.component="div")),i.jsx(Xa.Provider,{value:k,children:i.jsxs(dH,z({as:p,className:et(P.container,h),ref:D,ownerState:$},_,{children:[i.jsx(W,z({},G,!kc(W)&&{as:le,ownerState:z({},$,G.ownerState)},Z,{children:M})),M.pop()]}))})):i.jsx(Xa.Provider,{value:k,children:i.jsxs(W,z({},G,{as:le,ref:D},!kc(W)&&{ownerState:z({},$,G.ownerState)},Z,{children:[M,w&&i.jsx(Tl,{children:w})]}))})});function hH(e){return ht("MuiListItemIcon",e)}const Hw=ft("MuiListItemIcon",["root","alignItemsFlexStart"]),fH=["className"],pH=e=>{const{alignItems:t,classes:n}=e;return gt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},hH,n)},gH=Re("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>z({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),rv=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemIcon"}),{className:s}=r,a=Je(r,fH),o=b.useContext(Xa),l=z({},r,{alignItems:o.alignItems}),A=pH(l);return i.jsx(gH,z({className:et(A.root,s),ownerState:l,ref:n},a))});function mH(e){return ht("MuiListItemText",e)}const Ag=ft("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),vH=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],yH=e=>{const{classes:t,inset:n,primary:r,secondary:s,dense:a}=e;return gt({root:["root",n&&"inset",a&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},mH,t)},xH=Re("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ag.primary}`]:t.primary},{[`& .${Ag.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>z({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Va=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiListItemText"}),{children:s,className:a,disableTypography:o=!1,inset:l=!1,primary:A,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,p=Je(r,vH),{dense:h}=b.useContext(Xa);let m=A??s,g=u;const y=z({},r,{disableTypography:o,inset:l,primary:!!m,secondary:!!g,dense:h}),x=yH(y);return m!=null&&m.type!==te&&!o&&(m=i.jsx(te,z({variant:h?"body2":"body1",className:x.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:m}))),g!=null&&g.type!==te&&!o&&(g=i.jsx(te,z({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},d,{children:g}))),i.jsxs(xH,z({className:et(x.root,a),ownerState:y,ref:n},p,{children:[m,g]}))}),bH=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function sv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ow(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Aj(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function qu(e,t,n,r,s,a){let o=!1,l=s(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const A=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Aj(l,a)||A)l=s(e,l,n);else return l.focus(),!0}return!1}const wH=b.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:o,className:l,disabledItemsFocusable:A=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=t,p=Je(t,bH),h=b.useRef(null),m=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});js(()=>{s&&h.current.focus()},[s]),b.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:w})=>{const L=!h.current.style.width;if(S.clientHeight<h.current.clientHeight&&L){const I=`${n4(Wr(S))}px`;h.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=I,h.current.style.width=`calc(100% + ${I})`}return h.current}}),[]);const g=S=>{const w=h.current,L=S.key,I=Wr(w).activeElement;if(L==="ArrowDown")S.preventDefault(),qu(w,I,c,A,sv);else if(L==="ArrowUp")S.preventDefault(),qu(w,I,c,A,Ow);else if(L==="Home")S.preventDefault(),qu(w,null,c,A,sv);else if(L==="End")S.preventDefault(),qu(w,null,c,A,Ow);else if(L.length===1){const U=m.current,_=L.toLowerCase(),F=performance.now();U.keys.length>0&&(F-U.lastTime>500?(U.keys=[],U.repeating=!0,U.previousKeyMatched=!0):U.repeating&&_!==U.keys[0]&&(U.repeating=!1)),U.lastTime=F,U.keys.push(_);const R=I&&!U.repeating&&Aj(I,U);U.previousKeyMatched&&(R||qu(w,I,!1,A,sv,U))?S.preventDefault():U.previousKeyMatched=!1}u&&u(S)},y=sr(h,n);let x=-1;b.Children.forEach(o,(S,w)=>{if(!b.isValidElement(S)){x===w&&(x+=1,x>=o.length&&(x=-1));return}S.props.disabled||(d==="selectedMenu"&&S.props.selected||x===-1)&&(x=w),x===w&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const C=b.Children.map(o,(S,w)=>{if(w===x){const L={};return a&&(L.autoFocus=!0),S.props.tabIndex===void 0&&d==="selectedMenu"&&(L.tabIndex=0),b.cloneElement(S,L)}return S});return i.jsx(Zd,z({role:"menu",ref:y,className:l,onKeyDown:g,tabIndex:s?0:-1},p,{children:C}))});function BH(e){return ht("MuiPopover",e)}ft("MuiPopover",["root","paper"]);const CH=["onEntering"],SH=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],jH=["slotProps"];function $w(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function zw(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Ww(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function iv(e){return typeof e=="function"?e():e}const EH=e=>{const{classes:t}=e;return gt({root:["root"],paper:["paper"]},BH,t)},IH=Re(rj,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cj=Re($n,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),kH=b.forwardRef(function(t,n){var r,s,a;const o=kt({props:t,name:"MuiPopover"}),{action:l,anchorEl:A,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:p,className:h,container:m,elevation:g=8,marginThreshold:y=16,open:x,PaperProps:C={},slots:S,slotProps:w,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:I=Jd,transitionDuration:U="auto",TransitionProps:{onEntering:_}={},disableScrollLock:F=!1}=o,R=Je(o.TransitionProps,CH),k=Je(o,SH),j=(r=w==null?void 0:w.paper)!=null?r:C,M=b.useRef(),N=sr(M,j.ref),$=z({},o,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:y,externalPaperSlotProps:j,transformOrigin:L,TransitionComponent:I,transitionDuration:U,TransitionProps:R}),P=EH($),D=b.useCallback(()=>{if(d==="anchorPosition")return u;const ue=iv(A),he=(ue&&ue.nodeType===1?ue:Wr(M.current).body).getBoundingClientRect();return{top:he.top+$w(he,c.vertical),left:he.left+zw(he,c.horizontal)}},[A,c.horizontal,c.vertical,u,d]),W=b.useCallback(ue=>({vertical:$w(ue,L.vertical),horizontal:zw(ue,L.horizontal)}),[L.horizontal,L.vertical]),G=b.useCallback(ue=>{const we={width:ue.offsetWidth,height:ue.offsetHeight},he=W(we);if(d==="none")return{top:null,left:null,transformOrigin:Ww(he)};const re=D();let Ve=re.top-he.vertical,ye=re.left-he.horizontal;const pe=Ve+we.height,Fe=ye+we.width,De=to(iv(A)),ze=De.innerHeight-y,Xe=De.innerWidth-y;if(y!==null&&Ve<y){const at=Ve-y;Ve-=at,he.vertical+=at}else if(y!==null&&pe>ze){const at=pe-ze;Ve-=at,he.vertical+=at}if(y!==null&&ye<y){const at=ye-y;ye-=at,he.horizontal+=at}else if(Fe>Xe){const at=Fe-Xe;ye-=at,he.horizontal+=at}return{top:`${Math.round(Ve)}px`,left:`${Math.round(ye)}px`,transformOrigin:Ww(he)}},[A,d,D,W,y]),[Z,le]=b.useState(x),T=b.useCallback(()=>{const ue=M.current;if(!ue)return;const we=G(ue);we.top!==null&&(ue.style.top=we.top),we.left!==null&&(ue.style.left=we.left),ue.style.transformOrigin=we.transformOrigin,le(!0)},[G]);b.useEffect(()=>(F&&window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)),[A,F,T]);const H=(ue,we)=>{_&&_(ue,we),T()},Q=()=>{le(!1)};b.useEffect(()=>{x&&T()}),b.useImperativeHandle(l,()=>x?{updatePosition:()=>{T()}}:null,[x,T]),b.useEffect(()=>{if(!x)return;const ue=um(()=>{T()}),we=to(A);return we.addEventListener("resize",ue),()=>{ue.clear(),we.removeEventListener("resize",ue)}},[A,x,T]);let K=U;U==="auto"&&!I.muiSupportAuto&&(K=void 0);const V=m||(A?Wr(iv(A)).body:void 0),X=(s=S==null?void 0:S.root)!=null?s:IH,ie=(a=S==null?void 0:S.paper)!=null?a:cj,ae=Fi({elementType:ie,externalSlotProps:z({},j,{style:Z?j.style:z({},j.style,{opacity:0})}),additionalProps:{elevation:g,ref:N},ownerState:$,className:et(P.paper,j==null?void 0:j.className)}),Ce=Fi({elementType:X,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:k,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:V,open:x},ownerState:$,className:et(P.root,h)}),{slotProps:ce}=Ce,fe=Je(Ce,jH);return i.jsx(X,z({},fe,!kc(X)&&{slotProps:ce,disableScrollLock:F},{children:i.jsx(I,z({appear:!0,in:x,onEntering:H,onExited:Q,timeout:K},R,{children:i.jsx(ie,z({},ae,{children:p}))}))}))});function FH(e){return ht("MuiMenu",e)}ft("MuiMenu",["root","paper","list"]);const NH=["onEntering"],TH=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],_H={vertical:"top",horizontal:"right"},UH={vertical:"top",horizontal:"left"},DH=e=>{const{classes:t}=e;return gt({root:["root"],paper:["paper"],list:["list"]},FH,t)},LH=Re(kH,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),MH=Re(cj,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QH=Re(wH,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),PH=b.forwardRef(function(t,n){var r,s;const a=kt({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:l,className:A,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:p,PaperProps:h={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:y}={},variant:x="selectedMenu",slots:C={},slotProps:S={}}=a,w=Je(a.TransitionProps,NH),L=Je(a,TH),I=mh(),U=z({},a,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:y,PaperProps:h,transitionDuration:g,TransitionProps:w,variant:x}),_=DH(U),F=o&&!c&&p,R=b.useRef(null),k=(W,G)=>{R.current&&R.current.adjustStyleForScrollbar(W,{direction:I?"rtl":"ltr"}),y&&y(W,G)},j=W=>{W.key==="Tab"&&(W.preventDefault(),d&&d(W,"tabKeyDown"))};let M=-1;b.Children.map(l,(W,G)=>{b.isValidElement(W)&&(W.props.disabled||(x==="selectedMenu"&&W.props.selected||M===-1)&&(M=G))});const N=(r=C.paper)!=null?r:MH,$=(s=S.paper)!=null?s:h,P=Fi({elementType:C.root,externalSlotProps:S.root,ownerState:U,className:[_.root,A]}),D=Fi({elementType:N,externalSlotProps:$,ownerState:U,className:_.paper});return i.jsx(LH,z({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?_H:UH,slots:{paper:N,root:C.root},slotProps:{root:P,paper:D},open:p,ref:n,transitionDuration:g,TransitionProps:z({onEntering:k},w),ownerState:U},L,{classes:m,children:i.jsx(QH,z({onKeyDown:j,actions:R,autoFocus:o&&(M===-1||c),autoFocusItem:F,variant:x},u,{className:et(_.list,u.className),children:l}))}))});function RH(e){return ht("MuiMenuItem",e)}const Yu=ft("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),HH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],OH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},$H=e=>{const{disabled:t,dense:n,divider:r,disableGutters:s,selected:a,classes:o}=e,A=gt({root:["root",n&&"dense",t&&"disabled",!s&&"gutters",r&&"divider",a&&"selected"]},RH,o);return z({},o,A)},zH=Re(Ba,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:OH})(({theme:e,ownerState:t})=>z({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Yu.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:un(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Yu.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:un(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Yu.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:un(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:un(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Yu.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Yu.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${kw.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${kw.inset}`]:{marginLeft:52},[`& .${Ag.root}`]:{marginTop:0,marginBottom:0},[`& .${Ag.inset}`]:{paddingLeft:36},[`& .${Hw.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&z({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Hw.root} svg`]:{fontSize:"1.25rem"}}))),Jn=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:a="li",dense:o=!1,divider:l=!1,disableGutters:A=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:p}=r,h=Je(r,HH),m=b.useContext(Xa),g=b.useMemo(()=>({dense:o||m.dense||!1,disableGutters:A}),[m.dense,o,A]),y=b.useRef(null);js(()=>{s&&y.current&&y.current.focus()},[s]);const x=z({},r,{dense:g.dense,divider:l,disableGutters:A}),C=$H(r),S=sr(y,n);let w;return r.disabled||(w=d!==void 0?d:-1),i.jsx(Xa.Provider,{value:g,children:i.jsx(zH,z({ref:S,role:u,tabIndex:w,component:a,focusVisibleClassName:et(C.focusVisible,c),className:et(C.root,p)},h,{ownerState:x,classes:C}))})});function WH(e){return ht("MuiNativeSelect",e)}const kx=ft("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),KH=["className","disabled","error","IconComponent","inputRef","variant"],VH=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:a,error:o}=e,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${Ye(n)}`,a&&"iconOpen",r&&"disabled"]};return gt(l,WH,t)},uj=({ownerState:e,theme:t})=>z({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":z({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${kx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),GH=Re("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qs,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${kx.multiple}`]:t.multiple}]}})(uj),dj=({ownerState:e,theme:t})=>z({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${kx.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),qH=Re("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ye(n.variant)}`],n.open&&t.iconOpen]}})(dj),YH=b.forwardRef(function(t,n){const{className:r,disabled:s,error:a,IconComponent:o,inputRef:l,variant:A="standard"}=t,c=Je(t,KH),u=z({},t,{disabled:s,variant:A,error:a}),d=VH(u);return i.jsxs(b.Fragment,{children:[i.jsx(GH,z({ownerState:u,className:et(d.select,r),disabled:s,ref:l||n},c)),t.multiple?null:i.jsx(qH,{as:o,ownerState:u,className:d.icon})]})});var Kw;const XH=["children","classes","className","label","notched"],JH=Re("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:qs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ZH=Re("legend",{name:"MuiNotchedOutlined",shouldForwardProp:qs})(({ownerState:e,theme:t})=>z({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&z({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function eO(e){const{className:t,label:n,notched:r}=e,s=Je(e,XH),a=n!=null&&n!=="",o=z({},e,{notched:r,withLabel:a});return i.jsx(JH,z({"aria-hidden":!0,className:t,ownerState:o},s,{children:i.jsx(ZH,{ownerState:o,children:a?i.jsx("span",{children:n}):Kw||(Kw=i.jsx("span",{className:"notranslate",children:"​"}))})}))}const tO=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],nO=e=>{const{classes:t}=e,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},zQ,t);return z({},t,r)},rO=Re(Cm,{shouldForwardProp:e=>qs(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return z({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ko.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ko.focused} .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${ko.error} .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ko.disabled} .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&z({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),sO=Re(eO,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),iO=Re(Sm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Bm})(({theme:e,ownerState:t})=>z({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Fx=b.forwardRef(function(t,n){var r,s,a,o,l;const A=kt({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:p,multiline:h=!1,notched:m,slots:g={},type:y="text"}=A,x=Je(A,tO),C=nO(A),S=ja(),w=ll({props:A,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=z({},A,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:S,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:h,size:w.size,type:y}),I=(r=(s=g.root)!=null?s:c.Root)!=null?r:rO,U=(a=(o=g.input)!=null?o:c.Input)!=null?a:iO;return i.jsx(Sx,z({slots:{root:I,input:U},renderSuffix:_=>i.jsx(sO,{ownerState:L,className:C.notchedOutline,label:p!=null&&p!==""&&w.required?l||(l=i.jsxs(b.Fragment,{children:[p," ","*"]})):p,notched:typeof m<"u"?m:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:u,inputComponent:d,multiline:h,ref:n,type:y},x,{classes:z({},C,{notchedOutline:null})}))});Fx.muiName="Input";function aO(e){return ht("MuiSelect",e)}const Xu=ft("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Vw;const oO=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],lO=Re("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Xu.select}`]:t.select},{[`&.${Xu.select}`]:t[n.variant]},{[`&.${Xu.error}`]:t.error},{[`&.${Xu.multiple}`]:t.multiple}]}})(uj,{[`&.${Xu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),AO=Re("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ye(n.variant)}`],n.open&&t.iconOpen]}})(dj),cO=Re("input",{shouldForwardProp:e=>w4(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Gw(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function uO(e){return e==null||typeof e=="string"&&!e.trim()}const dO=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:a,error:o}=e,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${Ye(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(l,aO,t)},hO=b.forwardRef(function(t,n){var r;const{"aria-describedby":s,"aria-label":a,autoFocus:o,autoWidth:l,children:A,className:c,defaultOpen:u,defaultValue:d,disabled:p,displayEmpty:h,error:m=!1,IconComponent:g,inputRef:y,labelId:x,MenuProps:C={},multiple:S,name:w,onBlur:L,onChange:I,onClose:U,onFocus:_,onOpen:F,open:R,readOnly:k,renderValue:j,SelectDisplayProps:M={},tabIndex:N,value:$,variant:P="standard"}=t,D=Je(t,oO),[W,G]=wa({controlled:$,default:d,name:"Select"}),[Z,le]=wa({controlled:R,default:u,name:"Select"}),T=b.useRef(null),H=b.useRef(null),[Q,K]=b.useState(null),{current:V}=b.useRef(R!=null),[X,ie]=b.useState(),ae=sr(n,y),Ce=b.useCallback(Ee=>{H.current=Ee,Ee&&K(Ee)},[]),ce=Q==null?void 0:Q.parentNode;b.useImperativeHandle(ae,()=>({focus:()=>{H.current.focus()},node:T.current,value:W}),[W]),b.useEffect(()=>{u&&Z&&Q&&!V&&(ie(l?null:ce.clientWidth),H.current.focus())},[Q,l]),b.useEffect(()=>{o&&H.current.focus()},[o]),b.useEffect(()=>{if(!x)return;const Ee=Wr(H.current).getElementById(x);if(Ee){const qe=()=>{getSelection().isCollapsed&&H.current.focus()};return Ee.addEventListener("click",qe),()=>{Ee.removeEventListener("click",qe)}}},[x]);const fe=(Ee,qe)=>{Ee?F&&F(qe):U&&U(qe),V||(ie(l?null:ce.clientWidth),le(Ee))},ue=Ee=>{Ee.button===0&&(Ee.preventDefault(),H.current.focus(),fe(!0,Ee))},we=Ee=>{fe(!1,Ee)},he=b.Children.toArray(A),re=Ee=>{const qe=he.find(Be=>Be.props.value===Ee.target.value);qe!==void 0&&(G(qe.props.value),I&&I(Ee,qe))},Ve=Ee=>qe=>{let Be;if(qe.currentTarget.hasAttribute("tabindex")){if(S){Be=Array.isArray(W)?W.slice():[];const Qe=W.indexOf(Ee.props.value);Qe===-1?Be.push(Ee.props.value):Be.splice(Qe,1)}else Be=Ee.props.value;if(Ee.props.onClick&&Ee.props.onClick(qe),W!==Be&&(G(Be),I)){const Qe=qe.nativeEvent||qe,Se=new Qe.constructor(Qe.type,Qe);Object.defineProperty(Se,"target",{writable:!0,value:{value:Be,name:w}}),I(Se,Ee)}S||fe(!1,qe)}},ye=Ee=>{k||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ee.key)!==-1&&(Ee.preventDefault(),fe(!0,Ee))},pe=Q!==null&&Z,Fe=Ee=>{!pe&&L&&(Object.defineProperty(Ee,"target",{writable:!0,value:{value:W,name:w}}),L(Ee))};delete D["aria-invalid"];let De,ze;const Xe=[];let at=!1;(lg({value:W})||h)&&(j?De=j(W):at=!0);const ct=he.map(Ee=>{if(!b.isValidElement(Ee))return null;let qe;if(S){if(!Array.isArray(W))throw new Error(eo(2));qe=W.some(Be=>Gw(Be,Ee.props.value)),qe&&at&&Xe.push(Ee.props.children)}else qe=Gw(W,Ee.props.value),qe&&at&&(ze=Ee.props.children);return b.cloneElement(Ee,{"aria-selected":qe?"true":"false",onClick:Ve(Ee),onKeyUp:Be=>{Be.key===" "&&Be.preventDefault(),Ee.props.onKeyUp&&Ee.props.onKeyUp(Be)},role:"option",selected:qe,value:void 0,"data-value":Ee.props.value})});at&&(S?Xe.length===0?De=null:De=Xe.reduce((Ee,qe,Be)=>(Ee.push(qe),Be<Xe.length-1&&Ee.push(", "),Ee),[]):De=ze);let st=X;!l&&V&&Q&&(st=ce.clientWidth);let me;typeof N<"u"?me=N:me=p?null:0;const Pe=M.id||(w?`mui-component-select-${w}`:void 0),oe=z({},t,{variant:P,value:W,open:pe,error:m}),ge=dO(oe),Ie=z({},C.PaperProps,(r=C.slotProps)==null?void 0:r.paper),Ne=Zc();return i.jsxs(b.Fragment,{children:[i.jsx(lO,z({ref:Ce,tabIndex:me,role:"combobox","aria-controls":Ne,"aria-disabled":p?"true":void 0,"aria-expanded":pe?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[x,Pe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:ye,onMouseDown:p||k?null:ue,onBlur:Fe,onFocus:_},M,{ownerState:oe,className:et(M.className,ge.select,c),id:Pe,children:uO(De)?Vw||(Vw=i.jsx("span",{className:"notranslate",children:"​"})):De})),i.jsx(cO,z({"aria-invalid":m,value:Array.isArray(W)?W.join(","):W,name:w,ref:T,"aria-hidden":!0,onChange:re,tabIndex:-1,disabled:p,className:ge.nativeInput,autoFocus:o,ownerState:oe},D)),i.jsx(AO,{as:g,className:ge.icon,ownerState:oe}),i.jsx(PH,z({id:`menu-${w||""}`,anchorEl:ce,open:pe,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C,{MenuListProps:z({"aria-labelledby":x,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:Ne},C.MenuListProps),slotProps:z({},C.slotProps,{paper:z({},Ie,{style:z({minWidth:st},Ie!=null?Ie.style:null)})}),children:ct}))]})}),fO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],pO=["root"],gO=e=>{const{classes:t}=e;return t},Nx={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>qs(e)&&e!=="variant",slot:"Root"},mO=Re(Ex,Nx)(""),vO=Re(Fx,Nx)(""),yO=Re(jx,Nx)(""),ao=b.forwardRef(function(t,n){const r=kt({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:a,classes:o={},className:l,defaultOpen:A=!1,displayEmpty:c=!1,IconComponent:u=KQ,id:d,input:p,inputProps:h,label:m,labelId:g,MenuProps:y,multiple:x=!1,native:C=!1,onClose:S,onOpen:w,open:L,renderValue:I,SelectDisplayProps:U,variant:_="outlined"}=r,F=Je(r,fO),R=C?YH:hO,k=ja(),j=ll({props:r,muiFormControl:k,states:["variant","error"]}),M=j.variant||_,N=z({},r,{variant:M,classes:o}),$=gO(N),P=Je($,pO),D=p||{standard:i.jsx(mO,{ownerState:N}),outlined:i.jsx(vO,{label:m,ownerState:N}),filled:i.jsx(yO,{ownerState:N})}[M],W=sr(n,eA(D));return i.jsx(b.Fragment,{children:b.cloneElement(D,z({inputComponent:R,inputProps:z({children:a,error:j.error,IconComponent:u,variant:M,type:void 0,multiple:x},C?{id:d}:{autoWidth:s,defaultOpen:A,displayEmpty:c,labelId:g,MenuProps:y,onClose:S,onOpen:w,open:L,renderValue:I,SelectDisplayProps:z({id:d},U)},h,{classes:h?Us(P,h.classes):P},p?p.props.inputProps:{})},(x&&C||c)&&M==="outlined"?{notched:!0}:{},{ref:W,className:et(D.props.className,l,$.root)},!p&&{variant:M},F))})});ao.muiName="Select";function xO(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:a}=e,o=Po();b.useEffect(()=>{if(!s)return;function x(C){C.defaultPrevented||(C.key==="Escape"||C.key==="Esc")&&(r==null||r(C,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s,r]);const l=en((x,C)=>{r==null||r(x,C)}),A=en(x=>{!r||x==null||o.start(x,()=>{l(null,"timeout")})});b.useEffect(()=>(s&&A(t),o.clear),[s,t,A,o]);const c=x=>{r==null||r(x,"clickaway")},u=o.clear,d=b.useCallback(()=>{t!=null&&A(a??t*.5)},[t,a,A]),p=x=>C=>{const S=x.onBlur;S==null||S(C),d()},h=x=>C=>{const S=x.onFocus;S==null||S(C),u()},m=x=>C=>{const S=x.onMouseEnter;S==null||S(C),u()},g=x=>C=>{const S=x.onMouseLeave;S==null||S(C),d()};return b.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,s,d,u]),{getRootProps:(x={})=>{const C=z({},Kp(e),Kp(x));return z({role:"presentation"},x,C,{onBlur:p(C),onFocus:h(C),onMouseEnter:m(C),onMouseLeave:g(C)})},onClickAway:c}}function bO(e){return ht("MuiSnackbarContent",e)}ft("MuiSnackbarContent",["root","message","action"]);const wO=["action","className","message","role"],BO=e=>{const{classes:t}=e;return gt({root:["root"],action:["action"],message:["message"]},bO,t)},CO=Re($n,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=UT(e.palette.background.default,t);return z({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),SO=Re("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),jO=Re("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),EO=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSnackbarContent"}),{action:s,className:a,message:o,role:l="alert"}=r,A=Je(r,wO),c=r,u=BO(c);return i.jsxs(CO,z({role:l,square:!0,elevation:6,className:et(u.root,a),ownerState:c,ref:n},A,{children:[i.jsx(SO,{className:u.message,ownerState:c,children:o}),s?i.jsx(jO,{className:u.action,ownerState:c,children:s}):null]}))});function IO(e){return ht("MuiSnackbar",e)}ft("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const kO=["onEnter","onExited"],FO=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],NO=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Ye(n.vertical)}${Ye(n.horizontal)}`]};return gt(r,IO,t)},qw=Re("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Ye(n.anchorOrigin.vertical)}${Ye(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return z({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:z({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),hj=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSnackbar"}),s=Qi(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:l,horizontal:A}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:p,ContentProps:h,disableWindowBlurListener:m=!1,message:g,open:y,TransitionComponent:x=Jd,transitionDuration:C=a,TransitionProps:{onEnter:S,onExited:w}={}}=r,L=Je(r.TransitionProps,kO),I=Je(r,FO),U=z({},r,{anchorOrigin:{vertical:l,horizontal:A},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:x,transitionDuration:C}),_=NO(U),{getRootProps:F,onClickAway:R}=xO(z({},U)),[k,j]=b.useState(!0),M=Fi({elementType:qw,getSlotProps:F,externalForwardedProps:I,ownerState:U,additionalProps:{ref:n},className:[_.root,d]}),N=P=>{j(!0),w&&w(P)},$=(P,D)=>{j(!1),S&&S(P,D)};return!y&&k?null:i.jsx(KP,z({onClickAway:R},p,{children:i.jsx(qw,z({},M,{children:i.jsx(x,z({appear:!0,in:y,timeout:C,direction:l==="top"?"down":"up",onEnter:$,onExited:N},L,{children:u||i.jsx(EO,z({message:g,action:o},h))}))}))}))});function TO(e){return ht("MuiTooltip",e)}const Ro=ft("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),_O=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function UO(e){return Math.round(e*1e5)/1e5}const DO=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:s,placement:a}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${Ye(a.split("-")[0])}`],arrow:["arrow"]};return gt(o,TO,t)},LO=Re(ZS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>z({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ro.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ro.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ro.arrow}`]:z({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ro.arrow}`]:z({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),MO=Re("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Ye(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>z({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:un(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${UO(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ro.popper}[data-popper-placement*="left"] &`]:z({transformOrigin:"right center"},t.isRtl?z({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):z({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ro.popper}[data-popper-placement*="right"] &`]:z({transformOrigin:"left center"},t.isRtl?z({marginRight:"14px"},t.touch&&{marginRight:"24px"}):z({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ro.popper}[data-popper-placement*="top"] &`]:z({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ro.popper}[data-popper-placement*="bottom"] &`]:z({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),QO=Re("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:un(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Mf=!1;const Yw=new gh;let Ju={x:0,y:0};function Qf(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Xw=b.forwardRef(function(t,n){var r,s,a,o,l,A,c,u,d,p,h,m,g,y,x,C,S,w,L;const I=kt({props:t,name:"MuiTooltip"}),{arrow:U=!1,children:_,components:F={},componentsProps:R={},describeChild:k=!1,disableFocusListener:j=!1,disableHoverListener:M=!1,disableInteractive:N=!1,disableTouchListener:$=!1,enterDelay:P=100,enterNextDelay:D=0,enterTouchDelay:W=700,followCursor:G=!1,id:Z,leaveDelay:le=0,leaveTouchDelay:T=1500,onClose:H,onOpen:Q,open:K,placement:V="bottom",PopperComponent:X,PopperProps:ie={},slotProps:ae={},slots:Ce={},title:ce,TransitionComponent:fe=Jd,TransitionProps:ue}=I,we=Je(I,_O),he=b.isValidElement(_)?_:i.jsx("span",{children:_}),re=Qi(),Ve=mh(),[ye,pe]=b.useState(),[Fe,De]=b.useState(null),ze=b.useRef(!1),Xe=N||G,at=Po(),ct=Po(),st=Po(),me=Po(),[Pe,oe]=wa({controlled:K,default:!1,name:"Tooltip",state:"open"});let ge=Pe;const Ie=Zc(Z),Ne=b.useRef(),Ee=en(()=>{Ne.current!==void 0&&(document.body.style.WebkitUserSelect=Ne.current,Ne.current=void 0),me.clear()});b.useEffect(()=>Ee,[Ee]);const qe=$t=>{Yw.clear(),Mf=!0,oe(!0),Q&&!ge&&Q($t)},Be=en($t=>{Yw.start(800+le,()=>{Mf=!1}),oe(!1),H&&ge&&H($t),at.start(re.transitions.duration.shortest,()=>{ze.current=!1})}),Qe=$t=>{ze.current&&$t.type!=="touchstart"||(ye&&ye.removeAttribute("title"),ct.clear(),st.clear(),P||Mf&&D?ct.start(Mf?D:P,()=>{qe($t)}):qe($t))},Se=$t=>{ct.clear(),st.start(le,()=>{Be($t)})},{isFocusVisibleRef:He,onBlur:Oe,onFocus:_e,ref:Ke}=t4(),[,lt]=b.useState(!1),ut=$t=>{Oe($t),He.current===!1&&(lt(!1),Se($t))},nt=$t=>{ye||pe($t.currentTarget),_e($t),He.current===!0&&(lt(!0),Qe($t))},xt=$t=>{ze.current=!0;const fr=he.props;fr.onTouchStart&&fr.onTouchStart($t)},hn=$t=>{xt($t),st.clear(),at.clear(),Ee(),Ne.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",me.start(W,()=>{document.body.style.WebkitUserSelect=Ne.current,Qe($t)})},Qt=$t=>{he.props.onTouchEnd&&he.props.onTouchEnd($t),Ee(),st.start(T,()=>{Be($t)})};b.useEffect(()=>{if(!ge)return;function $t(fr){(fr.key==="Escape"||fr.key==="Esc")&&Be(fr)}return document.addEventListener("keydown",$t),()=>{document.removeEventListener("keydown",$t)}},[Be,ge]);const jn=sr(eA(he),Ke,pe,n);!ce&&ce!==0&&(ge=!1);const qn=b.useRef(),Ut=$t=>{const fr=he.props;fr.onMouseMove&&fr.onMouseMove($t),Ju={x:$t.clientX,y:$t.clientY},qn.current&&qn.current.update()},ar={},Lt=typeof ce=="string";k?(ar.title=!ge&&Lt&&!M?ce:null,ar["aria-describedby"]=ge?Ie:null):(ar["aria-label"]=Lt?ce:null,ar["aria-labelledby"]=ge&&!Lt?Ie:null);const Pn=z({},ar,we,he.props,{className:et(we.className,he.props.className),onTouchStart:xt,ref:jn},G?{onMouseMove:Ut}:{}),Rn={};$||(Pn.onTouchStart=hn,Pn.onTouchEnd=Qt),M||(Pn.onMouseOver=Qf(Qe,Pn.onMouseOver),Pn.onMouseLeave=Qf(Se,Pn.onMouseLeave),Xe||(Rn.onMouseOver=Qe,Rn.onMouseLeave=Se)),j||(Pn.onFocus=Qf(nt,Pn.onFocus),Pn.onBlur=Qf(ut,Pn.onBlur),Xe||(Rn.onFocus=nt,Rn.onBlur=ut));const er=b.useMemo(()=>{var $t;let fr=[{name:"arrow",enabled:!!Fe,options:{element:Fe,padding:4}}];return($t=ie.popperOptions)!=null&&$t.modifiers&&(fr=fr.concat(ie.popperOptions.modifiers)),z({},ie.popperOptions,{modifiers:fr})},[Fe,ie]),_n=z({},I,{isRtl:Ve,arrow:U,disableInteractive:Xe,placement:V,PopperComponentProp:X,touch:ze.current}),ci=DO(_n),En=(r=(s=Ce.popper)!=null?s:F.Popper)!=null?r:LO,Ot=(a=(o=(l=Ce.transition)!=null?l:F.Transition)!=null?o:fe)!=null?a:Jd,cr=(A=(c=Ce.tooltip)!=null?c:F.Tooltip)!=null?A:MO,wr=(u=(d=Ce.arrow)!=null?d:F.Arrow)!=null?u:QO,Es=sc(En,z({},ie,(p=ae.popper)!=null?p:R.popper,{className:et(ci.popper,ie==null?void 0:ie.className,(h=(m=ae.popper)!=null?m:R.popper)==null?void 0:h.className)}),_n),Hr=sc(Ot,z({},ue,(g=ae.transition)!=null?g:R.transition),_n),or=sc(cr,z({},(y=ae.tooltip)!=null?y:R.tooltip,{className:et(ci.tooltip,(x=(C=ae.tooltip)!=null?C:R.tooltip)==null?void 0:x.className)}),_n),Hn=sc(wr,z({},(S=ae.arrow)!=null?S:R.arrow,{className:et(ci.arrow,(w=(L=ae.arrow)!=null?L:R.arrow)==null?void 0:w.className)}),_n);return i.jsxs(b.Fragment,{children:[b.cloneElement(he,Pn),i.jsx(En,z({as:X??ZS,placement:V,anchorEl:G?{getBoundingClientRect:()=>({top:Ju.y,left:Ju.x,right:Ju.x,bottom:Ju.y,width:0,height:0})}:ye,popperRef:qn,open:ye?ge:!1,id:Ie,transition:!0},Rn,Es,{popperOptions:er,children:({TransitionProps:$t})=>i.jsx(Ot,z({timeout:re.transitions.duration.shorter},$t,Hr,{children:i.jsxs(cr,z({},or,{children:[ce,U?i.jsx(wr,z({},Hn,{ref:De})):null]}))}))}))]})}),kh=b.createContext({}),Em=b.createContext({});function PO(e){return ht("MuiStep",e)}ft("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const RO=["active","children","className","component","completed","disabled","expanded","index","last"],HO=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:s}=e;return gt({root:["root",n,r&&"alternativeLabel",s&&"completed"]},PO,t)},OO=Re("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>z({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),av=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiStep"}),{active:s,children:a,className:o,component:l="div",completed:A,disabled:c,expanded:u=!1,index:d,last:p}=r,h=Je(r,RO),{activeStep:m,connector:g,alternativeLabel:y,orientation:x,nonLinear:C}=b.useContext(kh);let[S=!1,w=!1,L=!1]=[s,A,c];m===d?S=s!==void 0?s:!0:!C&&m>d?w=A!==void 0?A:!0:!C&&m<d&&(L=c!==void 0?c:!0);const I=b.useMemo(()=>({index:d,last:p,expanded:u,icon:d+1,active:S,completed:w,disabled:L}),[d,p,u,S,w,L]),U=z({},r,{active:S,orientation:x,alternativeLabel:y,completed:w,disabled:L,expanded:u,component:l}),_=HO(U),F=i.jsxs(OO,z({as:l,className:et(_.root,o),ref:n,ownerState:U},h,{children:[g&&y&&d!==0?g:null,a]}));return i.jsx(Em.Provider,{value:I,children:g&&!y&&d!==0?i.jsxs(b.Fragment,{children:[g,F]}):F})}),$O=At(i.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),zO=At(i.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function WO(e){return ht("MuiStepIcon",e)}const ov=ft("MuiStepIcon",["root","active","completed","error","text"]);var Jw;const KO=["active","className","completed","error","icon"],VO=e=>{const{classes:t,active:n,completed:r,error:s}=e;return gt({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},WO,t)},lv=Re(sg,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${ov.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${ov.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${ov.error}`]:{color:(e.vars||e).palette.error.main}})),GO=Re("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),qO=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiStepIcon"}),{active:s=!1,className:a,completed:o=!1,error:l=!1,icon:A}=r,c=Je(r,KO),u=z({},r,{active:s,completed:o,error:l}),d=VO(u);if(typeof A=="number"||typeof A=="string"){const p=et(a,d.root);return l?i.jsx(lv,z({as:zO,className:p,ref:n,ownerState:u},c)):o?i.jsx(lv,z({as:$O,className:p,ref:n,ownerState:u},c)):i.jsxs(lv,z({className:p,ref:n,ownerState:u},c,{children:[Jw||(Jw=i.jsx("circle",{cx:"12",cy:"12",r:"12"})),i.jsx(GO,{className:d.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:A})]}))}return A});function YO(e){return ht("MuiStepLabel",e)}const Ho=ft("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),XO=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],JO=e=>{const{classes:t,orientation:n,active:r,completed:s,error:a,disabled:o,alternativeLabel:l}=e;return gt({root:["root",n,a&&"error",o&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},YO,t)},ZO=Re("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>z({display:"flex",alignItems:"center",[`&.${Ho.alternativeLabel}`]:{flexDirection:"column"},[`&.${Ho.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),e7=Re("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>z({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${Ho.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Ho.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Ho.alternativeLabel}`]:{marginTop:16},[`&.${Ho.error}`]:{color:(e.vars||e).palette.error.main}})),t7=Re("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${Ho.alternativeLabel}`]:{paddingRight:0}})),n7=Re("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${Ho.alternativeLabel}`]:{textAlign:"center"}})),Np=b.forwardRef(function(t,n){var r;const s=kt({props:t,name:"MuiStepLabel"}),{children:a,className:o,componentsProps:l={},error:A=!1,icon:c,optional:u,slotProps:d={},StepIconComponent:p,StepIconProps:h}=s,m=Je(s,XO),{alternativeLabel:g,orientation:y}=b.useContext(kh),{active:x,disabled:C,completed:S,icon:w}=b.useContext(Em),L=c||w;let I=p;L&&!I&&(I=qO);const U=z({},s,{active:x,alternativeLabel:g,completed:S,disabled:C,error:A,orientation:y}),_=JO(U),F=(r=d.label)!=null?r:l.label;return i.jsxs(ZO,z({className:et(_.root,o),ref:n,ownerState:U},m,{children:[L||I?i.jsx(t7,{className:_.iconContainer,ownerState:U,children:i.jsx(I,z({completed:S,active:x,error:A,icon:L},h))}):null,i.jsxs(n7,{className:_.labelContainer,ownerState:U,children:[a?i.jsx(e7,z({ownerState:U},F,{className:et(_.label,F==null?void 0:F.className),children:a})):null,u]})]}))});Np.muiName="StepLabel";function r7(e){return ht("MuiStepConnector",e)}ft("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const s7=["className"],i7=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:s,completed:a,disabled:o}=e,l={root:["root",n,r&&"alternativeLabel",s&&"active",a&&"completed",o&&"disabled"],line:["line",`line${Ye(n)}`]};return gt(l,r7,t)},a7=Re("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>z({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),o7=Re("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${Ye(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return z({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),l7=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiStepConnector"}),{className:s}=r,a=Je(r,s7),{alternativeLabel:o,orientation:l="horizontal"}=b.useContext(kh),{active:A,disabled:c,completed:u}=b.useContext(Em),d=z({},r,{alternativeLabel:o,orientation:l,active:A,completed:u,disabled:c}),p=i7(d);return i.jsx(a7,z({className:et(p.root,s),ref:n,ownerState:d},a,{children:i.jsx(o7,{className:p.line,ownerState:d})}))});function A7(e){return ht("MuiStepContent",e)}ft("MuiStepContent",["root","last","transition"]);const c7=["children","className","TransitionComponent","transitionDuration","TransitionProps"],u7=e=>{const{classes:t,last:n}=e;return gt({root:["root",n&&"last"],transition:["transition"]},A7,t)},d7=Re("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>z({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),h7=Re(gx,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),Av=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiStepContent"}),{children:s,className:a,TransitionComponent:o=gx,transitionDuration:l="auto",TransitionProps:A}=r,c=Je(r,c7),{orientation:u}=b.useContext(kh),{active:d,last:p,expanded:h}=b.useContext(Em),m=z({},r,{last:p}),g=u7(m);let y=l;return l==="auto"&&!o.muiSupportAuto&&(y=void 0),i.jsx(d7,z({className:et(g.root,a),ref:n,ownerState:m},c,{children:i.jsx(h7,z({as:o,in:d||h,className:g.transition,ownerState:m,timeout:y,unmountOnExit:!0},A,{children:s}))}))});function f7(e){return ht("MuiStepper",e)}ft("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const p7=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],g7=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:s}=e;return gt({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},f7,s)},m7=Re("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>z({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),v7=i.jsx(l7,{}),y7=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:a=!1,children:o,className:l,component:A="div",connector:c=v7,nonLinear:u=!1,orientation:d="horizontal"}=r,p=Je(r,p7),h=z({},r,{nonLinear:u,alternativeLabel:a,orientation:d,component:A}),m=g7(h),g=b.Children.toArray(o).filter(Boolean),y=g.map((C,S)=>b.cloneElement(C,z({index:S,last:S+1===g.length},C.props))),x=b.useMemo(()=>({activeStep:s,alternativeLabel:a,connector:c,nonLinear:u,orientation:d}),[s,a,c,u,d]);return i.jsx(kh.Provider,{value:x,children:i.jsx(m7,z({as:A,ownerState:h,className:et(m.root,l),ref:n},p,{children:y}))})});function x7(e){return ht("MuiSwitch",e)}const Ts=ft("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),b7=["className","color","edge","size","sx"],w7=e=>{const{classes:t,edge:n,size:r,color:s,checked:a,disabled:o}=e,l={root:["root",n&&`edge${Ye(n)}`,`size${Ye(r)}`],switchBase:["switchBase",`color${Ye(s)}`,a&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},A=gt(l,x7,t);return z({},t,A)},B7=Re("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Ye(n.edge)}`],t[`size${Ye(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ts.thumb}`]:{width:16,height:16},[`& .${Ts.switchBase}`]:{padding:4,[`&.${Ts.checked}`]:{transform:"translateX(16px)"}}}}]}),C7=Re(nj,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Ts.input}`]:t.input},n.color!=="default"&&t[`color${Ye(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ts.checked}`]:{transform:"translateX(20px)"},[`&.${Ts.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ts.checked} + .${Ts.track}`]:{opacity:.5},[`&.${Ts.disabled} + .${Ts.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ts.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Ts.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ts.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Nc(e.palette[t].main,.62):Fc(e.palette[t].main,.55)}`}},[`&.${Ts.checked} + .${Ts.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),S7=Re("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),j7=Re("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ni=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiSwitch"}),{className:s,color:a="primary",edge:o=!1,size:l="medium",sx:A}=r,c=Je(r,b7),u=z({},r,{color:a,edge:o,size:l}),d=w7(u),p=i.jsx(j7,{className:d.thumb,ownerState:u});return i.jsxs(B7,{className:et(d.root,s),sx:A,ownerState:u,children:[i.jsx(C7,z({type:"checkbox",icon:p,checkedIcon:p,ref:n,ownerState:u},c,{classes:z({},d,{root:d.switchBase})})),i.jsx(S7,{className:d.track,ownerState:u})]})});function E7(e){return ht("MuiTab",e)}const No=ft("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),I7=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],k7=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:s,icon:a,label:o,selected:l,disabled:A}=e,c={root:["root",a&&o&&"labelIcon",`textColor${Ye(n)}`,r&&"fullWidth",s&&"wrapped",l&&"selected",A&&"disabled"],iconWrapper:["iconWrapper"]};return gt(c,E7,t)},F7=Re(Ba,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ye(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${No.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>z({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${No.iconWrapper}`]:z({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${No.selected}`]:{opacity:1},[`&.${No.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${No.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${No.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${No.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${No.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Zu=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:l,icon:A,iconPosition:c="top",indicator:u,label:d,onChange:p,onClick:h,onFocus:m,selected:g,selectionFollowsFocus:y,textColor:x="inherit",value:C,wrapped:S=!1}=r,w=Je(r,I7),L=z({},r,{disabled:a,disableFocusRipple:o,selected:g,icon:!!A,iconPosition:c,label:!!d,fullWidth:l,textColor:x,wrapped:S}),I=k7(L),U=A&&d&&b.isValidElement(A)?b.cloneElement(A,{className:et(I.iconWrapper,A.props.className)}):A,_=R=>{!g&&p&&p(R,C),h&&h(R)},F=R=>{y&&!g&&p&&p(R,C),m&&m(R)};return i.jsxs(F7,z({focusRipple:!o,className:et(I.root,s),ref:n,role:"tab","aria-selected":g,disabled:a,onClick:_,onFocus:F,ownerState:L,tabIndex:g?0:-1},w,{children:[c==="top"||c==="start"?i.jsxs(b.Fragment,{children:[U,d]}):i.jsxs(b.Fragment,{children:[d,U]}),u]}))}),fj=b.createContext();function N7(e){return ht("MuiTable",e)}ft("MuiTable",["root","stickyHeader"]);const T7=["className","component","padding","size","stickyHeader"],_7=e=>{const{classes:t,stickyHeader:n}=e;return gt({root:["root",n&&"stickyHeader"]},N7,t)},U7=Re("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>z({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":z({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Zw="table",Fh=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTable"}),{className:s,component:a=Zw,padding:o="normal",size:l="medium",stickyHeader:A=!1}=r,c=Je(r,T7),u=z({},r,{component:a,padding:o,size:l,stickyHeader:A}),d=_7(u),p=b.useMemo(()=>({padding:o,size:l,stickyHeader:A}),[o,l,A]);return i.jsx(fj.Provider,{value:p,children:i.jsx(U7,z({as:a,role:a===Zw?null:"table",ref:n,className:et(d.root,s),ownerState:u},c))})}),Im=b.createContext();function D7(e){return ht("MuiTableBody",e)}ft("MuiTableBody",["root"]);const L7=["className","component"],M7=e=>{const{classes:t}=e;return gt({root:["root"]},D7,t)},Q7=Re("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),P7={variant:"body"},eB="tbody",Nh=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableBody"}),{className:s,component:a=eB}=r,o=Je(r,L7),l=z({},r,{component:a}),A=M7(l);return i.jsx(Im.Provider,{value:P7,children:i.jsx(Q7,z({className:et(A.root,s),as:a,ref:n,role:a===eB?null:"rowgroup",ownerState:l},o))})});function R7(e){return ht("MuiTableCell",e)}const H7=ft("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),O7=["align","className","component","padding","scope","size","sortDirection","variant"],$7=e=>{const{classes:t,variant:n,align:r,padding:s,size:a,stickyHeader:o}=e,l={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${Ye(r)}`,s!=="normal"&&`padding${Ye(s)}`,`size${Ye(a)}`]};return gt(l,R7,t)},z7=Re("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Ye(n.size)}`],n.padding!=="normal"&&t[`padding${Ye(n.padding)}`],n.align!=="inherit"&&t[`align${Ye(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>z({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Nc(un(e.palette.divider,1),.88):Fc(un(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${H7.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Yt=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableCell"}),{align:s="inherit",className:a,component:o,padding:l,scope:A,size:c,sortDirection:u,variant:d}=r,p=Je(r,O7),h=b.useContext(fj),m=b.useContext(Im),g=m&&m.variant==="head";let y;o?y=o:y=g?"th":"td";let x=A;y==="td"?x=void 0:!x&&g&&(x="col");const C=d||m&&m.variant,S=z({},r,{align:s,component:y,padding:l||(h&&h.padding?h.padding:"normal"),size:c||(h&&h.size?h.size:"medium"),sortDirection:u,stickyHeader:C==="head"&&h&&h.stickyHeader,variant:C}),w=$7(S);let L=null;return u&&(L=u==="asc"?"ascending":"descending"),i.jsx(z7,z({as:y,ref:n,className:et(w.root,a),"aria-sort":L,scope:x,ownerState:S},p))});function W7(e){return ht("MuiTableContainer",e)}ft("MuiTableContainer",["root"]);const K7=["className","component"],V7=e=>{const{classes:t}=e;return gt({root:["root"]},W7,t)},G7=Re("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Th=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableContainer"}),{className:s,component:a="div"}=r,o=Je(r,K7),l=z({},r,{component:a}),A=V7(l);return i.jsx(G7,z({ref:n,as:a,className:et(A.root,s),ownerState:l},o))});function q7(e){return ht("MuiTableHead",e)}ft("MuiTableHead",["root"]);const Y7=["className","component"],X7=e=>{const{classes:t}=e;return gt({root:["root"]},q7,t)},J7=Re("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Z7={variant:"head"},tB="thead",_h=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableHead"}),{className:s,component:a=tB}=r,o=Je(r,Y7),l=z({},r,{component:a}),A=X7(l);return i.jsx(Im.Provider,{value:Z7,children:i.jsx(J7,z({as:a,className:et(A.root,s),ref:n,role:a===tB?null:"rowgroup",ownerState:l},o))})}),e9=At(i.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),t9=At(i.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function n9(e){return ht("MuiTableRow",e)}const nB=ft("MuiTableRow",["root","selected","hover","head","footer"]),r9=["className","component","hover","selected"],s9=e=>{const{classes:t,selected:n,hover:r,head:s,footer:a}=e;return gt({root:["root",n&&"selected",r&&"hover",s&&"head",a&&"footer"]},n9,t)},i9=Re("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${nB.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${nB.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:un(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:un(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),rB="tr",Sa=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTableRow"}),{className:s,component:a=rB,hover:o=!1,selected:l=!1}=r,A=Je(r,r9),c=b.useContext(Im),u=z({},r,{component:a,hover:o,selected:l,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=s9(u);return i.jsx(i9,z({as:a,ref:n,className:et(d.root,s),role:a===rB?null:"row",ownerState:u},A))});function a9(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function o9(e,t,n,r={},s=()=>{}){const{ease:a=a9,duration:o=300}=r;let l=null;const A=t[e];let c=!1;const u=()=>{c=!0},d=p=>{if(c){s(new Error("Animation cancelled"));return}l===null&&(l=p);const h=Math.min(1,(p-l)/o);if(t[e]=a(h)*(n-A)+A,h>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(d)};return A===n?(s(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const l9=["onChange"],A9={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function c9(e){const{onChange:t}=e,n=Je(e,l9),r=b.useRef(),s=b.useRef(null),a=()=>{r.current=s.current.offsetHeight-s.current.clientHeight};return js(()=>{const o=um(()=>{const A=r.current;a(),A!==r.current&&t(r.current)}),l=to(s.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[t]),b.useEffect(()=>{a(),t(r.current)},[t]),i.jsx("div",z({style:A9},n,{ref:s}))}function u9(e){return ht("MuiTabScrollButton",e)}const d9=ft("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),h9=["className","slots","slotProps","direction","orientation","disabled"],f9=e=>{const{classes:t,orientation:n,disabled:r}=e;return gt({root:["root",n,r&&"disabled"]},u9,t)},p9=Re(Ba,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>z({width:40,flexShrink:0,opacity:.8,[`&.${d9.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),g9=b.forwardRef(function(t,n){var r,s;const a=kt({props:t,name:"MuiTabScrollButton"}),{className:o,slots:l={},slotProps:A={},direction:c}=a,u=Je(a,h9),d=mh(),p=z({isRtl:d},a),h=f9(p),m=(r=l.StartScrollButtonIcon)!=null?r:e9,g=(s=l.EndScrollButtonIcon)!=null?s:t9,y=Fi({elementType:m,externalSlotProps:A.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),x=Fi({elementType:g,externalSlotProps:A.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return i.jsx(p9,z({component:"div",className:et(h.root,o),ref:n,role:null,ownerState:p,tabIndex:null},u,{children:c==="left"?i.jsx(m,z({},y)):i.jsx(g,z({},x))}))});function m9(e){return ht("MuiTabs",e)}const cv=ft("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),v9=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],sB=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,iB=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Pf=(e,t,n)=>{let r=!1,s=n(e,t);for(;s;){if(s===e.firstChild){if(r)return;r=!0}const a=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||a)s=n(e,s);else{s.focus();return}}},y9=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:s,scrollableY:a,centered:o,scrollButtonsHideMobile:l,classes:A}=e;return gt({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",s&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},m9,A)},x9=Re("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${cv.scrollButtons}`]:t.scrollButtons},{[`& .${cv.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>z({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${cv.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),b9=Re("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>z({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),w9=Re("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>z({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),B9=Re("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>z({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),C9=Re(c9)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),aB={},S9=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTabs"}),s=Qi(),a=mh(),{"aria-label":o,"aria-labelledby":l,action:A,centered:c=!1,children:u,className:d,component:p="div",allowScrollButtonsMobile:h=!1,indicatorColor:m="primary",onChange:g,orientation:y="horizontal",ScrollButtonComponent:x=g9,scrollButtons:C="auto",selectionFollowsFocus:S,slots:w={},slotProps:L={},TabIndicatorProps:I={},TabScrollButtonProps:U={},textColor:_="primary",value:F,variant:R="standard",visibleScrollbar:k=!1}=r,j=Je(r,v9),M=R==="scrollable",N=y==="vertical",$=N?"scrollTop":"scrollLeft",P=N?"top":"left",D=N?"bottom":"right",W=N?"clientHeight":"clientWidth",G=N?"height":"width",Z=z({},r,{component:p,allowScrollButtonsMobile:h,indicatorColor:m,orientation:y,vertical:N,scrollButtons:C,textColor:_,variant:R,visibleScrollbar:k,fixed:!M,hideScrollbar:M&&!k,scrollableX:M&&!N,scrollableY:M&&N,centered:c&&!M,scrollButtonsHideMobile:!h}),le=y9(Z),T=Fi({elementType:w.StartScrollButtonIcon,externalSlotProps:L.startScrollButtonIcon,ownerState:Z}),H=Fi({elementType:w.EndScrollButtonIcon,externalSlotProps:L.endScrollButtonIcon,ownerState:Z}),[Q,K]=b.useState(!1),[V,X]=b.useState(aB),[ie,ae]=b.useState(!1),[Ce,ce]=b.useState(!1),[fe,ue]=b.useState(!1),[we,he]=b.useState({overflow:"hidden",scrollbarWidth:0}),re=new Map,Ve=b.useRef(null),ye=b.useRef(null),pe=()=>{const Be=Ve.current;let Qe;if(Be){const He=Be.getBoundingClientRect();Qe={clientWidth:Be.clientWidth,scrollLeft:Be.scrollLeft,scrollTop:Be.scrollTop,scrollLeftNormalized:rT(Be,a?"rtl":"ltr"),scrollWidth:Be.scrollWidth,top:He.top,bottom:He.bottom,left:He.left,right:He.right}}let Se;if(Be&&F!==!1){const He=ye.current.children;if(He.length>0){const Oe=He[re.get(F)];Se=Oe?Oe.getBoundingClientRect():null}}return{tabsMeta:Qe,tabMeta:Se}},Fe=en(()=>{const{tabsMeta:Be,tabMeta:Qe}=pe();let Se=0,He;if(N)He="top",Qe&&Be&&(Se=Qe.top-Be.top+Be.scrollTop);else if(He=a?"right":"left",Qe&&Be){const _e=a?Be.scrollLeftNormalized+Be.clientWidth-Be.scrollWidth:Be.scrollLeft;Se=(a?-1:1)*(Qe[He]-Be[He]+_e)}const Oe={[He]:Se,[G]:Qe?Qe[G]:0};if(isNaN(V[He])||isNaN(V[G]))X(Oe);else{const _e=Math.abs(V[He]-Oe[He]),Ke=Math.abs(V[G]-Oe[G]);(_e>=1||Ke>=1)&&X(Oe)}}),De=(Be,{animation:Qe=!0}={})=>{Qe?o9($,Ve.current,Be,{duration:s.transitions.duration.standard}):Ve.current[$]=Be},ze=Be=>{let Qe=Ve.current[$];N?Qe+=Be:(Qe+=Be*(a?-1:1),Qe*=a&&r4()==="reverse"?-1:1),De(Qe)},Xe=()=>{const Be=Ve.current[W];let Qe=0;const Se=Array.from(ye.current.children);for(let He=0;He<Se.length;He+=1){const Oe=Se[He];if(Qe+Oe[W]>Be){He===0&&(Qe=Be);break}Qe+=Oe[W]}return Qe},at=()=>{ze(-1*Xe())},ct=()=>{ze(Xe())},st=b.useCallback(Be=>{he({overflow:null,scrollbarWidth:Be})},[]),me=()=>{const Be={};Be.scrollbarSizeListener=M?i.jsx(C9,{onChange:st,className:et(le.scrollableX,le.hideScrollbar)}):null;const Se=M&&(C==="auto"&&(ie||Ce)||C===!0);return Be.scrollButtonStart=Se?i.jsx(x,z({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:T},orientation:y,direction:a?"right":"left",onClick:at,disabled:!ie},U,{className:et(le.scrollButtons,U.className)})):null,Be.scrollButtonEnd=Se?i.jsx(x,z({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:H},orientation:y,direction:a?"left":"right",onClick:ct,disabled:!Ce},U,{className:et(le.scrollButtons,U.className)})):null,Be},Pe=en(Be=>{const{tabsMeta:Qe,tabMeta:Se}=pe();if(!(!Se||!Qe)){if(Se[P]<Qe[P]){const He=Qe[$]+(Se[P]-Qe[P]);De(He,{animation:Be})}else if(Se[D]>Qe[D]){const He=Qe[$]+(Se[D]-Qe[D]);De(He,{animation:Be})}}}),oe=en(()=>{M&&C!==!1&&ue(!fe)});b.useEffect(()=>{const Be=um(()=>{Ve.current&&Fe()});let Qe;const Se=_e=>{_e.forEach(Ke=>{Ke.removedNodes.forEach(lt=>{var ut;(ut=Qe)==null||ut.unobserve(lt)}),Ke.addedNodes.forEach(lt=>{var ut;(ut=Qe)==null||ut.observe(lt)})}),Be(),oe()},He=to(Ve.current);He.addEventListener("resize",Be);let Oe;return typeof ResizeObserver<"u"&&(Qe=new ResizeObserver(Be),Array.from(ye.current.children).forEach(_e=>{Qe.observe(_e)})),typeof MutationObserver<"u"&&(Oe=new MutationObserver(Se),Oe.observe(ye.current,{childList:!0})),()=>{var _e,Ke;Be.clear(),He.removeEventListener("resize",Be),(_e=Oe)==null||_e.disconnect(),(Ke=Qe)==null||Ke.disconnect()}},[Fe,oe]),b.useEffect(()=>{const Be=Array.from(ye.current.children),Qe=Be.length;if(typeof IntersectionObserver<"u"&&Qe>0&&M&&C!==!1){const Se=Be[0],He=Be[Qe-1],Oe={root:Ve.current,threshold:.99},_e=nt=>{ae(!nt[0].isIntersecting)},Ke=new IntersectionObserver(_e,Oe);Ke.observe(Se);const lt=nt=>{ce(!nt[0].isIntersecting)},ut=new IntersectionObserver(lt,Oe);return ut.observe(He),()=>{Ke.disconnect(),ut.disconnect()}}},[M,C,fe,u==null?void 0:u.length]),b.useEffect(()=>{K(!0)},[]),b.useEffect(()=>{Fe()}),b.useEffect(()=>{Pe(aB!==V)},[Pe,V]),b.useImperativeHandle(A,()=>({updateIndicator:Fe,updateScrollButtons:oe}),[Fe,oe]);const ge=i.jsx(B9,z({},I,{className:et(le.indicator,I.className),ownerState:Z,style:z({},V,I.style)}));let Ie=0;const Ne=b.Children.map(u,Be=>{if(!b.isValidElement(Be))return null;const Qe=Be.props.value===void 0?Ie:Be.props.value;re.set(Qe,Ie);const Se=Qe===F;return Ie+=1,b.cloneElement(Be,z({fullWidth:R==="fullWidth",indicator:Se&&!Q&&ge,selected:Se,selectionFollowsFocus:S,onChange:g,textColor:_,value:Qe},Ie===1&&F===!1&&!Be.props.tabIndex?{tabIndex:0}:{}))}),Ee=Be=>{const Qe=ye.current,Se=Wr(Qe).activeElement;if(Se.getAttribute("role")!=="tab")return;let Oe=y==="horizontal"?"ArrowLeft":"ArrowUp",_e=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&a&&(Oe="ArrowRight",_e="ArrowLeft"),Be.key){case Oe:Be.preventDefault(),Pf(Qe,Se,iB);break;case _e:Be.preventDefault(),Pf(Qe,Se,sB);break;case"Home":Be.preventDefault(),Pf(Qe,null,sB);break;case"End":Be.preventDefault(),Pf(Qe,null,iB);break}},qe=me();return i.jsxs(x9,z({className:et(le.root,d),ownerState:Z,ref:n,as:p},j,{children:[qe.scrollButtonStart,qe.scrollbarSizeListener,i.jsxs(b9,{className:le.scroller,ownerState:Z,style:{overflow:we.overflow,[N?`margin${a?"Left":"Right"}`:"marginBottom"]:k?void 0:-we.scrollbarWidth},ref:Ve,children:[i.jsx(w9,{"aria-label":o,"aria-labelledby":l,"aria-orientation":y==="vertical"?"vertical":null,className:le.flexContainer,ownerState:Z,onKeyDown:Ee,ref:ye,role:"tablist",children:Ne}),Q&&ge]}),qe.scrollButtonEnd]}))});function j9(e){return ht("MuiTextField",e)}ft("MuiTextField",["root"]);const E9=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],I9={standard:Ex,filled:jx,outlined:Fx},k9=e=>{const{classes:t}=e;return gt({root:["root"]},j9,t)},F9=Re(Ya,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ft=b.forwardRef(function(t,n){const r=kt({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:o,className:l,color:A="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:p,fullWidth:h=!1,helperText:m,id:g,InputLabelProps:y,inputProps:x,InputProps:C,inputRef:S,label:w,maxRows:L,minRows:I,multiline:U=!1,name:_,onBlur:F,onChange:R,onFocus:k,placeholder:j,required:M=!1,rows:N,select:$=!1,SelectProps:P,type:D,value:W,variant:G="outlined"}=r,Z=Je(r,E9),le=z({},r,{autoFocus:a,color:A,disabled:u,error:d,fullWidth:h,multiline:U,required:M,select:$,variant:G}),T=k9(le),H={};G==="outlined"&&(y&&typeof y.shrink<"u"&&(H.notched=y.shrink),H.label=w),$&&((!P||!P.native)&&(H.id=void 0),H["aria-describedby"]=void 0);const Q=Zc(g),K=m&&Q?`${Q}-helper-text`:void 0,V=w&&Q?`${Q}-label`:void 0,X=I9[G],ie=i.jsx(X,z({"aria-describedby":K,autoComplete:s,autoFocus:a,defaultValue:c,fullWidth:h,multiline:U,name:_,rows:N,maxRows:L,minRows:I,type:D,value:W,id:Q,inputRef:S,onBlur:F,onChange:R,onFocus:k,placeholder:j,inputProps:x},H,C));return i.jsxs(F9,z({className:et(T.root,l),disabled:u,error:d,fullWidth:h,ref:n,required:M,color:A,variant:G,ownerState:le},Z,{children:[w!=null&&w!==""&&i.jsx(tl,z({htmlFor:Q,id:V},y,{children:w})),$?i.jsx(ao,z({"aria-describedby":K,id:Q,labelId:V,value:W,input:ie},P,{children:o})):ie,m&&i.jsx(a8,z({id:K},p,{children:m}))]}))});function N9({children:e}){const{user:t,admin:n,loading:r}=hr();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?i.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:i.jsx(Rr,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),i.jsx(dd,{to:"/login",replace:!0})):i.jsx(i.Fragment,{children:e})}const T9=At([i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),pj=At(i.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),Td=At(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),au=At(i.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),_9=At(i.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),oB=At(i.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),U9=At(i.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),D9=At(i.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),ql=At(i.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),eh=At(i.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),th=At(i.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),L9=At(i.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),Ga=At(i.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),gj=At(i.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),Qo=At(i.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),km=At(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),M9=At(i.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),Q9=At(i.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),nh=At(i.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),P9=At(i.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),mj=At(i.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),E1=At(i.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),R9=At(i.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),rA=At(i.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Rc=At(i.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),I1=At(i.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),H9=At(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),O9=At(i.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),lB=At(i.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),$9=At(i.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),z9=At(i.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),vj=At(i.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),W9=At(i.jsx("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22zM8 7.5V4h8v3.5l-4 4z"}),"HourglassBottom"),K9=At(i.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty"),yj=At(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),V9=At(i.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),G9=At(i.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),q9=At(i.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),AB=At(i.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),xj=At(i.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),vc=At(i.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),Tx=At(i.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),Y9=At(i.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),X9=At(i.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),J9=At(i.jsx("path",{d:"M8.65 5.82C9.36 4.72 10.6 4 12 4c2.21 0 4 1.79 4 4 0 1.4-.72 2.64-1.82 3.35zM20 17.17c-.02-1.1-.63-2.11-1.61-2.62-.54-.28-1.13-.54-1.77-.76zm1.19 4.02L2.81 2.81 1.39 4.22l8.89 8.89c-1.81.23-3.39.79-4.67 1.45-1 .51-1.61 1.54-1.61 2.66V20h13.17l2.61 2.61z"}),"PersonOff"),k1=At(i.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),Z9=At(i.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),e$=At(i.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),t$=At(i.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),_x=At(i.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),bj=At(i.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),wj=At(i.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Hc=At(i.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),n$=At([i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),Bj=At(i.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),r$=At(i.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),s$=At(i.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),i$=At([i.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),i.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff"),Ux=At(i.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),F1=At(i.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Dx=At(i.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Cj=At(i.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),a$=At(i.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),Sj=At(i.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),o$=At(i.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),l$=At(i.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),A$=At(i.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),cg=At(i.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),Fm=At(i.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),c$=At(i.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),u$=At(i.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Yl=At(i.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),d$=At(i.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),Kr=()=>{const{admin:e}=hr(),t=p=>e?e.role==="superadmin"?!0:Array.isArray(p)?p.some(h=>e.permissions.includes(h)):e.permissions.includes(p):!1;return{hasPermission:t,hasAllPermissions:p=>e?e.role==="superadmin"?!0:p.every(h=>e.permissions.includes(h)):!1,hasRole:p=>e?Array.isArray(p)?p.includes(e.role):e.role===p:!1,canAccessVenue:p=>e?e.role==="superadmin"?!0:e.venueId===p:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="admin"&&(e!=null&&e.venueId)?!0:t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function ug({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return i.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[i.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),i.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),i.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),i.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function h$(){var x,C;const e=rs(),t=UI(),{club:n,logout:r,admin:s}=hr(),{hasPermission:a,hasRole:o,isSuperAdmin:l,canViewFinance:A,canManageClub:c}=Kr(),[u,d]=b.useState(!1);if((s==null?void 0:s.role)==="trainer"){const S=[{path:"/admin/trainer-profile",label:"Мой профиль",icon:i.jsx(Td,{})},{path:"/admin/bookings",label:"Мой календарь",icon:i.jsx(th,{})}];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:()=>d(!u)}),i.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[i.jsx("button",{className:"sidebar-close",onClick:()=>d(!u),children:i.jsx(nh,{})}),i.jsx("div",{className:"logo-section",children:i.jsxs("div",{className:"platform-logo",children:[i.jsx(ug,{size:40}),i.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),i.jsx("nav",{className:"nav-menu",children:S.map(w=>i.jsxs("a",{className:`nav-item ${t.pathname===w.path?"active":""}`,onClick:()=>{e(w.path),window.innerWidth<=768&&d(!1)},children:[i.jsx("span",{className:"nav-icon",children:w.icon}),i.jsx("span",{children:w.label})]},w.path))})]}),i.jsxs("div",{className:"main-container",children:[i.jsxs("header",{className:"header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[i.jsx("button",{className:"menu-toggle",onClick:()=>d(!u),children:i.jsx(AB,{})}),i.jsx("h1",{className:"page-title",children:t.pathname==="/admin/bookings"?"Мой календарь":"Мой профиль"})]}),i.jsxs("div",{className:"header-actions",children:[n&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?i.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((x=n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[i.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),i.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:"Тренер"})]})]}),i.jsxs("div",{className:"user-menu",children:[i.jsxs("div",{className:"user-info",children:[i.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),i.jsx("span",{className:"user-role",children:"Тренер"})]}),i.jsx("button",{className:"user-btn",children:i.jsx(Td,{fontSize:"small"})}),i.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:i.jsx(lB,{fontSize:"small"})})]})]})]}),i.jsx("div",{className:"content",children:i.jsx(kb,{})})]})]})}const p=[{path:"/admin/dashboard",label:"Главная",icon:i.jsx(R9,{})},{path:"/admin/bookings",label:"Календарь",icon:i.jsx(th,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},{path:"/admin/trainers",label:"Тренеры",icon:i.jsx(Bj,{}),permission:["manage_club","manage_all_venues"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:i.jsx(l$,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:i.jsx(vc,{})},{path:"/admin/company-settings",label:"Реквизиты компании",icon:i.jsx(eh,{})},{path:"/admin/admins",label:"Администраторы",icon:i.jsx(A$,{})}]:[],...c()?[{path:"/admin/club",label:"Управление клубом",icon:i.jsx(eh,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:i.jsx(gj,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:i.jsx(E1,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:i.jsx(Sj,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:i.jsx(Tx,{}),permission:["manage_all_users","manage_club"]},...A()?[{path:"/admin/finance",label:"Финансы",icon:i.jsx(ql,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:i.jsx(Fm,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:"Системные настройки",icon:i.jsx(Dx,{})}]:[]].filter(S=>!(S.permission&&!a(S.permission)||S.roles&&!o(S.roles))),h=S=>t.pathname===S,m=S=>{e(S),window.innerWidth<=768&&d(!1)},g=()=>{d(!u)},y=()=>{const S=p.find(w=>h(w.path));return(S==null?void 0:S.label)||"Главная"};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:g}),i.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[i.jsx("button",{className:"sidebar-close",onClick:g,children:i.jsx(nh,{})}),i.jsx("div",{className:"logo-section",children:i.jsxs("div",{className:"platform-logo",children:[i.jsx(ug,{size:40}),i.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),i.jsx("nav",{className:"nav-menu",children:p.map(S=>i.jsxs("a",{className:`nav-item ${h(S.path)?"active":""}`,onClick:()=>m(S.path),children:[i.jsx("span",{className:"nav-icon",children:S.icon}),i.jsx("span",{children:S.label})]},S.path))})]}),i.jsxs("div",{className:"main-container",children:[i.jsxs("header",{className:"header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[i.jsx("button",{className:"menu-toggle",onClick:g,children:i.jsx(AB,{})}),i.jsx("h1",{className:"page-title",children:y()})]}),i.jsxs("div",{className:"header-actions",children:[i.jsx("button",{className:"notification-btn",children:i.jsx(xj,{fontSize:"small"})}),!l&&n&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?i.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((C=n.name)==null?void 0:C.substring(0,2).toUpperCase())||"CL"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[i.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),i.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:(s==null?void 0:s.role)==="admin"?"Администратор":"Менеджер"})]})]}),i.jsxs("div",{className:"user-menu",children:[!l&&i.jsxs("div",{className:"user-info",children:[i.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),i.jsx("span",{className:"user-role",children:s==null?void 0:s.role})]}),l&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"8px"},children:[i.jsx("div",{style:{width:"32px",height:"32px",background:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700"},children:"SA"}),i.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"Суперадминистратор"})]}),!l&&i.jsx("button",{className:"user-btn",children:i.jsx(Td,{fontSize:"small"})}),i.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:i.jsx(lB,{fontSize:"small"})})]})]})]}),i.jsx("div",{className:"content",children:i.jsx(kb,{})})]})]})}const cB={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function N1(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:cB[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof d5||e.code){const s=cB[e.code]||e.message||"Ошибка базы данных";let a="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?a="PERMISSION":e.code==="not-found"?a="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(a="NETWORK"),{type:a,code:e.code,message:s,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function f$(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function jj(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function p$(){const e=rs(),[t,n]=b.useState(""),[r,s]=b.useState(""),[a,o]=b.useState(!1),[l,A]=b.useState(null),[c,u]=b.useState(!1),d=async p=>{p.preventDefault(),A(null),u(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const h=await ak(Bs,t,r),m=zt(Tt($e,"admins"),Ct("email","==",h.user.email));if((await Wt(m)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(h){const m=N1(h);jj(m,{component:"Login",email:t}),A(f$(m))}finally{u(!1)}};return i.jsx(Ue,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:i.jsx(tn,{sx:{maxWidth:400,width:"100%",mx:2},children:i.jsxs(nn,{sx:{p:4},children:[i.jsx(te,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),i.jsx(te,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&i.jsx(Jt,{severity:"error",sx:{mb:2},children:l}),i.jsxs("form",{onSubmit:d,children:[i.jsx(Ft,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:p=>n(p.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),i.jsx(Ft,{fullWidth:!0,label:"Пароль",type:a?"text":"password",value:r,onChange:p=>s(p.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:i.jsx(L8,{position:"end",children:i.jsx(Ds,{onClick:()=>o(!a),edge:"end",children:a?i.jsx(u$,{}):i.jsx(c$,{})})})}}),i.jsx(Dt,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:c||!t||!r,startIcon:c&&i.jsx(Rr,{size:20,color:"inherit"}),children:c?"Вход...":"Войти"})]}),i.jsx(te,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),i.jsx(Ue,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:i.jsxs(te,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",i.jsx(Dt,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const uB=[{icon:i.jsx(Sj,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:i.jsx(th,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:i.jsx(Tx,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:i.jsx(_9,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:i.jsx(xj,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:i.jsx(vc,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:i.jsx(Dx,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:i.jsx(Ux,{}),title:"Безопасность",description:"Защита данных клиентов"}];function g$(){const e=rs(),[t,n]=b.useState(!1),[r,s]=b.useState(""),[a,o]=b.useState(!1),[l,A]=b.useState(!1),[c,u]=b.useState(0),[d,p]=b.useState(0),[h,m]=b.useState(!1),[g,y]=b.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});b.useEffect(()=>{if(t){m(!0),p(0),u(0);const S=setInterval(()=>{u(L=>L>=95?(clearInterval(S),95):L+Math.random()*10)},500),w=setInterval(()=>{p(L=>L>=uB.length-1?(clearInterval(w),L):L+1)},2e3);return()=>{clearInterval(S),clearInterval(w)}}else m(!1),u(0),p(0)},[t]);const x=()=>{const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let w="";for(let L=0;L<10;L++)w+=S.charAt(Math.floor(Math.random()*S.length));return w},C=async S=>{S.preventDefault(),console.log("Form submitted with data:",g),s(""),n(!0);try{if(!g.name||!g.address||!g.city||!g.phone||!g.email){s("Заполните все обязательные поля"),n(!1);return}const w=g.adminPassword||x();console.log("Generated/provided password:",w),Bs.currentUser&&(console.log("Signing out current user:",Bs.currentUser.email),await qv(Bs)),console.log("Creating user with email:",g.email);const I=(await h5(Bs,g.email,w)).user.uid;console.log("User created successfully with ID:",I);const U={name:g.name,address:g.address,city:g.city,phone:g.phone,email:g.email,description:g.description||"",organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",U);let _=!1,F="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:U,password:w,userId:I});const k=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:U,password:w,userId:I})})).json();if(k.success)console.log("Club created via Cloud Function!"),_=!0,F=k.venueId;else throw new Error(k.error||"Unknown error")}catch(R){throw console.error("Cloud Function failed:",R),R}if(_)A(!1);else{console.log("Saving registration for manual processing...");const R={id:I,userId:I,venueData:U,password:w,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+I,JSON.stringify(R)),A(!0)}y({...g,adminPassword:w}),(_||!l)&&u(100),Bs.currentUser&&(await qv(Bs),console.log("Signed out after club creation")),o(!0),console.log("Registration completed successfully!")}catch(w){console.error("Error creating club:",w),console.error("Error details:",{code:w==null?void 0:w.code,message:w==null?void 0:w.message,stack:w==null?void 0:w.stack}),w.code==="auth/email-already-in-use"?s("Этот email уже используется. Пожалуйста, войдите в систему."):w.code==="auth/weak-password"?s("Пароль слишком слабый. Минимум 6 символов."):w.code==="auth/invalid-email"?s("Неверный формат email адреса."):s("Ошибка при создании клуба: "+(w.message||"Неизвестная ошибка"))}finally{n(!1)}};return i.jsxs(Ml,{component:"main",maxWidth:"md",children:[i.jsxs(Ue,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[i.jsx(ug,{size:60,className:"mb-4"}),i.jsx(te,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),i.jsx(te,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),i.jsxs($n,{sx:{width:"100%",p:4},children:[r&&i.jsx(Jt,{severity:"error",sx:{mb:3},children:r}),i.jsxs("form",{onSubmit:C,children:[i.jsxs(Ue,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[i.jsx(te,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),i.jsx(Ft,{label:"Название клуба",value:g.name,onChange:S=>y({...g,name:S.target.value}),fullWidth:!0,required:!0}),i.jsx(Ft,{label:"Адрес",value:g.address,onChange:S=>y({...g,address:S.target.value}),fullWidth:!0,required:!0}),i.jsx(Ft,{label:"Город",value:g.city,onChange:S=>y({...g,city:S.target.value}),fullWidth:!0,required:!0}),i.jsx(Ft,{label:"Телефон",value:g.phone,onChange:S=>y({...g,phone:S.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),i.jsx(Ft,{label:"Email",value:g.email,onChange:S=>y({...g,email:S.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),i.jsx(te,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),i.jsxs(Ya,{fullWidth:!0,children:[i.jsx(tl,{children:"Форма организации"}),i.jsxs(ao,{value:g.organizationType,onChange:S=>y({...g,organizationType:S.target.value}),label:"Форма организации",children:[i.jsx(Jn,{value:"ИП",children:"ИП"}),i.jsx(Jn,{value:"ООО",children:"ООО"}),i.jsx(Jn,{value:"Самозанятый",children:"Самозанятый"})]})]}),i.jsx(Ft,{label:"ИНН",value:g.inn,onChange:S=>y({...g,inn:S.target.value}),fullWidth:!0}),i.jsx(Ft,{label:"Пароль администратора (необязательно)",value:g.adminPassword,onChange:S=>y({...g,adminPassword:S.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),i.jsxs(Ue,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[i.jsx(Dt,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),i.jsx(Dt,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),i.jsxs(so,{open:a,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[i.jsx(el,{children:i.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,children:[i.jsx(eh,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),i.jsxs(io,{children:[i.jsx(Jt,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),i.jsxs(Ue,{sx:{display:"flex",flexDirection:"column",gap:2},children:[i.jsxs(Ue,{children:[i.jsx(te,{variant:"body2",color:"textSecondary",children:"Название клуба"}),i.jsx(te,{variant:"body1",fontWeight:"bold",children:g.name})]}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"body2",color:"textSecondary",children:"Email администратора"}),i.jsx(te,{variant:"body1",fontWeight:"bold",children:g.email})]}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),i.jsx(te,{variant:"body1",fontWeight:"bold",children:g.adminPassword})]})]})]}),i.jsxs(Zo,{sx:{justifyContent:"space-between",px:3,pb:3},children:[i.jsx(Dt,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!l&&i.jsx(Dt,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:i.jsx(eh,{}),children:"Вход для админов"})]})]}),i.jsx(so,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:i.jsx(io,{sx:{py:4},children:i.jsxs(Ue,{textAlign:"center",children:[i.jsx(ug,{size:80,className:"mb-4"}),i.jsx(te,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),i.jsxs(Ue,{sx:{mb:4},children:[i.jsx(lj,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),i.jsxs(te,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(c),"%"]})]}),h&&i.jsx(Ue,{sx:{minHeight:120},children:uB.map((S,w)=>i.jsx(Ih,{in:d>=w,timeout:1e3,style:{display:d===w?"block":"none"},children:i.jsxs(Ue,{children:[i.jsx(Ue,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:fn.cloneElement(S.icon,{sx:{fontSize:30,color:"#00A86B"}})}),i.jsx(te,{variant:"h6",gutterBottom:!0,children:S.title}),i.jsx(te,{variant:"body2",color:"textSecondary",children:S.description})]})},w))}),i.jsx(te,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var m$=Object.defineProperty,dg=Object.getOwnPropertySymbols,Ej=Object.prototype.hasOwnProperty,Ij=Object.prototype.propertyIsEnumerable,dB=(e,t,n)=>t in e?m$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T1=(e,t)=>{for(var n in t||(t={}))Ej.call(t,n)&&dB(e,n,t[n]);if(dg)for(var n of dg(t))Ij.call(t,n)&&dB(e,n,t[n]);return e},_1=(e,t)=>{var n={};for(var r in e)Ej.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dg)for(var r of dg(e))t.indexOf(r)<0&&Ij.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xl;(e=>{const t=class an{constructor(A,c,u,d){if(this.version=A,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],A<an.MIN_VERSION||A>an.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=A*4+17;let p=[];for(let m=0;m<this.size;m++)p.push(!1);for(let m=0;m<this.size;m++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),d==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<m&&(d=g,m=y),this.applyMask(g)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(A,c){const u=e.QrSegment.makeSegments(A);return an.encodeSegments(u,c)}static encodeBinary(A,c){const u=e.QrSegment.makeBytes(A);return an.encodeSegments([u],c)}static encodeSegments(A,c,u=1,d=40,p=-1,h=!0){if(!(an.MIN_VERSION<=u&&u<=d&&d<=an.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let m,g;for(m=u;;m++){const S=an.getNumDataCodewords(m,c)*8,w=o.getTotalBits(A,m);if(w<=S){g=w;break}if(m>=d)throw new RangeError("Data too long")}for(const S of[an.Ecc.MEDIUM,an.Ecc.QUARTILE,an.Ecc.HIGH])h&&g<=an.getNumDataCodewords(m,S)*8&&(c=S);let y=[];for(const S of A){n(S.mode.modeBits,4,y),n(S.numChars,S.mode.numCharCountBits(m),y);for(const w of S.getData())y.push(w)}s(y.length==g);const x=an.getNumDataCodewords(m,c)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let S=236;y.length<x;S^=253)n(S,8,y);let C=[];for(;C.length*8<y.length;)C.push(0);return y.forEach((S,w)=>C[w>>>3]|=S<<7-(w&7)),new an(m,c,C,p)}getModule(A,c){return 0<=A&&A<this.size&&0<=c&&c<this.size&&this.modules[c][A]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),c=A.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(A[u],A[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const c=this.errorCorrectionLevel.formatBits<<3|A;let u=c;for(let p=0;p<10;p++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(d,p));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(d,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(d,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(d,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let u=0;u<12;u++)A=A<<1^(A>>>11)*7973;const c=this.version<<12|A;s(c>>>18==0);for(let u=0;u<18;u++){const d=r(c,u),p=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(p,h,d),this.setFunctionModule(h,p,d)}}drawFinderPattern(A,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const p=Math.max(Math.abs(d),Math.abs(u)),h=A+d,m=c+u;0<=h&&h<this.size&&0<=m&&m<this.size&&this.setFunctionModule(h,m,p!=2&&p!=4)}}drawAlignmentPattern(A,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(A+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(A,c,u){this.modules[c][A]=u,this.isFunction[c][A]=!0}addEccAndInterleave(A){const c=this.version,u=this.errorCorrectionLevel;if(A.length!=an.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=an.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],p=an.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],h=Math.floor(an.getNumRawDataModules(c)/8),m=d-h%d,g=Math.floor(h/d);let y=[];const x=an.reedSolomonComputeDivisor(p);for(let S=0,w=0;S<d;S++){let L=A.slice(w,w+g-p+(S<m?0:1));w+=L.length;const I=an.reedSolomonComputeRemainder(L,x);S<m&&L.push(0),y.push(L.concat(I))}let C=[];for(let S=0;S<y[0].length;S++)y.forEach((w,L)=>{(S!=g-p||L>=m)&&C.push(w[S])});return s(C.length==h),C}drawCodewords(A){if(A.length!=Math.floor(an.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let p=0;p<2;p++){const h=u-p,g=(u+1&2)==0?this.size-1-d:d;!this.isFunction[g][h]&&c<A.length*8&&(this.modules[g][h]=r(A[c>>>3],7-(c&7)),c++)}}s(c==A.length*8)}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(A){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let A=0;for(let p=0;p<this.size;p++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[p][y]==h?(m++,m==5?A+=an.PENALTY_N1:m>5&&A++):(this.finderPenaltyAddHistory(m,g),h||(A+=this.finderPenaltyCountPatterns(g)*an.PENALTY_N3),h=this.modules[p][y],m=1);A+=this.finderPenaltyTerminateAndCount(h,m,g)*an.PENALTY_N3}for(let p=0;p<this.size;p++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][p]==h?(m++,m==5?A+=an.PENALTY_N1:m>5&&A++):(this.finderPenaltyAddHistory(m,g),h||(A+=this.finderPenaltyCountPatterns(g)*an.PENALTY_N3),h=this.modules[y][p],m=1);A+=this.finderPenaltyTerminateAndCount(h,m,g)*an.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let h=0;h<this.size-1;h++){const m=this.modules[p][h];m==this.modules[p][h+1]&&m==this.modules[p+1][h]&&m==this.modules[p+1][h+1]&&(A+=an.PENALTY_N2)}let c=0;for(const p of this.modules)c=p.reduce((h,m)=>h+(m?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),A+=d*an.PENALTY_N4,s(0<=A&&A<=2568888),A}getAlignmentPatternPositions(){if(this.version==1)return[];{const A=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(A*2-2))*2;let u=[6];for(let d=this.size-7;u.length<A;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(A){if(A<an.MIN_VERSION||A>an.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*A+128)*A+64;if(A>=2){const u=Math.floor(A/7)+2;c-=(25*u-10)*u-55,A>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(A,c){return Math.floor(an.getNumRawDataModules(A)/8)-an.ECC_CODEWORDS_PER_BLOCK[c.ordinal][A]*an.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][A]}static reedSolomonComputeDivisor(A){if(A<1||A>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<A-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<A;d++){for(let p=0;p<c.length;p++)c[p]=an.reedSolomonMultiply(c[p],u),p+1<c.length&&(c[p]^=c[p+1]);u=an.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(A,c){let u=c.map(d=>0);for(const d of A){const p=d^u.shift();u.push(0),c.forEach((h,m)=>u[m]^=an.reedSolomonMultiply(h,p))}return u}static reedSolomonMultiply(A,c){if(A>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*A;return s(u>>>8==0),u}finderPenaltyCountPatterns(A){const c=A[1];s(c<=this.size*3);const u=c>0&&A[2]==c&&A[3]==c*3&&A[4]==c&&A[5]==c;return(u&&A[0]>=c*4&&A[6]>=c?1:0)+(u&&A[6]>=c*4&&A[0]>=c?1:0)}finderPenaltyTerminateAndCount(A,c,u){return A&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(A,c){c[0]==0&&(A+=this.size),c.pop(),c.unshift(A)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,A,c){if(A<0||A>31||l>>>A)throw new RangeError("Value out of range");for(let u=A-1;u>=0;u--)c.push(l>>>u&1)}function r(l,A){return(l>>>A&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const a=class mr{constructor(A,c,u){if(this.mode=A,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(A){let c=[];for(const u of A)n(u,8,c);return new mr(mr.Mode.BYTE,A.length,c)}static makeNumeric(A){if(!mr.isNumeric(A))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<A.length;){const d=Math.min(A.length-u,3);n(parseInt(A.substring(u,u+d),10),d*3+1,c),u+=d}return new mr(mr.Mode.NUMERIC,A.length,c)}static makeAlphanumeric(A){if(!mr.isAlphanumeric(A))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=A.length;u+=2){let d=mr.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u))*45;d+=mr.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u+1)),n(d,11,c)}return u<A.length&&n(mr.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u)),6,c),new mr(mr.Mode.ALPHANUMERIC,A.length,c)}static makeSegments(A){return A==""?[]:mr.isNumeric(A)?[mr.makeNumeric(A)]:mr.isAlphanumeric(A)?[mr.makeAlphanumeric(A)]:[mr.makeBytes(mr.toUtf8ByteArray(A))]}static makeEci(A){let c=[];if(A<0)throw new RangeError("ECI assignment value out of range");if(A<128)n(A,8,c);else if(A<16384)n(2,2,c),n(A,14,c);else if(A<1e6)n(6,3,c),n(A,21,c);else throw new RangeError("ECI assignment value out of range");return new mr(mr.Mode.ECI,0,c)}static isNumeric(A){return mr.NUMERIC_REGEX.test(A)}static isAlphanumeric(A){return mr.ALPHANUMERIC_REGEX.test(A)}getData(){return this.bitData.slice()}static getTotalBits(A,c){let u=0;for(const d of A){const p=d.mode.numCharCountBits(c);if(d.numChars>=1<<p)return 1/0;u+=4+p+d.bitData.length}return u}static toUtf8ByteArray(A){A=encodeURI(A);let c=[];for(let u=0;u<A.length;u++)A.charAt(u)!="%"?c.push(A.charCodeAt(u)):(c.push(parseInt(A.substring(u+1,u+3),16)),u+=2);return c}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(Xl||(Xl={}));(e=>{(t=>{const n=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Xl||(Xl={}));(e=>{(t=>{const n=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Xl||(Xl={}));var oc=Xl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var v$={L:oc.QrCode.Ecc.LOW,M:oc.QrCode.Ecc.MEDIUM,Q:oc.QrCode.Ecc.QUARTILE,H:oc.QrCode.Ecc.HIGH},kj=128,Fj="L",Nj="#FFFFFF",Tj="#000000",_j=!1,Uj=1,y$=4,x$=0,b$=.1;function Dj(e,t=0){const n=[];return e.forEach(function(r,s){let a=null;r.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${s+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===r.length-1){if(!o)return;a===null?n.push(`M${l+t},${s+t} h1v1H${l+t}z`):n.push(`M${a+t},${s+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function Lj(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,a)=>a<t.x||a>=t.x+t.w?s:!1))}function w$(e,t,n,r){if(r==null)return null;const s=e.length+n*2,a=Math.floor(t*b$),o=s/t,l=(r.width||a)*o,A=(r.height||a)*o,c=r.x==null?e.length/2-l/2:r.x*o,u=r.y==null?e.length/2-A/2:r.y*o,d=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let m=Math.floor(c),g=Math.floor(u),y=Math.ceil(l+c-m),x=Math.ceil(A+u-g);p={x:m,y:g,w:y,h:x}}const h=r.crossOrigin;return{x:c,y:u,h:A,w:l,excavation:p,opacity:d,crossOrigin:h}}function B$(e,t){return t!=null?Math.max(Math.floor(t),0):e?y$:x$}function Mj({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:a,size:o,boostLevel:l}){let A=fn.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((g,y)=>(g.push(...oc.QrSegment.makeSegments(y)),g),[]);return oc.QrCode.encodeSegments(m,v$[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:c,margin:u,numCells:d,calculatedImageSettings:p}=fn.useMemo(()=>{let h=A.getModules();const m=B$(r,s),g=h.length+m*2,y=w$(h,o,m,a);return{cells:h,margin:m,numCells:g,calculatedImageSettings:y}},[A,o,a,r,s]);return{qrcode:A,margin:u,cells:c,numCells:d,calculatedImageSettings:p}}var C$=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),S$=fn.forwardRef(function(t,n){const r=t,{value:s,size:a=kj,level:o=Fj,bgColor:l=Nj,fgColor:A=Tj,includeMargin:c=_j,minVersion:u=Uj,boostLevel:d,marginSize:p,imageSettings:h}=r,g=_1(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,x=_1(g,["style"]),C=h==null?void 0:h.src,S=fn.useRef(null),w=fn.useRef(null),L=fn.useCallback(N=>{S.current=N,typeof n=="function"?n(N):n&&(n.current=N)},[n]),[I,U]=fn.useState(!1),{margin:_,cells:F,numCells:R,calculatedImageSettings:k}=Mj({value:s,level:o,minVersion:u,boostLevel:d,includeMargin:c,marginSize:p,imageSettings:h,size:a});fn.useEffect(()=>{if(S.current!=null){const N=S.current,$=N.getContext("2d");if(!$)return;let P=F;const D=w.current,W=k!=null&&D!==null&&D.complete&&D.naturalHeight!==0&&D.naturalWidth!==0;W&&k.excavation!=null&&(P=Lj(F,k.excavation));const G=window.devicePixelRatio||1;N.height=N.width=a*G;const Z=a/R*G;$.scale(Z,Z),$.fillStyle=l,$.fillRect(0,0,R,R),$.fillStyle=A,C$?$.fill(new Path2D(Dj(P,_))):F.forEach(function(le,T){le.forEach(function(H,Q){H&&$.fillRect(Q+_,T+_,1,1)})}),k&&($.globalAlpha=k.opacity),W&&$.drawImage(D,k.x+_,k.y+_,k.w,k.h)}}),fn.useEffect(()=>{U(!1)},[C]);const j=T1({height:a,width:a},y);let M=null;return C!=null&&(M=fn.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{U(!0)},ref:w,crossOrigin:k==null?void 0:k.crossOrigin})),fn.createElement(fn.Fragment,null,fn.createElement("canvas",T1({style:j,height:a,width:a,ref:L,role:"img"},x)),M)});S$.displayName="QRCodeCanvas";var hg=fn.forwardRef(function(t,n){const r=t,{value:s,size:a=kj,level:o=Fj,bgColor:l=Nj,fgColor:A=Tj,includeMargin:c=_j,minVersion:u=Uj,boostLevel:d,title:p,marginSize:h,imageSettings:m}=r,g=_1(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:C,calculatedImageSettings:S}=Mj({value:s,level:o,minVersion:u,boostLevel:d,includeMargin:c,marginSize:h,imageSettings:m,size:a});let w=x,L=null;m!=null&&S!=null&&(S.excavation!=null&&(w=Lj(x,S.excavation)),L=fn.createElement("image",{href:m.src,height:S.h,width:S.w,x:S.x+y,y:S.y+y,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));const I=Dj(w,y);return fn.createElement("svg",T1({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:n,role:"img"},g),!!p&&fn.createElement("title",null,p),fn.createElement("path",{fill:l,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),fn.createElement("path",{fill:A,d:I,shapeRendering:"crispEdges"}),L)});hg.displayName="QRCodeSVG";const j$="modulepreload",E$=function(e){return"/admin/"+e},hB={},rh=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(A=>{if(A=E$(A),A in hB)return;hB[A]=!0;const c=A.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":j$,c||(d.as="script"),d.crossOrigin="",d.href=A,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((p,h)=>{d.addEventListener("load",p),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var Cs=Uint8Array,ii=Uint16Array,Lx=Int32Array,Nm=new Cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tm=new Cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U1=new Cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qj=function(e,t){for(var n=new ii(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new Lx(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},Pj=Qj(Nm,2),Rj=Pj.b,D1=Pj.r;Rj[28]=258,D1[258]=28;var Hj=Qj(Tm,0),I$=Hj.b,fB=Hj.r,L1=new ii(32768);for(var rr=0;rr<32768;++rr){var To=(rr&43690)>>1|(rr&21845)<<1;To=(To&52428)>>2|(To&13107)<<2,To=(To&61680)>>4|(To&3855)<<4,L1[rr]=((To&65280)>>8|(To&255)<<8)>>1}var ba=function(e,t,n){for(var r=e.length,s=0,a=new ii(t);s<r;++s)e[s]&&++a[e[s]-1];var o=new ii(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(n){l=new ii(1<<t);var A=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],d=o[e[s]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)l[L1[d]>>A]=c}else for(l=new ii(r),s=0;s<r;++s)e[s]&&(l[s]=L1[o[e[s]-1]++]>>15-e[s]);return l},nl=new Cs(288);for(var rr=0;rr<144;++rr)nl[rr]=8;for(var rr=144;rr<256;++rr)nl[rr]=9;for(var rr=256;rr<280;++rr)nl[rr]=7;for(var rr=280;rr<288;++rr)nl[rr]=8;var sh=new Cs(32);for(var rr=0;rr<32;++rr)sh[rr]=5;var k$=ba(nl,9,0),F$=ba(nl,9,1),N$=ba(sh,5,0),T$=ba(sh,5,1),uv=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ki=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},dv=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Mx=function(e){return(e+7)/8|0},Oj=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Cs(e.subarray(t,n))},_$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qi=function(e,t,n){var r=new Error(t||_$[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,qi),!n)throw r;return r},U$=function(e,t,n,r){var s=e.length,a=0;if(!s||t.f&&!t.l)return n||new Cs(0);var o=!n,l=o||t.i!=2,A=t.i;o&&(n=new Cs(s*3));var c=function(ce){var fe=n.length;if(ce>fe){var ue=new Cs(Math.max(fe*2,ce));ue.set(n),n=ue}},u=t.f||0,d=t.p||0,p=t.b||0,h=t.l,m=t.d,g=t.m,y=t.n,x=s*8;do{if(!h){u=Ki(e,d,1);var C=Ki(e,d+1,3);if(d+=3,C)if(C==1)h=F$,m=T$,g=9,y=5;else if(C==2){var I=Ki(e,d,31)+257,U=Ki(e,d+10,15)+4,_=I+Ki(e,d+5,31)+1;d+=14;for(var F=new Cs(_),R=new Cs(19),k=0;k<U;++k)R[U1[k]]=Ki(e,d+k*3,7);d+=U*3;for(var j=uv(R),M=(1<<j)-1,N=ba(R,j,1),k=0;k<_;){var $=N[Ki(e,d,M)];d+=$&15;var S=$>>4;if(S<16)F[k++]=S;else{var P=0,D=0;for(S==16?(D=3+Ki(e,d,3),d+=2,P=F[k-1]):S==17?(D=3+Ki(e,d,7),d+=3):S==18&&(D=11+Ki(e,d,127),d+=7);D--;)F[k++]=P}}var W=F.subarray(0,I),G=F.subarray(I);g=uv(W),y=uv(G),h=ba(W,g,1),m=ba(G,y,1)}else qi(1);else{var S=Mx(d)+4,w=e[S-4]|e[S-3]<<8,L=S+w;if(L>s){A&&qi(0);break}l&&c(p+w),n.set(e.subarray(S,L),p),t.b=p+=w,t.p=d=L*8,t.f=u;continue}if(d>x){A&&qi(0);break}}l&&c(p+131072);for(var Z=(1<<g)-1,le=(1<<y)-1,T=d;;T=d){var P=h[dv(e,d)&Z],H=P>>4;if(d+=P&15,d>x){A&&qi(0);break}if(P||qi(2),H<256)n[p++]=H;else if(H==256){T=d,h=null;break}else{var Q=H-254;if(H>264){var k=H-257,K=Nm[k];Q=Ki(e,d,(1<<K)-1)+Rj[k],d+=K}var V=m[dv(e,d)&le],X=V>>4;V||qi(3),d+=V&15;var G=I$[X];if(X>3){var K=Tm[X];G+=dv(e,d)&(1<<K)-1,d+=K}if(d>x){A&&qi(0);break}l&&c(p+131072);var ie=p+Q;if(p<G){var ae=a-G,Ce=Math.min(G,ie);for(ae+p<0&&qi(3);p<Ce;++p)n[p]=r[ae+p]}for(;p<ie;++p)n[p]=n[p-G]}}t.l=h,t.p=T,t.b=p,t.f=u,h&&(u=1,t.m=g,t.d=m,t.n=y)}while(!u);return p!=n.length&&o?Oj(n,0,p):n.subarray(0,p)},Ra=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ed=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},hv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:zj,l:0};if(s==1){var o=new Cs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(L,I){return L.f-I.f}),n.push({s:-1,f:25001});var l=n[0],A=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:l.f+A.f,l,r:A};u!=s-1;)l=n[n[c].f<n[d].f?c++:d++],A=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:l.f+A.f,l,r:A};for(var p=a[0].s,r=1;r<s;++r)a[r].s>p&&(p=a[r].s);var h=new ii(p+1),m=M1(n[u-1],h,0);if(m>t){var r=0,g=0,y=m-t,x=1<<y;for(a.sort(function(I,U){return h[U.s]-h[I.s]||I.f-U.f});r<s;++r){var C=a[r].s;if(h[C]>t)g+=x-(1<<m-h[C]),h[C]=t;else break}for(g>>=y;g>0;){var S=a[r].s;h[S]<t?g-=1<<t-h[S]++-1:++r}for(;r>=0&&g;--r){var w=a[r].s;h[w]==t&&(--h[w],++g)}m=t}return{t:new Cs(h),l:m}},M1=function(e,t,n){return e.s==-1?Math.max(M1(e.l,t,n+1),M1(e.r,t,n+1)):t[e.s]=n},pB=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ii(++t),r=0,s=e[0],a=1,o=function(A){n[r++]=A},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=e[l]}return{c:n.subarray(0,r),n:t}},td=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},$j=function(e,t,n){var r=n.length,s=Mx(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<r;++a)e[s+a+4]=n[a];return(s+4+r)*8},gB=function(e,t,n,r,s,a,o,l,A,c,u){Ra(t,u++,n),++s[256];for(var d=hv(s,15),p=d.t,h=d.l,m=hv(a,15),g=m.t,y=m.l,x=pB(p),C=x.c,S=x.n,w=pB(g),L=w.c,I=w.n,U=new ii(19),_=0;_<C.length;++_)++U[C[_]&31];for(var _=0;_<L.length;++_)++U[L[_]&31];for(var F=hv(U,7),R=F.t,k=F.l,j=19;j>4&&!R[U1[j-1]];--j);var M=c+5<<3,N=td(s,nl)+td(a,sh)+o,$=td(s,p)+td(a,g)+o+14+3*j+td(U,R)+2*U[16]+3*U[17]+7*U[18];if(A>=0&&M<=N&&M<=$)return $j(t,u,e.subarray(A,A+c));var P,D,W,G;if(Ra(t,u,1+($<N)),u+=2,$<N){P=ba(p,h,0),D=p,W=ba(g,y,0),G=g;var Z=ba(R,k,0);Ra(t,u,S-257),Ra(t,u+5,I-1),Ra(t,u+10,j-4),u+=14;for(var _=0;_<j;++_)Ra(t,u+3*_,R[U1[_]]);u+=3*j;for(var le=[C,L],T=0;T<2;++T)for(var H=le[T],_=0;_<H.length;++_){var Q=H[_]&31;Ra(t,u,Z[Q]),u+=R[Q],Q>15&&(Ra(t,u,H[_]>>5&127),u+=H[_]>>12)}}else P=k$,D=nl,W=N$,G=sh;for(var _=0;_<l;++_){var K=r[_];if(K>255){var Q=K>>18&31;ed(t,u,P[Q+257]),u+=D[Q+257],Q>7&&(Ra(t,u,K>>23&31),u+=Nm[Q]);var V=K&31;ed(t,u,W[V]),u+=G[V],V>3&&(ed(t,u,K>>5&8191),u+=Tm[V])}else ed(t,u,P[K]),u+=D[K]}return ed(t,u,P[256]),u+D[256]},D$=new Lx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zj=new Cs(0),L$=function(e,t,n,r,s,a){var o=a.z||e.length,l=new Cs(r+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(r,l.length-s),c=a.l,u=(a.r||0)&7;if(t){u&&(A[0]=a.r>>3);for(var d=D$[t-1],p=d>>13,h=d&8191,m=(1<<n)-1,g=a.p||new ii(32768),y=a.h||new ii(m+1),x=Math.ceil(n/3),C=2*x,S=function(we){return(e[we]^e[we+1]<<x^e[we+2]<<C)&m},w=new Lx(25e3),L=new ii(288),I=new ii(32),U=0,_=0,F=a.i||0,R=0,k=a.w||0,j=0;F+2<o;++F){var M=S(F),N=F&32767,$=y[M];if(g[N]=$,y[M]=N,k<=F){var P=o-F;if((U>7e3||R>24576)&&(P>423||!c)){u=gB(e,A,0,w,L,I,_,R,j,F-j,u),R=U=_=0,j=F;for(var D=0;D<286;++D)L[D]=0;for(var D=0;D<30;++D)I[D]=0}var W=2,G=0,Z=h,le=N-$&32767;if(P>2&&M==S(F-le))for(var T=Math.min(p,P)-1,H=Math.min(32767,F),Q=Math.min(258,P);le<=H&&--Z&&N!=$;){if(e[F+W]==e[F+W-le]){for(var K=0;K<Q&&e[F+K]==e[F+K-le];++K);if(K>W){if(W=K,G=le,K>T)break;for(var V=Math.min(le,K-2),X=0,D=0;D<V;++D){var ie=F-le+D&32767,ae=g[ie],Ce=ie-ae&32767;Ce>X&&(X=Ce,$=ie)}}}N=$,$=g[N],le+=N-$&32767}if(G){w[R++]=268435456|D1[W]<<18|fB[G];var ce=D1[W]&31,fe=fB[G]&31;_+=Nm[ce]+Tm[fe],++L[257+ce],++I[fe],k=F+W,++U}else w[R++]=e[F],++L[e[F]]}}for(F=Math.max(F,k);F<o;++F)w[R++]=e[F],++L[e[F]];u=gB(e,A,c,w,L,I,_,R,j,F-j,u),c||(a.r=u&7|A[u/8|0]<<3,u-=7,a.h=y,a.p=g,a.i=F,a.w=k)}else{for(var F=a.w||0;F<o+c;F+=65535){var ue=F+65535;ue>=o&&(A[u/8|0]=c,ue=o),u=$j(A,u+1,e.subarray(F,ue))}a.i=o}return Oj(l,0,r+Mx(u)+s)},Wj=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},M$=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Cs(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return L$(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},Kj=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Q$=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Wj();s.p(t.dictionary),Kj(e,2,s.d())}},P$=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&qi(6,"invalid zlib data"),(e[1]>>5&1)==1&&qi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Q1(e,t){t||(t={});var n=Wj();n.p(e);var r=M$(e,t,t.dictionary?6:2,4);return Q$(r,t),Kj(r,r.length-4,n.d()),r}function R$(e,t){return U$(e.subarray(P$(e),-4),{i:2},t,t)}var H$=typeof TextDecoder<"u"&&new TextDecoder,O$=0;try{H$.decode(zj,{stream:!0}),O$=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function fv(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Vn={log:fv,warn:function(e){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):fv.call(null,arguments))},error:function(e){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):fv(e))}};function pv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){jl(r.response,t,n)},r.onerror=function(){Vn.error("could not download file")},r.send()}function mB(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Rf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _d,P1,jl=Ht.saveAs||((typeof window>"u"?"undefined":dn(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ht.URL||Ht.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?mB(s.href)?pv(e,t,n):Rf(s,s.target="_blank"):Rf(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Rf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(mB(e))pv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Rf(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:dn(a)!=="object"&&(Vn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return pv(e,t,n);var s=e.type==="application/octet-stream",a=/constructor/i.test(Ht.HTMLElement)||Ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":dn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},l.readAsDataURL(e)}else{var A=Ht.URL||Ht.webkitURL,c=A.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){A.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Vj(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,o=s.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),c.length==1&&(c="0"+c),"#"+l+A+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gv(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=fs(n,r,s,a,t[0],7,-680876936),a=fs(a,n,r,s,t[1],12,-389564586),s=fs(s,a,n,r,t[2],17,606105819),r=fs(r,s,a,n,t[3],22,-1044525330),n=fs(n,r,s,a,t[4],7,-176418897),a=fs(a,n,r,s,t[5],12,1200080426),s=fs(s,a,n,r,t[6],17,-1473231341),r=fs(r,s,a,n,t[7],22,-45705983),n=fs(n,r,s,a,t[8],7,1770035416),a=fs(a,n,r,s,t[9],12,-1958414417),s=fs(s,a,n,r,t[10],17,-42063),r=fs(r,s,a,n,t[11],22,-1990404162),n=fs(n,r,s,a,t[12],7,1804603682),a=fs(a,n,r,s,t[13],12,-40341101),s=fs(s,a,n,r,t[14],17,-1502002290),n=ps(n,r=fs(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=ps(a,n,r,s,t[6],9,-1069501632),s=ps(s,a,n,r,t[11],14,643717713),r=ps(r,s,a,n,t[0],20,-373897302),n=ps(n,r,s,a,t[5],5,-701558691),a=ps(a,n,r,s,t[10],9,38016083),s=ps(s,a,n,r,t[15],14,-660478335),r=ps(r,s,a,n,t[4],20,-405537848),n=ps(n,r,s,a,t[9],5,568446438),a=ps(a,n,r,s,t[14],9,-1019803690),s=ps(s,a,n,r,t[3],14,-187363961),r=ps(r,s,a,n,t[8],20,1163531501),n=ps(n,r,s,a,t[13],5,-1444681467),a=ps(a,n,r,s,t[2],9,-51403784),s=ps(s,a,n,r,t[7],14,1735328473),n=gs(n,r=ps(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=gs(a,n,r,s,t[8],11,-2022574463),s=gs(s,a,n,r,t[11],16,1839030562),r=gs(r,s,a,n,t[14],23,-35309556),n=gs(n,r,s,a,t[1],4,-1530992060),a=gs(a,n,r,s,t[4],11,1272893353),s=gs(s,a,n,r,t[7],16,-155497632),r=gs(r,s,a,n,t[10],23,-1094730640),n=gs(n,r,s,a,t[13],4,681279174),a=gs(a,n,r,s,t[0],11,-358537222),s=gs(s,a,n,r,t[3],16,-722521979),r=gs(r,s,a,n,t[6],23,76029189),n=gs(n,r,s,a,t[9],4,-640364487),a=gs(a,n,r,s,t[12],11,-421815835),s=gs(s,a,n,r,t[15],16,530742520),n=ms(n,r=gs(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=ms(a,n,r,s,t[7],10,1126891415),s=ms(s,a,n,r,t[14],15,-1416354905),r=ms(r,s,a,n,t[5],21,-57434055),n=ms(n,r,s,a,t[12],6,1700485571),a=ms(a,n,r,s,t[3],10,-1894986606),s=ms(s,a,n,r,t[10],15,-1051523),r=ms(r,s,a,n,t[1],21,-2054922799),n=ms(n,r,s,a,t[8],6,1873313359),a=ms(a,n,r,s,t[15],10,-30611744),s=ms(s,a,n,r,t[6],15,-1560198380),r=ms(r,s,a,n,t[13],21,1309151649),n=ms(n,r,s,a,t[4],6,-145523070),a=ms(a,n,r,s,t[11],10,-1120210379),s=ms(s,a,n,r,t[2],15,718787259),r=ms(r,s,a,n,t[9],21,-343485551),e[0]=Oo(n,e[0]),e[1]=Oo(r,e[1]),e[2]=Oo(s,e[2]),e[3]=Oo(a,e[3])}function _m(e,t,n,r,s,a){return t=Oo(Oo(t,e),Oo(r,a)),Oo(t<<s|t>>>32-s,n)}function fs(e,t,n,r,s,a,o){return _m(t&n|~t&r,e,t,s,a,o)}function ps(e,t,n,r,s,a,o){return _m(t&r|n&~r,e,t,s,a,o)}function gs(e,t,n,r,s,a,o){return _m(t^n^r,e,t,s,a,o)}function ms(e,t,n,r,s,a,o){return _m(n^(t|~r),e,t,s,a,o)}function Gj(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gv(r,$$(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(gv(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,gv(r,s),r}function $$(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}_d=Ht.atob.bind(Ht),P1=Ht.btoa.bind(Ht);var vB="0123456789abcdef".split("");function z$(e){for(var t="",n=0;n<4;n++)t+=vB[e>>8*n+4&15]+vB[e>>8*n&15];return t}function W$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function R1(e){return Gj(e).map(W$).join("")}var K$=function(e){for(var t=0;t<e.length;t++)e[t]=z$(e[t]);return e.join("")}(Gj("hello"))!="5d41402abc4b2a76b9719d911017c592";function Oo(e,t){if(K$){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function H1(e,t){var n,r,s,a;if(e!==n){for(var o=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var c=0;for(A=0;A<256;A++){var u=l[A];c=(c+u+o.charCodeAt(A))%256,l[A]=l[c],l[c]=u}n=e,r=l}else l=r;var d=t.length,p=0,h=0,m="";for(A=0;A<d;A++)h=(h+(u=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=u,o=l[(l[p]+l[h])%256],m+=String.fromCharCode(t.charCodeAt(A)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yB={print:4,modify:8,copy:16,"annot-forms":32};function ZA(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(yB.perm!==void 0)throw new Error("Invalid permission: "+l);s+=yB[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=R1(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=H1(this.encryptionKey,this.padding)}function ec(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function xB(e){if(dn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){Ht.console&&Vn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function fg(e){if(!(this instanceof fg))return new fg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function qj(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Il(e,t,n,r,s){if(!(this instanceof Il))return new Il(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,qj.call(this,r,s)}function lc(e,t,n,r,s){if(!(this instanceof lc))return new lc(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,qj.call(this,r,s)}function Rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,A=16,c="S",u=null;dn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=xB;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(B){m=B};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var x=h.__private__.getPageFormat=function(B){return y[B]};s=s||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},S=C.COMPAT;function w(){this.saveGraphicsState(),re(new Ut(Ie,0,0,-Ie,0,mo()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),c="n",S=C.ADVANCED}function L(){this.restoreGraphicsState(),c="S",S=C.COMPAT}var I=h.__private__.combineFontStyleAndFontWeight=function(B,Y){if(B=="bold"&&Y=="normal"||B=="bold"&&Y==400||B=="normal"&&Y=="italic"||B=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(B=Y==400||Y==="normal"?B==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||B!=="normal"?(Y==700?"bold":Y)+""+B:"bold"),B};h.advancedAPI=function(B){var Y=S===C.COMPAT;return Y&&w.call(this),typeof B!="function"||(B(this),Y&&L.call(this)),this},h.compatAPI=function(B){var Y=S===C.ADVANCED;return Y&&L.call(this),typeof B!="function"||(B(this),Y&&w.call(this)),this},h.isAdvancedAPI=function(){return S===C.ADVANCED};var U,_=function(B){if(S!==C.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(B,Y){var de=t||Y;if(isNaN(B)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(de).replace(/0+$/,"")};U=h.hpf=h.__private__.hpf=typeof A=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return F(B,A)}:A==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return F(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return F(B,16)};var R=h.f2=h.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return F(B,2)},k=h.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return F(B,3)},j=h.scale=h.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return S===C.COMPAT?B*Ie:S===C.ADVANCED?B:void 0},M=function(B){return S===C.COMPAT?mo()-B:S===C.ADVANCED?B:void 0},N=function(B){return j(M(B))};h.__private__.setPrecision=h.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var $,P="00000000000000000000000000000000",D=h.__private__.getFileId=function(){return P},W=h.__private__.setFileId=function(B){return P=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():P.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ds=new ZA(u.userPermissions,u.userPassword,u.ownerPassword,P)),P};h.setFileId=function(B){return W(B),this},h.getFileId=function(){return D()};var G=h.__private__.convertDateToPDFDate=function(B){var Y=B.getTimezoneOffset(),de=Y<0?"+":"-",ve=Math.floor(Math.abs(Y/60)),Te=Math.abs(Y%60),Ge=[de,Q(ve),"'",Q(Te),"'"].join("");return["D:",B.getFullYear(),Q(B.getMonth()+1),Q(B.getDate()),Q(B.getHours()),Q(B.getMinutes()),Q(B.getSeconds()),Ge].join("")},Z=h.__private__.convertPDFDateToDate=function(B){var Y=parseInt(B.substr(2,4),10),de=parseInt(B.substr(6,2),10)-1,ve=parseInt(B.substr(8,2),10),Te=parseInt(B.substr(10,2),10),Ge=parseInt(B.substr(12,2),10),ot=parseInt(B.substr(14,2),10);return new Date(Y,de,ve,Te,Ge,ot,0)},le=h.__private__.setCreationDate=function(B){var Y;if(B===void 0&&(B=new Date),B instanceof Date)Y=G(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=B}return $=Y},T=h.__private__.getCreationDate=function(B){var Y=$;return B==="jsDate"&&(Y=Z($)),Y};h.setCreationDate=function(B){return le(B),this},h.getCreationDate=function(B){return T(B)};var H,Q=h.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},K=h.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},V=0,X=[],ie=[],ae=0,Ce=[],ce=[],fe=!1,ue=ie,we=function(){V=0,ae=0,ie=[],X=[],Ce=[],En=er(),Ot=er()};h.__private__.setCustomOutputDestination=function(B){fe=!0,ue=B};var he=function(B){fe||(ue=B)};h.__private__.resetCustomOutputDestination=function(){fe=!1,ue=ie};var re=h.__private__.out=function(B){return B=B.toString(),ae+=B.length+1,ue.push(B),ue},Ve=h.__private__.write=function(B){return re(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},ye=h.__private__.getArrayBuffer=function(B){for(var Y=B.length,de=new ArrayBuffer(Y),ve=new Uint8Array(de);Y--;)ve[Y]=B.charCodeAt(Y);return de},pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return pe};var Fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(B){return Fe=S===C.ADVANCED?B/Ie:B,this};var De,ze=h.__private__.getFontSize=h.getFontSize=function(){return S===C.COMPAT?Fe:Fe*Ie},Xe=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(B){return Xe=B,this},h.__private__.getR2L=h.getR2L=function(){return Xe};var at,ct=h.__private__.setZoomMode=function(B){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))De=B;else if(isNaN(B)){if(Y.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');De=B}else De=parseInt(B,10)};h.__private__.getZoomMode=function(){return De};var st,me=h.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');at=B};h.__private__.getPageMode=function(){return at};var Pe=h.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');st=B};h.__private__.getLayoutMode=function(){return st},h.__private__.setDisplayMode=h.setDisplayMode=function(B,Y,de){return ct(B),Pe(Y),me(de),this};var oe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(B){if(Object.keys(oe).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oe[B]},h.__private__.getDocumentProperties=function(){return oe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(B){for(var Y in oe)oe.hasOwnProperty(Y)&&B[Y]&&(oe[Y]=B[Y]);return this},h.__private__.setDocumentProperty=function(B,Y){if(Object.keys(oe).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oe[B]=Y};var ge,Ie,Ne,Ee,qe,Be={},Qe={},Se=[],He={},Oe={},_e={},Ke={},lt=null,ut=0,nt=[],xt=new xB(h),hn=e.hotfixes||[],Qt={},jn={},qn=[],Ut=function B(Y,de,ve,Te,Ge,ot){if(!(this instanceof B))return new B(Y,de,ve,Te,Ge,ot);isNaN(Y)&&(Y=1),isNaN(de)&&(de=0),isNaN(ve)&&(ve=0),isNaN(Te)&&(Te=1),isNaN(Ge)&&(Ge=0),isNaN(ot)&&(ot=0),this._matrix=[Y,de,ve,Te,Ge,ot]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(B)},Ut.prototype.multiply=function(B){var Y=B.sx*this.sx+B.shy*this.shx,de=B.sx*this.shy+B.shy*this.sy,ve=B.shx*this.sx+B.sy*this.shx,Te=B.shx*this.shy+B.sy*this.sy,Ge=B.tx*this.sx+B.ty*this.shx+this.tx,ot=B.tx*this.shy+B.ty*this.sy+this.ty;return new Ut(Y,de,ve,Te,Ge,ot)},Ut.prototype.decompose=function(){var B=this.sx,Y=this.shy,de=this.shx,ve=this.sy,Te=this.tx,Ge=this.ty,ot=Math.sqrt(B*B+Y*Y),St=(B/=ot)*de+(Y/=ot)*ve;de-=B*St,ve-=Y*St;var Mt=Math.sqrt(de*de+ve*ve);return St/=Mt,B*(ve/=Mt)<Y*(de/=Mt)&&(B=-B,Y=-Y,St=-St,ot=-ot),{scale:new Ut(ot,0,0,Mt,0,0),translate:new Ut(1,0,0,1,Te,Ge),rotate:new Ut(B,Y,-Y,B,0,0),skew:new Ut(1,0,St,1,0,0)}},Ut.prototype.toString=function(B){return this.join(" ")},Ut.prototype.inversed=function(){var B=this.sx,Y=this.shy,de=this.shx,ve=this.sy,Te=this.tx,Ge=this.ty,ot=1/(B*ve-Y*de),St=ve*ot,Mt=-Y*ot,Xt=-de*ot,Vt=B*ot;return new Ut(St,Mt,Xt,Vt,-St*Te-Xt*Ge,-Mt*Te-Vt*Ge)},Ut.prototype.applyToPoint=function(B){var Y=B.x*this.sx+B.y*this.shx+this.tx,de=B.x*this.shy+B.y*this.sy+this.ty;return new gA(Y,de)},Ut.prototype.applyToRectangle=function(B){var Y=this.applyToPoint(B),de=this.applyToPoint(new gA(B.x+B.w,B.y+B.h));return new xu(Y.x,Y.y,de.x-Y.x,de.y-Y.y)},Ut.prototype.clone=function(){var B=this.sx,Y=this.shy,de=this.shx,ve=this.sy,Te=this.tx,Ge=this.ty;return new Ut(B,Y,de,ve,Te,Ge)},h.Matrix=Ut;var ar=h.matrixMult=function(B,Y){return Y.multiply(B)},Lt=new Ut(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Lt;var Pn=function(B,Y){if(!Oe[B]){var de=(Y instanceof Il?"Sh":"P")+(Object.keys(He).length+1).toString(10);Y.id=de,Oe[B]=de,He[de]=Y,xt.publish("addPattern",Y)}};h.ShadingPattern=Il,h.TilingPattern=lc,h.addShadingPattern=function(B,Y){return _("addShadingPattern()"),Pn(B,Y),this},h.beginTilingPattern=function(B){_("beginTilingPattern()"),tf(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},h.endTilingPattern=function(B,Y){_("endTilingPattern()"),Y.stream=ce[H].join(`
`),Pn(B,Y),xt.publish("endTilingPattern",Y),qn.pop().restore()};var Rn=h.__private__.newObject=function(){var B=er();return _n(B,!0),B},er=h.__private__.newObjectDeferred=function(){return V++,X[V]=function(){return ae},V},_n=function(B,Y){return Y=typeof Y=="boolean"&&Y,X[B]=ae,Y&&re(B+" 0 obj"),B},ci=h.__private__.newAdditionalObject=function(){var B={objId:er(),content:""};return Ce.push(B),B},En=er(),Ot=er(),cr=h.__private__.decodeColorString=function(B){var Y=B.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var de=parseFloat(Y[0]);Y=[de,de,de,"r"]}for(var ve="#",Te=0;Te<3;Te++)ve+=("0"+Math.floor(255*parseFloat(Y[Te])).toString(16)).slice(-2);return ve},wr=h.__private__.encodeColorString=function(B){var Y;typeof B=="string"&&(B={ch1:B});var de=B.ch1,ve=B.ch2,Te=B.ch3,Ge=B.ch4,ot=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var St=new Vj(de);if(St.ok)de=St.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Mt=parseInt(de.substr(1),16);de=Mt>>16&255,ve=Mt>>8&255,Te=255&Mt}if(ve===void 0||Ge===void 0&&de===ve&&ve===Te)if(typeof de=="string")Y=de+" "+ot[0];else switch(B.precision){case 2:Y=R(de/255)+" "+ot[0];break;case 3:default:Y=k(de/255)+" "+ot[0]}else if(Ge===void 0||dn(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return Y=["1.","1.","1.",ot[1]].join(" ");if(typeof de=="string")Y=[de,ve,Te,ot[1]].join(" ");else switch(B.precision){case 2:Y=[R(de/255),R(ve/255),R(Te/255),ot[1]].join(" ");break;default:case 3:Y=[k(de/255),k(ve/255),k(Te/255),ot[1]].join(" ")}}else if(typeof de=="string")Y=[de,ve,Te,Ge,ot[2]].join(" ");else switch(B.precision){case 2:Y=[R(de),R(ve),R(Te),R(Ge),ot[2]].join(" ");break;case 3:default:Y=[k(de),k(ve),k(Te),k(Ge),ot[2]].join(" ")}return Y},Es=h.__private__.getFilters=function(){return o},Hr=h.__private__.putStream=function(B){var Y=(B=B||{}).data||"",de=B.filters||Es(),ve=B.alreadyAppliedFilters||[],Te=B.addLength1||!1,Ge=Y.length,ot=B.objectId,St=function(hs){return hs};if(u!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(St=ds.encryptor(ot,0));var Mt={};de===!0&&(de=["FlateEncode"]);var Xt=B.additionalKeyValues||[],Vt=(Mt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(Y,de):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Mt.data.length!==0&&(Xt.push({key:"Length",value:Mt.data.length}),Te===!0&&Xt.push({key:"Length1",value:Ge})),Vt.length!=0)if(Vt.split("/").length-1==1)Xt.push({key:"Filter",value:Vt});else{Xt.push({key:"Filter",value:"["+Vt+"]"});for(var vn=0;vn<Xt.length;vn+=1)if(Xt[vn].key==="DecodeParms"){for(var ur=[],pr=0;pr<Mt.reverseChain.split("/").length-1;pr+=1)ur.push("null");ur.push(Xt[vn].value),Xt[vn].value="["+ur.join(" ")+"]"}}re("<<");for(var Dr=0;Dr<Xt.length;Dr++)re("/"+Xt[Dr].key+" "+Xt[Dr].value);re(">>"),Mt.data.length!==0&&(re("stream"),re(St(Mt.data)),re("endstream"))},or=h.__private__.putPage=function(B){var Y=B.number,de=B.data,ve=B.objId,Te=B.contentsObjId;_n(ve,!0),re("<</Type /Page"),re("/Parent "+B.rootDictionaryObjId+" 0 R"),re("/Resources "+B.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(U(B.mediaBox.bottomLeftX))+" "+parseFloat(U(B.mediaBox.bottomLeftY))+" "+U(B.mediaBox.topRightX)+" "+U(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&re("/CropBox ["+U(B.cropBox.bottomLeftX)+" "+U(B.cropBox.bottomLeftY)+" "+U(B.cropBox.topRightX)+" "+U(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&re("/BleedBox ["+U(B.bleedBox.bottomLeftX)+" "+U(B.bleedBox.bottomLeftY)+" "+U(B.bleedBox.topRightX)+" "+U(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&re("/TrimBox ["+U(B.trimBox.bottomLeftX)+" "+U(B.trimBox.bottomLeftY)+" "+U(B.trimBox.topRightX)+" "+U(B.trimBox.topRightY)+"]"),B.artBox!==null&&re("/ArtBox ["+U(B.artBox.bottomLeftX)+" "+U(B.artBox.bottomLeftY)+" "+U(B.artBox.topRightX)+" "+U(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&re("/UserUnit "+B.userUnit),xt.publish("putPage",{objId:ve,pageContext:nt[Y],pageNumber:Y,page:de}),re("/Contents "+Te+" 0 R"),re(">>"),re("endobj");var Ge=de.join(`
`);return S===C.ADVANCED&&(Ge+=`
Q`),_n(Te,!0),Hr({data:Ge,filters:Es(),objectId:Te}),re("endobj"),ve},Hn=h.__private__.putPages=function(){var B,Y,de=[];for(B=1;B<=ut;B++)nt[B].objId=er(),nt[B].contentsObjId=er();for(B=1;B<=ut;B++)de.push(or({number:B,data:ce[B],objId:nt[B].objId,contentsObjId:nt[B].contentsObjId,mediaBox:nt[B].mediaBox,cropBox:nt[B].cropBox,bleedBox:nt[B].bleedBox,trimBox:nt[B].trimBox,artBox:nt[B].artBox,userUnit:nt[B].userUnit,rootDictionaryObjId:En,resourceDictionaryObjId:Ot}));_n(En,!0),re("<</Type /Pages");var ve="/Kids [";for(Y=0;Y<ut;Y++)ve+=de[Y]+" 0 R ";re(ve+"]"),re("/Count "+ut),re(">>"),re("endobj"),xt.publish("postPutPages")},$t=function(B){xt.publish("putFont",{font:B,out:re,newObject:Rn,putStream:Hr}),B.isAlreadyPutted!==!0&&(B.objectNumber=Rn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+ec(B.postScriptName)),re("/Subtype /Type1"),typeof B.encoding=="string"&&re("/Encoding /"+B.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},fr=function(){for(var B in Be)Be.hasOwnProperty(B)&&(d===!1||d===!0&&p.hasOwnProperty(B))&&$t(Be[B])},ho=function(B){B.objectNumber=Rn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[U(B.x),U(B.y),U(B.x+B.width),U(B.y+B.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var de=B.pages[1].join(`
`);Hr({data:de,additionalKeyValues:Y,objectId:B.objectNumber}),re("endobj")},fo=function(){for(var B in Qt)Qt.hasOwnProperty(B)&&ho(Qt[B])},oA=function(B,Y){var de,ve=[],Te=1/(Y-1);for(de=0;de<1;de+=Te)ve.push(de);if(ve.push(1),B[0].offset!=0){var Ge={offset:0,color:B[0].color};B.unshift(Ge)}if(B[B.length-1].offset!=1){var ot={offset:1,color:B[B.length-1].color};B.push(ot)}for(var St="",Mt=0,Xt=0;Xt<ve.length;Xt++){for(de=ve[Xt];de>B[Mt+1].offset;)Mt++;var Vt=B[Mt].offset,vn=(de-Vt)/(B[Mt+1].offset-Vt),ur=B[Mt].color,pr=B[Mt+1].color;St+=K(Math.round((1-vn)*ur[0]+vn*pr[0]).toString(16))+K(Math.round((1-vn)*ur[1]+vn*pr[1]).toString(16))+K(Math.round((1-vn)*ur[2]+vn*pr[2]).toString(16))}return St.trim()},Au=function(B,Y){Y||(Y=21);var de=Rn(),ve=oA(B.colors,Y),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+Y+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hr({data:ve,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),re("endobj"),B.objectNumber=Rn(),re("<< /ShadingType "+B.type),re("/ColorSpace /DeviceRGB");var Ge="/Coords ["+U(parseFloat(B.coords[0]))+" "+U(parseFloat(B.coords[1]))+" ";B.type===2?Ge+=U(parseFloat(B.coords[2]))+" "+U(parseFloat(B.coords[3])):Ge+=U(parseFloat(B.coords[2]))+" "+U(parseFloat(B.coords[3]))+" "+U(parseFloat(B.coords[4]))+" "+U(parseFloat(B.coords[5])),re(Ge+="]"),B.matrix&&re("/Matrix ["+B.matrix.toString()+"]"),re("/Function "+de+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Mh=function(B,Y){var de=er(),ve=Rn();Y.push({resourcesOid:de,objectOid:ve}),B.objectNumber=ve;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+B.boundingBox.map(U).join(" ")+"]"}),Te.push({key:"XStep",value:U(B.xStep)}),Te.push({key:"YStep",value:U(B.yStep)}),Te.push({key:"Resources",value:de+" 0 R"}),B.matrix&&Te.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Hr({data:B.stream,additionalKeyValues:Te,objectId:B.objectNumber}),re("endobj")},lA=function(B){var Y;for(Y in He)He.hasOwnProperty(Y)&&(He[Y]instanceof Il?Au(He[Y]):He[Y]instanceof lc&&Mh(He[Y],B))},Qh=function(B){for(var Y in B.objectNumber=Rn(),re("<<"),B)switch(Y){case"opacity":re("/ca "+R(B[Y]));break;case"stroke-opacity":re("/CA "+R(B[Y]))}re(">>"),re("endobj")},Xm=function(){var B;for(B in _e)_e.hasOwnProperty(B)&&Qh(_e[B])},cu=function(){for(var B in re("/XObject <<"),Qt)Qt.hasOwnProperty(B)&&Qt[B].objectNumber>=0&&re("/"+B+" "+Qt[B].objectNumber+" 0 R");xt.publish("putXobjectDict"),re(">>")},Jm=function(){ds.oid=Rn(),re("<<"),re("/Filter /Standard"),re("/V "+ds.v),re("/R "+ds.r),re("/U <"+ds.toHexString(ds.U)+">"),re("/O <"+ds.toHexString(ds.O)+">"),re("/P "+ds.P),re(">>"),re("endobj")},Ph=function(){for(var B in re("/Font <<"),Be)Be.hasOwnProperty(B)&&(d===!1||d===!0&&p.hasOwnProperty(B))&&re("/"+B+" "+Be[B].objectNumber+" 0 R");re(">>")},Zm=function(){if(Object.keys(He).length>0){for(var B in re("/Shading <<"),He)He.hasOwnProperty(B)&&He[B]instanceof Il&&He[B].objectNumber>=0&&re("/"+B+" "+He[B].objectNumber+" 0 R");xt.publish("putShadingPatternDict"),re(">>")}},AA=function(B){if(Object.keys(He).length>0){for(var Y in re("/Pattern <<"),He)He.hasOwnProperty(Y)&&He[Y]instanceof h.TilingPattern&&He[Y].objectNumber>=0&&He[Y].objectNumber<B&&re("/"+Y+" "+He[Y].objectNumber+" 0 R");xt.publish("putTilingPatternDict"),re(">>")}},e0=function(){if(Object.keys(_e).length>0){var B;for(B in re("/ExtGState <<"),_e)_e.hasOwnProperty(B)&&_e[B].objectNumber>=0&&re("/"+B+" "+_e[B].objectNumber+" 0 R");xt.publish("putGStateDict"),re(">>")}},Br=function(B){_n(B.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ph(),Zm(),AA(B.objectOid),e0(),cu(),re(">>"),re("endobj")},Rh=function(){var B=[];fr(),Xm(),fo(),lA(B),xt.publish("putResources"),B.forEach(Br),Br({resourcesOid:Ot,objectOid:Number.MAX_SAFE_INTEGER}),xt.publish("postPutResources")},Hh=function(){xt.publish("putAdditionalObjects");for(var B=0;B<Ce.length;B++){var Y=Ce[B];_n(Y.objId,!0),re(Y.content),re("endobj")}xt.publish("postPutAdditionalObjects")},Oh=function(B){Qe[B.fontName]=Qe[B.fontName]||{},Qe[B.fontName][B.fontStyle]=B.id},uu=function(B,Y,de,ve,Te){var Ge={id:"F"+(Object.keys(Be).length+1).toString(10),postScriptName:B,fontName:Y,fontStyle:de,encoding:ve,isStandardFont:Te||!1,metadata:{}};return xt.publish("addFont",{font:Ge,instance:this}),Be[Ge.id]=Ge,Oh(Ge),Ge.id},t0=function(B){for(var Y=0,de=pe.length;Y<de;Y++){var ve=uu.call(this,B[Y][0],B[Y][1],B[Y][2],pe[Y][3],!0);d===!1&&(p[ve]=!0);var Te=B[Y][0].split("-");Oh({id:ve,fontName:Te[0],fontStyle:Te[1]||""})}xt.publish("addFonts",{fonts:Be,dictionary:Qe})},Hi=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(ve){var Y=ve.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var de="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Ht.console)throw new Error(de);Ht.console.error(de,ve),Ht.alert&&alert(de)}},B.foo.bar=B,B.foo},cA=function(B,Y){var de,ve,Te,Ge,ot,St,Mt,Xt,Vt;if(Te=(Y=Y||{}).sourceEncoding||"Unicode",ot=Y.outputEncoding,(Y.autoencode||ot)&&Be[ge].metadata&&Be[ge].metadata[Te]&&Be[ge].metadata[Te].encoding&&(Ge=Be[ge].metadata[Te].encoding,!ot&&Be[ge].encoding&&(ot=Be[ge].encoding),!ot&&Ge.codePages&&(ot=Ge.codePages[0]),typeof ot=="string"&&(ot=Ge[ot]),ot)){for(Mt=!1,St=[],de=0,ve=B.length;de<ve;de++)(Xt=ot[B.charCodeAt(de)])?St.push(String.fromCharCode(Xt)):St.push(B[de]),St[de].charCodeAt(0)>>8&&(Mt=!0);B=St.join("")}for(de=B.length;Mt===void 0&&de!==0;)B.charCodeAt(de-1)>>8&&(Mt=!0),de--;if(!Mt)return B;for(St=Y.noBOM?[]:[254,255],de=0,ve=B.length;de<ve;de++){if((Vt=(Xt=B.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(Vt),St.push(Xt-(Vt<<8))}return String.fromCharCode.apply(void 0,St)},Ms=h.__private__.pdfEscape=h.pdfEscape=function(B,Y){return cA(B,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},du=h.__private__.beginPage=function(B){ce[++ut]=[],nt[ut]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},zh(ut),he(ce[H])},$h=function(B,Y){var de,ve,Te;switch(n=Y||n,typeof B=="string"&&(de=x(B.toLowerCase()),Array.isArray(de)&&(ve=de[0],Te=de[1])),Array.isArray(B)&&(ve=B[0]*Ie,Te=B[1]*Ie),isNaN(ve)&&(ve=s[0],Te=s[1]),(ve>14400||Te>14400)&&(Vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Te=Math.min(14400,Te)),s=[ve,Te],n.substr(0,1)){case"l":Te>ve&&(s=[Te,ve]);break;case"p":ve>Te&&(s=[Te,ve])}du(s),Yh(gu),re(Oi),vu!==0&&re(vu+" J"),yu!==0&&re(yu+" j"),xt.publish("addPage",{pageNumber:ut})},n0=function(B){B>0&&B<=ut&&(ce.splice(B,1),nt.splice(B,1),ut--,H>ut&&(H=ut),this.setPage(H))},zh=function(B){B>0&&B<=ut&&(H=B)},r0=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ce.length-1},Wh=function(B,Y,de){var ve,Te=void 0;return de=de||{},B=B!==void 0?B:Be[ge].fontName,Y=Y!==void 0?Y:Be[ge].fontStyle,ve=B.toLowerCase(),Qe[ve]!==void 0&&Qe[ve][Y]!==void 0?Te=Qe[ve][Y]:Qe[B]!==void 0&&Qe[B][Y]!==void 0?Te=Qe[B][Y]:de.disableWarning===!1&&Vn.warn("Unable to look up font label for font '"+B+"', '"+Y+"'. Refer to getFontList() for available fonts."),Te||de.noFallback||(Te=Qe.times[Y])==null&&(Te=Qe.times.normal),Te},s0=h.__private__.putInfo=function(){var B=Rn(),Y=function(ve){return ve};for(var de in u!==null&&(Y=ds.encryptor(B,0)),re("<<"),re("/Producer ("+Ms(Y("jsPDF "+Rt.version))+")"),oe)oe.hasOwnProperty(de)&&oe[de]&&re("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+Ms(Y(oe[de]))+")");re("/CreationDate ("+Ms(Y($))+")"),re(">>"),re("endobj")},hu=h.__private__.putCatalog=function(B){var Y=(B=B||{}).rootDictionaryObjId||En;switch(Rn(),re("<<"),re("/Type /Catalog"),re("/Pages "+Y+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+De;de.substr(de.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&re("/OpenAction [3 0 R /XYZ null null "+R(De)+"]")}switch(st||(st="continuous"),st){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}at&&re("/PageMode /"+at),xt.publish("putCatalog"),re(">>"),re("endobj")},i0=h.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(V+1)),re("/Root "+V+" 0 R"),re("/Info "+(V-1)+" 0 R"),u!==null&&re("/Encrypt "+ds.oid+" 0 R"),re("/ID [ <"+P+"> <"+P+"> ]"),re(">>")},a0=h.__private__.putHeader=function(){re("%PDF-"+m),re("%ºß¬à")},o0=h.__private__.putXRef=function(){var B="0000000000";re("xref"),re("0 "+(V+1)),re("0000000000 65535 f ");for(var Y=1;Y<=V;Y++)typeof X[Y]=="function"?re((B+X[Y]()).slice(-10)+" 00000 n "):X[Y]!==void 0?re((B+X[Y]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Na=h.__private__.buildDocument=function(){we(),he(ie),xt.publish("buildDocument"),a0(),Hn(),Hh(),Rh(),u!==null&&Jm(),s0(),hu();var B=ae;return o0(),i0(),re("startxref"),re(""+B),re("%%EOF"),he(ce[H]),ie.join(`
`)},uA=h.__private__.getBlob=function(B){return new Blob([ye(B)],{type:"application/pdf"})},dA=h.output=h.__private__.output=Hi(function(B,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",B){case void 0:return Na();case"save":h.save(Y.filename);break;case"arraybuffer":return ye(Na());case"blob":return uA(Na());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(uA(Na()))||void 0;Vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ve=Na();try{de=P1(ve)}catch{de=P1(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+Y.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Te=Y.pdfObjectUrl,Ge="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",St=Ht.open();return St!==null&&St.document.write(ot),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Xt=Ht.open();if(Xt!==null){Xt.document.write(Mt);var Vt=this;Xt.document.documentElement.querySelector("#pdfViewer").onload=function(){Xt.document.title=Y.filename,Xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Vt.output("bloburl"))}}return Xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',ur=Ht.open();if(ur!==null&&(ur.document.write(vn),ur.document.title=Y.filename),ur||typeof safari>"u")return ur;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",Y);default:return null}}),Kh=function(B){return Array.isArray(hn)===!0&&hn.indexOf(B)>-1};switch(r){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=Kh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ie=r}var ds=null;le(),W();var l0=function(B){return u!==null?ds.encryptor(B,0):function(Y){return Y}},Vh=h.__private__.getPageInfo=h.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[B].objId,pageNumber:B,pageContext:nt[B]}},Kt=h.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in nt)if(nt[Y].objId===B)break;return Vh(Y)},A0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:nt[H].objId,pageNumber:H,pageContext:nt[H]}};h.addPage=function(){return $h.apply(this,arguments),this},h.setPage=function(){return zh.apply(this,arguments),he.call(this,ce[H]),this},h.insertPage=function(B){return this.addPage(),this.movePage(H,B),this},h.movePage=function(B,Y){var de,ve;if(B>Y){de=ce[B],ve=nt[B];for(var Te=B;Te>Y;Te--)ce[Te]=ce[Te-1],nt[Te]=nt[Te-1];ce[Y]=de,nt[Y]=ve,this.setPage(Y)}else if(B<Y){de=ce[B],ve=nt[B];for(var Ge=B;Ge<Y;Ge++)ce[Ge]=ce[Ge+1],nt[Ge]=nt[Ge+1];ce[Y]=de,nt[Y]=ve,this.setPage(Y)}return this},h.deletePage=function(){return n0.apply(this,arguments),this},h.__private__.text=h.text=function(B,Y,de,ve,Te){var Ge,ot,St,Mt,Xt,Vt,vn,ur,pr,Dr=(ve=ve||{}).scope||this;if(typeof B=="number"&&typeof Y=="number"&&(typeof de=="string"||Array.isArray(de))){var hs=de;de=Y,Y=B,B=hs}if(arguments[3]instanceof Ut?(_("The transform parameter of text() with a Matrix value"),pr=Te):(St=arguments[4],Mt=arguments[5],dn(vn=arguments[3])==="object"&&vn!==null||(typeof St=="string"&&(Mt=St,St=null),typeof vn=="string"&&(Mt=vn,vn=null),typeof vn=="number"&&(St=vn,vn=null),ve={flags:vn,angle:St,align:Mt})),isNaN(Y)||isNaN(de)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Dr;var Vr="",$i=!1,Xs=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:cl,ia=Dr.internal.scaleFactor;function nf(Yn){return Yn=Yn.split("	").join(Array(ve.TabLen||9).join(" ")),Ms(Yn,vn)}function Cu(Yn){for(var Xn,Sr=Yn.concat(),Or=[],La=Sr.length;La--;)typeof(Xn=Sr.shift())=="string"?Or.push(Xn):Array.isArray(Yn)&&(Xn.length===1||Xn[1]===void 0&&Xn[2]===void 0)?Or.push(Xn[0]):Or.push([Xn[0],Xn[1],Xn[2]]);return Or}function Su(Yn,Xn){var Sr;if(typeof Yn=="string")Sr=Xn(Yn)[0];else if(Array.isArray(Yn)){for(var Or,La,_u=Yn.concat(),EA=[],lf=_u.length;lf--;)typeof(Or=_u.shift())=="string"?EA.push(Xn(Or)[0]):Array.isArray(Or)&&typeof Or[0]=="string"&&(La=Xn(Or[0],Or[1],Or[2]),EA.push([La[0],La[1],La[2]]));Sr=EA}return Sr}var vA=!1,ju=!0;if(typeof B=="string")vA=!0;else if(Array.isArray(B)){var Eu=B.concat();ot=[];for(var yA,is=Eu.length;is--;)(typeof(yA=Eu.shift())!="string"||Array.isArray(yA)&&typeof yA[0]!="string")&&(ju=!1);vA=ju}if(vA===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var xA=Fe/Dr.internal.scaleFactor,bA=xA*(Xs-1);switch(ve.baseline){case"bottom":de-=bA;break;case"top":de+=xA-bA;break;case"hanging":de+=xA-2*bA;break;case"middle":de+=xA/2-bA}if((Vt=ve.maxWidth||0)>0&&(typeof B=="string"?B=Dr.splitTextToSize(B,Vt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(Yn,Xn){return Yn.concat(Dr.splitTextToSize(Xn,Vt))},[]))),Ge={text:B,x:Y,y:de,options:ve,mutex:{pdfEscape:Ms,activeFontKey:ge,fonts:Be,activeFontSize:Fe}},xt.publish("preProcessText",Ge),B=Ge.text,St=(ve=Ge.options).angle,!(pr instanceof Ut)&&St&&typeof St=="number"){St*=Math.PI/180,ve.rotationDirection===0&&(St=-St),S===C.ADVANCED&&(St=-St);var wA=Math.cos(St),Iu=Math.sin(St);pr=new Ut(wA,Iu,-Iu,wA,0,0)}else St&&St instanceof Ut&&(pr=St);S!==C.ADVANCED||pr||(pr=Lt),(Xt=ve.charSpace||pA)!==void 0&&(Vr+=U(j(Xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ur=ve.horizontalScale)!==void 0&&(Vr+=U(100*ur)+` Tz
`),ve.lang;var Qs=-1,y0=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,ku=Dr.internal.getCurrentPageInfo().pageContext;switch(y0){case 0:case!1:case"fill":Qs=0;break;case 1:case!0:case"stroke":Qs=1;break;case 2:case"fillThenStroke":Qs=2;break;case 3:case"invisible":Qs=3;break;case 4:case"fillAndAddForClipping":Qs=4;break;case 5:case"strokeAndAddPathForClipping":Qs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qs=6;break;case 7:case"addToPathForClipping":Qs=7}var rf=ku.usedRenderingMode!==void 0?ku.usedRenderingMode:-1;Qs!==-1?Vr+=Qs+` Tr
`:rf!==-1&&(Vr+=`0 Tr
`),Qs!==-1&&(ku.usedRenderingMode=Qs),Mt=ve.align||"left";var ui,BA=Fe*Xs,sf=Dr.internal.pageSize.getWidth(),af=Be[ge];Xt=ve.charSpace||pA,Vt=ve.maxWidth||0,vn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var vo=[],hl=function(Yn){return Dr.getStringUnitWidth(Yn,{font:af,charSpace:Xt,fontSize:Fe,doKerning:!1})*Fe/ia};if(Object.prototype.toString.call(B)==="[object Array]"){var Ps;ot=Cu(B),Mt!=="left"&&(ui=ot.map(hl));var Is,yo=0;if(Mt==="right"){Y-=ui[0],B=[],is=ot.length;for(var _a=0;_a<is;_a++)_a===0?(Is=sa(Y),Ps=Ta(de)):(Is=j(yo-ui[_a]),Ps=-BA),B.push([ot[_a],Is,Ps]),yo=ui[_a]}else if(Mt==="center"){Y-=ui[0]/2,B=[],is=ot.length;for(var Ua=0;Ua<is;Ua++)Ua===0?(Is=sa(Y),Ps=Ta(de)):(Is=j((yo-ui[Ua])/2),Ps=-BA),B.push([ot[Ua],Is,Ps]),yo=ui[Ua]}else if(Mt==="left"){B=[],is=ot.length;for(var CA=0;CA<is;CA++)B.push(ot[CA])}else if(Mt==="justify"&&af.encoding==="Identity-H"){B=[],is=ot.length,Vt=Vt!==0?Vt:sf;for(var Da=0,Cr=0;Cr<is;Cr++)if(Ps=Cr===0?Ta(de):-BA,Is=Cr===0?sa(Y):Da,Cr<is-1){var Fu=j((Vt-ui[Cr])/(ot[Cr].split(" ").length-1)),ks=ot[Cr].split(" ");B.push([ks[0]+" ",Is,Ps]),Da=0;for(var di=1;di<ks.length;di++){var SA=(hl(ks[di-1]+" "+ks[di])-hl(ks[di]))*ia+Fu;di==ks.length-1?B.push([ks[di],SA,0]):B.push([ks[di]+" ",SA,0]),Da-=SA}}else B.push([ot[Cr],Is,Ps]);B.push(["",Da,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],is=ot.length,Vt=Vt!==0?Vt:sf,Cr=0;Cr<is;Cr++)Ps=Cr===0?Ta(de):-BA,Is=Cr===0?sa(Y):0,Cr<is-1?vo.push(U(j((Vt-ui[Cr])/(ot[Cr].split(" ").length-1)))):vo.push(0),B.push([ot[Cr],Is,Ps])}}var of=typeof ve.R2L=="boolean"?ve.R2L:Xe;of===!0&&(B=Su(B,function(Yn,Xn,Sr){return[Yn.split("").reverse().join(""),Xn,Sr]})),Ge={text:B,x:Y,y:de,options:ve,mutex:{pdfEscape:Ms,activeFontKey:ge,fonts:Be,activeFontSize:Fe}},xt.publish("postProcessText",Ge),B=Ge.text,$i=Ge.mutex.isHex||!1;var Nu=Be[ge].encoding;Nu!=="WinAnsiEncoding"&&Nu!=="StandardEncoding"||(B=Su(B,function(Yn,Xn,Sr){return[nf(Yn),Xn,Sr]})),ot=Cu(B),B=[];for(var fl,pl,xo,gl=0,jA=1,ml=Array.isArray(ot[0])?jA:gl,bo="",Tu=function(Yn,Xn,Sr){var Or="";return Sr instanceof Ut?(Sr=typeof ve.angle=="number"?ar(Sr,new Ut(1,0,0,1,Yn,Xn)):ar(new Ut(1,0,0,1,Yn,Xn),Sr),S===C.ADVANCED&&(Sr=ar(new Ut(1,0,0,-1,0,0),Sr)),Or=Sr.join(" ")+` Tm
`):Or=U(Yn)+" "+U(Xn)+` Td
`,Or},hi=0;hi<ot.length;hi++){switch(bo="",ml){case jA:xo=($i?"<":"(")+ot[hi][0]+($i?">":")"),fl=parseFloat(ot[hi][1]),pl=parseFloat(ot[hi][2]);break;case gl:xo=($i?"<":"(")+ot[hi]+($i?">":")"),fl=sa(Y),pl=Ta(de)}vo!==void 0&&vo[hi]!==void 0&&(bo=vo[hi]+` Tw
`),hi===0?B.push(bo+Tu(fl,pl,pr)+xo):ml===gl?B.push(bo+xo):ml===jA&&B.push(bo+Tu(fl,pl,pr)+xo)}B=ml===gl?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var fi=`BT
/`;return fi+=ge+" "+Fe+` Tf
`,fi+=U(Fe*Xs)+` TL
`,fi+=ul+`
`,fi+=Vr,fi+=B,re(fi+="ET"),p[ge]=!0,Dr};var c0=h.__private__.clip=h.clip=function(B){return re(B==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return c0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return re("n"),this};var ra=h.__private__.isValidStyle=function(B){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(Y=!0),Y};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(B){return ra(B)&&(c=B),this};var Gh=h.__private__.getStyle=h.getStyle=function(B){var Y=c;switch(B){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=B}return Y},qh=h.close=function(){return re("h"),this};h.stroke=function(){return re("S"),this},h.fill=function(B){return hA("f",B),this},h.fillEvenOdd=function(B){return hA("f*",B),this},h.fillStroke=function(B){return hA("B",B),this},h.fillStrokeEvenOdd=function(B){return hA("B*",B),this};var hA=function(B,Y){dn(Y)==="object"?d0(Y,B):re(B)},fu=function(B){B===null||S===C.ADVANCED&&B===void 0||(B=Gh(B),re(B))};function u0(B,Y,de,ve,Te){var Ge=new lc(Y||this.boundingBox,de||this.xStep,ve||this.yStep,this.gState,Te||this.matrix);Ge.stream=this.stream;var ot=B+"$$"+this.cloneIndex+++"$$";return Pn(ot,Ge),Ge}var d0=function(B,Y){var de=Oe[B.key],ve=He[de];if(ve instanceof Il)re("q"),re(h0(Y)),ve.gState&&h.setGState(ve.gState),re(B.matrix.toString()+" cm"),re("/"+de+" sh"),re("Q");else if(ve instanceof lc){var Te=new Ut(1,0,0,-1,0,mo());B.matrix&&(Te=Te.multiply(B.matrix||Lt),de=u0.call(ve,B.key,B.boundingBox,B.xStep,B.yStep,Te).id),re("q"),re("/Pattern cs"),re("/"+de+" scn"),ve.gState&&h.setGState(ve.gState),re(Y),re("Q")}},h0=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},pu=h.moveTo=function(B,Y){return re(U(j(B))+" "+U(N(Y))+" m"),this},Al=h.lineTo=function(B,Y){return re(U(j(B))+" "+U(N(Y))+" l"),this},po=h.curveTo=function(B,Y,de,ve,Te,Ge){return re([U(j(B)),U(N(Y)),U(j(de)),U(N(ve)),U(j(Te)),U(N(Ge)),"c"].join(" ")),this};h.__private__.line=h.line=function(B,Y,de,ve,Te){if(isNaN(B)||isNaN(Y)||isNaN(de)||isNaN(ve)||!ra(Te))throw new Error("Invalid arguments passed to jsPDF.line");return S===C.COMPAT?this.lines([[de-B,ve-Y]],B,Y,[1,1],Te||"S"):this.lines([[de-B,ve-Y]],B,Y,[1,1]).stroke()},h.__private__.lines=h.lines=function(B,Y,de,ve,Te,Ge){var ot,St,Mt,Xt,Vt,vn,ur,pr,Dr,hs,Vr,$i;if(typeof B=="number"&&($i=de,de=Y,Y=B,B=$i),ve=ve||[1,1],Ge=Ge||!1,isNaN(Y)||isNaN(de)||!Array.isArray(B)||!Array.isArray(ve)||!ra(Te)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pu(Y,de),ot=ve[0],St=ve[1],Xt=B.length,hs=Y,Vr=de,Mt=0;Mt<Xt;Mt++)(Vt=B[Mt]).length===2?(hs=Vt[0]*ot+hs,Vr=Vt[1]*St+Vr,Al(hs,Vr)):(vn=Vt[0]*ot+hs,ur=Vt[1]*St+Vr,pr=Vt[2]*ot+hs,Dr=Vt[3]*St+Vr,hs=Vt[4]*ot+hs,Vr=Vt[5]*St+Vr,po(vn,ur,pr,Dr,hs,Vr));return Ge&&qh(),fu(Te),this},h.path=function(B){for(var Y=0;Y<B.length;Y++){var de=B[Y],ve=de.c;switch(de.op){case"m":pu(ve[0],ve[1]);break;case"l":Al(ve[0],ve[1]);break;case"c":po.apply(this,ve);break;case"h":qh()}}return this},h.__private__.rect=h.rect=function(B,Y,de,ve,Te){if(isNaN(B)||isNaN(Y)||isNaN(de)||isNaN(ve)||!ra(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C.COMPAT&&(ve=-ve),re([U(j(B)),U(N(Y)),U(j(de)),U(j(ve)),"re"].join(" ")),fu(Te),this},h.__private__.triangle=h.triangle=function(B,Y,de,ve,Te,Ge,ot){if(isNaN(B)||isNaN(Y)||isNaN(de)||isNaN(ve)||isNaN(Te)||isNaN(Ge)||!ra(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-B,ve-Y],[Te-de,Ge-ve],[B-Te,Y-Ge]],B,Y,[1,1],ot,!0),this},h.__private__.roundedRect=h.roundedRect=function(B,Y,de,ve,Te,Ge,ot){if(isNaN(B)||isNaN(Y)||isNaN(de)||isNaN(ve)||isNaN(Te)||isNaN(Ge)||!ra(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*de),Ge=Math.min(Ge,.5*ve),this.lines([[de-2*Te,0],[Te*St,0,Te,Ge-Ge*St,Te,Ge],[0,ve-2*Ge],[0,Ge*St,-Te*St,Ge,-Te,Ge],[2*Te-de,0],[-Te*St,0,-Te,-Ge*St,-Te,-Ge],[0,2*Ge-ve],[0,-Ge*St,Te*St,-Ge,Te,-Ge]],B+Te,Y,[1,1],ot,!0),this},h.__private__.ellipse=h.ellipse=function(B,Y,de,ve,Te){if(isNaN(B)||isNaN(Y)||isNaN(de)||isNaN(ve)||!ra(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*de,ot=4/3*(Math.SQRT2-1)*ve;return pu(B+de,Y),po(B+de,Y-ot,B+Ge,Y-ve,B,Y-ve),po(B-Ge,Y-ve,B-de,Y-ot,B-de,Y),po(B-de,Y+ot,B-Ge,Y+ve,B,Y+ve),po(B+Ge,Y+ve,B+de,Y+ot,B+de,Y),fu(Te),this},h.__private__.circle=h.circle=function(B,Y,de,ve){if(isNaN(B)||isNaN(Y)||isNaN(de)||!ra(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,Y,de,de,ve)},h.setFont=function(B,Y,de){return de&&(Y=I(Y,de)),ge=Wh(B,Y,{disableWarning:!1}),this};var f0=h.__private__.getFont=h.getFont=function(){return Be[Wh.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var B,Y,de={};for(B in Qe)if(Qe.hasOwnProperty(B))for(Y in de[B]=[],Qe[B])Qe[B].hasOwnProperty(Y)&&de[B].push(Y);return de},h.addFont=function(B,Y,de,ve,Te){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(de=I(de,ve)),Te=Te||"Identity-H",uu.call(this,B,Y,de,Te)};var cl,gu=e.lineWidth||.200025,fA=h.__private__.getLineWidth=h.getLineWidth=function(){return gu},Yh=h.__private__.setLineWidth=h.setLineWidth=function(B){return gu=B,re(U(j(B))+" w"),this};h.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(B,Y){if(B=B||[],Y=Y||0,isNaN(Y)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(de){return U(j(de))}).join(" "),Y=U(j(Y)),re("["+B+"] "+Y+" d"),this};var Xh=h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*cl};h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*cl};var Jh=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(cl=B),this},Zh=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return cl};Jh(e.lineHeight);var sa=h.__private__.getHorizontalCoordinate=function(B){return j(B)},Ta=h.__private__.getVerticalCoordinate=function(B){return S===C.ADVANCED?B:nt[H].mediaBox.topRightY-nt[H].mediaBox.bottomLeftY-j(B)},p0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(B){return U(sa(B))},go=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(B){return U(Ta(B))},Oi=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return cr(Oi)},h.__private__.setStrokeColor=h.setDrawColor=function(B,Y,de,ve){return Oi=wr({ch1:B,ch2:Y,ch3:de,ch4:ve,pdfColorType:"draw",precision:2}),re(Oi),this};var mu=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return cr(mu)},h.__private__.setFillColor=h.setFillColor=function(B,Y,de,ve){return mu=wr({ch1:B,ch2:Y,ch3:de,ch4:ve,pdfColorType:"fill",precision:2}),re(mu),this};var ul=e.textColor||"0 g",g0=h.__private__.getTextColor=h.getTextColor=function(){return cr(ul)};h.__private__.setTextColor=h.setTextColor=function(B,Y,de,ve){return ul=wr({ch1:B,ch2:Y,ch3:de,ch4:ve,pdfColorType:"text",precision:3}),this};var pA=e.charSpace,m0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(pA||0)};h.__private__.setCharSpace=h.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pA=B,this};var vu=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(B){var Y=h.CapJoinStyles[B];if(Y===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vu=Y,re(Y+" J"),this};var yu=0;h.__private__.setLineJoin=h.setLineJoin=function(B){var Y=h.CapJoinStyles[B];if(Y===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yu=Y,re(Y+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(U(j(B))+" M"),this},h.GState=fg,h.setGState=function(B){(B=typeof B=="string"?_e[Ke[B]]:ef(null,B)).equals(lt)||(re("/"+B.id+" gs"),lt=B)};var ef=function(B,Y){if(!B||!Ke[B]){var de=!1;for(var ve in _e)if(_e.hasOwnProperty(ve)&&_e[ve].equals(Y)){de=!0;break}if(de)Y=_e[ve];else{var Te="GS"+(Object.keys(_e).length+1).toString(10);_e[Te]=Y,Y.id=Te}return B&&(Ke[B]=Y.id),xt.publish("addGState",Y),Y}};h.addGState=function(B,Y){return ef(B,Y),this},h.saveGraphicsState=function(){return re("q"),Se.push({key:ge,size:Fe,color:ul}),this},h.restoreGraphicsState=function(){re("Q");var B=Se.pop();return ge=B.key,Fe=B.size,ul=B.color,lt=null,this},h.setCurrentTransformationMatrix=function(B){return re(B.toString()+" cm"),this},h.comment=function(B){return re("#"+B),this};var gA=function(B,Y){var de=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Ge){isNaN(Ge)||(de=parseFloat(Ge))}});var ve=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ge){Te=Ge.toString()}}),this},xu=function(B,Y,de,ve){gA.call(this,B,Y),this.type="rect";var Te=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(ot){isNaN(ot)||(Te=parseFloat(ot))}});var Ge=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(ot){isNaN(ot)||(Ge=parseFloat(ot))}}),this},bu=function(){this.page=ut,this.currentPage=H,this.pages=ce.slice(0),this.pagesContext=nt.slice(0),this.x=Ne,this.y=Ee,this.matrix=qe,this.width=dl(H),this.height=mo(H),this.outputDestination=ue,this.id="",this.objectNumber=-1};bu.prototype.restore=function(){ut=this.page,H=this.currentPage,nt=this.pagesContext,ce=this.pages,Ne=this.x,Ee=this.y,qe=this.matrix,wu(H,this.width),Bu(H,this.height),ue=this.outputDestination};var tf=function(B,Y,de,ve,Te){qn.push(new bu),ut=H=0,ce=[],Ne=B,Ee=Y,qe=Te,du([de,ve])},v0=function(B){if(jn[B])qn.pop().restore();else{var Y=new bu,de="Xo"+(Object.keys(Qt).length+1).toString(10);Y.id=de,jn[B]=de,Qt[de]=Y,xt.publish("addFormObject",Y),qn.pop().restore()}};for(var mA in h.beginFormObject=function(B,Y,de,ve,Te){return tf(B,Y,de,ve,Te),this},h.endFormObject=function(B){return v0(B),this},h.doFormObject=function(B,Y){var de=Qt[jn[B]];return re("q"),re(Y.toString()+" cm"),re("/"+de.id+" Do"),re("Q"),this},h.getFormObject=function(B){var Y=Qt[jn[B]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},h.save=function(B,Y){return B=B||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(jl(uA(Na()),B),typeof jl.unload=="function"&&Ht.setTimeout&&setTimeout(jl.unload,911),this):new Promise(function(de,ve){try{var Te=jl(uA(Na()),B);typeof jl.unload=="function"&&Ht.setTimeout&&setTimeout(jl.unload,911),de(Te)}catch(Ge){ve(Ge.message)}})},Rt.API)Rt.API.hasOwnProperty(mA)&&(mA==="events"&&Rt.API.events.length?function(B,Y){var de,ve,Te;for(Te=Y.length-1;Te!==-1;Te--)de=Y[Te][0],ve=Y[Te][1],B.subscribe.apply(B,[de].concat(typeof ve=="function"?[ve]:ve))}(xt,Rt.API.events):h[mA]=Rt.API[mA]);var dl=h.getPageWidth=function(B){return(nt[B=B||H].mediaBox.topRightX-nt[B].mediaBox.bottomLeftX)/Ie},wu=h.setPageWidth=function(B,Y){nt[B].mediaBox.topRightX=Y*Ie+nt[B].mediaBox.bottomLeftX},mo=h.getPageHeight=function(B){return(nt[B=B||H].mediaBox.topRightY-nt[B].mediaBox.bottomLeftY)/Ie},Bu=h.setPageHeight=function(B,Y){nt[B].mediaBox.topRightY=Y*Ie+nt[B].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ms,getStyle:Gh,getFont:f0,getFontSize:ze,getCharSpace:m0,getTextColor:g0,getLineHeight:Xh,getLineHeightFactor:Zh,getLineWidth:fA,write:Ve,getHorizontalCoordinate:sa,getVerticalCoordinate:Ta,getCoordinateString:p0,getVerticalCoordinateString:go,collections:{},newObject:Rn,newAdditionalObject:ci,newObjectDeferred:er,newObjectDeferredBegin:_n,getFilters:Es,putStream:Hr,events:xt,scaleFactor:Ie,pageSize:{getWidth:function(){return dl(H)},setWidth:function(B){wu(H,B)},getHeight:function(){return mo(H)},setHeight:function(B){Bu(H,B)}},encryptionOptions:u,encryption:ds,getEncryptor:l0,output:dA,getNumberOfPages:r0,pages:ce,out:re,f2:R,f3:k,getPageInfo:Vh,getPageInfoByObjId:Kt,getCurrentPageInfo:A0,getPDFVersion:g,Point:gA,Rectangle:xu,Matrix:Ut,hasHotfix:Kh},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return dl(H)},set:function(B){wu(H,B)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return mo(H)},set:function(B){Bu(H,B)},enumerable:!0,configurable:!0}),t0.call(h,pe),ge="F1",$h(s,n),xt.publish("initialized"),h}ZA.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ZA.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ZA.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ZA.prototype.processOwnerPassword=function(e,t){return H1(R1(t).substr(0,5),e)},ZA.prototype.encryptor=function(e,t){var n=R1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return H1(n,r)}},fg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||dn(e)!==dn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="3.0.1";var xr=Rt.API,Qx=1,sA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},RA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gt=function(e){return e.toFixed(2)},_o=function(e){return e.toFixed(5)};xr.__acroform__={};var Ys=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},bB=function(e){return e*Qx},la=function(e){var t=new Xj,n=_t.internal.getHeight(e)||0,r=_t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Gt(r)),Number(Gt(n))],t},V$=xr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},G$=xr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},q$=xr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ir=xr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return q$(e,t-1)},kr=xr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V$(e,t-1)},Fr=xr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return G$(e,t-1)},Y$=xr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=n(s)||0,A.lowerLeft_Y=r(a+l)||0,A.upperRight_X=n(s+o)||0,A.upperRight_Y=r(a)||0,[Number(Gt(A.lowerLeft_X)),Number(Gt(A.lowerLeft_Y)),Number(Gt(A.upperRight_X)),Number(Gt(A.upperRight_Y))]},X$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=O1(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Gt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=la(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},O1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(k){return k.split(`
`)}):s.map(function(k){return[k]});var a=n,o=_t.internal.getHeight(e)||0;o=o<0?-o:o;var l=_t.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(k,j,M){if(k+1<s.length){var N=j+" "+s[k+1][0];return Hf(N,e,M).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,d=Hf("3",e,a).height,p=e.multiline?o-a:(o-d)/2,h=p+=2,m=0,g=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Hf(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var x="",C=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var w=!1;if(s[S].length!==1&&y!==s[S].length-1){if((d+2)*(C+2)+2>o)continue e;x+=s[S][y],w=!0,g=S,S--}else{x=(x+=s[S][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var L=parseInt(S),I=A(L,x,a),U=S>=s.length-1;if(I&&!U){x+=" ",y=0;continue}if(I||U){if(U)g=L;else if(e.multiline&&(d+2)*(C+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(C+2)+2>o)continue e;g=L}}for(var _="",F=m;F<=g;F++){var R=s[F];if(e.multiline){if(F===g){_+=R[y]+" ",y=(y+1)%R.length;continue}if(F===m){_+=R[R.length-1]+" ";continue}}_+=R[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Hf(_,e,a).width,e.textAlign){case"right":c=l-u-2;break;case"center":c=(l-u)/2;break;case"left":default:c=2}t+=Gt(c)+" "+Gt(h)+` Td
`,t+="("+sA(_)+`) Tj
`,t+=-Gt(c)+` 0 Td
`,h=-(a+2),u=0,m=w?g:g+1,C++,x=""}break}return r.text=t,r.fontSize=a,r},Hf=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},J$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Z$=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},ez=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),dn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},tz=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ea.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(J$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Jj,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&Z$(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],A=[],c=l.Rect;if(l.Rect&&(l.Rect=Y$(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=_t.createDefaultAppearanceStream(l),dn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=X$(l);A.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var d="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var m=h[o];typeof m=="function"&&(m=m.call(s,l)),d+="/"+o+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(s,l)),d+="/"+o+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);d+=">>"}A.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}a&&ez(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Yj=xr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),dn(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+sA(r(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mv=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+sA(r(e))+")"},ma=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ma.prototype.toString=function(){return this.objId+" 0 R"},ma.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ma.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Yj(s,this.objId,this.scope)}):s instanceof ma?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Xj=function(){ma.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ys(Xj,ma);var Jj=function(){ma.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+sA(n(e))+")"}},set:function(n){e=n}})};Ys(Jj,ma);var ea=function e(){ma.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(t,3)},set:function(x){x?this.F=kr(t,3):this.F=Fr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof pg)return;a="FieldObject"+e.FieldNum++}var x=function(C){return C};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+sA(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Qx:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof pg||this instanceof Ql))return mv(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Zr?p:mv(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Zr?x:x.substr(0,1)==="("?RA(x.substr(1,x.length-2)):RA(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zr?RA(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Zr?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Zr?h:mv(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof Zr?x:x.substr(0,1)==="("?RA(x.substr(1,x.length-2)):RA(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zr?RA(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Zr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(x){x?this.Ff=kr(this.Ff,1):this.Ff=Fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(x){x?this.Ff=kr(this.Ff,2):this.Ff=Fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(x){x?this.Ff=kr(this.Ff,3):this.Ff=Fr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Ys(ea,ma);var yc=function(){ea.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Yj(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,o,l){l||(l=1);for(var A,c=[];A=o.exec(a);)c.push(A[l]);return c}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(n){n?this.Ff=kr(this.Ff,18):this.Ff=Fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kr(this.Ff,19):this.Ff=Fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(n){n?(this.Ff=kr(this.Ff,20),t.sort()):this.Ff=Fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(n){n?this.Ff=kr(this.Ff,22):this.Ff=Fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(n){n?this.Ff=kr(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(n){n?this.Ff=kr(this.Ff,27):this.Ff=Fr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ys(yc,ea);var xc=function(){yc.call(this),this.fontName="helvetica",this.combo=!1};Ys(xc,yc);var bc=function(){xc.call(this),this.combo=!0};Ys(bc,xc);var Tp=function(){bc.call(this),this.edit=!0};Ys(Tp,bc);var Zr=function(){ea.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(n){n?this.Ff=kr(this.Ff,15):this.Ff=Fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(n){n?this.Ff=kr(this.Ff,16):this.Ff=Fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(n){n?this.Ff=kr(this.Ff,17):this.Ff=Fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(n){n?this.Ff=kr(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+sA(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){dn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ys(Zr,ea);var _p=function(){Zr.call(this),this.pushButton=!0};Ys(_p,Zr);var wc=function(){Zr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ys(wc,Zr);var pg=function(){var e,t;ea.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+sA(s(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){dn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ys(pg,ea),wc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},wc.prototype.createOption=function(e){var t=new pg;return t.Parent=this,t.optionName=e,this.Kids.push(t),nz.call(this.scope,t),t};var Up=function(){Zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Ys(Up,Zr);var Ql=function(){ea.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(t){t?this.Ff=kr(this.Ff,13):this.Ff=Fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(t){t?this.Ff=kr(this.Ff,21):this.Ff=Fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(t){t?this.Ff=kr(this.Ff,24):this.Ff=Fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(t){t?this.Ff=kr(this.Ff,25):this.Ff=Fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ys(Ql,ea);var Dp=function(){Ql.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(e){e?this.Ff=kr(this.Ff,14):this.Ff=Fr(this.Ff,14)}}),this.password=!0};Ys(Dp,Ql);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=la(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=O1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Gt(_t.internal.getWidth(e))+" "+Gt(_t.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Gt(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=la(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=_t.internal.getHeight(e),o=_t.internal.getWidth(e),l=O1(e,e.caption);return s.push("1 g"),s.push("0 0 "+Gt(o)+" "+Gt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Gt(o-1)+" "+Gt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Gt(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=la(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(_t.internal.getWidth(e))+" "+Gt(_t.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=_t.RadioButton.Circle.YesNormal,t.D[e]=_t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=la(e);t.scope=e.scope;var n=[],r=_t.internal.getWidth(e)<=_t.internal.getHeight(e)?_t.internal.getWidth(e)/4:_t.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=_t.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_o(_t.internal.getWidth(e)/2)+" "+_o(_t.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=la(e);t.scope=e.scope;var n=[],r=_t.internal.getWidth(e)<=_t.internal.getHeight(e)?_t.internal.getWidth(e)/4:_t.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*_t.internal.Bezier_C).toFixed(5)),o=Number((r*_t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_o(_t.internal.getWidth(e)/2)+" "+_o(_t.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_o(_t.internal.getWidth(e)/2)+" "+_o(_t.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=la(e);t.scope=e.scope;var n=[],r=_t.internal.getWidth(e)<=_t.internal.getHeight(e)?_t.internal.getWidth(e)/4:_t.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*_t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_o(_t.internal.getWidth(e)/2)+" "+_o(_t.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=_t.RadioButton.Cross.YesNormal,t.D[e]=_t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=la(e);t.scope=e.scope;var n=[],r=_t.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Gt(_t.internal.getWidth(e)-2)+" "+Gt(_t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Gt(r.x1.x)+" "+Gt(r.x1.y)+" m"),n.push(Gt(r.x2.x)+" "+Gt(r.x2.y)+" l"),n.push(Gt(r.x4.x)+" "+Gt(r.x4.y)+" m"),n.push(Gt(r.x3.x)+" "+Gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=la(e);t.scope=e.scope;var n=_t.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(_t.internal.getWidth(e))+" "+Gt(_t.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Gt(_t.internal.getWidth(e)-2)+" "+Gt(_t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Gt(n.x1.x)+" "+Gt(n.x1.y)+" m"),r.push(Gt(n.x2.x)+" "+Gt(n.x2.y)+" l"),r.push(Gt(n.x4.x)+" "+Gt(n.x4.y)+" m"),r.push(Gt(n.x3.x)+" "+Gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=la(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(_t.internal.getWidth(e))+" "+Gt(_t.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};_t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=_t.internal.getWidth(e),n=_t.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},_t.internal.getWidth=function(e){var t=0;return dn(e)==="object"&&(t=bB(e.Rect[2])),t},_t.internal.getHeight=function(e){var t=0;return dn(e)==="object"&&(t=bB(e.Rect[3])),t};var nz=xr.addField=function(e){if(tz(this,e),!(e instanceof ea))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=yc,xr.AcroFormListBox=xc,xr.AcroFormComboBox=bc,xr.AcroFormEditBox=Tp,xr.AcroFormButton=Zr,xr.AcroFormPushButton=_p,xr.AcroFormRadioButton=wc,xr.AcroFormCheckBox=Up,xr.AcroFormTextField=Ql,xr.AcroFormPasswordField=Dp,xr.AcroFormAppearance=_t,xr.AcroForm={ChoiceField:yc,ListBox:xc,ComboBox:bc,EditBox:Tp,Button:Zr,PushButton:_p,RadioButton:wc,CheckBox:Up,TextField:Ql,PasswordField:Dp,Appearance:_t},Rt.AcroForm={ChoiceField:yc,ListBox:xc,ComboBox:bc,EditBox:Tp,Button:Zr,PushButton:_p,RadioButton:wc,CheckBox:Up,TextField:Ql,PasswordField:Dp,Appearance:_t};Rt.AcroForm;function Zj(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(k,j){var M,N,$,P,D,W=t;if((j=j||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(I(k))for(D in n)for($=n[D],M=0;M<$.length;M+=1){for(P=!0,N=0;N<$[M].length;N+=1)if($[M][N]!==void 0&&$[M][N]!==k[N]){P=!1;break}if(P===!0){W=D;break}}else for(D in n)for($=n[D],M=0;M<$.length;M+=1){for(P=!0,N=0;N<$[M].length;N+=1)if($[M][N]!==void 0&&$[M][N]!==k.charCodeAt(N)){P=!1;break}if(P===!0){W=D;break}}return W===t&&j!==t&&(W=j),W},s=function k(j){for(var M=this.internal.write,N=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var P=[];if(P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Image"}),P.push({key:"Width",value:j.width}),P.push({key:"Height",value:j.height}),j.colorSpace===y.INDEXED?P.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(P.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===y.DEVICE_CMYK&&P.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),P.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&P.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var D="",W=0,G=j.transparency.length;W<G;W++)D+=j.transparency[W]+" "+j.transparency[W]+" ";P.push({key:"Mask",value:"["+D+"]"})}j.sMask!==void 0&&P.push({key:"SMask",value:j.objectId+1+" 0 R"});var Z=j.filter!==void 0?["/"+j.filter]:void 0;if(N({data:j.data,additionalKeyValues:P,alreadyAppliedFilters:Z,objectId:j.objectId}),M("endobj"),"sMask"in j&&j.sMask!==void 0){var le="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,T={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:le,data:j.sMask};"filter"in j&&(T.filter=j.filter),k.call(this,T)}if(j.colorSpace===y.INDEXED){var H=this.internal.newObject();N({data:_(new Uint8Array(j.palette)),objectId:H}),M("endobj")}},a=function(){var k=this.internal.collections.addImage_images;for(var j in k)s.call(this,k[j])},o=function(){var k,j=this.internal.collections.addImage_images,M=this.internal.write;for(var N in j)M("/I"+(k=j[N]).index,k.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var k=this.internal.collections.addImage_images;return l.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(k){return typeof e["process"+k.toUpperCase()]=="function"},d=function(k){return dn(k)==="object"&&k.nodeType===1},p=function(k,j){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var M=""+k.getAttribute("src");if(M.indexOf("data:image/")===0)return _d(unescape(M).split("base64,").pop());var N=e.loadFile(M,!0);if(N!==void 0)return N}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var $;switch(j){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;case"JPEG":case"JPG":default:$="image/jpeg"}return _d(k.toDataURL($,1).split("base64,").pop())}},h=function(k){var j=this.internal.collections.addImage_images;if(j){for(var M in j)if(k===j[M].alias)return j[M]}},m=function(k,j,M){return k||j||(k=-96,j=-96),k<0&&(k=-1*M.width*72/k/this.internal.scaleFactor),j<0&&(j=-1*M.height*72/j/this.internal.scaleFactor),k===0&&(k=j*M.width/M.height),j===0&&(j=k*M.height/M.width),[k,j]},g=function(k,j,M,N,$,P){var D=m.call(this,M,N,$),W=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,Z=A.call(this);if(M=D[0],N=D[1],Z[$.index]=$,P){P*=Math.PI/180;var le=Math.cos(P),T=Math.sin(P),H=function(K){return K.toFixed(4)},Q=[H(le),H(T),H(-1*T),H(le),0,0,"cm"]}this.internal.write("q"),P?(this.internal.write([1,"0","0",1,W(k),G(j+N),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(M),"0","0",W(N),"0","0","cm"].join(" "))):this.internal.write([W(M),"0","0",W(N),W(k),G(j+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(k){var j,M,N=0;if(typeof k=="string")for(M=k.length,j=0;j<M;j++)N=(N<<5)-N+k.charCodeAt(j),N|=0;else if(I(k))for(M=k.byteLength/2,j=0;j<M;j++)N=(N<<5)-N+k[j],N|=0;return N},S=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var j=!0;return k.length===0&&(j=!1),k.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(j=!1),j},w=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var j=k.indexOf(",");return j<0?null:k.substring(0,j).trim().endsWith("base64")?k.substring(j+1):null},L=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return L()&&k instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(k){return L()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},U=e.__addimage__.binaryStringToUint8Array=function(k){for(var j=k.length,M=new Uint8Array(j),N=0;N<j;N++)M[N]=k.charCodeAt(N);return M},_=e.__addimage__.arrayBufferToBinaryString=function(k){for(var j="",M=I(k)?k:new Uint8Array(k),N=0;N<M.length;N+=8192)j+=String.fromCharCode.apply(null,M.subarray(N,N+8192));return j};e.addImage=function(){var k,j,M,N,$,P,D,W,G;if(typeof arguments[1]=="number"?(j=t,M=arguments[1],N=arguments[2],$=arguments[3],P=arguments[4],D=arguments[5],W=arguments[6],G=arguments[7]):(j=arguments[1],M=arguments[2],N=arguments[3],$=arguments[4],P=arguments[5],D=arguments[6],W=arguments[7],G=arguments[8]),dn(k=arguments[0])==="object"&&!d(k)&&"imageData"in k){var Z=k;k=Z.imageData,j=Z.format||j||t,M=Z.x||M||0,N=Z.y||N||0,$=Z.w||Z.width||$,P=Z.h||Z.height||P,D=Z.alias||D,W=Z.compression||W,G=Z.rotation||Z.angle||G}var le=this.internal.getFilters();if(W===void 0&&le.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(M)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=F.call(this,k,j,D,W);return g.call(this,M,N,$,P,T,G),this};var F=function(k,j,M,N){var $,P,D;if(typeof k=="string"&&r(k)===t){k=unescape(k);var W=R(k,!1);(W!==""||(W=e.loadFile(k,!0))!==void 0)&&(k=W)}if(d(k)&&(k=p(k,j)),j=r(k,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((D=M)==null||D.length===0)&&(M=function(G){return typeof G=="string"||I(G)?C(G):I(G.data)?C(G.data):null}(k)),($=h.call(this,M))||(L()&&(k instanceof Uint8Array||j==="RGBA"||(P=k,k=U(k))),$=this["process"+j.toUpperCase()](k,c.call(this),M,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:x.NONE}(N),P)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},R=e.__addimage__.convertBase64ToBinaryString=function(k,j){j=typeof j!="boolean"||j;var M,N="";if(typeof k=="string"){var $;M=($=w(k))!==null&&$!==void 0?$:k;try{N=_d(M)}catch(P){if(j)throw S(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+P.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return N};e.getImageProperties=function(k){var j,M,N="";if(d(k)&&(k=p(k)),typeof k=="string"&&r(k)===t&&((N=R(k,!1))===""&&(N=e.loadFile(k)||""),k=N),M=r(k),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!L()||k instanceof Uint8Array||(k=U(k)),!(j=this["process"+M.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=M,j}})(Rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(x(r.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+A.objId+" 0 R",a+=" /T ("+h(x(C))+") >>",g.content=a;var S=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var w=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(m(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var L=this.annotations._nameMap[r.options.name];r.options.pageNumber=L.page,r.options.top=L.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var I=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,a,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(n),y:c(r),w:A(n+s),h:c(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,s,a){var o,l,A=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(n,l).length;o=Math.ceil(c*u)}else l=A,o=c;return this.text(n,r,s,a),s+=.2*c,a.align==="center"&&(r-=A/2),a.align==="right"&&(r-=A),this.link(r,s-c,l,o,a),A},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var y=0,x=n,C="",S=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(S++,typeof(x=x[g.charCodeAt(y)])=="number"&&(C+=String.fromCharCode(x),x=n,S=0),y===g.length-1&&(x=n,C+=g.charAt(y-(S-1)),y-=S-1,S=0)):(x=n,C+=g.charAt(y-S),y-=S,S=0);return C};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?a(g)===!1?-1:!c(g)||!o(y)&&!o(x)||!o(x)&&l(y)||l(g)&&!o(y)||l(g)&&A(y)||l(g)&&l(y)?0:u(g)&&o(y)&&!l(y)&&o(x)&&c(x)?3:l(g)||!o(x)?1:2:-1},h=function(g){var y=0,x=0,C=0,S="",w="",L="",I=(g=g||"").split("\\s+"),U=[];for(y=0;y<I.length;y+=1){for(U.push(""),x=0;x<I[y].length;x+=1)S=I[y][x],w=I[y][x-1],L=I[y][x+1],o(S)?(C=p(S,w,L),U[y]+=C!==-1?String.fromCharCode(t[S.charCodeAt(0)][C]):S):U[y]+=S;U[y]=d(U[y])}return U.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var C=0;for(x=[],C=0;C<y.length;C+=1)Array.isArray(y[C])?x.push([h(y[C][0]),y[C][1],y[C][2]]):x.push([h(y[C])]);g=x}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(Rt.API),Rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return r.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,y=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var x=c.maxWidth;x>0?typeof A=="string"?A=this.splitTextToSize(A,x):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(S,w){return S.concat(y.splitTextToSize(w,x))},[])):A=Array.isArray(A)?A:[A];for(var C=0;C<A.length;C++)h<(g=this.getStringUnitWidth(A[C],{font:d})*u)&&(h=g);return h!==0&&(m=A.length),{w:h/=p,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var A=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===A.lineNumber?(A.x=(c.x||0)+(c.width||0),A.y=c.y||0):c.y+c.height+A.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=d.top,h&&p&&(this.printHeaderRow(A.lineNumber,!0),A.y+=p[0].height)):A.y=c.y+c.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,n===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-u,A.y+u,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+u,{align:"center",baseline:"top",maxWidth:A.width-u-u}):this.text(A.text,A.x+u,A.y+u,{align:"left",baseline:"top",maxWidth:A.width-u-u})),this.internal.__cell__.lastCell=A,this};e.table=function(A,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,m,g,y,x=[],C=[],S=[],w={},L={},I=[],U=[],_=(p=p||{}).autoSize||!1,F=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),j=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",N=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=N,this.setFontSize(R),d==null)C=x=Object.keys(u[0]),S=x.map(function(){return"left"});else if(Array.isArray(d)&&dn(d[0])==="object")for(x=d.map(function(Z){return Z.name}),C=d.map(function(Z){return Z.prompt||Z.name||""}),S=d.map(function(Z){return Z.align||"left"}),h=0;h<d.length;h+=1)L[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(C=x=d,S=x.map(function(){return"left"}));if(_||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<x.length;h+=1){for(w[y=x[h]]=u.map(function(Z){return Z[y]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(C[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=w[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)I.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[y]=Math.max.apply(null,I)+j+j,I=[]}if(F){var $={};for(h=0;h<x.length;h+=1)$[x[h]]={},$[x[h]].text=C[h],$[x[h]].align=S[h];var P=l.call(this,$,L);U=x.map(function(Z){return new a(A,c,L[Z],P,$[Z].text,void 0,$[Z].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var D=d.reduce(function(Z,le){return Z[le.name]=le.align,Z},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var W=l.call(this,u[h],L);for(g=0;g<x.length;g+=1){var G=u[h][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:G},this),o.call(this,new a(A,c,L[x[g]],W,G,h+2,D[x[g]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=c,this};var l=function(A,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(A).map(function(h){var m=A[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/p+u+u},this).reduce(function(h,m){return Math.max(h,m)},0)};e.setTableHeaderRow=function(A){r.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=A;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Rt.API);var e3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},t3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$1=Zj(t3),n3=[100,200,300,400,500,600,700,800,900],rz=Zj(n3);function z1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return e3[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof $1[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function wB(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var sz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function CB(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function iz(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},sz,n.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(s[(a=z1(t[l])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+CB(a)+"' and default family '"+r+"'.");if(o=function(A,c){if(c[A])return c[A];var u=$1[A],d=u<=$1.normal?-1:1,p=wB(c,t3,u,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+A);return p}(a.stretch,o),o=function(A,c){if(c[A])return c[A];for(var u=e3[A],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+A)}(a.style,o),!(o=function(A,c){if(c[A])return c[A];if(A===400&&c[500])return c[500];if(A===500&&c[400])return c[400];var u=rz[A],d=wB(c,n3,u,A<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+A);return d}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+CB(a)+"'.");return o}function SB(e){return e.trimLeft()}function az(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function oz(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Of,jB,EB,vv=["times"];(function(e){var t,n,r,s,a,o,l,A,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new A,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,c=new u}]);var d=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=T;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(he){Q=!!he}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(he){K=!!he}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(he){isNaN(he)||(V=he)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(he){isNaN(he)||(X=he)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(he){var re;typeof he=="number"?re=[he,he,he,he]:((re=new Array(4))[0]=he[0],re[1]=he.length>=2?he[1]:re[0],re[2]=he.length>=3?he[2]:re[0],re[3]=he.length>=4?he[3]:re[1]),c.margin=re}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(he){ie=he}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(he){ae=he}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(he){Ce=he}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(he){he instanceof u&&(c=he)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(he){c.path=he}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(he){ce=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var re;re=p(he),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var re=p(he);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var fe=null;function ue(he,re){if(fe===null){var Ve=function(ye){var pe=[];return Object.keys(ye).forEach(function(Fe){ye[Fe].forEach(function(De){var ze=null;switch(De){case"bold":ze={family:Fe,weight:"bold"};break;case"italic":ze={family:Fe,style:"italic"};break;case"bolditalic":ze={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:Fe}}ze!==null&&(ze.ref={name:Fe,style:De},pe.push(ze))})}),pe}(he.getFontList());fe=function(ye){for(var pe={},Fe=0;Fe<ye.length;++Fe){var De=z1(ye[Fe]),ze=De.family,Xe=De.stretch,at=De.style,ct=De.weight;pe[ze]=pe[ze]||{},pe[ze][Xe]=pe[ze][Xe]||{},pe[ze][Xe][at]=pe[ze][Xe][at]||{},pe[ze][Xe][at][ct]=De}return pe}(Ve.concat(re))}return fe}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(he){fe=null,we=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var re;if(this.ctx.font=he,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Ve=re[1];re[2];var ye=re[3],pe=re[4];re[5];var Fe=re[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pe)[2];pe=Math.floor(De==="px"?parseFloat(pe)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(pe)*this.pdf.getFontSize():parseFloat(pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pe);var ze=function(oe){var ge,Ie,Ne=[],Ee=oe.trim();if(Ee==="")return vv;if(Ee in BB)return[BB[Ee]];for(;Ee!=="";){switch(Ie=null,ge=(Ee=SB(Ee)).charAt(0)){case'"':case"'":Ie=az(Ee.substring(1),ge);break;default:Ie=oz(Ee)}if(Ie===null||(Ne.push(Ie[0]),(Ee=SB(Ie[1]))!==""&&Ee.charAt(0)!==","))return vv;Ee=Ee.replace(/^,/,"")}return Ne}(Fe);if(this.fontFaces){var Xe=iz(ue(this.pdf,this.fontFaces),ze.map(function(oe){return{family:oe,stretch:"normal",weight:ye,style:Ve}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var at="";(ye==="bold"||parseInt(ye,10)>=700||Ve==="bold")&&(at="bold"),Ve==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var ct="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<ze.length;me++){if(this.pdf.internal.getFont(ze[me],at,{noFallback:!0,disableWarning:!0})!==void 0){ct=ze[me];break}if(at==="bolditalic"&&this.pdf.internal.getFont(ze[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=ze[me],at="bold";else if(this.pdf.internal.getFont(ze[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=ze[me],at="normal";break}}if(ct===""){for(var Pe=0;Pe<ze.length;Pe++)if(st[ze[Pe]]){ct=st[ze[Pe]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};d.prototype.setLineDash=function(T){this.lineDash=T},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(T,H){if(isNaN(T)||isNaN(H))throw Vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(T,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(T,H)},d.prototype.closePath=function(){var T=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&dn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){T=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},d.prototype.lineTo=function(T,H){if(isNaN(T)||isNaN(H))throw Vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(T,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(T,H,Q,K){if(isNaN(Q)||isNaN(K)||isNaN(T)||isNaN(H))throw Vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new o(Q,K)),X=this.ctx.transform.applyToPoint(new o(T,H));this.path.push({type:"qct",x1:X.x,y1:X.y,x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.bezierCurveTo=function(T,H,Q,K,V,X){if(isNaN(V)||isNaN(X)||isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K))throw Vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(V,X)),ae=this.ctx.transform.applyToPoint(new o(T,H)),Ce=this.ctx.transform.applyToPoint(new o(Q,K));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Ce.x,y2:Ce.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},d.prototype.arc=function(T,H,Q,K,V,X){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K)||isNaN(V))throw Vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(T,H));T=ie.x,H=ie.y;var ae=this.ctx.transform.applyToPoint(new o(0,Q)),Ce=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ae.x-Ce.x,2)+Math.pow(ae.y-Ce.y,2))}Math.abs(V-K)>=2*Math.PI&&(K=0,V=2*Math.PI),this.path.push({type:"arc",x:T,y:H,radius:Q,startAngle:K,endAngle:V,counterclockwise:X})},d.prototype.arcTo=function(T,H,Q,K,V){throw new Error("arcTo not implemented.")},d.prototype.rect=function(T,H,Q,K){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K))throw Vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,H),this.lineTo(T+Q,H),this.lineTo(T+Q,H+K),this.lineTo(T,H+K),this.lineTo(T,H),this.lineTo(T+Q,H),this.lineTo(T,H)},d.prototype.fillRect=function(T,H,Q,K){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K))throw Vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,H,Q,K),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},d.prototype.strokeRect=function(T,H,Q,K){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K))throw Vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(T,H,Q,K),this.stroke())},d.prototype.clearRect=function(T,H,Q,K){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K))throw Vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,H,Q,K))},d.prototype.save=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},d.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var H,Q,K,V;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))H=0,Q=0,K=0,V=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(X!==null)H=parseInt(X[1]),Q=parseInt(X[2]),K=parseInt(X[3]),V=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)H=parseInt(X[1]),Q=parseInt(X[2]),K=parseInt(X[3]),V=parseFloat(X[4]);else{if(V=1,typeof T=="string"&&T.charAt(0)!=="#"){var ie=new Vj(T);T=ie.ok?ie.toHex():"#000000"}T.length===4?(H=T.substring(1,2),H+=H,Q=T.substring(2,3),Q+=Q,K=T.substring(3,4),K+=K):(H=T.substring(1,3),Q=T.substring(3,5),K=T.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),K=parseInt(K,16)}}return{r:H,g:Q,b:K,a:V,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(T,H,Q,K){if(isNaN(H)||isNaN(Q)||typeof T!="string")throw Vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!h.call(this)){var V=W(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:Q,scale:X,angle:V,align:this.textAlign,maxWidth:K})}},d.prototype.strokeText=function(T,H,Q,K){if(isNaN(H)||isNaN(Q)||typeof T!="string")throw Vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){K=isNaN(K)?void 0:K;var V=W(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:Q,scale:X,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:K})}},d.prototype.measureText=function(T){if(typeof T!="string")throw Vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,K=H.internal.getFontSize(),V=H.getStringUnitWidth(T)*K/H.internal.scaleFactor,X=function(ie){var ae=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new X({width:V*=Math.round(96*Q/72*1e4)/1e4})},d.prototype.scale=function(T,H){if(isNaN(T)||isNaN(H))throw Vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new A(T,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.rotate=function(T){if(isNaN(T))throw Vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new A(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.translate=function(T,H){if(isNaN(T)||isNaN(H))throw Vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new A(1,0,0,1,T,H);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.transform=function(T,H,Q,K,V,X){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(K)||isNaN(V)||isNaN(X))throw Vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new A(T,H,Q,K,V,X);this.ctx.transform=this.ctx.transform.multiply(ie)},d.prototype.setTransform=function(T,H,Q,K,V,X){T=isNaN(T)?1:T,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,K=isNaN(K)?1:K,V=isNaN(V)?0:V,X=isNaN(X)?0:X,this.ctx.transform=new A(T,H,Q,K,V,X)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(T,H,Q,K,V,X,ie,ae,Ce){var ce=this.pdf.getImageProperties(T),fe=1,ue=1,we=1,he=1;K!==void 0&&ae!==void 0&&(we=ae/K,he=Ce/V,fe=ce.width/K*ae/K,ue=ce.height/V*Ce/V),X===void 0&&(X=H,ie=Q,H=0,Q=0),K!==void 0&&ae===void 0&&(ae=K,Ce=V),K===void 0&&ae===void 0&&(ae=ce.width,Ce=ce.height);for(var re,Ve=this.ctx.transform.decompose(),ye=W(Ve.rotate.shx),pe=new A,Fe=(pe=(pe=(pe=pe.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new l(X-H*we,ie-Q*he,K*fe,V*ue)),De=y.call(this,Fe),ze=[],Xe=0;Xe<De.length;Xe+=1)ze.indexOf(De[Xe])===-1&&ze.push(De[Xe]);if(S(ze),this.autoPaging)for(var at=ze[0],ct=ze[ze.length-1],st=at;st<ct+1;st++){this.pdf.setPage(st);var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=st===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=st===1?0:oe+(st-2)*ge;if(this.ctx.clip_path.length!==0){var Ne=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(re,this.posX+this.margin[3],-Ie+Pe+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Ne}var Ee=JSON.parse(JSON.stringify(Fe));Ee=C([Ee],this.posX+this.margin[3],-Ie+Pe+this.ctx.prevPageLastElemOffset)[0];var qe=(st>at||st<ct)&&g.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,ge,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,ye),qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,ye)};var y=function(T,H,Q){var K=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":K.push(Math.floor((T.y+V)/Q)+1);break;case"arc":K.push(Math.floor((T.y+V-T.radius)/Q)+1),K.push(Math.floor((T.y+V+T.radius)/Q)+1);break;case"qct":var X=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);K.push(Math.floor((X.y+V)/Q)+1),K.push(Math.floor((X.y+X.h+V)/Q)+1);break;case"bct":var ie=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);K.push(Math.floor((ie.y+V)/Q)+1),K.push(Math.floor((ie.y+ie.h+V)/Q)+1);break;case"rect":K.push(Math.floor((T.y+V)/Q)+1),K.push(Math.floor((T.y+T.h+V)/Q)+1)}for(var ae=0;ae<K.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<K[ae];)x.call(this);return K},x=function(){var T=this.fillStyle,H=this.strokeStyle,Q=this.font,K=this.lineCap,V=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=H,this.font=Q,this.lineCap=K,this.lineWidth=V,this.lineJoin=X},C=function(T,H,Q){for(var K=0;K<T.length;K++)switch(T[K].type){case"bct":T[K].x2+=H,T[K].y2+=Q;case"qct":T[K].x1+=H,T[K].y1+=Q;case"mt":case"lt":case"arc":default:T[K].x+=H,T[K].y+=Q}return T},S=function(T){return T.sort(function(H,Q){return H-Q})},w=function(T,H){for(var Q,K,V=this.fillStyle,X=this.strokeStyle,ie=this.lineCap,ae=this.lineWidth,Ce=Math.abs(ae*this.ctx.transform.scaleX),ce=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),ue=JSON.parse(JSON.stringify(this.path)),we=[],he=0;he<ue.length;he++)if(ue[he].x!==void 0)for(var re=y.call(this,ue[he]),Ve=0;Ve<re.length;Ve+=1)we.indexOf(re[Ve])===-1&&we.push(re[Ve]);for(var ye=0;ye<we.length;ye++)for(;this.pdf.internal.getNumberOfPages()<we[ye];)x.call(this);if(S(we),this.autoPaging)for(var pe=we[0],Fe=we[we.length-1],De=pe;De<Fe+1;De++){this.pdf.setPage(De),this.fillStyle=V,this.strokeStyle=X,this.lineCap=ie,this.lineWidth=Ce,this.lineJoin=ce;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=De===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=De===1?0:at+(De-2)*ct;if(this.ctx.clip_path.length!==0){var me=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Q,this.posX+this.margin[3],-st+Xe+this.ctx.prevPageLastElemOffset),L.call(this,T,!0),this.path=me}if(K=JSON.parse(JSON.stringify(fe)),this.path=C(K,this.posX+this.margin[3],-st+Xe+this.ctx.prevPageLastElemOffset),H===!1||De===0){var Pe=(De>pe||De<Fe)&&g.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ct,null).clip().discardPath()),L.call(this,T,H),Pe&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Ce,L.call(this,T,H),this.lineWidth=ae;this.path=fe},L=function(T,H){if((T!=="stroke"||H||!m.call(this))&&(T==="stroke"||H||!h.call(this))){for(var Q,K,V=[],X=this.path,ie=0;ie<X.length;ie++){var ae=X[ie];switch(ae.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:ae,deltas:[],abs:[]});break;case"lt":var Ce=V.length;if(X[ie-1]&&!isNaN(X[ie-1].x)&&(Q=[ae.x-X[ie-1].x,ae.y-X[ie-1].y],Ce>0)){for(;Ce>=0;Ce--)if(V[Ce-1].close!==!0&&V[Ce-1].begin!==!0){V[Ce-1].deltas.push(Q),V[Ce-1].abs.push(ae);break}}break;case"bct":Q=[ae.x1-X[ie-1].x,ae.y1-X[ie-1].y,ae.x2-X[ie-1].x,ae.y2-X[ie-1].y,ae.x-X[ie-1].x,ae.y-X[ie-1].y],V[V.length-1].deltas.push(Q);break;case"qct":var ce=X[ie-1].x+2/3*(ae.x1-X[ie-1].x),fe=X[ie-1].y+2/3*(ae.y1-X[ie-1].y),ue=ae.x+2/3*(ae.x1-ae.x),we=ae.y+2/3*(ae.y1-ae.y),he=ae.x,re=ae.y;Q=[ce-X[ie-1].x,fe-X[ie-1].y,ue-X[ie-1].x,we-X[ie-1].y,he-X[ie-1].x,re-X[ie-1].y],V[V.length-1].deltas.push(Q);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(ae)}}K=H?null:T==="stroke"?"stroke":"fill";for(var Ve=!1,ye=0;ye<V.length;ye++)if(V[ye].arc)for(var pe=V[ye].abs,Fe=0;Fe<pe.length;Fe++){var De=pe[Fe];De.type==="arc"?_.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,H,!Ve):M.call(this,De.x,De.y),Ve=!0}else if(V[ye].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(V[ye].begin!==!0){var ze=V[ye].start.x,Xe=V[ye].start.y;N.call(this,V[ye].deltas,ze,Xe),Ve=!0}K&&F.call(this,K),H&&R.call(this)}},I=function(T){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Q;case"top":return T+H-Q;case"hanging":return T+H-2*Q;case"middle":return T+H/2-Q;case"ideographic":return T;case"alphabetic":default:return T}},U=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(H,Q){this.colorStops.push([H,Q])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(T,H,Q,K,V,X,ie,ae,Ce){for(var ce=P.call(this,Q,K,V,X),fe=0;fe<ce.length;fe++){var ue=ce[fe];fe===0&&(Ce?k.call(this,ue.x1+T,ue.y1+H):M.call(this,ue.x1+T,ue.y1+H)),$.call(this,T,H,ue.x2,ue.y2,ue.x3,ue.y3,ue.x4,ue.y4)}ae?R.call(this):F.call(this,ie)},F=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(T,H){this.pdf.internal.out(n(T)+" "+r(H)+" m")},j=function(T){var H;switch(T.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var Q=this.pdf.getTextDimensions(T.text),K=I.call(this,T.y),V=U.call(this,K)-Q.h,X=this.ctx.transform.applyToPoint(new o(T.x,K)),ie=this.ctx.transform.decompose(),ae=new A;ae=(ae=(ae=ae.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var Ce,ce,fe,ue=this.ctx.transform.applyToRectangle(new l(T.x,K,Q.w,Q.h)),we=ae.applyToRectangle(new l(T.x,V,Q.w,Q.h)),he=y.call(this,we),re=[],Ve=0;Ve<he.length;Ve+=1)re.indexOf(he[Ve])===-1&&re.push(he[Ve]);if(S(re),this.autoPaging)for(var ye=re[0],pe=re[re.length-1],Fe=ye;Fe<pe+1;Fe++){this.pdf.setPage(Fe);var De=Fe===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],at=Xe-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],st=ct-this.margin[3],me=Fe===1?0:ze+(Fe-2)*at;if(this.ctx.clip_path.length!==0){var Pe=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ce,this.posX+this.margin[3],-1*me+De),L.call(this,"fill",!0),this.path=Pe}var oe=C([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-me+De+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*T.scale),fe=this.lineWidth,this.lineWidth=fe*T.scale);var ge=this.autoPaging!=="text";if(ge||oe.y+oe.h<=Xe){if(ge||oe.y>=De&&oe.x<=ct){var Ie=ge?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ct-oe.x)[0],Ne=C([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-me+De+this.ctx.prevPageLastElemOffset)[0],Ee=ge&&(Fe>ye||Fe<pe)&&g.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,at,null).clip().discardPath()),this.pdf.text(Ie,Ne.x,Ne.y,{angle:T.angle,align:H,renderingMode:T.renderingMode}),Ee&&this.pdf.restoreGraphicsState()}}else oe.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-oe.y);T.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=fe)}else T.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*T.scale),fe=this.lineWidth,this.lineWidth=fe*T.scale),this.pdf.text(T.text,X.x+this.posX,X.y+this.posY,{angle:T.angle,align:H,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=fe)},M=function(T,H,Q,K){Q=Q||0,K=K||0,this.pdf.internal.out(n(T+Q)+" "+r(H+K)+" l")},N=function(T,H,Q){return this.pdf.lines(T,H,Q,null,null)},$=function(T,H,Q,K,V,X,ie,ae){this.pdf.internal.out([t(s(Q+T)),t(a(K+H)),t(s(V+T)),t(a(X+H)),t(s(ie+T)),t(a(ae+H)),"c"].join(" "))},P=function(T,H,Q,K){for(var V=2*Math.PI,X=Math.PI/2;H>Q;)H-=V;var ie=Math.abs(Q-H);ie<V&&K&&(ie=V-ie);for(var ae=[],Ce=K?-1:1,ce=H;ie>1e-5;){var fe=ce+Ce*Math.min(ie,X);ae.push(D.call(this,T,ce,fe)),ie-=Math.abs(fe-ce),ce=fe}return ae},D=function(T,H,Q){var K=(Q-H)/2,V=T*Math.cos(K),X=T*Math.sin(K),ie=V,ae=-X,Ce=ie*ie+ae*ae,ce=Ce+ie*V+ae*X,fe=4/3*(Math.sqrt(2*Ce*ce)-ce)/(ie*X-ae*V),ue=ie-fe*ae,we=ae+fe*ie,he=ue,re=-we,Ve=K+H,ye=Math.cos(Ve),pe=Math.sin(Ve);return{x1:T*Math.cos(H),y1:T*Math.sin(H),x2:ue*ye-we*pe,y2:ue*pe+we*ye,x3:he*ye-re*pe,y3:he*pe+re*ye,x4:T*Math.cos(Q),y4:T*Math.sin(Q)}},W=function(T){return 180*T/Math.PI},G=function(T,H,Q,K,V,X){var ie=T+.5*(Q-T),ae=H+.5*(K-H),Ce=V+.5*(Q-V),ce=X+.5*(K-X),fe=Math.min(T,V,ie,Ce),ue=Math.max(T,V,ie,Ce),we=Math.min(H,X,ae,ce),he=Math.max(H,X,ae,ce);return new l(fe,we,ue-fe,he-we)},Z=function(T,H,Q,K,V,X,ie,ae){var Ce,ce,fe,ue,we,he,re,Ve,ye,pe,Fe,De,ze,Xe,at=Q-T,ct=K-H,st=V-Q,me=X-K,Pe=ie-V,oe=ae-X;for(ce=0;ce<41;ce++)ye=(re=(fe=T+(Ce=ce/40)*at)+Ce*((we=Q+Ce*st)-fe))+Ce*(we+Ce*(V+Ce*Pe-we)-re),pe=(Ve=(ue=H+Ce*ct)+Ce*((he=K+Ce*me)-ue))+Ce*(he+Ce*(X+Ce*oe-he)-Ve),ce==0?(Fe=ye,De=pe,ze=ye,Xe=pe):(Fe=Math.min(Fe,ye),De=Math.min(De,pe),ze=Math.max(ze,ye),Xe=Math.max(Xe,pe));return new l(Math.round(Fe),Math.round(De),Math.round(ze-Fe),Math.round(Xe-De))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,H,Q=(T=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Rt.API),function(e){var t=function(a){var o,l,A,c,u,d,p,h,m,g;for(l=[],A=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>A;A+=4)(u=(a.charCodeAt(A)<<24)+(a.charCodeAt(A+1)<<16)+(a.charCodeAt(A+2)<<8)+a.charCodeAt(A+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(h=u%85))/85)-(p=u%85))/85)%85,l.push(d+33,p+33,h+33,m+33,g+33)):l.push(122);return function(y,x){for(var C=x;C>0;C--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,A,c,u,d=String,p="length",h=255,m="charCodeAt",g="slice",y="replace";for(a[g](-2),a=a[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),A=[],c=0,u=(a+=o="uuuuu"[g](a[p]%5||5))[p];u>c;c+=5)l=52200625*(a[m](c)-33)+614125*(a[m](c+1)-33)+7225*(a[m](c+2)-33)+85*(a[m](c+3)-33)+(a[m](c+4)-33),A.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(x,C){for(var S=C;S>0;S--)x.pop()}(A,o[p]),d.fromCharCode.apply(d,A)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",A=0;A<a.length;A+=2)l+=String.fromCharCode("0x"+(a[A]+a[A+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=Q1(o)).reduce(function(A,c){return A+String.fromCharCode(c)},"")};e.processDataByFilters=function(a,o){var l=0,A=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":A=n(A),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=r(A),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=s(A),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:A,reverseChain:c.reverse().join(" ")}}}(Rt.API),function(e){e.loadFile=function(t,n,r){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(A,c,u){var d=new XMLHttpRequest,p=0,h=function(m){var g=m.length,y=[],x=String.fromCharCode;for(p=0;p<g;p+=1)y.push(x(255&m.charCodeAt(p)));return y.join("")};if(d.open("GET",A,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(s,a,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(Rt.API),function(e){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):rh(()=>Promise.resolve().then(()=>qq),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):rh(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=dn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var A=document.createElement(o);for(var c in l.className&&(A.className=l.className),l.innerHTML&&l.dompurify&&(A.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)A.style[c]=l.style[c];return A},a=function o(l){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),A);return c=(c=c.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(A){switch(r(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(A){return this.set({src:s("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function A(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(A(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,l(this.prop.container,A)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var A=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var h=c[p],m=h.src.find(function(g){return g.format==="truetype"});m&&A.addFont(m.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,A.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(A){if(A in a.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var A=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(A):A})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(A,c){return Math.floor(A*c/72*96)}return this.then(function(){(o=o||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,A,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),A!=null&&(this.progress.n=A),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,A,c){return this.setProgress(o?this.progress.val+o:null,l||null,A?this.progress.n+A:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,l){var A=this;return this.thenCore(o,l,function(c,u){return A.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return A.updateProgress(null,c),d}).then(c,u).then(function(d){return A.updateProgress(1),d})})},a.prototype.thenCore=function(o,l,A){A=A||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=A.call(c,o,l);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(A){l=l.thenCore(A)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Rt.getPageSize=function(o,l,A){if(dn(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,A=c.format||A}l=l||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+A).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var h,m=0,g=0;if(p.hasOwnProperty(d))m=p[d][1]/u,g=p[d][0]/u;else try{m=A[1],g=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",g>m&&(h=g,g=m,m=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(h=g,g=m,m=h)}return{width:g,height:m,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(z1):null;var A=new a(l);return l.worker?A:A.from(o).doCallback()}}(Rt.API),Rt.API.addJS=function(e){return EB=e,this.internal.events.subscribe("postPutResources",function(){Of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+EB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Of!==void 0&&jB!==void 0&&this.internal.out("/Names <</JavaScript "+Of+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=r.exec(o);if(l!=null){var A=l[1];n.internal.newObjectDeferredBegin(A,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var d=n.internal.newObject();u.push(d);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var o={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(Rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,a,o,l){var A,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(A=function(d){for(var p,h=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=h,t.indexOf(d.charCodeAt(y+1))!==-1){p=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:p,numcomponents:d.charCodeAt(y+9)};break}h=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:n,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:c,index:r,alias:s}}return u}}(Rt.API);var HA,$f,IB,kB,FB,lz=function(){var e,t,n;function r(a){var o,l,A,c,u,d,p,h,m,g,y,x,C,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),m=(function(){var w,L;for(L=[],w=0;w<4;++w)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),a=(d!=null?d.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((g=A-this.transparency.indexed.length)>0)for(C=0;0<=g?C<g:C>g;0<=g?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(y=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,y.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),A=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(d,p,h,m){var g,y,x,C,S,w,L,I,U,_,F,R,k,j,M,N,$,P,D,W,G,Z=Math.ceil((c.width-d)/h),le=Math.ceil((c.height-p)/m),T=c.width==Z&&c.height==le;for(j=o*Z,R=T?l:new Uint8Array(j*le),w=a.length,k=0,y=0;k<le&&A<w;){switch(a[A++]){case 0:for(C=$=0;$<j;C=$+=1)R[y++]=a[A++];break;case 1:for(C=P=0;P<j;C=P+=1)g=a[A++],S=C<o?0:R[y-o],R[y++]=(g+S)%256;break;case 2:for(C=D=0;D<j;C=D+=1)g=a[A++],x=(C-C%o)/o,M=k&&R[(k-1)*j+x*o+C%o],R[y++]=(M+g)%256;break;case 3:for(C=W=0;W<j;C=W+=1)g=a[A++],x=(C-C%o)/o,S=C<o?0:R[y-o],M=k&&R[(k-1)*j+x*o+C%o],R[y++]=(g+Math.floor((S+M)/2))%256;break;case 4:for(C=G=0;G<j;C=G+=1)g=a[A++],x=(C-C%o)/o,S=C<o?0:R[y-o],k===0?M=N=0:(M=R[(k-1)*j+x*o+C%o],N=x&&R[(k-1)*j+(x-1)*o+C%o]),L=S+M-N,I=Math.abs(L-S),_=Math.abs(L-M),F=Math.abs(L-N),U=I<=_&&I<=F?S:_<=F?M:N,R[y++]=(g+U)%256;break;default:throw new Error("Invalid filter algorithm: "+a[A-1])}if(!T){var H=((p+k*m)*c.width+d)*o,Q=k*j;for(C=0;C<Z;C+=1){for(var K=0;K<o;K+=1)l[H++]=R[Q++];H+=(h-1)*o}}k++}}return a=R$(a),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},r.prototype.decodePalette=function(){var a,o,l,A,c,u,d,p,h;for(l=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+l.length),A=0,a=0,o=d=0,p=l.length;d<p;o=d+=3)c[A++]=l[o],c[A++]=l[o+1],c[A++]=l[o+2],c[A++]=(h=u[a++])!=null?h:255;return c},r.prototype.copyToImageData=function(a,o){var l,A,c,u,d,p,h,m,g,y,x;if(A=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),A=4,l=!0),m=(c=a.data||a).length,d=g||o,u=p=0,A===1)for(;u<m;)h=g?4*o[u/4]:p,y=d[h++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=l?d[h++]:255,p=h;else for(;u<m;)h=g?4*o[u/4]:p,c[u++]=d[h++],c[u++]=d[h++],c[u++]=d[h++],c[u++]=l?d[h++]:255,p=h},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{t=Ht.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var o;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,l,A,c,u,d,p,h;if(this.animation){for(h=[],l=u=0,d=(p=this.animation.frames).length;u<d;l=++u)o=p[l],A=a.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(A,c),o.imageData=A,h.push(o.image=e(A));return h}},r.prototype.renderFrame=function(a,o){var l,A,c;return l=(A=this.animation.frames)[o],c=A[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var o,l,A,c,u,d,p=this;return l=0,d=this.animation,c=d.numFrames,A=d.frames,u=d.numPlays,(o=function(){var h,m;if(h=l++%c,m=A[h],p.renderFrame(a,h),c>1&&l/c<u)return p.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Az(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,A=null;a&&(l=t,A=o,t+=3*o);var c=!0,u=[],d=0,p=null,h=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,w=e[t++],L=w>>6&1,I=1<<(7&w)+1,U=l,_=A,F=!1;w>>7&&(F=!0,U=t,_=I,t+=3*I);var R=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}u.push({x:y,y:x,width:C,height:S,has_local_palette:F,palette_offset:U,palette_size:_,data_offset:R,data_length:t-R,transparent_index:p,interlaced:!!L,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,M){var N=this.frameInfo(j),$=N.width*N.height,P=new Uint8Array($);NB(e,N.data_offset,P,$);var D=N.palette_offset,W=N.transparent_index;W===null&&(W=256);var G=N.width,Z=n-G,le=G,T=4*(N.y*n+N.x),H=4*((N.y+N.height)*n+N.x),Q=T,K=4*Z;N.interlaced===!0&&(K+=4*n*7);for(var V=8,X=0,ie=P.length;X<ie;++X){var ae=P[X];if(le===0&&(le=G,(Q+=K)>=H&&(K=4*Z+4*n*(V-1),Q=T+(G+Z)*(V<<1),V>>=1)),ae===W)Q+=4;else{var Ce=e[D+3*ae],ce=e[D+3*ae+1],fe=e[D+3*ae+2];M[Q++]=fe,M[Q++]=ce,M[Q++]=Ce,M[Q++]=255}--le}},this.decodeAndBlitFrameRGBA=function(j,M){var N=this.frameInfo(j),$=N.width*N.height,P=new Uint8Array($);NB(e,N.data_offset,P,$);var D=N.palette_offset,W=N.transparent_index;W===null&&(W=256);var G=N.width,Z=n-G,le=G,T=4*(N.y*n+N.x),H=4*((N.y+N.height)*n+N.x),Q=T,K=4*Z;N.interlaced===!0&&(K+=4*n*7);for(var V=8,X=0,ie=P.length;X<ie;++X){var ae=P[X];if(le===0&&(le=G,(Q+=K)>=H&&(K=4*Z+4*n*(V-1),Q=T+(G+Z)*(V<<1),V>>=1)),ae===W)Q+=4;else{var Ce=e[D+3*ae],ce=e[D+3*ae+1],fe=e[D+3*ae+2];M[Q++]=Ce,M[Q++]=ce,M[Q++]=fe,M[Q++]=255}--le}}}function NB(e,t,n,r){for(var s=e[t++],a=1<<s,o=a+1,l=o+1,A=s+1,c=(1<<A)-1,u=0,d=0,p=0,h=e[t++],m=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)d|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<A)break;var y=d&c;if(d>>=A,u-=A,y!==a){if(y===o)break;for(var x=y<l?y:g,C=0,S=x;S>a;)S=m[S]>>8,++C;var w=S;if(p+C+(x!==y?1:0)>r)return void Vn.log("Warning, gif stream longer than expected.");n[p++]=w;var L=p+=C;for(x!==y&&(n[p++]=w),S=x;C--;)S=m[S],n[--L]=255&S,S>>=8;g!==null&&l<4096&&(m[l++]=g<<8|w,l>=c+1&&A<12&&(++A,c=c<<1|1)),g=y}else l=o+1,c=(1<<(A=s+1))-1,g=null}return p!==r&&Vn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yv(e){var t,n,r,s,a,o=Math.floor,l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),h=new Array(64),m=new Array(64),g=[],y=0,x=7,C=new Array(64),S=new Array(64),w=new Array(64),L=new Array(256),I=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(T,H){for(var Q=0,K=0,V=new Array,X=1;X<=16;X++){for(var ie=1;ie<=T[X];ie++)V[H[K]]=[],V[H[K]][0]=Q,V[H[K]][1]=X,K++,Q++;Q*=2}return V}function D(T){for(var H=T[0],Q=T[1]-1;Q>=0;)H&1<<Q&&(y|=1<<x),Q--,--x<0&&(y==255?(W(255),W(0)):W(y),x=7,y=0)}function W(T){g.push(T)}function G(T){W(T>>8&255),W(255&T)}function Z(T,H,Q,K,V){for(var X,ie=V[0],ae=V[240],Ce=function(pe,Fe){var De,ze,Xe,at,ct,st,me,Pe,oe,ge,Ie=0;for(oe=0;oe<8;++oe){De=pe[Ie],ze=pe[Ie+1],Xe=pe[Ie+2],at=pe[Ie+3],ct=pe[Ie+4],st=pe[Ie+5],me=pe[Ie+6];var Ne=De+(Pe=pe[Ie+7]),Ee=De-Pe,qe=ze+me,Be=ze-me,Qe=Xe+st,Se=Xe-st,He=at+ct,Oe=at-ct,_e=Ne+He,Ke=Ne-He,lt=qe+Qe,ut=qe-Qe;pe[Ie]=_e+lt,pe[Ie+4]=_e-lt;var nt=.707106781*(ut+Ke);pe[Ie+2]=Ke+nt,pe[Ie+6]=Ke-nt;var xt=.382683433*((_e=Oe+Se)-(ut=Be+Ee)),hn=.5411961*_e+xt,Qt=1.306562965*ut+xt,jn=.707106781*(lt=Se+Be),qn=Ee+jn,Ut=Ee-jn;pe[Ie+5]=Ut+hn,pe[Ie+3]=Ut-hn,pe[Ie+1]=qn+Qt,pe[Ie+7]=qn-Qt,Ie+=8}for(Ie=0,oe=0;oe<8;++oe){De=pe[Ie],ze=pe[Ie+8],Xe=pe[Ie+16],at=pe[Ie+24],ct=pe[Ie+32],st=pe[Ie+40],me=pe[Ie+48];var ar=De+(Pe=pe[Ie+56]),Lt=De-Pe,Pn=ze+me,Rn=ze-me,er=Xe+st,_n=Xe-st,ci=at+ct,En=at-ct,Ot=ar+ci,cr=ar-ci,wr=Pn+er,Es=Pn-er;pe[Ie]=Ot+wr,pe[Ie+32]=Ot-wr;var Hr=.707106781*(Es+cr);pe[Ie+16]=cr+Hr,pe[Ie+48]=cr-Hr;var or=.382683433*((Ot=En+_n)-(Es=Rn+Lt)),Hn=.5411961*Ot+or,$t=1.306562965*Es+or,fr=.707106781*(wr=_n+Rn),ho=Lt+fr,fo=Lt-fr;pe[Ie+40]=fo+Hn,pe[Ie+24]=fo-Hn,pe[Ie+8]=ho+$t,pe[Ie+56]=ho-$t,Ie++}for(oe=0;oe<64;++oe)ge=pe[oe]*Fe[oe],h[oe]=ge>0?ge+.5|0:ge-.5|0;return h}(T,H),ce=0;ce<64;++ce)m[U[ce]]=Ce[ce];var fe=m[0]-Q;Q=m[0],fe==0?D(K[0]):(D(K[p[X=32767+fe]]),D(d[X]));for(var ue=63;ue>0&&m[ue]==0;)ue--;if(ue==0)return D(ie),Q;for(var we,he=1;he<=ue;){for(var re=he;m[he]==0&&he<=ue;)++he;var Ve=he-re;if(Ve>=16){we=Ve>>4;for(var ye=1;ye<=we;++ye)D(ae);Ve&=15}X=32767+m[he],D(V[(Ve<<4)+p[X]]),D(d[X]),he++}return ue!=63&&D(ie),Q}function le(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var V=o((Q[K]*H+50)/100);V=Math.min(Math.max(V,1),255),l[U[K]]=V}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var ae=o((X[ie]*H+50)/100);ae=Math.min(Math.max(ae,1),255),A[U[ie]]=ae}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,fe=0;fe<8;fe++)for(var ue=0;ue<8;ue++)c[ce]=1/(l[U[ce]]*Ce[fe]*Ce[ue]*8),u[ce]=1/(A[U[ce]]*Ce[fe]*Ce[ue]*8),ce++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,H){H&&le(H),g=new Array,y=0,x=7,G(65496),G(65504),G(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),G(1),G(1),W(0),W(0),function(){G(65499),G(132),W(0);for(var ze=0;ze<64;ze++)W(l[ze]);W(1);for(var Xe=0;Xe<64;Xe++)W(A[Xe])}(),function(ze,Xe){G(65472),G(17),W(8),G(Xe),G(ze),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(T.width,T.height),function(){G(65476),G(418),W(0);for(var ze=0;ze<16;ze++)W(_[ze+1]);for(var Xe=0;Xe<=11;Xe++)W(F[Xe]);W(16);for(var at=0;at<16;at++)W(R[at+1]);for(var ct=0;ct<=161;ct++)W(k[ct]);W(1);for(var st=0;st<16;st++)W(j[st+1]);for(var me=0;me<=11;me++)W(M[me]);W(17);for(var Pe=0;Pe<16;Pe++)W(N[Pe+1]);for(var oe=0;oe<=161;oe++)W($[oe])}(),G(65498),G(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,K=0,V=0;y=0,x=7,this.encode.displayName="_encode_";for(var X,ie,ae,Ce,ce,fe,ue,we,he,re=T.data,Ve=T.width,ye=T.height,pe=4*Ve,Fe=0;Fe<ye;){for(X=0;X<pe;){for(ce=pe*Fe+X,ue=-1,we=0,he=0;he<64;he++)fe=ce+(we=he>>3)*pe+(ue=4*(7&he)),Fe+we>=ye&&(fe-=pe*(Fe+1+we-ye)),X+ue>=pe&&(fe-=X+ue-pe+4),ie=re[fe++],ae=re[fe++],Ce=re[fe++],C[he]=(I[ie]+I[ae+256>>0]+I[Ce+512>>0]>>16)-128,S[he]=(I[ie+768>>0]+I[ae+1024>>0]+I[Ce+1280>>0]>>16)-128,w[he]=(I[ie+1280>>0]+I[ae+1536>>0]+I[Ce+1792>>0]>>16)-128;Q=Z(C,c,Q,t,r),K=Z(S,u,K,n,s),V=Z(w,u,V,n,s),X+=32}Fe+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,D(De)}return G(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,H=0;H<256;H++)L[H]=T(H)}(),t=P(_,F),n=P(j,M),r=P(R,k),s=P(N,$),function(){for(var T=1,H=2,Q=1;Q<=15;Q++){for(var K=T;K<H;K++)p[32767+K]=Q,d[32767+K]=[],d[32767+K][1]=Q,d[32767+K][0]=K;for(var V=-(H-1);V<=-T;V++)p[32767+V]=Q,d[32767+V]=[],d[32767+V][1]=Q,d[32767+V][0]=H-1+V;T<<=1,H<<=1}}(),function(){for(var T=0;T<256;T++)I[T]=19595*T,I[T+256>>0]=38470*T,I[T+512>>0]=7471*T+32768,I[T+768>>0]=-11059*T,I[T+1024>>0]=-21709*T,I[T+1280>>0]=32768*T+8421375,I[T+1536>>0]=-27439*T,I[T+1792>>0]=-5329*T}(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TB(e){function t(_){if(!_)throw Error("assert :P")}function n(_,F,R){for(var k=0;4>k;k++)if(_[F+k]!=R.charCodeAt(k))return!0;return!1}function r(_,F,R,k,j){for(var M=0;M<j;M++)_[F+M]=R[k+M]}function s(_,F,R,k){for(var j=0;j<k;j++)_[F+j]=R}function a(_){return new Int32Array(_)}function o(_,F){for(var R=[],k=0;k<_;k++)R.push(new F);return R}function l(_,F){var R=[];return function k(j,M,N){for(var $=N[M],P=0;P<$&&(j.push(N.length>M+1?[]:new F),!(N.length<M+1));P++)k(j[P],M+1,N)}(R,0,_),R}var A=function(){var _=this;function F(f,v){for(var E=1<<v-1>>>0;f&E;)E>>>=1;return E?(f&E-1)+E:f}function R(f,v,E,O,q){t(!(O%E));do f[v+(O-=E)]=q;while(0<O)}function k(f,v,E,O,q){if(t(2328>=q),512>=q)var J=a(512);else if((J=a(q))==null)return 0;return function(ee,ne,se,Ae,xe,Le){var Me,ke,rt=ne,We=1<<se,be=a(16),je=a(16);for(t(xe!=0),t(Ae!=null),t(ee!=null),t(0<se),ke=0;ke<xe;++ke){if(15<Ae[ke])return 0;++be[Ae[ke]]}if(be[0]==xe)return 0;for(je[1]=0,Me=1;15>Me;++Me){if(be[Me]>1<<Me)return 0;je[Me+1]=je[Me]+be[Me]}for(ke=0;ke<xe;++ke)Me=Ae[ke],0<Ae[ke]&&(Le[je[Me]++]=ke);if(je[15]==1)return(Ae=new j).g=0,Ae.value=Le[0],R(ee,rt,1,We,Ae),We;var Ze,it=-1,tt=We-1,Et=0,mt=1,Pt=1,yt=1<<se;for(ke=0,Me=1,xe=2;Me<=se;++Me,xe<<=1){if(mt+=Pt<<=1,0>(Pt-=be[Me]))return 0;for(;0<be[Me];--be[Me])(Ae=new j).g=Me,Ae.value=Le[ke++],R(ee,rt+Et,xe,yt,Ae),Et=F(Et,Me)}for(Me=se+1,xe=2;15>=Me;++Me,xe<<=1){if(mt+=Pt<<=1,0>(Pt-=be[Me]))return 0;for(;0<be[Me];--be[Me]){if(Ae=new j,(Et&tt)!=it){for(rt+=yt,Ze=1<<(it=Me)-se;15>it&&!(0>=(Ze-=be[it]));)++it,Ze<<=1;We+=yt=1<<(Ze=it-se),ee[ne+(it=Et&tt)].g=Ze+se,ee[ne+it].value=rt-ne-it}Ae.g=Me-se,Ae.value=Le[ke++],R(ee,rt+(Et>>se),xe,yt,Ae),Et=F(Et,Me)}}return mt!=2*je[15]-1?0:We}(f,v,E,O,q,J)}function j(){this.value=this.g=0}function M(){this.value=this.g=0}function N(){this.G=o(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(is,M)}function $(f,v,E,O){t(f!=null),t(v!=null),t(2147483648>O),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=E,f.Jd=v,f.Yc=E+O,f.Zc=4<=O?E+O-4+1:E,X(f)}function P(f,v){for(var E=0;0<v--;)E|=ae(f,128)<<v;return E}function D(f,v){var E=P(f,v);return ie(f)?-E:E}function W(f,v,E,O){var q,J=0;for(t(f!=null),t(v!=null),t(4294967288>O),f.Sb=O,f.Ra=0,f.u=0,f.h=0,4<O&&(O=4),q=0;q<O;++q)J+=v[E+q]<<8*q;f.Ra=J,f.bb=O,f.oa=v,f.pa=E}function G(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<wA-8>>>0,++f.bb,f.u-=8;Q(f)&&(f.h=1,f.u=0)}function Z(f,v){if(t(0<=v),!f.h&&v<=bA){var E=H(f)&xA[v];return f.u+=v,G(f),E}return f.h=1,f.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(f){return f.Ra>>>(f.u&wA-1)>>>0}function Q(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>wA}function K(f,v){f.u=v,f.h=Q(f)}function V(f){f.u>=Iu&&(t(f.u>=Iu),G(f))}function X(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ie(f){return P(f,1)}function ae(f,v){var E=f.Ca;0>f.b&&X(f);var O=f.b,q=E*v>>>8,J=(f.I>>>O>q)+0;for(J?(E-=q,f.I-=q+1<<O>>>0):E=q+1,O=E,q=0;256<=O;)q+=8,O>>=8;return O=7^q+Qs[O],f.b-=O,f.Ca=(E<<O)-1,J}function Ce(f,v,E){f[v+0]=E>>24&255,f[v+1]=E>>16&255,f[v+2]=E>>8&255,f[v+3]=E>>0&255}function ce(f,v){return f[v+0]<<0|f[v+1]<<8}function fe(f,v){return ce(f,v)|f[v+2]<<16}function ue(f,v){return ce(f,v)|ce(f,v+2)<<16}function we(f,v){var E=1<<v;return t(f!=null),t(0<v),f.X=a(E),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function he(f,v){t(f!=null),t(v!=null),t(f.Xa==v.Xa),r(v.X,0,f.X,0,1<<v.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ve(f,v,E,O){t(E!=null),t(O!=null);var q=E[0],J=O[0];return q==0&&(q=(f*J+v/2)/v),J==0&&(J=(v*q+f/2)/f),0>=q||0>=J?0:(E[0]=q,O[0]=J,1)}function ye(f,v){return f+(1<<v)-1>>>v}function pe(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function Fe(f,v){_[v]=function(E,O,q,J,ee,ne,se){var Ae;for(Ae=0;Ae<ee;++Ae){var xe=_[f](ne[se+Ae-1],q,J+Ae);ne[se+Ae]=pe(E[O+Ae],xe)}}}function De(){this.ud=this.hd=this.jd=0}function ze(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function Xe(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function at(f,v){return Xe(f+(f-v+.5>>1))}function ct(f,v,E){return Math.abs(v-E)-Math.abs(f-E)}function st(f,v,E,O,q,J,ee){for(O=J[ee-1],E=0;E<q;++E)J[ee+E]=O=pe(f[v+E],O)}function me(f,v,E,O,q){var J;for(J=0;J<E;++J){var ee=f[v+J],ne=ee>>8&255,se=16711935&(se=(se=16711935&ee)+((ne<<16)+ne));O[q+J]=(4278255360&ee)+se>>>0}}function Pe(f,v){v.jd=f>>0&255,v.hd=f>>8&255,v.ud=f>>16&255}function oe(f,v,E,O,q,J){var ee;for(ee=0;ee<O;++ee){var ne=v[E+ee],se=ne>>>8,Ae=ne,xe=255&(xe=(xe=ne>>>16)+((f.jd<<24>>24)*(se<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((f.hd<<24>>24)*(se<<24>>24)>>>5))+((f.ud<<24>>24)*(xe<<24>>24)>>>5)),q[J+ee]=(4278255360&ne)+(xe<<16)+Ae}}function ge(f,v,E,O,q){_[v]=function(J,ee,ne,se,Ae,xe,Le,Me,ke){for(se=Le;se<Me;++se)for(Le=0;Le<ke;++Le)Ae[xe++]=q(ne[O(J[ee++])])},_[f]=function(J,ee,ne,se,Ae,xe,Le){var Me=8>>J.b,ke=J.Ea,rt=J.K[0],We=J.w;if(8>Me)for(J=(1<<J.b)-1,We=(1<<Me)-1;ee<ne;++ee){var be,je=0;for(be=0;be<ke;++be)be&J||(je=O(se[Ae++])),xe[Le++]=q(rt[je&We]),je>>=Me}else _["VP8LMapColor"+E](se,Ae,rt,We,xe,Le,ee,ne,ke)}}function Ie(f,v,E,O,q){for(E=v+E;v<E;){var J=f[v++];O[q++]=J>>16&255,O[q++]=J>>8&255,O[q++]=J>>0&255}}function Ne(f,v,E,O,q){for(E=v+E;v<E;){var J=f[v++];O[q++]=J>>16&255,O[q++]=J>>8&255,O[q++]=J>>0&255,O[q++]=J>>24&255}}function Ee(f,v,E,O,q){for(E=v+E;v<E;){var J=(ee=f[v++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;O[q++]=J,O[q++]=ee}}function qe(f,v,E,O,q){for(E=v+E;v<E;){var J=(ee=f[v++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;O[q++]=J,O[q++]=ee}}function Be(f,v,E,O,q){for(E=v+E;v<E;){var J=f[v++];O[q++]=J>>0&255,O[q++]=J>>8&255,O[q++]=J>>16&255}}function Qe(f,v,E,O,q,J){if(J==0)for(E=v+E;v<E;)Ce(O,((J=f[v++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),q+=32;else r(O,q,f,v,E)}function Se(f,v){_[v][0]=_[f+"0"],_[v][1]=_[f+"1"],_[v][2]=_[f+"2"],_[v][3]=_[f+"3"],_[v][4]=_[f+"4"],_[v][5]=_[f+"5"],_[v][6]=_[f+"6"],_[v][7]=_[f+"7"],_[v][8]=_[f+"8"],_[v][9]=_[f+"9"],_[v][10]=_[f+"10"],_[v][11]=_[f+"11"],_[v][12]=_[f+"12"],_[v][13]=_[f+"13"],_[v][14]=_[f+"0"],_[v][15]=_[f+"0"]}function He(f){return f==w0||f==B0||f==ff||f==C0}function Oe(){this.eb=[],this.size=this.A=this.fb=0}function _e(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oe,this.f.kb=new _e,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function xt(f,v){var E=f.T,O=v.ba.f.RGBA,q=O.eb,J=O.fb+f.ka*O.A,ee=gi[v.ba.S],ne=f.y,se=f.O,Ae=f.f,xe=f.N,Le=f.ea,Me=f.W,ke=v.cc,rt=v.dc,We=v.Mc,be=v.Nc,je=f.ka,Ze=f.ka+f.T,it=f.U,tt=it+1>>1;for(je==0?ee(ne,se,null,null,Ae,xe,Le,Me,Ae,xe,Le,Me,q,J,null,null,it):(ee(v.ec,v.fc,ne,se,ke,rt,We,be,Ae,xe,Le,Me,q,J-O.A,q,J,it),++E);je+2<Ze;je+=2)ke=Ae,rt=xe,We=Le,be=Me,xe+=f.Rc,Me+=f.Rc,J+=2*O.A,ee(ne,(se+=2*f.fa)-f.fa,ne,se,ke,rt,We,be,Ae,xe,Le,Me,q,J-O.A,q,J,it);return se+=f.fa,f.j+Ze<f.o?(r(v.ec,v.fc,ne,se,it),r(v.cc,v.dc,Ae,xe,tt),r(v.Mc,v.Nc,Le,Me,tt),E--):1&Ze||ee(ne,se,null,null,Ae,xe,Le,Me,Ae,xe,Le,Me,q,J+O.A,null,null,it),E}function hn(f,v,E){var O=f.F,q=[f.J];if(O!=null){var J=f.U,ee=v.ba.S,ne=ee==hf||ee==ff;v=v.ba.f.RGBA;var se=[0],Ae=f.ka;se[0]=f.T,f.Kb&&(Ae==0?--se[0]:(--Ae,q[0]-=f.width),f.j+f.ka+f.T==f.o&&(se[0]=f.o-f.j-Ae));var xe=v.eb;Ae=v.fb+Ae*v.A,f=Xn(O,q[0],f.width,J,se,xe,Ae+(ne?0:3),v.A),t(E==se),f&&He(ee)&&fi(xe,Ae,ne,J,se,v.A)}return 0}function Qt(f){var v=f.ma,E=v.ba.S,O=11>E,q=E==uf||E==df||E==hf||E==b0||E==12||He(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ju(v.Oa,f,q?11:12))return 0;if(q&&He(E)&&ot(),f.da)alert("todo:use_scaling");else{if(O){if(v.Ib=nt,f.Kb){if(E=f.U+1>>1,v.memory=a(f.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=xt,ot()}}else alert("todo:EmitYUV");q&&(v.Jb=hn,O&&Te())}if(O&&!cb){for(f=0;256>f;++f)hI[f]=89858*(f-128)+gf>>pf,gI[f]=-22014*(f-128)+gf,pI[f]=-45773*(f-128),fI[f]=113618*(f-128)+gf>>pf;for(f=Du;f<E0;++f)v=76283*(f-16)+gf>>pf,mI[f-Du]=Xs(v,255),vI[f-Du]=Xs(v+8>>4,15);cb=1}return 1}function jn(f){var v=f.ma,E=f.U,O=f.T;return t(!(1&f.ka)),0>=E||0>=O?0:(E=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,E),v.Dc+=E,1)}function qn(f){f.ma.memory=null}function Ut(f,v,E,O){return Z(f,8)!=47?0:(v[0]=Z(f,14)+1,E[0]=Z(f,14)+1,O[0]=Z(f,1),Z(f,3)!=0?0:!f.h)}function ar(f,v){if(4>f)return f+1;var E=f-2>>1;return(2+(1&f)<<E)+Z(v,E)+1}function Lt(f,v){return 120<v?v-120:1<=(E=((E=ZE[v-1])>>4)*f+(8-(15&E)))?E:1;var E}function Pn(f,v,E){var O=H(E),q=f[v+=255&O].g-8;return 0<q&&(K(E,E.u+8),O=H(E),v+=f[v].value,v+=O&(1<<q)-1),K(E,E.u+f[v].g),f[v].value}function Rn(f,v,E){return E.g+=f.g,E.value+=f.value<<v>>>0,t(8>=E.g),f.g}function er(f,v,E){var O=f.xc;return t((v=O==0?0:f.vc[f.md*(E>>O)+(v>>O)])<f.Wb),f.Ya[v]}function _n(f,v,E,O){var q=f.ab,J=f.c*v,ee=f.C;v=ee+v;var ne=E,se=O;for(O=f.Ta,E=f.Ua;0<q--;){var Ae=f.gc[q],xe=ee,Le=v,Me=ne,ke=se,rt=(se=O,ne=E,Ae.Ea);switch(t(xe<Le),t(Le<=Ae.nc),Ae.hc){case 2:rf(Me,ke,(Le-xe)*rt,se,ne);break;case 0:var We=xe,be=Le,je=se,Ze=ne,it=(yt=Ae).Ea;We==0&&(y0(Me,ke,null,null,1,je,Ze),st(Me,ke+1,0,0,it-1,je,Ze+1),ke+=it,Ze+=it,++We);for(var tt=1<<yt.b,Et=tt-1,mt=ye(it,yt.b),Pt=yt.K,yt=yt.w+(We>>yt.b)*mt;We<be;){var In=Pt,Ln=yt,bn=1;for(ku(Me,ke,je,Ze-it,1,je,Ze);bn<it;){var An=(bn&~Et)+tt;An>it&&(An=it),(0,vo[In[Ln++]>>8&15])(Me,ke+ +bn,je,Ze+bn-it,An-bn,je,Ze+bn),bn=An}ke+=it,Ze+=it,++We&Et||(yt+=mt)}Le!=Ae.nc&&r(se,ne-rt,se,ne+(Le-xe-1)*rt,rt);break;case 1:for(rt=Me,be=ke,it=(Me=Ae.Ea)-(Ze=Me&~(je=(ke=1<<Ae.b)-1)),We=ye(Me,Ae.b),tt=Ae.K,Ae=Ae.w+(xe>>Ae.b)*We;xe<Le;){for(Et=tt,mt=Ae,Pt=new De,yt=be+Ze,In=be+Me;be<yt;)Pe(Et[mt++],Pt),hl(Pt,rt,be,ke,se,ne),be+=ke,ne+=ke;be<In&&(Pe(Et[mt++],Pt),hl(Pt,rt,be,it,se,ne),be+=it,ne+=it),++xe&je||(Ae+=We)}break;case 3:if(Me==se&&ke==ne&&0<Ae.b){for(be=se,Me=rt=ne+(Le-xe)*rt-(Ze=(Le-xe)*ye(Ae.Ea,Ae.b)),ke=se,je=ne,We=[],Ze=(it=Ze)-1;0<=Ze;--Ze)We[Ze]=ke[je+Ze];for(Ze=it-1;0<=Ze;--Ze)be[Me+Ze]=We[Ze];ui(Ae,xe,Le,se,rt,se,ne)}else ui(Ae,xe,Le,Me,ke,se,ne)}ne=O,se=E}se!=E&&r(O,E,ne,se,J)}function ci(f,v){var E=f.V,O=f.Ba+f.c*f.C,q=v-f.C;if(t(v<=f.l.o),t(16>=q),0<q){var J=f.l,ee=f.Ta,ne=f.Ua,se=J.width;if(_n(f,q,E,O),q=ne=[ne],t((E=f.C)<(O=v)),t(J.v<J.va),O>J.o&&(O=J.o),E<J.j){var Ae=J.j-E;E=J.j,q[0]+=Ae*se}if(E>=O?E=0:(q[0]+=4*J.v,J.ka=E-J.j,J.U=J.va-J.v,J.T=O-E,E=1),E){if(ne=ne[0],11>(E=f.ca).S){var xe=E.f.RGBA,Le=(O=E.S,q=J.U,J=J.T,Ae=xe.eb,xe.A),Me=J;for(xe=xe.fb+f.Ma*xe.A;0<Me--;){var ke=ee,rt=ne,We=q,be=Ae,je=xe;switch(O){case cf:Ps(ke,rt,We,be,je);break;case uf:Is(ke,rt,We,be,je);break;case w0:Is(ke,rt,We,be,je),fi(be,je,0,We,1,0);break;case tb:Ua(ke,rt,We,be,je);break;case df:Qe(ke,rt,We,be,je,1);break;case B0:Qe(ke,rt,We,be,je,1),fi(be,je,0,We,1,0);break;case hf:Qe(ke,rt,We,be,je,0);break;case ff:Qe(ke,rt,We,be,je,0),fi(be,je,1,We,1,0);break;case b0:yo(ke,rt,We,be,je);break;case C0:yo(ke,rt,We,be,je),Yn(be,je,We,1,0);break;case nb:_a(ke,rt,We,be,je);break;default:t(0)}ne+=se,xe+=Le}f.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=E.height)}}f.C=v,t(f.C<=f.i)}function En(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var E=f.Ya[v].G,O=f.Ya[v].H;if(0<E[1][O[1]+0].g||0<E[2][O[2]+0].g||0<E[3][O[3]+0].g)return 0}return 1}function Ot(f,v,E,O,q,J){if(f.Z!=0){var ee=f.qd,ne=f.rd;for(t(Bo[f.Z]!=null);v<E;++v)Bo[f.Z](ee,ne,O,q,O,q,J),ee=O,ne=q,q+=J;f.qd=ee,f.rd=ne}}function cr(f,v){var E=f.l.ma,O=E.Z==0||E.Z==1?f.l.j:f.C;if(O=f.C<O?O:f.C,t(v<=f.l.o),v>O){var q=f.l.width,J=E.ca,ee=E.tb+q*O,ne=f.V,se=f.Ba+f.c*O,Ae=f.gc;t(f.ab==1),t(Ae[0].hc==3),sf(Ae[0],O,v,ne,se,J,ee),Ot(E,O,v,J,ee,q)}f.C=f.Ma=v}function wr(f,v,E,O,q,J,ee){var ne=f.$/O,se=f.$%O,Ae=f.m,xe=f.s,Le=E+f.$,Me=Le;q=E+O*q;var ke=E+O*J,rt=280+xe.ua,We=f.Pb?ne:16777216,be=0<xe.ua?xe.Wa:null,je=xe.wc,Ze=Le<ke?er(xe,se,ne):null;t(f.C<J),t(ke<=q);var it=!1;e:for(;;){for(;it||Le<ke;){var tt=0;if(ne>=We){var Et=Le-E;t((We=f).Pb),We.wd=We.m,We.xd=Et,0<We.s.ua&&he(We.s.Wa,We.s.vb),We=ne+tI}if(se&je||(Ze=er(xe,se,ne)),t(Ze!=null),Ze.Qb&&(v[Le]=Ze.qb,it=!0),!it)if(V(Ae),Ze.jc){tt=Ae,Et=v;var mt=Le,Pt=Ze.pd[H(tt)&is-1];t(Ze.jc),256>Pt.g?(K(tt,tt.u+Pt.g),Et[mt]=Pt.value,tt=0):(K(tt,tt.u+Pt.g-256),t(256<=Pt.value),tt=Pt.value),tt==0&&(it=!0)}else tt=Pn(Ze.G[0],Ze.H[0],Ae);if(Ae.h)break;if(it||256>tt){if(!it)if(Ze.nd)v[Le]=(Ze.qb|tt<<8)>>>0;else{if(V(Ae),it=Pn(Ze.G[1],Ze.H[1],Ae),V(Ae),Et=Pn(Ze.G[2],Ze.H[2],Ae),mt=Pn(Ze.G[3],Ze.H[3],Ae),Ae.h)break;v[Le]=(mt<<24|it<<16|tt<<8|Et)>>>0}if(it=!1,++Le,++se>=O&&(se=0,++ne,ee!=null&&ne<=J&&!(ne%16)&&ee(f,ne),be!=null))for(;Me<Le;)tt=v[Me++],be.X[(506832829*tt&4294967295)>>>be.Mb]=tt}else if(280>tt){if(tt=ar(tt-256,Ae),Et=Pn(Ze.G[4],Ze.H[4],Ae),V(Ae),Et=Lt(O,Et=ar(Et,Ae)),Ae.h)break;if(Le-E<Et||q-Le<tt)break e;for(mt=0;mt<tt;++mt)v[Le+mt]=v[Le+mt-Et];for(Le+=tt,se+=tt;se>=O;)se-=O,++ne,ee!=null&&ne<=J&&!(ne%16)&&ee(f,ne);if(t(Le<=q),se&je&&(Ze=er(xe,se,ne)),be!=null)for(;Me<Le;)tt=v[Me++],be.X[(506832829*tt&4294967295)>>>be.Mb]=tt}else{if(!(tt<rt))break e;for(it=tt-280,t(be!=null);Me<Le;)tt=v[Me++],be.X[(506832829*tt&4294967295)>>>be.Mb]=tt;tt=Le,t(!(it>>>(Et=be).Xa)),v[tt]=Et.X[it],it=!0}it||t(Ae.h==Q(Ae))}if(f.Pb&&Ae.h&&Le<q)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&he(f.s.vb,f.s.Wa);else{if(Ae.h)break e;ee!=null&&ee(f,ne>J?J:ne),f.a=0,f.$=Le-E}return 1}return f.a=3,0}function Es(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,t(f!=null)}function Hr(){var f=new v0;return f==null?null:(f.a=0,f.xb=ib,Se("Predictor","VP8LPredictors"),Se("Predictor","VP8LPredictors_C"),Se("PredictorAdd","VP8LPredictorsAdd"),Se("PredictorAdd","VP8LPredictorsAdd_C"),rf=me,hl=oe,Ps=Ie,Is=Ne,yo=Ee,_a=qe,Ua=Be,_.VP8LMapColor32b=BA,_.VP8LMapColor8b=af,f)}function or(f,v,E,O,q){var J=1,ee=[f],ne=[v],se=O.m,Ae=O.s,xe=null,Le=0;e:for(;;){if(E)for(;J&&Z(se,1);){var Me=ee,ke=ne,rt=O,We=1,be=rt.m,je=rt.gc[rt.ab],Ze=Z(be,2);if(rt.Oc&1<<Ze)J=0;else{switch(rt.Oc|=1<<Ze,je.hc=Ze,je.Ea=Me[0],je.nc=ke[0],je.K=[null],++rt.ab,t(4>=rt.ab),Ze){case 0:case 1:je.b=Z(be,3)+2,We=or(ye(je.Ea,je.b),ye(je.nc,je.b),0,rt,je.K),je.K=je.K[0];break;case 3:var it,tt=Z(be,8)+1,Et=16<tt?0:4<tt?1:2<tt?2:3;if(Me[0]=ye(je.Ea,Et),je.b=Et,it=We=or(tt,1,0,rt,je.K)){var mt,Pt=tt,yt=je,In=1<<(8>>yt.b),Ln=a(In);if(Ln==null)it=0;else{var bn=yt.K[0],An=yt.w;for(Ln[0]=yt.K[0][0],mt=1;mt<1*Pt;++mt)Ln[mt]=pe(bn[An+mt],Ln[mt-1]);for(;mt<4*In;++mt)Ln[mt]=0;yt.K[0]=null,yt.K[0]=Ln,it=1}}We=it;break;case 2:break;default:t(0)}J=We}}if(ee=ee[0],ne=ne[0],J&&Z(se,1)&&!(J=1<=(Le=Z(se,4))&&11>=Le)){O.a=3;break e}var Kn;if(Kn=J)t:{var On,Zt,Lr,Rs=O,Mr=ee,Hs=ne,Mn=Le,Zs=E,ei=Rs.m,Gr=Rs.s,as=[null],Fs=1,mi=0,aa=eI[Mn];n:for(;;){if(Zs&&Z(ei,1)){var qr=Z(ei,3)+2,Qa=ye(Mr,qr),vl=ye(Hs,qr),IA=Qa*vl;if(!or(Qa,vl,0,Rs,as))break n;for(as=as[0],Gr.xc=qr,On=0;On<IA;++On){var Co=as[On]>>8&65535;as[On]=Co,Co>=Fs&&(Fs=Co+1)}}if(ei.h)break n;for(Zt=0;5>Zt;++Zt){var gr=rb[Zt];!Zt&&0<Mn&&(gr+=1<<Mn),mi<gr&&(mi=gr)}var I0=o(Fs*aa,j),hb=Fs,fb=o(hb,N);if(fb==null)var vf=null;else t(65536>=hb),vf=fb;var Lu=a(mi);if(vf==null||Lu==null||I0==null){Rs.a=1;break n}var yf=I0;for(On=Lr=0;On<Fs;++On){var Wi=vf[On],kA=Wi.G,FA=Wi.H,pb=0,xf=1,gb=0;for(Zt=0;5>Zt;++Zt){gr=rb[Zt],kA[Zt]=yf,FA[Zt]=Lr,!Zt&&0<Mn&&(gr+=1<<Mn);s:{var bf,k0=gr,wf=Rs,Mu=Lu,bI=yf,wI=Lr,F0=0,So=wf.m,BI=Z(So,1);if(s(Mu,0,0,k0),BI){var CI=Z(So,1)+1,SI=Z(So,1),mb=Z(So,SI==0?1:8);Mu[mb]=1,CI==2&&(Mu[mb=Z(So,8)]=1);var Bf=1}else{var vb=a(19),yb=Z(So,4)+4;if(19<yb){wf.a=3;var Cf=0;break s}for(bf=0;bf<yb;++bf)vb[JE[bf]]=Z(So,3);var N0=void 0,Qu=void 0,xb=wf,jI=vb,Sf=k0,bb=Mu,T0=0,jo=xb.m,wb=8,Bb=o(128,j);r:for(;k(Bb,0,7,jI,19);){if(Z(jo,1)){var EI=2+2*Z(jo,3);if((N0=2+Z(jo,EI))>Sf)break r}else N0=Sf;for(Qu=0;Qu<Sf&&N0--;){V(jo);var Cb=Bb[0+(127&H(jo))];K(jo,jo.u+Cb.g);var NA=Cb.value;if(16>NA)bb[Qu++]=NA,NA!=0&&(wb=NA);else{var II=NA==16,Sb=NA-16,kI=YE[Sb],jb=Z(jo,qE[Sb])+kI;if(Qu+jb>Sf)break r;for(var FI=II?wb:0;0<jb--;)bb[Qu++]=FI}}T0=1;break r}T0||(xb.a=3),Bf=T0}(Bf=Bf&&!So.h)&&(F0=k(bI,wI,8,Mu,k0)),Bf&&F0!=0?Cf=F0:(wf.a=3,Cf=0)}if(Cf==0)break n;if(xf&&XE[Zt]==1&&(xf=yf[Lr].g==0),pb+=yf[Lr].g,Lr+=Cf,3>=Zt){var Pu,_0=Lu[0];for(Pu=1;Pu<gr;++Pu)Lu[Pu]>_0&&(_0=Lu[Pu]);gb+=_0}}if(Wi.nd=xf,Wi.Qb=0,xf&&(Wi.qb=(kA[3][FA[3]+0].value<<24|kA[1][FA[1]+0].value<<16|kA[2][FA[2]+0].value)>>>0,pb==0&&256>kA[0][FA[0]+0].value&&(Wi.Qb=1,Wi.qb+=kA[0][FA[0]+0].value<<8)),Wi.jc=!Wi.Qb&&6>gb,Wi.jc){var jf,Pa=Wi;for(jf=0;jf<is;++jf){var Eo=jf,Io=Pa.pd[Eo],Ef=Pa.G[0][Pa.H[0]+Eo];256<=Ef.value?(Io.g=Ef.g+256,Io.value=Ef.value):(Io.g=0,Io.value=0,Eo>>=Rn(Ef,8,Io),Eo>>=Rn(Pa.G[1][Pa.H[1]+Eo],16,Io),Eo>>=Rn(Pa.G[2][Pa.H[2]+Eo],0,Io),Rn(Pa.G[3][Pa.H[3]+Eo],24,Io))}}}Gr.vc=as,Gr.Wb=Fs,Gr.Ya=vf,Gr.yc=I0,Kn=1;break t}Kn=0}if(!(J=Kn)){O.a=3;break e}if(0<Le){if(Ae.ua=1<<Le,!we(Ae.Wa,Le)){O.a=1,J=0;break e}}else Ae.ua=0;var U0=O,Eb=ee,NI=ne,D0=U0.s,L0=D0.xc;if(U0.c=Eb,U0.i=NI,D0.md=ye(Eb,L0),D0.wc=L0==0?-1:(1<<L0)-1,E){O.xb=lI;break e}if((xe=a(ee*ne))==null){O.a=1,J=0;break e}J=(J=wr(O,xe,0,ee,ne,ne,null))&&!se.h;break e}return J?(q!=null?q[0]=xe:(t(xe==null),t(E)),O.$=0,E||Es(Ae)):Es(Ae),J}function Hn(f,v){var E=f.c*f.i,O=E+v+16*v;return t(f.c<=v),f.V=a(O),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+E+v,1)}function $t(f,v){var E=f.C,O=v-E,q=f.V,J=f.Ba+f.c*E;for(t(v<=f.l.o);0<O;){var ee=16<O?16:O,ne=f.l.ma,se=f.l.width,Ae=se*ee,xe=ne.ca,Le=ne.tb+se*E,Me=f.Ta,ke=f.Ua;_n(f,ee,q,J),Sr(Me,ke,xe,Le,Ae),Ot(ne,E,E+ee,xe,Le,se),O-=ee,q+=ee*f.c,E+=ee}t(E==v),f.C=f.Ma=v}function fr(){this.ub=this.yd=this.td=this.Rb=0}function ho(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fo(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function oA(){this.Yb=function(){var f=[];return function v(E,O,q){for(var J=q[O],ee=0;ee<J&&(E.push(q.length>O+1?[]:0),!(q.length<O+1));ee++)v(E[ee],O+1,q)}(f,0,[3,11]),f}()}function Au(){this.jb=a(3),this.Wc=l([4,8],oA),this.Xc=l([4,17],oA)}function Mh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function lA(){this.ld=this.La=this.dd=this.tc=0}function Qh(){this.Na=this.la=0}function Xm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jm(){this.uc=this.M=this.Nb=0,this.wa=Array(new lA),this.Y=0,this.ya=Array(new cu),this.aa=0,this.l=new AA}function Ph(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Zm(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new fr,this.Kc=new ho,this.ed=new Mh,this.Qa=new fo,this.Ic=this.$c=this.Aa=0,this.D=new Jm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,Xm),this.Pa=new Au,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ph),this.Hd=0,this.rb=Array(new Qh),this.sb=0,this.wa=Array(new lA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cu),this.L=this.aa=0,this.gd=l([4,2],lA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function AA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function e0(){var f=new Zm;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Uu||(Uu=Oh)),f}function Br(f,v,E){return f.a==0&&(f.a=v,f.sc=E,f.cb=0),0}function Rh(f,v,E){return 3<=E&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function Hh(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return Br(f,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,O=v.w,q=v.ha;if(4>q)return Br(f,7,"Truncated header.");var J=E[O+0]|E[O+1]<<8|E[O+2]<<16,ee=f.Od;if(ee.Rb=!(1&J),ee.td=J>>1&7,ee.yd=J>>4&1,ee.ub=J>>5,3<ee.td)return Br(f,3,"Incorrect keyframe parameters.");if(!ee.yd)return Br(f,4,"Frame not displayable.");O+=3,q-=3;var ne=f.Kc;if(ee.Rb){if(7>q)return Br(f,7,"cannot parse picture header");if(!Rh(E,O,q))return Br(f,3,"Bad code word");ne.c=16383&(E[O+4]<<8|E[O+3]),ne.Td=E[O+4]>>6,ne.i=16383&(E[O+6]<<8|E[O+5]),ne.Ud=E[O+6]>>6,O+=7,q-=7,f.za=ne.c+15>>4,f.Ub=ne.i+15>>4,v.width=ne.c,v.height=ne.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((J=f.Pa).jb,0,255,J.jb.length),t((J=f.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,s(J.Zb,0,0,J.Zb.length),s(J.Lb,0,0,J.Lb)}if(ee.ub>q)return Br(f,7,"bad partition length");$(J=f.m,E,O,ee.ub),O+=ee.ub,q-=ee.ub,ee.Rb&&(ne.Ld=ie(J),ne.Kd=ie(J)),ne=f.Qa;var se,Ae=f.Pa;if(t(J!=null),t(ne!=null),ne.Cb=ie(J),ne.Cb){if(ne.Bb=ie(J),ie(J)){for(ne.Fb=ie(J),se=0;4>se;++se)ne.Zb[se]=ie(J)?D(J,7):0;for(se=0;4>se;++se)ne.Lb[se]=ie(J)?D(J,6):0}if(ne.Bb)for(se=0;3>se;++se)Ae.jb[se]=ie(J)?P(J,8):255}else ne.Bb=0;if(J.Ka)return Br(f,3,"cannot parse segment header");if((ne=f.ed).zd=ie(J),ne.Tb=P(J,6),ne.wb=P(J,3),ne.Pc=ie(J),ne.Pc&&ie(J)){for(Ae=0;4>Ae;++Ae)ie(J)&&(ne.vd[Ae]=D(J,6));for(Ae=0;4>Ae;++Ae)ie(J)&&(ne.od[Ae]=D(J,6))}if(f.L=ne.Tb==0?0:ne.zd?1:2,J.Ka)return Br(f,3,"cannot parse filter header");var xe=q;if(q=se=O,O=se+xe,ne=xe,f.Xb=(1<<P(f.m,2))-1,xe<3*(Ae=f.Xb))E=7;else{for(se+=3*Ae,ne-=3*Ae,xe=0;xe<Ae;++xe){var Le=E[q+0]|E[q+1]<<8|E[q+2]<<16;Le>ne&&(Le=ne),$(f.Jc[+xe],E,se,Le),se+=Le,ne-=Le,q+=3}$(f.Jc[+Ae],E,se,ne),E=se<O?0:5}if(E!=0)return Br(f,E,"cannot parse partitions");for(E=P(se=f.m,7),q=ie(se)?D(se,4):0,O=ie(se)?D(se,4):0,ne=ie(se)?D(se,4):0,Ae=ie(se)?D(se,4):0,se=ie(se)?D(se,4):0,xe=f.Qa,Le=0;4>Le;++Le){if(xe.Cb){var Me=xe.Zb[Le];xe.Fb||(Me+=E)}else{if(0<Le){f.pb[Le]=f.pb[0];continue}Me=E}var ke=f.pb[Le];ke.Sc[0]=S0[Xs(Me+q,127)],ke.Sc[1]=j0[Xs(Me+0,127)],ke.Eb[0]=2*S0[Xs(Me+O,127)],ke.Eb[1]=101581*j0[Xs(Me+ne,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=S0[Xs(Me+Ae,117)],ke.Qc[1]=j0[Xs(Me+se,127)],ke.lc=Me+se}if(!ee.Rb)return Br(f,4,"Not a key frame.");for(ie(J),ee=f.Pa,E=0;4>E;++E){for(q=0;8>q;++q)for(O=0;3>O;++O)for(ne=0;11>ne;++ne)Ae=ae(J,aI[E][q][O][ne])?P(J,8):sI[E][q][O][ne],ee.Wc[E][q].Yb[O][ne]=Ae;for(q=0;17>q;++q)ee.Xc[E][q]=ee.Wc[E][oI[q]]}return f.kc=ie(J),f.kc&&(f.Bd=P(J,8)),f.cb=1}function Oh(f,v,E,O,q,J,ee){var ne=v[q].Yb[E];for(E=0;16>q;++q){if(!ae(f,ne[E+0]))return q;for(;!ae(f,ne[E+1]);)if(ne=v[++q].Yb[0],E=0,q==16)return 16;var se=v[q+1].Yb;if(ae(f,ne[E+2])){var Ae=f,xe=0;if(ae(Ae,(Me=ne)[(Le=E)+3]))if(ae(Ae,Me[Le+6])){for(ne=0,Le=2*(xe=ae(Ae,Me[Le+8]))+(Me=ae(Ae,Me[Le+9+xe])),xe=0,Me=nI[Le];Me[ne];++ne)xe+=xe+ae(Ae,Me[ne]);xe+=3+(8<<Le)}else ae(Ae,Me[Le+7])?(xe=7+2*ae(Ae,165),xe+=ae(Ae,145)):xe=5+ae(Ae,159);else xe=ae(Ae,Me[Le+4])?3+ae(Ae,Me[Le+5]):2;ne=se[2]}else xe=1,ne=se[1];se=ee+rI[q],0>(Ae=f).b&&X(Ae);var Le,Me=Ae.b,ke=(Le=Ae.Ca>>1)-(Ae.I>>Me)>>31;--Ae.b,Ae.Ca+=ke,Ae.Ca|=1,Ae.I-=(Le+1&ke)<<Me,J[se]=((xe^ke)-ke)*O[(0<q)+0]}return 16}function uu(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function t0(f,v){if(f==null)return 0;if(v==null)return Br(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Hh(f,v))return 0;if(t(f.cb),v.ac==null||v.ac(v)){v.ob&&(f.L=0);var E=mf[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=v.v-E>>4,f.zb=v.j-E>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=v.o+15+E>>4,f.Hb=v.va+15+E>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var O=f.ed;for(E=0;4>E;++E){var q;if(f.Qa.Cb){var J=f.Qa.Lb[E];f.Qa.Fb||(J+=O.Tb)}else J=O.Tb;for(q=0;1>=q;++q){var ee=f.gd[E][q],ne=J;if(O.Pc&&(ne+=O.vd[0],q&&(ne+=O.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var se=ne;0<O.wb&&(se=4<O.wb?se>>2:se>>1)>9-O.wb&&(se=9-O.wb),1>se&&(se=1),ee.dd=se,ee.tc=2*ne+se,ee.ld=40<=ne?2:15<=ne?1:0}else ee.tc=0;ee.La=q}}}E=0}else Br(f,6,"Frame setup failed"),E=f.a;if(E=E==0){if(E){f.$c=0,0<f.Aa||(f.Ic=xI);e:{E=f.Ic,O=4*(se=f.za);var Ae=32*se,xe=se+1,Le=0<f.L?se*(0<f.Aa?2:1):0,Me=(f.Aa==2?2:1)*se;if((ee=O+832+(q=3*(16*E+mf[f.L])/2*Ae)+(J=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=ee)E=0;else{if(ee>f.Vb){if(f.Vb=0,f.Ec=a(ee),f.Fc=0,f.Ec==null){E=Br(f,1,"no memory during frame initialization.");break e}f.Vb=ee}ee=f.Ec,ne=f.Fc,f.Ac=ee,f.Bc=ne,ne+=O,f.Gd=o(Ae,Ph),f.Hd=0,f.rb=o(xe+1,Qh),f.sb=1,f.wa=Le?o(Le,lA):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=se),t(!0),f.oc=ee,f.pc=ne,ne+=832,f.ya=o(Me,cu),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=se),f.R=16*se,f.B=8*se,se=(Ae=mf[f.L])*f.R,Ae=Ae/2*f.B,f.sa=ee,f.ta=ne+se,f.qa=f.sa,f.ra=f.ta+16*E*f.R+Ae,f.Ha=f.qa,f.Ia=f.ra+8*E*f.B+Ae,f.$c=0,ne+=q,f.mb=J?ee:null,f.nb=J?ne:null,t(ne+J<=f.Fc+f.Vb),uu(f),s(f.Ac,f.Bc,0,O),E=1}}if(E){if(v.ka=0,v.y=f.sa,v.O=f.ta,v.f=f.qa,v.N=f.ra,v.ea=f.Ha,v.Vd=f.Ia,v.fa=f.R,v.Rc=f.B,v.F=null,v.J=0,!lf){for(E=-255;255>=E;++E)Or[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)La[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)_u[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)EA[255+E]=0>E?0:255<E?255:E;lf=1}CA=s0,Da=n0,Fu=zh,ks=r0,di=Wh,Cr=$h,SA=mu,of=ul,Nu=m0,fl=vu,pl=g0,xo=pA,gl=yu,jA=ef,ml=Zh,bo=sa,Tu=Ta,hi=p0,zi[0]=ra,zi[1]=i0,zi[2]=A0,zi[3]=c0,zi[4]=Gh,zi[5]=hA,zi[6]=qh,zi[7]=fu,zi[8]=d0,zi[9]=u0,wo[0]=Kh,wo[1]=o0,wo[2]=Na,wo[3]=uA,wo[4]=ds,wo[5]=l0,wo[6]=Vh,Ma[0]=po,Ma[1]=a0,Ma[2]=h0,Ma[3]=pu,Ma[4]=cl,Ma[5]=f0,Ma[6]=gu,E=1}else E=0}E&&(E=function(ke,rt){for(ke.M=0;ke.M<ke.Va;++ke.M){var We,be=ke.Jc[ke.M&ke.Xb],je=ke.m,Ze=ke;for(We=0;We<Ze.za;++We){var it=je,tt=Ze,Et=tt.Ac,mt=tt.Bc+4*We,Pt=tt.zc,yt=tt.ya[tt.aa+We];if(tt.Qa.Bb?yt.$b=ae(it,tt.Pa.jb[0])?2+ae(it,tt.Pa.jb[2]):ae(it,tt.Pa.jb[1]):yt.$b=0,tt.kc&&(yt.Ad=ae(it,tt.Bd)),yt.Za=!ae(it,145)+0,yt.Za){var In=yt.Ob,Ln=0;for(tt=0;4>tt;++tt){var bn,An=Pt[0+tt];for(bn=0;4>bn;++bn){An=iI[Et[mt+bn]][An];for(var Kn=sb[ae(it,An[0])];0<Kn;)Kn=sb[2*Kn+ae(it,An[Kn])];An=-Kn,Et[mt+bn]=An}r(In,Ln,Et,mt,4),Ln+=4,Pt[0+tt]=An}}else An=ae(it,156)?ae(it,128)?1:3:ae(it,163)?2:0,yt.Ob[0]=An,s(Et,mt,An,4),s(Pt,0,An,4);yt.Dd=ae(it,142)?ae(it,114)?ae(it,183)?1:3:2:0}if(Ze.m.Ka)return Br(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if(Ze=be,it=(je=ke).rb[je.sb-1],Et=je.rb[je.sb+je.ja],We=je.ya[je.aa+je.ja],mt=je.kc?We.Ad:0)it.la=Et.la=0,We.Za||(it.Na=Et.Na=0),We.Hc=0,We.Gc=0,We.ia=0;else{var On,Zt;if(it=Et,Et=Ze,mt=je.Pa.Xc,Pt=je.ya[je.aa+je.ja],yt=je.pb[Pt.$b],tt=Pt.ad,In=0,Ln=je.rb[je.sb-1],An=bn=0,s(tt,In,0,384),Pt.Za)var Lr=0,Rs=mt[3];else{Kn=a(16);var Mr=it.Na+Ln.Na;if(Mr=Uu(Et,mt[1],Mr,yt.Eb,0,Kn,0),it.Na=Ln.Na=(0<Mr)+0,1<Mr)CA(Kn,0,tt,In);else{var Hs=Kn[0]+3>>3;for(Kn=0;256>Kn;Kn+=16)tt[In+Kn]=Hs}Lr=1,Rs=mt[0]}var Mn=15&it.la,Zs=15&Ln.la;for(Kn=0;4>Kn;++Kn){var ei=1&Zs;for(Hs=Zt=0;4>Hs;++Hs)Mn=Mn>>1|(ei=(Mr=Uu(Et,Rs,Mr=ei+(1&Mn),yt.Sc,Lr,tt,In))>Lr)<<7,Zt=Zt<<2|(3<Mr?3:1<Mr?2:tt[In+0]!=0),In+=16;Mn>>=4,Zs=Zs>>1|ei<<7,bn=(bn<<8|Zt)>>>0}for(Rs=Mn,Lr=Zs>>4,On=0;4>On;On+=2){for(Zt=0,Mn=it.la>>4+On,Zs=Ln.la>>4+On,Kn=0;2>Kn;++Kn){for(ei=1&Zs,Hs=0;2>Hs;++Hs)Mr=ei+(1&Mn),Mn=Mn>>1|(ei=0<(Mr=Uu(Et,mt[2],Mr,yt.Qc,0,tt,In)))<<3,Zt=Zt<<2|(3<Mr?3:1<Mr?2:tt[In+0]!=0),In+=16;Mn>>=2,Zs=Zs>>1|ei<<5}An|=Zt<<4*On,Rs|=Mn<<4<<On,Lr|=(240&Zs)<<On}it.la=Rs,Ln.la=Lr,Pt.Hc=bn,Pt.Gc=An,Pt.ia=43690&An?0:yt.ia,mt=!(bn|An)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[We.$b][We.Za],je.wa[je.Y+je.ja].La|=!mt),Ze.Ka)return Br(ke,7,"Premature end-of-file encountered.")}if(uu(ke),je=rt,Ze=1,We=(be=ke).D,it=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(We.M=be.M,We.uc=it,Su(be,We),Ze=1,We=(Zt=be.D).Nb,it=(An=mf[be.L])*be.R,Et=An/2*be.B,Kn=16*We*be.R,Hs=8*We*be.B,mt=be.sa,Pt=be.ta-it+Kn,yt=be.qa,tt=be.ra-Et+Hs,In=be.Ha,Ln=be.Ia-Et+Hs,Zs=(Mn=Zt.M)==0,bn=Mn>=be.Va-1,be.Aa==2&&Su(be,Zt),Zt.uc)for(ei=(Mr=be).D.M,t(Mr.D.uc),Zt=Mr.yb;Zt<Mr.Hb;++Zt){Lr=Zt,Rs=ei;var Gr=(as=(gr=Mr).D).Nb;On=gr.R;var as=as.wa[as.Y+Lr],Fs=gr.sa,mi=gr.ta+16*Gr*On+16*Lr,aa=as.dd,qr=as.tc;if(qr!=0)if(t(3<=qr),gr.L==1)0<Lr&&bo(Fs,mi,On,qr+4),as.La&&hi(Fs,mi,On,qr),0<Rs&&ml(Fs,mi,On,qr+4),as.La&&Tu(Fs,mi,On,qr);else{var Qa=gr.B,vl=gr.qa,IA=gr.ra+8*Gr*Qa+8*Lr,Co=gr.Ha,gr=gr.Ia+8*Gr*Qa+8*Lr;Gr=as.ld,0<Lr&&(of(Fs,mi,On,qr+4,aa,Gr),fl(vl,IA,Co,gr,Qa,qr+4,aa,Gr)),as.La&&(xo(Fs,mi,On,qr,aa,Gr),jA(vl,IA,Co,gr,Qa,qr,aa,Gr)),0<Rs&&(SA(Fs,mi,On,qr+4,aa,Gr),Nu(vl,IA,Co,gr,Qa,qr+4,aa,Gr)),as.La&&(pl(Fs,mi,On,qr,aa,Gr),gl(vl,IA,Co,gr,Qa,qr,aa,Gr))}}if(be.ia&&alert("todo:DitherRow"),je.put!=null){if(Zt=16*Mn,Mn=16*(Mn+1),Zs?(je.y=be.sa,je.O=be.ta+Kn,je.f=be.qa,je.N=be.ra+Hs,je.ea=be.Ha,je.W=be.Ia+Hs):(Zt-=An,je.y=mt,je.O=Pt,je.f=yt,je.N=tt,je.ea=In,je.W=Ln),bn||(Mn-=An),Mn>je.o&&(Mn=je.o),je.F=null,je.J=null,be.Fa!=null&&0<be.Fa.length&&Zt<Mn&&(je.J=Bu(be,je,Zt,Mn-Zt),je.F=be.mb,je.F==null&&je.F.length==0)){Ze=Br(be,3,"Could not decode alpha data.");break e}Zt<je.j&&(An=je.j-Zt,Zt=je.j,t(!(1&An)),je.O+=be.R*An,je.N+=be.B*(An>>1),je.W+=be.B*(An>>1),je.F!=null&&(je.J+=je.width*An)),Zt<Mn&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=Zt-je.j,je.U=je.va-je.v,je.T=Mn-Zt,Ze=je.put(je))}We+1!=be.Ic||bn||(r(be.sa,be.ta-it,mt,Pt+16*be.R,it),r(be.qa,be.ra-Et,yt,tt+8*be.B,Et),r(be.Ha,be.Ia-Et,In,Ln+8*be.B,Et))}if(!Ze)return Br(ke,6,"Output aborted.")}return 1}(f,v)),v.bc!=null&&v.bc(v),E&=1}return E?(f.cb=0,E):0}function Hi(f,v,E,O,q){q=f[v+E+32*O]+(q>>3),f[v+E+32*O]=-256&q?0>q?0:255:q}function cA(f,v,E,O,q,J){Hi(f,v,0,E,O+q),Hi(f,v,1,E,O+J),Hi(f,v,2,E,O-J),Hi(f,v,3,E,O-q)}function Ms(f){return(20091*f>>16)+f}function du(f,v,E,O){var q,J=0,ee=a(16);for(q=0;4>q;++q){var ne=f[v+0]+f[v+8],se=f[v+0]-f[v+8],Ae=(35468*f[v+4]>>16)-Ms(f[v+12]),xe=Ms(f[v+4])+(35468*f[v+12]>>16);ee[J+0]=ne+xe,ee[J+1]=se+Ae,ee[J+2]=se-Ae,ee[J+3]=ne-xe,J+=4,v++}for(q=J=0;4>q;++q)ne=(f=ee[J+0]+4)+ee[J+8],se=f-ee[J+8],Ae=(35468*ee[J+4]>>16)-Ms(ee[J+12]),Hi(E,O,0,0,ne+(xe=Ms(ee[J+4])+(35468*ee[J+12]>>16))),Hi(E,O,1,0,se+Ae),Hi(E,O,2,0,se-Ae),Hi(E,O,3,0,ne-xe),J++,O+=32}function $h(f,v,E,O){var q=f[v+0]+4,J=35468*f[v+4]>>16,ee=Ms(f[v+4]),ne=35468*f[v+1]>>16;cA(E,O,0,q+ee,f=Ms(f[v+1]),ne),cA(E,O,1,q+J,f,ne),cA(E,O,2,q-J,f,ne),cA(E,O,3,q-ee,f,ne)}function n0(f,v,E,O,q){du(f,v,E,O),q&&du(f,v+16,E,O+4)}function zh(f,v,E,O){Da(f,v+0,E,O,1),Da(f,v+32,E,O+128,1)}function r0(f,v,E,O){var q;for(f=f[v+0]+4,q=0;4>q;++q)for(v=0;4>v;++v)Hi(E,O,v,q,f)}function Wh(f,v,E,O){f[v+0]&&ks(f,v+0,E,O),f[v+16]&&ks(f,v+16,E,O+4),f[v+32]&&ks(f,v+32,E,O+128),f[v+48]&&ks(f,v+48,E,O+128+4)}function s0(f,v,E,O){var q,J=a(16);for(q=0;4>q;++q){var ee=f[v+0+q]+f[v+12+q],ne=f[v+4+q]+f[v+8+q],se=f[v+4+q]-f[v+8+q],Ae=f[v+0+q]-f[v+12+q];J[0+q]=ee+ne,J[8+q]=ee-ne,J[4+q]=Ae+se,J[12+q]=Ae-se}for(q=0;4>q;++q)ee=(f=J[0+4*q]+3)+J[3+4*q],ne=J[1+4*q]+J[2+4*q],se=J[1+4*q]-J[2+4*q],Ae=f-J[3+4*q],E[O+0]=ee+ne>>3,E[O+16]=Ae+se>>3,E[O+32]=ee-ne>>3,E[O+48]=Ae-se>>3,O+=64}function hu(f,v,E){var O,q=v-32,J=Js,ee=255-f[q-1];for(O=0;O<E;++O){var ne,se=J,Ae=ee+f[v-1];for(ne=0;ne<E;++ne)f[v+ne]=se[Ae+f[q+ne]];v+=32}}function i0(f,v){hu(f,v,4)}function a0(f,v){hu(f,v,8)}function o0(f,v){hu(f,v,16)}function Na(f,v){var E;for(E=0;16>E;++E)r(f,v+32*E,f,v-32,16)}function uA(f,v){var E;for(E=16;0<E;--E)s(f,v,f[v-1],16),v+=32}function dA(f,v,E){var O;for(O=0;16>O;++O)s(v,E+32*O,f,16)}function Kh(f,v){var E,O=16;for(E=0;16>E;++E)O+=f[v-1+32*E]+f[v+E-32];dA(O>>5,f,v)}function ds(f,v){var E,O=8;for(E=0;16>E;++E)O+=f[v-1+32*E];dA(O>>4,f,v)}function l0(f,v){var E,O=8;for(E=0;16>E;++E)O+=f[v+E-32];dA(O>>4,f,v)}function Vh(f,v){dA(128,f,v)}function Kt(f,v,E){return f+2*v+E+2>>2}function A0(f,v){var E,O=v-32;for(O=new Uint8Array([Kt(f[O-1],f[O+0],f[O+1]),Kt(f[O+0],f[O+1],f[O+2]),Kt(f[O+1],f[O+2],f[O+3]),Kt(f[O+2],f[O+3],f[O+4])]),E=0;4>E;++E)r(f,v+32*E,O,0,O.length)}function c0(f,v){var E=f[v-1],O=f[v-1+32],q=f[v-1+64],J=f[v-1+96];Ce(f,v+0,16843009*Kt(f[v-1-32],E,O)),Ce(f,v+32,16843009*Kt(E,O,q)),Ce(f,v+64,16843009*Kt(O,q,J)),Ce(f,v+96,16843009*Kt(q,J,J))}function ra(f,v){var E,O=4;for(E=0;4>E;++E)O+=f[v+E-32]+f[v-1+32*E];for(O>>=3,E=0;4>E;++E)s(f,v+32*E,O,4)}function Gh(f,v){var E=f[v-1+0],O=f[v-1+32],q=f[v-1+64],J=f[v-1-32],ee=f[v+0-32],ne=f[v+1-32],se=f[v+2-32],Ae=f[v+3-32];f[v+0+96]=Kt(O,q,f[v-1+96]),f[v+1+96]=f[v+0+64]=Kt(E,O,q),f[v+2+96]=f[v+1+64]=f[v+0+32]=Kt(J,E,O),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Kt(ee,J,E),f[v+3+64]=f[v+2+32]=f[v+1+0]=Kt(ne,ee,J),f[v+3+32]=f[v+2+0]=Kt(se,ne,ee),f[v+3+0]=Kt(Ae,se,ne)}function qh(f,v){var E=f[v+1-32],O=f[v+2-32],q=f[v+3-32],J=f[v+4-32],ee=f[v+5-32],ne=f[v+6-32],se=f[v+7-32];f[v+0+0]=Kt(f[v+0-32],E,O),f[v+1+0]=f[v+0+32]=Kt(E,O,q),f[v+2+0]=f[v+1+32]=f[v+0+64]=Kt(O,q,J),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Kt(q,J,ee),f[v+3+32]=f[v+2+64]=f[v+1+96]=Kt(J,ee,ne),f[v+3+64]=f[v+2+96]=Kt(ee,ne,se),f[v+3+96]=Kt(ne,se,se)}function hA(f,v){var E=f[v-1+0],O=f[v-1+32],q=f[v-1+64],J=f[v-1-32],ee=f[v+0-32],ne=f[v+1-32],se=f[v+2-32],Ae=f[v+3-32];f[v+0+0]=f[v+1+64]=J+ee+1>>1,f[v+1+0]=f[v+2+64]=ee+ne+1>>1,f[v+2+0]=f[v+3+64]=ne+se+1>>1,f[v+3+0]=se+Ae+1>>1,f[v+0+96]=Kt(q,O,E),f[v+0+64]=Kt(O,E,J),f[v+0+32]=f[v+1+96]=Kt(E,J,ee),f[v+1+32]=f[v+2+96]=Kt(J,ee,ne),f[v+2+32]=f[v+3+96]=Kt(ee,ne,se),f[v+3+32]=Kt(ne,se,Ae)}function fu(f,v){var E=f[v+0-32],O=f[v+1-32],q=f[v+2-32],J=f[v+3-32],ee=f[v+4-32],ne=f[v+5-32],se=f[v+6-32],Ae=f[v+7-32];f[v+0+0]=E+O+1>>1,f[v+1+0]=f[v+0+64]=O+q+1>>1,f[v+2+0]=f[v+1+64]=q+J+1>>1,f[v+3+0]=f[v+2+64]=J+ee+1>>1,f[v+0+32]=Kt(E,O,q),f[v+1+32]=f[v+0+96]=Kt(O,q,J),f[v+2+32]=f[v+1+96]=Kt(q,J,ee),f[v+3+32]=f[v+2+96]=Kt(J,ee,ne),f[v+3+64]=Kt(ee,ne,se),f[v+3+96]=Kt(ne,se,Ae)}function u0(f,v){var E=f[v-1+0],O=f[v-1+32],q=f[v-1+64],J=f[v-1+96];f[v+0+0]=E+O+1>>1,f[v+2+0]=f[v+0+32]=O+q+1>>1,f[v+2+32]=f[v+0+64]=q+J+1>>1,f[v+1+0]=Kt(E,O,q),f[v+3+0]=f[v+1+32]=Kt(O,q,J),f[v+3+32]=f[v+1+64]=Kt(q,J,J),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=J}function d0(f,v){var E=f[v-1+0],O=f[v-1+32],q=f[v-1+64],J=f[v-1+96],ee=f[v-1-32],ne=f[v+0-32],se=f[v+1-32],Ae=f[v+2-32];f[v+0+0]=f[v+2+32]=E+ee+1>>1,f[v+0+32]=f[v+2+64]=O+E+1>>1,f[v+0+64]=f[v+2+96]=q+O+1>>1,f[v+0+96]=J+q+1>>1,f[v+3+0]=Kt(ne,se,Ae),f[v+2+0]=Kt(ee,ne,se),f[v+1+0]=f[v+3+32]=Kt(E,ee,ne),f[v+1+32]=f[v+3+64]=Kt(O,E,ee),f[v+1+64]=f[v+3+96]=Kt(q,O,E),f[v+1+96]=Kt(J,q,O)}function h0(f,v){var E;for(E=0;8>E;++E)r(f,v+32*E,f,v-32,8)}function pu(f,v){var E;for(E=0;8>E;++E)s(f,v,f[v-1],8),v+=32}function Al(f,v,E){var O;for(O=0;8>O;++O)s(v,E+32*O,f,8)}function po(f,v){var E,O=8;for(E=0;8>E;++E)O+=f[v+E-32]+f[v-1+32*E];Al(O>>4,f,v)}function f0(f,v){var E,O=4;for(E=0;8>E;++E)O+=f[v+E-32];Al(O>>3,f,v)}function cl(f,v){var E,O=4;for(E=0;8>E;++E)O+=f[v-1+32*E];Al(O>>3,f,v)}function gu(f,v){Al(128,f,v)}function fA(f,v,E){var O=f[v-E],q=f[v+0],J=3*(q-O)+x0[1020+f[v-2*E]-f[v+E]],ee=Af[112+(J+4>>3)];f[v-E]=Js[255+O+Af[112+(J+3>>3)]],f[v+0]=Js[255+q-ee]}function Yh(f,v,E,O){var q=f[v+0],J=f[v+E];return pi[255+f[v-2*E]-f[v-E]]>O||pi[255+J-q]>O}function Xh(f,v,E,O){return 4*pi[255+f[v-E]-f[v+0]]+pi[255+f[v-2*E]-f[v+E]]<=O}function Jh(f,v,E,O,q){var J=f[v-3*E],ee=f[v-2*E],ne=f[v-E],se=f[v+0],Ae=f[v+E],xe=f[v+2*E],Le=f[v+3*E];return 4*pi[255+ne-se]+pi[255+ee-Ae]>O?0:pi[255+f[v-4*E]-J]<=q&&pi[255+J-ee]<=q&&pi[255+ee-ne]<=q&&pi[255+Le-xe]<=q&&pi[255+xe-Ae]<=q&&pi[255+Ae-se]<=q}function Zh(f,v,E,O){var q=2*O+1;for(O=0;16>O;++O)Xh(f,v+O,E,q)&&fA(f,v+O,E)}function sa(f,v,E,O){var q=2*O+1;for(O=0;16>O;++O)Xh(f,v+O*E,1,q)&&fA(f,v+O*E,1)}function Ta(f,v,E,O){var q;for(q=3;0<q;--q)Zh(f,v+=4*E,E,O)}function p0(f,v,E,O){var q;for(q=3;0<q;--q)sa(f,v+=4,E,O)}function go(f,v,E,O,q,J,ee,ne){for(J=2*J+1;0<q--;){if(Jh(f,v,E,J,ee))if(Yh(f,v,E,ne))fA(f,v,E);else{var se=f,Ae=v,xe=E,Le=se[Ae-2*xe],Me=se[Ae-xe],ke=se[Ae+0],rt=se[Ae+xe],We=se[Ae+2*xe],be=27*(Ze=x0[1020+3*(ke-Me)+x0[1020+Le-rt]])+63>>7,je=18*Ze+63>>7,Ze=9*Ze+63>>7;se[Ae-3*xe]=Js[255+se[Ae-3*xe]+Ze],se[Ae-2*xe]=Js[255+Le+je],se[Ae-xe]=Js[255+Me+be],se[Ae+0]=Js[255+ke-be],se[Ae+xe]=Js[255+rt-je],se[Ae+2*xe]=Js[255+We-Ze]}v+=O}}function Oi(f,v,E,O,q,J,ee,ne){for(J=2*J+1;0<q--;){if(Jh(f,v,E,J,ee))if(Yh(f,v,E,ne))fA(f,v,E);else{var se=f,Ae=v,xe=E,Le=se[Ae-xe],Me=se[Ae+0],ke=se[Ae+xe],rt=Af[112+((We=3*(Me-Le))+4>>3)],We=Af[112+(We+3>>3)],be=rt+1>>1;se[Ae-2*xe]=Js[255+se[Ae-2*xe]+be],se[Ae-xe]=Js[255+Le+We],se[Ae+0]=Js[255+Me-rt],se[Ae+xe]=Js[255+ke-be]}v+=O}}function mu(f,v,E,O,q,J){go(f,v,E,1,16,O,q,J)}function ul(f,v,E,O,q,J){go(f,v,1,E,16,O,q,J)}function g0(f,v,E,O,q,J){var ee;for(ee=3;0<ee;--ee)Oi(f,v+=4*E,E,1,16,O,q,J)}function pA(f,v,E,O,q,J){var ee;for(ee=3;0<ee;--ee)Oi(f,v+=4,1,E,16,O,q,J)}function m0(f,v,E,O,q,J,ee,ne){go(f,v,q,1,8,J,ee,ne),go(E,O,q,1,8,J,ee,ne)}function vu(f,v,E,O,q,J,ee,ne){go(f,v,1,q,8,J,ee,ne),go(E,O,1,q,8,J,ee,ne)}function yu(f,v,E,O,q,J,ee,ne){Oi(f,v+4*q,q,1,8,J,ee,ne),Oi(E,O+4*q,q,1,8,J,ee,ne)}function ef(f,v,E,O,q,J,ee,ne){Oi(f,v+4,1,q,8,J,ee,ne),Oi(E,O+4,1,q,8,J,ee,ne)}function gA(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tf(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new j}function v0(){this.xb=this.a=0,this.l=new AA,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tf,this.ab=0,this.gc=o(4,bu),this.Oc=0}function mA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new AA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dl(f,v,E,O,q,J,ee){for(f=f==null?0:f[v+0],v=0;v<ee;++v)q[J+v]=f+E[O+v]&255,f=q[J+v]}function wu(f,v,E,O,q,J,ee){var ne;if(f==null)dl(null,null,E,O,q,J,ee);else for(ne=0;ne<ee;++ne)q[J+ne]=f[v+ne]+E[O+ne]&255}function mo(f,v,E,O,q,J,ee){if(f==null)dl(null,null,E,O,q,J,ee);else{var ne,se=f[v+0],Ae=se,xe=se;for(ne=0;ne<ee;++ne)Ae=xe+(se=f[v+ne])-Ae,xe=E[O+ne]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=se,q[J+ne]=xe}}function Bu(f,v,E,O){var q=v.width,J=v.o;if(t(f!=null&&v!=null),0>E||0>=O||E+O>J)return null;if(!f.Cc){if(f.ga==null){var ee;if(f.ga=new mA,(ee=f.ga==null)||(ee=v.width*v.o,t(f.Gb.length==0),f.Gb=a(ee),f.Uc=0,f.Gb==null?ee=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,ee=1),ee=!ee),!ee){ee=f.ga;var ne=f.Fa,se=f.P,Ae=f.qc,xe=f.mb,Le=f.nb,Me=se+1,ke=Ae-1,rt=ee.l;if(t(ne!=null&&xe!=null&&v!=null),Bo[0]=null,Bo[1]=dl,Bo[2]=wu,Bo[3]=mo,ee.ca=xe,ee.tb=Le,ee.c=v.width,ee.i=v.height,t(0<ee.c&&0<ee.i),1>=Ae)v=0;else if(ee.$a=ne[se+0]>>0&3,ee.Z=ne[se+0]>>2&3,ee.Lc=ne[se+0]>>4&3,se=ne[se+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||se)v=0;else if(rt.put=jn,rt.ac=Qt,rt.bc=qn,rt.ma=ee,rt.width=v.width,rt.height=v.height,rt.Da=v.Da,rt.v=v.v,rt.va=v.va,rt.j=v.j,rt.o=v.o,ee.$a)e:{t(ee.$a==1),v=Hr();t:for(;;){if(v==null){v=0;break e}if(t(ee!=null),ee.mc=v,v.c=ee.c,v.i=ee.i,v.l=ee.l,v.l.ma=ee,v.l.width=ee.c,v.l.height=ee.i,v.a=0,W(v.m,ne,Me,ke),!or(ee.c,ee.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&En(v.s)?(ee.ic=1,ne=v.c*v.i,v.Ta=null,v.Ua=0,v.V=a(ne),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(ee.ic=0,v=Hn(v,ee.c)),!v))break t;v=1;break e}ee.mc=null,v=0}else v=ke>=ee.c*ee.i;ee=!v}if(ee)return null;f.ga.Lc!=1?f.Ga=0:O=J-E}t(f.ga!=null),t(E+O<=J);e:{if(v=(ne=f.ga).c,J=ne.l.o,ne.$a==0){if(Me=f.rc,ke=f.Vc,rt=f.Fa,se=f.P+1+E*v,Ae=f.mb,xe=f.nb+E*v,t(se<=f.P+f.qc),ne.Z!=0)for(t(Bo[ne.Z]!=null),ee=0;ee<O;++ee)Bo[ne.Z](Me,ke,rt,se,Ae,xe,v),Me=Ae,ke=xe,xe+=v,se+=v;else for(ee=0;ee<O;++ee)r(Ae,xe,rt,se,v),Me=Ae,ke=xe,xe+=v,se+=v;f.rc=Me,f.Vc=ke}else{if(t(ne.mc!=null),v=E+O,t((ee=ne.mc)!=null),t(v<=ee.i),ee.C>=v)v=1;else if(ne.ic||Te(),ne.ic){ne=ee.V,Me=ee.Ba,ke=ee.c;var We=ee.i,be=(rt=1,se=ee.$/ke,Ae=ee.$%ke,xe=ee.m,Le=ee.s,ee.$),je=ke*We,Ze=ke*v,it=Le.wc,tt=be<Ze?er(Le,Ae,se):null;t(be<=je),t(v<=We),t(En(Le));t:for(;;){for(;!xe.h&&be<Ze;){if(Ae&it||(tt=er(Le,Ae,se)),t(tt!=null),V(xe),256>(We=Pn(tt.G[0],tt.H[0],xe)))ne[Me+be]=We,++be,++Ae>=ke&&(Ae=0,++se<=v&&!(se%16)&&cr(ee,se));else{if(!(280>We)){rt=0;break t}We=ar(We-256,xe);var Et,mt=Pn(tt.G[4],tt.H[4],xe);if(V(xe),!(be>=(mt=Lt(ke,mt=ar(mt,xe)))&&je-be>=We)){rt=0;break t}for(Et=0;Et<We;++Et)ne[Me+be+Et]=ne[Me+be+Et-mt];for(be+=We,Ae+=We;Ae>=ke;)Ae-=ke,++se<=v&&!(se%16)&&cr(ee,se);be<Ze&&Ae&it&&(tt=er(Le,Ae,se))}t(xe.h==Q(xe))}cr(ee,se>v?v:se);break t}!rt||xe.h&&be<je?(rt=0,ee.a=xe.h?5:3):ee.$=be,v=rt}else v=wr(ee,ee.V,ee.Ba,ee.c,ee.i,v,$t);if(!v){O=0;break e}}E+O>=J&&(f.Cc=1),O=1}if(!O)return null;if(f.Cc&&((O=f.ga)!=null&&(O.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+E*q}function B(f,v,E,O,q,J){for(;0<q--;){var ee,ne=f,se=v+(E?1:0),Ae=f,xe=v+(E?0:3);for(ee=0;ee<O;++ee){var Le=Ae[xe+4*ee];Le!=255&&(Le*=32897,ne[se+4*ee+0]=ne[se+4*ee+0]*Le>>23,ne[se+4*ee+1]=ne[se+4*ee+1]*Le>>23,ne[se+4*ee+2]=ne[se+4*ee+2]*Le>>23)}v+=J}}function Y(f,v,E,O,q){for(;0<O--;){var J;for(J=0;J<E;++J){var ee=f[v+2*J+0],ne=15&(Ae=f[v+2*J+1]),se=4369*ne,Ae=(240&Ae|Ae>>4)*se>>16;f[v+2*J+0]=(240&ee|ee>>4)*se>>16&240|(15&ee|ee<<4)*se>>16>>4&15,f[v+2*J+1]=240&Ae|ne}v+=q}}function de(f,v,E,O,q,J,ee,ne){var se,Ae,xe=255;for(Ae=0;Ae<q;++Ae){for(se=0;se<O;++se){var Le=f[v+se];J[ee+4*se]=Le,xe&=Le}v+=E,ee+=ne}return xe!=255}function ve(f,v,E,O,q){var J;for(J=0;J<q;++J)E[O+J]=f[v+J]>>8}function Te(){fi=B,Yn=Y,Xn=de,Sr=ve}function Ge(f,v,E){_[f]=function(O,q,J,ee,ne,se,Ae,xe,Le,Me,ke,rt,We,be,je,Ze,it){var tt,Et=it-1>>1,mt=ne[se+0]|Ae[xe+0]<<16,Pt=Le[Me+0]|ke[rt+0]<<16;t(O!=null);var yt=3*mt+Pt+131074>>2;for(v(O[q+0],255&yt,yt>>16,We,be),J!=null&&(yt=3*Pt+mt+131074>>2,v(J[ee+0],255&yt,yt>>16,je,Ze)),tt=1;tt<=Et;++tt){var In=ne[se+tt]|Ae[xe+tt]<<16,Ln=Le[Me+tt]|ke[rt+tt]<<16,bn=mt+In+Pt+Ln+524296,An=bn+2*(In+Pt)>>3;yt=An+mt>>1,mt=(bn=bn+2*(mt+Ln)>>3)+In>>1,v(O[q+2*tt-1],255&yt,yt>>16,We,be+(2*tt-1)*E),v(O[q+2*tt-0],255&mt,mt>>16,We,be+(2*tt-0)*E),J!=null&&(yt=bn+Pt>>1,mt=An+Ln>>1,v(J[ee+2*tt-1],255&yt,yt>>16,je,Ze+(2*tt-1)*E),v(J[ee+2*tt+0],255&mt,mt>>16,je,Ze+(2*tt+0)*E)),mt=In,Pt=Ln}1&it||(yt=3*mt+Pt+131074>>2,v(O[q+it-1],255&yt,yt>>16,We,be+(it-1)*E),J!=null&&(yt=3*Pt+mt+131074>>2,v(J[ee+it-1],255&yt,yt>>16,je,Ze+(it-1)*E)))}}function ot(){gi[cf]=AI,gi[uf]=ab,gi[tb]=cI,gi[df]=ob,gi[hf]=lb,gi[b0]=Ab,gi[nb]=uI,gi[w0]=ab,gi[B0]=ob,gi[ff]=lb,gi[C0]=Ab}function St(f){return f&-16384?0>f?0:255:f>>dI}function Mt(f,v){return St((19077*f>>8)+(26149*v>>8)-14234)}function Xt(f,v,E){return St((19077*f>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function Vt(f,v){return St((19077*f>>8)+(33050*v>>8)-17685)}function vn(f,v,E,O,q){O[q+0]=Mt(f,E),O[q+1]=Xt(f,v,E),O[q+2]=Vt(f,v)}function ur(f,v,E,O,q){O[q+0]=Vt(f,v),O[q+1]=Xt(f,v,E),O[q+2]=Mt(f,E)}function pr(f,v,E,O,q){var J=Xt(f,v,E);v=J<<3&224|Vt(f,v)>>3,O[q+0]=248&Mt(f,E)|J>>5,O[q+1]=v}function Dr(f,v,E,O,q){var J=240&Vt(f,v)|15;O[q+0]=240&Mt(f,E)|Xt(f,v,E)>>4,O[q+1]=J}function hs(f,v,E,O,q){O[q+0]=255,vn(f,v,E,O,q+1)}function Vr(f,v,E,O,q){ur(f,v,E,O,q),O[q+3]=255}function $i(f,v,E,O,q){vn(f,v,E,O,q),O[q+3]=255}function Xs(f,v){return 0>f?0:f>v?v:f}function ia(f,v,E){_[f]=function(O,q,J,ee,ne,se,Ae,xe,Le){for(var Me=xe+(-2&Le)*E;xe!=Me;)v(O[q+0],J[ee+0],ne[se+0],Ae,xe),v(O[q+1],J[ee+0],ne[se+0],Ae,xe+E),q+=2,++ee,++se,xe+=2*E;1&Le&&v(O[q+0],J[ee+0],ne[se+0],Ae,xe)}}function nf(f,v,E){return E==0?f==0?v==0?6:5:v==0?4:0:E}function Cu(f,v,E,O,q){switch(f>>>30){case 3:Da(v,E,O,q,0);break;case 2:Cr(v,E,O,q);break;case 1:ks(v,E,O,q)}}function Su(f,v){var E,O,q=v.M,J=v.Nb,ee=f.oc,ne=f.pc+40,se=f.oc,Ae=f.pc+584,xe=f.oc,Le=f.pc+600;for(E=0;16>E;++E)ee[ne+32*E-1]=129;for(E=0;8>E;++E)se[Ae+32*E-1]=129,xe[Le+32*E-1]=129;for(0<q?ee[ne-1-32]=se[Ae-1-32]=xe[Le-1-32]=129:(s(ee,ne-32-1,127,21),s(se,Ae-32-1,127,9),s(xe,Le-32-1,127,9)),O=0;O<f.za;++O){var Me=v.ya[v.aa+O];if(0<O){for(E=-1;16>E;++E)r(ee,ne+32*E-4,ee,ne+32*E+12,4);for(E=-1;8>E;++E)r(se,Ae+32*E-4,se,Ae+32*E+4,4),r(xe,Le+32*E-4,xe,Le+32*E+4,4)}var ke=f.Gd,rt=f.Hd+O,We=Me.ad,be=Me.Hc;if(0<q&&(r(ee,ne-32,ke[rt].y,0,16),r(se,Ae-32,ke[rt].f,0,8),r(xe,Le-32,ke[rt].ea,0,8)),Me.Za){var je=ee,Ze=ne-32+16;for(0<q&&(O>=f.za-1?s(je,Ze,ke[rt].y[15],4):r(je,Ze,ke[rt+1].y,0,4)),E=0;4>E;E++)je[Ze+128+E]=je[Ze+256+E]=je[Ze+384+E]=je[Ze+0+E];for(E=0;16>E;++E,be<<=2)je=ee,Ze=ne+ub[E],zi[Me.Ob[E]](je,Ze),Cu(be,We,16*+E,je,Ze)}else if(je=nf(O,q,Me.Ob[0]),wo[je](ee,ne),be!=0)for(E=0;16>E;++E,be<<=2)Cu(be,We,16*+E,ee,ne+ub[E]);for(E=Me.Gc,je=nf(O,q,Me.Dd),Ma[je](se,Ae),Ma[je](xe,Le),be=We,je=se,Ze=Ae,255&(Me=E>>0)&&(170&Me?Fu(be,256,je,Ze):di(be,256,je,Ze)),Me=xe,be=Le,255&(E>>=8)&&(170&E?Fu(We,320,Me,be):di(We,320,Me,be)),q<f.Ub-1&&(r(ke[rt].y,0,ee,ne+480,16),r(ke[rt].f,0,se,Ae+224,8),r(ke[rt].ea,0,xe,Le+224,8)),E=8*J*f.B,ke=f.sa,rt=f.ta+16*O+16*J*f.R,We=f.qa,Me=f.ra+8*O+E,be=f.Ha,je=f.Ia+8*O+E,E=0;16>E;++E)r(ke,rt+E*f.R,ee,ne+32*E,16);for(E=0;8>E;++E)r(We,Me+E*f.B,se,Ae+32*E,8),r(be,je+E*f.B,xe,Le+32*E,8)}}function vA(f,v,E,O,q,J,ee,ne,se){var Ae=[0],xe=[0],Le=0,Me=se!=null?se.kd:0,ke=se??new xu;if(f==null||12>E)return 7;ke.data=f,ke.w=v,ke.ha=E,v=[v],E=[E],ke.gb=[ke.gb];e:{var rt=v,We=E,be=ke.gb;if(t(f!=null),t(We!=null),t(be!=null),be[0]=0,12<=We[0]&&!n(f,rt[0],"RIFF")){if(n(f,rt[0]+8,"WEBP")){be=3;break e}var je=ue(f,rt[0]+4);if(12>je||4294967286<je){be=3;break e}if(Me&&je>We[0]-8){be=7;break e}be[0]=je,rt[0]+=12,We[0]-=12}be=0}if(be!=0)return be;for(je=0<ke.gb[0],E=E[0];;){e:{var Ze=f;We=v,be=E;var it=Ae,tt=xe,Et=rt=[0];if((yt=Le=[Le])[0]=0,8>be[0])be=7;else{if(!n(Ze,We[0],"VP8X")){if(ue(Ze,We[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var mt=ue(Ze,We[0]+8),Pt=1+fe(Ze,We[0]+12);if(2147483648<=Pt*(Ze=1+fe(Ze,We[0]+15))){be=3;break e}Et!=null&&(Et[0]=mt),it!=null&&(it[0]=Pt),tt!=null&&(tt[0]=Ze),We[0]+=18,be[0]-=18,yt[0]=1}be=0}}if(Le=Le[0],rt=rt[0],be!=0)return be;if(We=!!(2&rt),!je&&Le)return 3;if(J!=null&&(J[0]=!!(16&rt)),ee!=null&&(ee[0]=We),ne!=null&&(ne[0]=0),ee=Ae[0],rt=xe[0],Le&&We&&se==null){be=0;break}if(4>E){be=7;break}if(je&&Le||!je&&!Le&&!n(f,v[0],"ALPH")){E=[E],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{mt=f,be=v,je=E;var yt=ke.gb;it=ke.na,tt=ke.P,Et=ke.Sa,Pt=22,t(mt!=null),t(je!=null),Ze=be[0];var In=je[0];for(t(it!=null),t(Et!=null),it[0]=null,tt[0]=null,Et[0]=0;;){if(be[0]=Ze,je[0]=In,8>In){be=7;break e}var Ln=ue(mt,Ze+4);if(4294967286<Ln){be=3;break e}var bn=8+Ln+1&-2;if(Pt+=bn,0<yt&&Pt>yt){be=3;break e}if(!n(mt,Ze,"VP8 ")||!n(mt,Ze,"VP8L")){be=0;break e}if(In[0]<bn){be=7;break e}n(mt,Ze,"ALPH")||(it[0]=mt,tt[0]=Ze+8,Et[0]=Ln),Ze+=bn,In-=bn}}if(E=E[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],be!=0)break}E=[E],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(yt=f,be=v,je=E,it=ke.gb[0],tt=ke.Ja,Et=ke.xa,mt=be[0],Ze=!n(yt,mt,"VP8 "),Pt=!n(yt,mt,"VP8L"),t(yt!=null),t(je!=null),t(tt!=null),t(Et!=null),8>je[0])be=7;else{if(Ze||Pt){if(yt=ue(yt,mt+4),12<=it&&yt>it-12){be=3;break e}if(Me&&yt>je[0]-8){be=7;break e}tt[0]=yt,be[0]+=8,je[0]-=8,Et[0]=Pt}else Et[0]=5<=je[0]&&yt[mt+0]==47&&!(yt[mt+4]>>5),tt[0]=je[0];be=0}if(E=E[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],v=v[0],be!=0)break;if(4294967286<ke.Ja)return 3;if(ne==null||We||(ne[0]=ke.xa?2:1),ee=[ee],rt=[rt],ke.xa){if(5>E){be=7;break}ne=ee,Me=rt,We=J,f==null||5>E?f=0:5<=E&&f[v+0]==47&&!(f[v+4]>>5)?(je=[0],yt=[0],it=[0],W(tt=new T,f,v,E),Ut(tt,je,yt,it)?(ne!=null&&(ne[0]=je[0]),Me!=null&&(Me[0]=yt[0]),We!=null&&(We[0]=it[0]),f=1):f=0):f=0}else{if(10>E){be=7;break}ne=rt,f==null||10>E||!Rh(f,v+3,E-3)?f=0:(Me=f[v+0]|f[v+1]<<8|f[v+2]<<16,We=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=ke.Ja||!We||!f?f=0:(ee&&(ee[0]=We),ne&&(ne[0]=f),f=1))}if(!f||(ee=ee[0],rt=rt[0],Le&&(Ae[0]!=ee||xe[0]!=rt)))return 3;se!=null&&(se[0]=ke,se.offset=v-se.w,t(4294967286>v-se.w),t(se.offset==se.ha-E));break}return be==0||be==7&&Le&&se==null?(J!=null&&(J[0]|=ke.na!=null&&0<ke.na.length),O!=null&&(O[0]=ee),q!=null&&(q[0]=rt),0):be}function ju(f,v,E){var O=v.width,q=v.height,J=0,ee=0,ne=O,se=q;if(v.Da=f!=null&&0<f.Da,v.Da&&(ne=f.cd,se=f.bd,J=f.v,ee=f.j,11>E||(J&=-2,ee&=-2),0>J||0>ee||0>=ne||0>=se||J+ne>O||ee+se>q))return 0;if(v.v=J,v.j=ee,v.va=J+ne,v.o=ee+se,v.U=ne,v.T=se,v.da=f!=null&&0<f.da,v.da){if(!Ve(ne,se,E=[f.ib],J=[f.hb]))return 0;v.ib=E[0],v.hb=J[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*q/4,v.Kb=0),1}function Eu(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function yA(f,v,E,O){if(O==null||0>=f||0>=v)return 2;if(E!=null){if(E.Da){var q=E.cd,J=E.bd,ee=-2&E.v,ne=-2&E.j;if(0>ee||0>ne||0>=q||0>=J||ee+q>f||ne+J>v)return 2;f=q,v=J}if(E.da){if(!Ve(f,v,q=[E.ib],J=[E.hb]))return 2;f=q[0],v=J[0]}}O.width=f,O.height=v;e:{var se=O.width,Ae=O.height;if(f=O.S,0>=se||0>=Ae||!(f>=cf&&13>f))f=2;else{if(0>=O.Rd&&O.sd==null){ee=J=q=v=0;var xe=(ne=se*db[f])*Ae;if(11>f||(J=(Ae+1)/2*(v=(se+1)/2),f==12&&(ee=(q=se)*Ae)),(Ae=a(xe+2*J+ee))==null){f=1;break e}O.sd=Ae,11>f?((se=O.f.RGBA).eb=Ae,se.fb=0,se.A=ne,se.size=xe):((se=O.f.kb).y=Ae,se.O=0,se.fa=ne,se.Fd=xe,se.f=Ae,se.N=0+xe,se.Ab=v,se.Cd=J,se.ea=Ae,se.W=0+xe+J,se.Db=v,se.Ed=J,f==12&&(se.F=Ae,se.J=0+xe+2*J),se.Tc=ee,se.lb=q)}if(v=1,q=O.S,J=O.width,ee=O.height,q>=cf&&13>q)if(11>q)f=O.f.RGBA,v&=(ne=Math.abs(f.A))*(ee-1)+J<=f.size,v&=ne>=J*db[q],v&=f.eb!=null;else{f=O.f.kb,ne=(J+1)/2,xe=(ee+1)/2,se=Math.abs(f.fa),Ae=Math.abs(f.Ab);var Le=Math.abs(f.Db),Me=Math.abs(f.lb),ke=Me*(ee-1)+J;v&=se*(ee-1)+J<=f.Fd,v&=Ae*(xe-1)+ne<=f.Cd,v=(v&=Le*(xe-1)+ne<=f.Ed)&se>=J&Ae>=ne&Le>=ne,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,q==12&&(v&=Me>=J,v&=ke<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||E!=null&&E.fd&&(f=Eu(O)),f}var is=64,xA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bA=24,wA=32,Iu=8,Qs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(f){return f},_.Predictor2=function(f,v,E){return v[E+0]},_.Predictor3=function(f,v,E){return v[E+1]},_.Predictor4=function(f,v,E){return v[E-1]},_.Predictor5=function(f,v,E){return ze(ze(f,v[E+1]),v[E+0])},_.Predictor6=function(f,v,E){return ze(f,v[E-1])},_.Predictor7=function(f,v,E){return ze(f,v[E+0])},_.Predictor8=function(f,v,E){return ze(v[E-1],v[E+0])},_.Predictor9=function(f,v,E){return ze(v[E+0],v[E+1])},_.Predictor10=function(f,v,E){return ze(ze(f,v[E-1]),ze(v[E+0],v[E+1]))},_.Predictor11=function(f,v,E){var O=v[E+0];return 0>=ct(O>>24&255,f>>24&255,(v=v[E-1])>>24&255)+ct(O>>16&255,f>>16&255,v>>16&255)+ct(O>>8&255,f>>8&255,v>>8&255)+ct(255&O,255&f,255&v)?O:f},_.Predictor12=function(f,v,E){var O=v[E+0];return(Xe((f>>24&255)+(O>>24&255)-((v=v[E-1])>>24&255))<<24|Xe((f>>16&255)+(O>>16&255)-(v>>16&255))<<16|Xe((f>>8&255)+(O>>8&255)-(v>>8&255))<<8|Xe((255&f)+(255&O)-(255&v)))>>>0},_.Predictor13=function(f,v,E){var O=v[E-1];return(at((f=ze(f,v[E+0]))>>24&255,O>>24&255)<<24|at(f>>16&255,O>>16&255)<<16|at(f>>8&255,O>>8&255)<<8|at(f>>0&255,O>>0&255))>>>0};var y0=_.PredictorAdd0;_.PredictorAdd1=st,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var ku=_.PredictorAdd2;ge("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var rf,ui=_.ColorIndexInverseTransform,BA=_.MapARGB,sf=_.VP8LColorIndexInverseTransformAlpha,af=_.MapAlpha,vo=_.VP8LPredictorsAdd=[];vo.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var hl,Ps,Is,yo,_a,Ua,CA,Da,Cr,Fu,ks,di,SA,of,Nu,fl,pl,xo,gl,jA,ml,bo,Tu,hi,fi,Yn,Xn,Sr,Or=a(511),La=a(2041),_u=a(225),EA=a(767),lf=0,x0=La,Af=_u,Js=EA,pi=Or,cf=0,uf=1,tb=2,df=3,hf=4,b0=5,nb=6,w0=7,B0=8,ff=9,C0=10,qE=[2,3,7],YE=[3,3,11],rb=[280,256,256,256,40],XE=[0,1,1,1,0],JE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ZE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tI=8,S0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],j0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Uu=null,nI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wo=[],zi=[],Ma=[],lI=1,ib=2,Bo=[],gi=[];Ge("UpsampleRgbLinePair",vn,3),Ge("UpsampleBgrLinePair",ur,3),Ge("UpsampleRgbaLinePair",$i,4),Ge("UpsampleBgraLinePair",Vr,4),Ge("UpsampleArgbLinePair",hs,4),Ge("UpsampleRgba4444LinePair",Dr,2),Ge("UpsampleRgb565LinePair",pr,2);var AI=_.UpsampleRgbLinePair,cI=_.UpsampleBgrLinePair,ab=_.UpsampleRgbaLinePair,ob=_.UpsampleBgraLinePair,lb=_.UpsampleArgbLinePair,Ab=_.UpsampleRgba4444LinePair,uI=_.UpsampleRgb565LinePair,pf=16,gf=1<<pf-1,Du=-227,E0=482,dI=6,cb=0,hI=a(256),fI=a(256),pI=a(256),gI=a(256),mI=a(E0-Du),vI=a(E0-Du);ia("YuvToRgbRow",vn,3),ia("YuvToBgrRow",ur,3),ia("YuvToRgbaRow",$i,4),ia("YuvToBgraRow",Vr,4),ia("YuvToArgbRow",hs,4),ia("YuvToRgba4444Row",Dr,2),ia("YuvToRgb565Row",pr,2);var ub=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mf=[0,2,8],yI=[8,7,6,4,4,2,2,2,1,1,1,1],xI=1;this.WebPDecodeRGBA=function(f,v,E,O,q){var J=uf,ee=new gA,ne=new Ke;ee.ba=ne,ne.S=J,ne.width=[ne.width],ne.height=[ne.height];var se=ne.width,Ae=ne.height,xe=new lt;if(xe==null||f==null)var Le=2;else t(xe!=null),Le=vA(f,v,E,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Le!=0?se=0:(se!=null&&(se[0]=xe.width[0]),Ae!=null&&(Ae[0]=xe.height[0]),se=1),se){ne.width=ne.width[0],ne.height=ne.height[0],O!=null&&(O[0]=ne.width),q!=null&&(q[0]=ne.height);e:{if(O=new AA,(q=new xu).data=f,q.w=v,q.ha=E,q.kd=1,v=[0],t(q!=null),((f=vA(q.data,q.w,q.ha,null,null,null,v,null,q))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(t(ee!=null),O.data=q.data,O.w=q.w+q.offset,O.ha=q.ha-q.offset,O.put=jn,O.ac=Qt,O.bc=qn,O.ma=ee,q.xa){if((f=Hr())==null){ee=1;break e}if(function(Me,ke){var rt=[0],We=[0],be=[0];t:for(;;){if(Me==null)return 0;if(ke==null)return Me.a=2,0;if(Me.l=ke,Me.a=0,W(Me.m,ke.data,ke.w,ke.ha),!Ut(Me.m,rt,We,be)){Me.a=3;break t}if(Me.xb=ib,ke.width=rt[0],ke.height=We[0],!or(rt[0],We[0],1,Me,null))break t;return 1}return t(Me.a!=0),0}(f,O)){if(O=(v=yA(O.width,O.height,ee.Oa,ee.ba))==0){t:{O=f;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((E=O.l)!=null),t((q=E.ma)!=null),O.xb!=0){if(O.ca=q.ba,O.tb=q.tb,t(O.ca!=null),!ju(q.Oa,E,df)){O.a=2;break n}if(!Hn(O,E.width)||E.da)break n;if((E.da||He(O.ca.S))&&Te(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Te()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!we(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!wr(O,O.V,O.Ba,O.c,O.i,E.o,ci))break n;q.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(v=f.a)}else v=f.a}else{if((f=new e0)==null){ee=1;break e}if(f.Fa=q.na,f.P=q.P,f.qc=q.Sa,Hh(f,O)){if((v=yA(O.width,O.height,ee.Oa,ee.ba))==0){if(f.Aa=0,E=ee.Oa,t((q=f)!=null),E!=null){if(0<(se=0>(se=E.Md)?0:100<se?255:255*se/100)){for(Ae=xe=0;4>Ae;++Ae)12>(Le=q.pb[Ae]).lc&&(Le.ia=se*yI[0>Le.lc?0:Le.lc]>>3),xe|=Le.ia;xe&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=E.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}t0(f,O)||(v=f.a)}}else v=f.a}v==0&&ee.Oa!=null&&ee.Oa.fd&&(v=Eu(ee.ba))}ee=v}J=ee!=0?null:11>J?ne.f.RGBA.eb:ne.f.kb.y}else J=null;return J};var db=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,F){for(var R="",k=0;k<4;k++)R+=String.fromCharCode(_[F++]);return R}function u(_,F){return(_[F+0]<<0|_[F+1]<<8|_[F+2]<<16)>>>0}function d(_,F){return(_[F+0]<<0|_[F+1]<<8|_[F+2]<<16|_[F+3]<<24)>>>0}new A;var p=[0],h=[0],m=[],g=new A,y=e,x=function(_,F){var R={},k=0,j=!1,M=0,N=0;if(R.frames=[],!function(H,Q,K,V){for(var X=0;X<V;X++)if(H[Q+X]!=K.charCodeAt(X))return!0;return!1}(_,F,"RIFF",4)){for(d(_,F+=4),F+=8;F<_.length;){var $=c(_,F),P=d(_,F+=4);F+=4;var D=P+(1&P);switch($){case"VP8 ":case"VP8L":R.frames[k]===void 0&&(R.frames[k]={}),(Z=R.frames[k]).src_off=j?N:F-8,Z.src_size=M+P+8,k++,j&&(j=!1,M=0,N=0);break;case"VP8X":(Z=R.header={}).feature_flags=_[F];var W=F+4;Z.canvas_width=1+u(_,W),W+=3,Z.canvas_height=1+u(_,W),W+=3;break;case"ALPH":j=!0,M=D+8,N=F-8;break;case"ANIM":(Z=R.header).bgcolor=d(_,F),W=F+4,Z.loop_count=(le=_)[(T=W)+0]<<0|le[T+1]<<8,W+=2;break;case"ANMF":var G,Z;(Z=R.frames[k]={}).offset_x=2*u(_,F),F+=3,Z.offset_y=2*u(_,F),F+=3,Z.width=1+u(_,F),F+=3,Z.height=1+u(_,F),F+=3,Z.duration=u(_,F),F+=3,G=_[F++],Z.dispose=1&G,Z.blend=G>>1&1}$!="ANMF"&&(F+=D)}var le,T;return R}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var C=x.header?x.header:null,S=x.frames?x.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],h=[C.canvas_width];for(var w=0;w<S.length&&S[w].blend!=0;w++);}var L=S[0],I=g.WebPDecodeRGBA(y,L.src_off,L.src_size,h,p);L.rgba=I,L.imgwidth=h[0],L.imgheight=p[0];for(var U=0;U<h[0]*p[0]*4;U++)m[U]=I[U];return this.width=h,this.height=p,this.data=m,this}(function(e){var t=function(){return typeof Q1=="function"},n=function(p,h,m,g){var y=4,x=o;switch(g){case e.image_compression.FAST:y=1,x=a;break;case e.image_compression.MEDIUM:y=6,x=l;break;case e.image_compression.SLOW:y=9,x=A}p=r(p,h,m,x);var C=Q1(p,{level:y});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(p,h,m,g){for(var y,x,C,S=p.length/h,w=new Uint8Array(p.length+S),L=u(),I=0;I<S;I+=1){if(C=I*h,y=p.subarray(C,C+h),g)w.set(g(y,m,x),C+I);else{for(var U,_=L.length,F=[];U<_;U+=1)F[U]=L[U](y,m,x);var R=d(F.concat());w.set(F[R],C+I)}x=y}return w},s=function(p){var h=Array.apply([],p);return h.unshift(0),h},a=function(p,h){var m,g=[],y=p.length;g[0]=1;for(var x=0;x<y;x+=1)m=p[x-h]||0,g[x+1]=p[x]-m+256&255;return g},o=function(p,h,m){var g,y=[],x=p.length;y[0]=2;for(var C=0;C<x;C+=1)g=m&&m[C]||0,y[C+1]=p[C]-g+256&255;return y},l=function(p,h,m){var g,y,x=[],C=p.length;x[0]=3;for(var S=0;S<C;S+=1)g=p[S-h]||0,y=m&&m[S]||0,x[S+1]=p[S]+256-(g+y>>>1)&255;return x},A=function(p,h,m){var g,y,x,C,S=[],w=p.length;S[0]=4;for(var L=0;L<w;L+=1)g=p[L-h]||0,y=m&&m[L]||0,x=m&&m[L-h]||0,C=c(g,y,x),S[L+1]=p[L]-C+256&255;return S},c=function(p,h,m){if(p===h&&h===m)return p;var g=Math.abs(h-m),y=Math.abs(p-m),x=Math.abs(p+h-m-m);return g<=y&&g<=x?p:y<=x?h:m},u=function(){return[s,a,o,l,A]},d=function(p){var h=p.map(function(m){return m.reduce(function(g,y){return g+Math.abs(y)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,m,g){var y,x,C,S,w,L,I,U,_,F,R,k,j,M,N,$=this.decode.FLATE_DECODE,P="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(C=new lz(p)).imgData,x=C.bits,y=C.colorSpace,w=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){_=(U=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,R=new Uint8Array(_*C.colors),F=new Uint8Array(_);var D,W=C.pixelBitlength-C.bits;for(M=0,N=0;M<_;M++){for(j=U[M],D=0;D<W;)R[N++]=j>>>D&255,D+=C.bits;F[M]=j>>>D&255}}if(C.bits===16){_=(U=new Uint32Array(C.decodePixels().buffer)).length,R=new Uint8Array(_*(32/C.pixelBitlength)*C.colors),F=new Uint8Array(_*(32/C.pixelBitlength)),k=C.colors>1,M=0,N=0;for(var G=0;M<_;)j=U[M++],R[N++]=j>>>0&255,k&&(R[N++]=j>>>16&255,j=U[M++],R[N++]=j>>>0&255),F[G++]=j>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(p=n(R,C.width*C.colors,C.colors,g),I=n(F,C.width,1,g)):(p=R,I=F,$=void 0)}if(C.colorType===3&&(y=this.color_spaces.INDEXED,L=C.palette,C.transparency.indexed)){var Z=C.transparency.indexed,le=0;for(M=0,_=Z.length;M<_;++M)le+=Z[M];if((le/=255)===_-1&&Z.indexOf(0)!==-1)S=[Z.indexOf(0)];else if(le!==_){for(U=C.decodePixels(),F=new Uint8Array(U.length),M=0,_=U.length;M<_;M++)F[M]=Z[U[M]];I=n(F,C.width,1)}}var T=function(H){var Q;switch(H){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return $===this.decode.FLATE_DECODE&&(P="/Predictor "+T+" "),P+="/Colors "+w+" /BitsPerComponent "+x+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:m,data:p,index:h,filter:$,decodeParameters:P,transparency:S,palette:L,sMask:I,predictor:T,width:C.width,height:C.height,bitsPerComponent:x,colorSpace:y}}}})(Rt.API),function(e){e.processGIF89A=function(t,n,r,s){var a=new Az(t),o=a.width,l=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var c={data:A,width:o,height:l},u=new yv(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)},e.processGIF87A=e.processGIF89A}(Rt.API),Vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Vn.log("bit decode error:"+n)}},Vi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[a>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Vi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,l=a>>4,A=15&a,c=this.palette[l];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[A],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Vi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Vi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,A=(a>>10&t)/t*255|0,c=a>>15?255:0,u=r*this.width*4+4*s;this.data[u]=A,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},Vi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,A=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=A,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Vi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Vi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=o}},Vi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new Vi(t,!1),o=a.width,l=a.height,A={data:a.getData(),width:o,height:l},c=new yv(100).encode(A,100);return e.processJPEG.call(this,c,n,r,s)}}(Rt.API),TB.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new TB(t),o=a.width,l=a.height,A={data:a.getData(),width:o,height:l},c=new yv(100).encode(A,100);return e.processJPEG.call(this,c,n,r,s)}}(Rt.API),Rt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,c=0;c<s;c+=4){var u=r[c],d=r[c+1],p=r[c+2],h=r[c+3];a[l++]=u,a[l++]=d,a[l++]=p,o[A++]=h}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},HA=Rt.API,$f=HA.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,h=e.length,m=0,g=l[0]||A,y=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(p=d&&dn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,y.push((l[r]||g)/A+p)),m=r;return y},IB=HA.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return HA.processArabic&&(e=HA.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:$f.apply(this,arguments).reduce(function(a,o){return a+o},0)},kB=function(e,t,n,r){for(var s=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;s.push(e.slice(0,a));var A=a;for(l=0;a!==o;)l+t[a]>r&&(s.push(e.slice(A,a)),l=0,A=a),l+=t[a],a++;return A!==a&&s.push(e.slice(A,a)),s},FB=function(e,t,n){n||(n={});var r,s,a,o,l,A,c,u=[],d=[u],p=n.textIndent||0,h=0,m=0,g=e.split(" "),y=$f.apply(this,[" ",n])[0];if(A=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var x=Array(A).join(" "),C=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?C=C.concat(w.map(function(L,I){return(I&&L.length?`
`:"")+L})):C.push(w[0])}),g=C,A=IB.apply(this,[x,n])}for(a=0,o=g.length;a<o;a++){var S=0;if(r=g[a],A&&r[0]==`
`&&(r=r.substr(1),S=1),p+h+(m=(s=$f.apply(this,[r,n])).reduce(function(w,L){return w+L},0))>t||S){if(m>t){for(l=kB.apply(this,[r,s,t-(p+h),t]),u.push(l.shift()),u=[l.pop()];l.length;)d.push([l.shift()]);m=s.slice(r.length-(u[0]?u[0].length:0)).reduce(function(w,L){return w+L},0)}else u=[r];d.push(u),p=m+A,h=y}else u.push(r),p+=h+m,h=y}return c=A?function(w,L){return(L?x:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(c)},HA.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var l,A,c=[];for(l=0,A=r.length;l<A;l++)c=c.concat(FB.apply(this,[r[l],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var p,h,m,g,y=["{"];for(var x in d){if(p=d[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=a(x).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof p=="number")p<0?(m=a(p).slice(3),g="-"):(m=a(p).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(dn(p)!=="object")throw new Error("Don't know what to do with value type "+dn(p)+".");m=o(p)}y.push(h+m)}return y.push("}"),y.join("")},l=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,m,g,y={},x=1,C=y,S=[],w="",L="",I=d.length-1,U=1;U<I;U+=1)(g=d[U])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(S.push([C,m]),C={},m=void 0):g=="}"?((h=S.pop())[0][h[1]]=C,m=void 0,C=h[0]):g=="-"?x=-1:m===void 0?n.hasOwnProperty(g)?(w+=n[g],m=parseInt(w,16)*x,x=1,w=""):w+=g:n.hasOwnProperty(g)?(L+=n[g],C[m]=parseInt(L,16)*x,x=1,m=void 0,L=""):L+=g;return y},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var p=d.font,h=u.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(Rt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(_d(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(Rt),function(e){function t(){return(Ht.canvg?Promise.resolve(Ht.canvg):rh(()=>import("./index.es-B4NdpcEc.js"),__vite__mapDeps([0,1,2]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Rt.API.addSvgAsImage=function(n,r,s,a,o,l,A,c){if(isNaN(r)||isNaN(s))throw Vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(m){return m.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(p)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),r,s,a,o,A,c)})}}(),Rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],c=0,u=0,d=0;function p(m,g){var y,x=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(d=0;d<h;d+=1)n[l[d]].value=n[l[d]].defaultValue,n[l[d]].explicitSet=!1}if(dn(e)==="object"){for(s in e)if(a=e[s],p(l,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&p(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")A.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&A.push([a[c][0]-1,a[c][1]-1].join(" "))}n[s].value="["+A.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,A=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=a.length;d<p;++d){if(l=o.metadata.characterToGlyph(a.charCodeAt(d)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(d),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(c[4-l.length],l)}return u.join("")},r=function(a){var o,l,A,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],d=0,p=(l=Object.keys(a).sort(function(h,m){return h-m})).length;d<p;d++)o=l[d],A.length>=100&&(u+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+c+">"));return A.length&&(u+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,A=o.out,c=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",m=0;m<p.length;m++)h+=String.fromCharCode(p[m]);var g=c();u({data:h,addLength1:!0,objectId:g}),A("endobj");var y=c();u({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),A("endobj");var x=c();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+ec(l.fontName)),A("/FontFile2 "+g+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var C=c();A("<<"),A("/Type /Font"),A("/BaseFont /"+ec(l.fontName)),A("/FontDescriptor "+x+" 0 R"),A("/W "+e.API.PDFObject.convert(d)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=c(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+y+" 0 R"),A("/BaseFont /"+ec(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+C+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,A=o.out,c=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,p="",h=0;h<d.length;h++)p+=String.fromCharCode(d[h]);var m=c();u({data:p,addLength1:!0,objectId:m}),A("endobj");var g=c();u({data:r(l.metadata.toUnicode),addLength1:!0,objectId:g}),A("endobj");var y=c();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+m+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+ec(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=c();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ec(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",A=a.x,c=a.y,u=a.options||{},d=a.mutex||{},p=d.pdfEscape,h=d.activeFontKey,m=d.fonts,g=h,y="",x=0,C="",S=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:l,x:A,y:c,options:u,mutex:d};for(C=l,g=h,Array.isArray(l)&&(C=l[0]),x=0;x<C.length;x+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[C[x].charCodeAt(0)]),o||C[x].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=C[x]:y+="";var w="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?w=p(y,g).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(w=n(y,m[g])),d.isHex=!0,{text:w,x:A,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],A={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?l.push([s(Object.assign({},A,{text:o[c][0]})).text,o[c][1],o[c][2]]):l.push(s(Object.assign({},A,{text:o[c]})).text);a.text=l}else a.text=s(Object.assign({},A,{text:o})).text}])}(Rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,a,o,l,A,c,u,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,S=0;this.__bidiEngine__={};var w=function(k){var j=k.charCodeAt(),M=j>>8,N=g[M];return N!==void 0?d[256*N+(255&j)]:M===252||M===253?"AL":x.test(M)?"L":M===8?"R":"N"},L=function(k){for(var j,M=0;M<k.length;M++){if((j=w(k.charAt(M)))==="L")return!1;if(j==="R")return!0}return!1},I=function(k,j,M,N){var $,P,D,W,G=j[N];switch(G){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(G="AN");break;case"AL":C=!0,G="R";break;case"WS":G="N";break;case"CS":N<1||N+1>=j.length||($=M[N-1])!=="EN"&&$!=="AN"||(P=j[N+1])!=="EN"&&P!=="AN"?G="N":C&&(P="AN"),G=P===$?P:"N";break;case"ES":G=($=N>0?M[N-1]:"B")==="EN"&&N+1<j.length&&j[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&M[N-1]==="EN"){G="EN";break}if(C){G="N";break}for(D=N+1,W=j.length;D<W&&j[D]==="ET";)D++;G=D<W&&j[D]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(W=j.length,D=N+1;D<W&&j[D]==="NSM";)D++;if(D<W){var Z=k[N],le=Z>=1425&&Z<=2303||Z===64286;if($=j[D],le&&($==="R"||$==="AL")){G="R";break}}}G=N<1||($=j[N-1])==="B"?"N":M[N-1];break;case"B":C=!1,s=!0,G=S;break;case"S":a=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":G="N"}return G},U=function(k,j,M){var N=k.split("");return M&&_(N,M,{hiLevel:S}),N.reverse(),j&&j.reverse(),N.join("")},_=function(k,j,M){var N,$,P,D,W,G=-1,Z=k.length,le=0,T=[],H=S?h:p,Q=[];for(C=!1,s=!1,a=!1,$=0;$<Z;$++)Q[$]=w(k[$]);for(P=0;P<Z;P++){if(W=le,T[P]=I(k,Q,T,P),N=240&(le=H[W][m[T[P]]]),le&=15,j[P]=D=H[le][5],N>0)if(N===16){for($=G;$<P;$++)j[$]=1;G=-1}else G=-1;if(H[le][6])G===-1&&(G=P);else if(G>-1){for($=G;$<P;$++)j[$]=D;G=-1}Q[P]==="B"&&(j[P]=0),M.hiLevel|=D}a&&function(K,V,X){for(var ie=0;ie<X;ie++)if(K[ie]==="S"){V[ie]=S;for(var ae=ie-1;ae>=0&&K[ae]==="WS";ae--)V[ae]=S}}(Q,j,Z)},F=function(k,j,M,N,$){if(!($.hiLevel<k)){if(k===1&&S===1&&!s)return j.reverse(),void(M&&M.reverse());for(var P,D,W,G,Z=j.length,le=0;le<Z;){if(N[le]>=k){for(W=le+1;W<Z&&N[W]>=k;)W++;for(G=le,D=W-1;G<D;G++,D--)P=j[G],j[G]=j[D],j[D]=P,M&&(P=M[G],M[G]=M[D],M[D]=P);le=W}le++}}},R=function(k,j,M){var N=k.split(""),$={hiLevel:S};return M||(M=[]),_(N,M,$),function(P,D,W){if(W.hiLevel!==0&&u)for(var G,Z=0;Z<P.length;Z++)D[Z]===1&&(G=y.indexOf(P[Z]))>=0&&(P[Z]=y[G+1])}(N,M,$),F(2,N,j,M,$),F(1,N,j,M,$),N.join("")};return this.__bidiEngine__.doBidiReorder=function(k,j,M){if(function($,P){if(P)for(var D=0;D<$.length;D++)P[D]=D;l===void 0&&(l=L($)),c===void 0&&(c=L($))}(k,j),o||!A||c)if(o&&A&&l^c)S=l?1:0,k=U(k,j,M);else if(!o&&A&&c)S=l?1:0,k=R(k,j,M),k=U(k,j);else if(!o||l||A||c){if(o&&!A&&l^c)k=U(k,j),l?(S=0,k=R(k,j,M)):(S=1,k=R(k,j,M),k=U(k,j));else if(o&&l&&!A&&c)S=1,k=R(k,j,M),k=U(k,j);else if(!o&&!A&&l^c){var N=u;l?(S=1,k=R(k,j,M),S=0,u=!1,k=R(k,j,M),u=N):(S=0,k=R(k,j,M),k=U(k,j),S=1,u=!1,k=R(k,j,M),u=N,k=U(k,j))}}else S=0,k=R(k,j,M);else S=l?1:0,k=R(k,j,M);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,A=k.isOutputVisual,l=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([n.doBidiReorder(s[l])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new rl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Cz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new cz(this.contents),this.head=new dz(this),this.name=new mz(this),this.cmap=new r3(this),this.toUnicode={},this.hhea=new hz(this),this.maxp=new vz(this),this.hmtx=new yz(this),this.post=new pz(this),this.os2=new fz(this),this.loca=new Bz(this),this.glyf=new xz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,c;for(c=[],o=0,l=(A=this.bbox).length;o<l;o++)t=A[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var ta,rl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,a,o,l,A;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*o+256*l+A},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,a;for(a=[],r=0,s=t.length;r<s;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),cz=function(){var e;function t(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,a,o,l,A,c,u,d,p,h,m,g;for(g in h=Object.keys(n).length,A=Math.log(2),d=16*Math.floor(Math.log(h)/A),o=Math.floor(d/A),u=16*h-d,(s=new rl).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(o),s.writeShort(u),a=16*h,c=s.pos+a,l=null,m=[],n)for(p=n[g],s.writeString(g),s.writeInt(e(p)),s.writeInt(c),s.writeInt(p.length),m=m.concat(p),g==="head"&&(l=c),c+=p.length;c%4;)m.push(0),c++;return s.write(m),r=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(r),s.data},e=function(n){var r,s,a,o;for(n=s3.call(n);n.length%4;)n.push(0);for(a=new rl(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=a.readUInt32();return 4294967295&s},t}(),uz={}.hasOwnProperty,Ea=function(e,t){for(var n in t)uz.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};ta=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var dz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new rl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),_B=function(){function e(t,n){var r,s,a,o,l,A,c,u,d,p,h,m,g,y,x,C,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var w,L;for(L=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)L.push(t.readUInt16());return L}(),t.pos+=2,g=function(){var w,L;for(L=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)L.push(t.readUInt16());return L}(),c=function(){var w,L;for(L=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)L.push(t.readUInt16());return L}(),u=function(){var w,L;for(L=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)L.push(t.readUInt16());return L}(),s=(this.length-t.pos+this.offset)/2,l=function(){var w,L;for(L=[],A=w=0;0<=s?w<s:w>s;A=0<=s?++w:--w)L.push(t.readUInt16());return L}(),A=x=0,S=a.length;x<S;A=++x)for(y=a[A],r=C=m=g[A];m<=y?C<=y:C>=y;r=m<=y?++C:--C)u[A]===0?o=r+c[A]:(o=l[u[A]/2+(r-m)-(p-A)]||0)!==0&&(o+=c[A]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,s,a,o,l,A,c,u,d,p,h,m,g,y,x,C,S,w,L,I,U,_,F,R,k,j,M,N,$,P,D,W,G,Z,le,T,H,Q,K,V,X,ie,ae,Ce,ce,fe;switch(N=new rl,o=Object.keys(t).sort(function(ue,we){return ue-we}),n){case"macroman":for(g=0,y=function(){var ue=[];for(m=0;m<256;++m)ue.push(0);return ue}(),C={0:0},a={},$=0,G=o.length;$<G;$++)C[ae=t[s=o[$]]]==null&&(C[ae]=++g),a[s]={old:t[s],new:C[t[s]]},y[s]=C[t[s]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(y),{charMap:a,subtable:N.data,maxGlyphID:g+1};case"unicode":for(j=[],d=[],S=0,C={},r={},x=c=null,P=0,Z=o.length;P<Z;P++)C[L=t[s=o[P]]]==null&&(C[L]=++S),r[s]={old:L,new:C[L]},l=C[L]-s,x!=null&&l===c||(x&&d.push(x),j.push(s),c=l),x=s;for(x&&d.push(x),d.push(65535),j.push(65535),R=2*(F=j.length),_=2*Math.pow(Math.log(F)/Math.LN2,2),p=Math.log(_/2)/Math.LN2,U=2*F-_,A=[],I=[],h=[],m=D=0,le=j.length;D<le;m=++D){if(k=j[m],u=d[m],k===65535){A.push(0),I.push(0);break}if(k-(M=r[k].new)>=32768)for(A.push(0),I.push(2*(h.length+F-m)),s=W=k;k<=u?W<=u:W>=u;s=k<=u?++W:--W)h.push(r[s].new);else A.push(M-k),I.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*F+2*h.length),N.writeUInt16(0),N.writeUInt16(R),N.writeUInt16(_),N.writeUInt16(p),N.writeUInt16(U),X=0,T=d.length;X<T;X++)s=d[X],N.writeUInt16(s);for(N.writeUInt16(0),ie=0,H=j.length;ie<H;ie++)s=j[ie],N.writeUInt16(s);for(Ce=0,Q=A.length;Ce<Q;Ce++)l=A[Ce],N.writeUInt16(l);for(ce=0,K=I.length;ce<K;ce++)w=I[ce],N.writeUInt16(w);for(fe=0,V=h.length;fe<V;fe++)g=h[fe],N.writeUInt16(g);return{charMap:r,subtable:N.data,maxGlyphID:S+1}}},e}(),r3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new _B(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=_B.encode(n,r),(a=new rl).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),hz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),fz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),pz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var l,A,c;for(c=[],o=l=0,A=this.file.maxp.numGlyphs;0<=A?l<A:l>A;o=0<=A?++l:--l)c.push(n.readUInt32());return c}).call(this)}},t}(),gz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},mz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,a,o,l,A,c,u,d,p,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),A=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+A+n.readShort()});for(c={},o=d=0,p=s.length;d<p;o=++d)a=s[o],n.pos=a.offset,u=n.readString(a.length),l=new gz(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),vz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),yz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,a,o,l,A,c;for(n.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,p,h;for(h=[],u=0,d=(p=this.metrics).length;u<d;u++)o=p[u],h.push(o.advance);return h}).call(this),s=this.widths[this.widths.length-1],c=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)c.push(this.widths.push(s));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),s3=[].slice,xz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,a,o,l,A,c,u,d,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,l=(A=new rl(r.read(a))).readShort(),u=A.readShort(),p=A.readShort(),c=A.readShort(),d=A.readShort(),this.cache[n]=l===-1?new wz(A,u,p,c,d):new bz(A,l,u,p,c,d),this.cache[n]))},t.prototype.encode=function(n,r,s){var a,o,l,A,c;for(l=[],o=[],A=0,c=r.length;A<c;A++)a=n[r[A]],o.push(l.length),a&&(l=l.concat(a.encode(s)));return o.push(l.length),{table:l,offsets:o}},t}(),bz=function(){function e(t,n,r,s,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),wz=function(){function e(t,n,r,s,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new rl(s3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Bz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ea(t,ta),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<s.length;++l)if(s[l]=a,o<r.length&&r[o]==l){++o,s[l]=a;var A=this.offsets[l],c=this.offsets[l+1]-A;c>0&&(a+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},t}(),Cz=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,a,o,l,A;for(s={},o=0,l=t.length;o<l;o++)s[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in A=this.glyphsFor(n))r=A[a],s[a]=r;return s},e.prototype.encode=function(t,n){var r,s,a,o,l,A,c,u,d,p,h,m,g,y,x;for(s in r=r3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=r.charMap)h[(A=x[s]).old]=A.new;for(m in p=r.maxGlyphID,o)m in h||(h[m]=p++);return u=function(C){var S,w;for(S in w={},C)w[C[S]]=S;return w}(h),d=Object.keys(u).sort(function(C,S){return C-S}),g=function(){var C,S,w;for(w=[],C=0,S=d.length;C<S;C++)l=d[C],w.push(u[l]);return w}(),a=this.font.glyf.encode(o,g,h),c=this.font.loca.encode(a.offsets,g),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,a,o;if(Array.isArray(n))return"["+function(){var l,A,c;for(c=[],l=0,A=n.length;l<A;l++)r=n[l],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)o=n[s],a.push("/"+s+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W1=function(e,t){return W1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},W1(e,t)};function na(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");W1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var K1=function(){return K1=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},K1.apply(this,arguments)};function _s(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function A(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):s(u.value).then(l,A)}c((r=r.apply(e,[])).next())})}function ys(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(u){return A([c,u])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],s=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zf(e,t,n){if(arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||t)}var oo=function(){function e(t,n,r,s){this.left=t,this.top=n,this.width=r,this.height=s}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Um=function(e,t){return oo.fromClientRect(e,t.getBoundingClientRect())},Sz=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new oo(0,0,r,s)},Dm=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},Er=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},UB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wf=0;Wf<UB.length;Wf++)jz[UB.charCodeAt(Wf)]=Wf;var DB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kf=0;Kf<DB.length;Kf++)pd[DB.charCodeAt(Kf)]=Kf;var Ez=function(e){var t=e.length*.75,n=e.length,r,s=0,a,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=pd[e.charCodeAt(r)],o=pd[e.charCodeAt(r+1)],l=pd[e.charCodeAt(r+2)],A=pd[e.charCodeAt(r+3)],u[s++]=a<<2|o>>4,u[s++]=(o&15)<<4|l>>2,u[s++]=(l&3)<<6|A&63;return c},Iz=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},kz=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Pl=5,Px=11,xv=2,Fz=Px-Pl,i3=65536>>Pl,Nz=1<<Pl,bv=Nz-1,Tz=1024>>Pl,_z=i3+Tz,Uz=_z,Dz=32,Lz=Uz+Dz,Mz=65536>>Px,Qz=1<<Fz,Pz=Qz-1,LB=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Rz=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Hz=function(e,t){var n=Ez(e),r=Array.isArray(n)?kz(n):new Uint32Array(n),s=Array.isArray(n)?Iz(n):new Uint16Array(n),a=24,o=LB(s,a/2,r[4]/2),l=r[5]===2?LB(s,(a+r[4])/2):Rz(r,Math.ceil((a+r[4])/4));return new Oz(r[0],r[1],r[2],r[3],o,l)},Oz=function(){function e(t,n,r,s,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Pl],n=(n<<xv)+(t&bv),this.data[n];if(t<=65535)return n=this.index[i3+(t-55296>>Pl)],n=(n<<xv)+(t&bv),this.data[n];if(t<this.highStart)return n=Lz-Mz+(t>>Px),n=this.index[n],n+=t>>Pl&Pz,n=this.index[n],n=(n<<xv)+(t&bv),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),MB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$z=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vf=0;Vf<MB.length;Vf++)$z[MB.charCodeAt(Vf)]=Vf;var zz="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",QB=50,Wz=1,a3=2,o3=3,Kz=4,Vz=5,PB=7,l3=8,RB=9,$o=10,V1=11,HB=12,G1=13,Gz=14,gd=15,q1=16,Gf=17,nd=18,qz=19,OB=20,Y1=21,rd=22,wv=23,OA=24,ti=25,md=26,vd=27,$A=28,Yz=29,kl=30,Xz=31,qf=32,Yf=33,X1=34,J1=35,Z1=36,ih=37,ey=38,Lp=39,Mp=40,Bv=41,A3=42,Jz=43,Zz=[9001,65288],c3="!",cn="×",Xf="÷",ty=Hz(zz),Ha=[kl,Z1],ny=[Wz,a3,o3,Vz],u3=[$o,l3],$B=[vd,md],eW=ny.concat(u3),zB=[ey,Lp,Mp,X1,J1],tW=[gd,G1],nW=function(e,t){t===void 0&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(a,o){var l=ty.get(a);if(l>QB?(s.push(!0),l-=QB):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(q1);if(l===Kz||l===V1){if(o===0)return r.push(o),n.push(kl);var A=n[o-1];return eW.indexOf(A)===-1?(r.push(r[o-1]),n.push(A)):(r.push(o),n.push(kl))}if(r.push(o),l===Xz)return n.push(t==="strict"?Y1:ih);if(l===A3||l===Yz)return n.push(kl);if(l===Jz)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(ih):n.push(kl);n.push(l)}),[r,n,s]},Cv=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===t)return!0;if(o!==$o)break}if(s===$o)for(var a=n;a>0;){a--;var l=r[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=n;A<=r.length;){A++;var o=r[A];if(o===t)return!0;if(o!==$o)break}if(l!==$o)break}return!1},WB=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===$o)n--;else return r}return 0},rW=function(e,t,n,r,s){if(n[r]===0)return cn;var a=r-1;if(Array.isArray(s)&&s[a]===!0)return cn;var o=a-1,l=a+1,A=t[a],c=o>=0?t[o]:0,u=t[l];if(A===a3&&u===o3)return cn;if(ny.indexOf(A)!==-1)return c3;if(ny.indexOf(u)!==-1||u3.indexOf(u)!==-1)return cn;if(WB(a,t)===l3)return Xf;if(ty.get(e[a])===V1||(A===qf||A===Yf)&&ty.get(e[l])===V1||A===PB||u===PB||A===RB||[$o,G1,gd].indexOf(A)===-1&&u===RB||[Gf,nd,qz,OA,$A].indexOf(u)!==-1||WB(a,t)===rd||Cv(wv,rd,a,t)||Cv([Gf,nd],Y1,a,t)||Cv(HB,HB,a,t))return cn;if(A===$o)return Xf;if(A===wv||u===wv)return cn;if(u===q1||A===q1)return Xf;if([G1,gd,Y1].indexOf(u)!==-1||A===Gz||c===Z1&&tW.indexOf(A)!==-1||A===$A&&u===Z1||u===OB||Ha.indexOf(u)!==-1&&A===ti||Ha.indexOf(A)!==-1&&u===ti||A===vd&&[ih,qf,Yf].indexOf(u)!==-1||[ih,qf,Yf].indexOf(A)!==-1&&u===md||Ha.indexOf(A)!==-1&&$B.indexOf(u)!==-1||$B.indexOf(A)!==-1&&Ha.indexOf(u)!==-1||[vd,md].indexOf(A)!==-1&&(u===ti||[rd,gd].indexOf(u)!==-1&&t[l+1]===ti)||[rd,gd].indexOf(A)!==-1&&u===ti||A===ti&&[ti,$A,OA].indexOf(u)!==-1)return cn;if([ti,$A,OA,Gf,nd].indexOf(u)!==-1)for(var d=a;d>=0;){var p=t[d];if(p===ti)return cn;if([$A,OA].indexOf(p)!==-1)d--;else break}if([vd,md].indexOf(u)!==-1)for(var d=[Gf,nd].indexOf(A)!==-1?o:a;d>=0;){var p=t[d];if(p===ti)return cn;if([$A,OA].indexOf(p)!==-1)d--;else break}if(ey===A&&[ey,Lp,X1,J1].indexOf(u)!==-1||[Lp,X1].indexOf(A)!==-1&&[Lp,Mp].indexOf(u)!==-1||[Mp,J1].indexOf(A)!==-1&&u===Mp||zB.indexOf(A)!==-1&&[OB,md].indexOf(u)!==-1||zB.indexOf(u)!==-1&&A===vd||Ha.indexOf(A)!==-1&&Ha.indexOf(u)!==-1||A===OA&&Ha.indexOf(u)!==-1||Ha.concat(ti).indexOf(A)!==-1&&u===rd&&Zz.indexOf(e[l])===-1||Ha.concat(ti).indexOf(u)!==-1&&A===nd)return cn;if(A===Bv&&u===Bv){for(var h=n[a],m=1;h>0&&(h--,t[h]===Bv);)m++;if(m%2!==0)return cn}return A===qf&&u===Yf?cn:Xf},sW=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=nW(e,t.lineBreak),r=n[0],s=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[ti,kl,A3].indexOf(l)!==-1?ih:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[r,s,o]},iW=function(){function e(t,n,r,s){this.codePoints=t,this.required=n===c3,this.start=r,this.end=s}return e.prototype.slice=function(){return Er.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),aW=function(e,t){var n=Dm(e),r=sW(n,t),s=r[0],a=r[1],o=r[2],l=n.length,A=0,c=0;return{next:function(){if(c>=l)return{done:!0,value:null};for(var u=cn;c<l&&(u=rW(n,a,s,++c,o))===cn;);if(u!==cn||c===l){var d=new iW(n,u,A,c);return A=c,{value:d,done:!1}}return{done:!0,value:null}}}},oW=1,lW=2,Uh=4,KB=8,gg=10,VB=47,Ud=92,AW=9,cW=32,Jf=34,sd=61,uW=35,dW=36,hW=37,Zf=39,ep=40,id=41,fW=95,Os=45,pW=33,gW=60,mW=62,vW=64,yW=91,xW=93,bW=61,wW=123,tp=63,BW=125,GB=124,CW=126,SW=128,qB=65533,Sv=42,_l=43,jW=44,EW=58,IW=59,ah=46,kW=0,FW=8,NW=11,TW=14,_W=31,UW=127,oa=-1,d3=48,h3=97,f3=101,DW=102,LW=117,MW=122,p3=65,g3=69,m3=70,QW=85,PW=90,xs=function(e){return e>=d3&&e<=57},RW=function(e){return e>=55296&&e<=57343},zA=function(e){return xs(e)||e>=p3&&e<=m3||e>=h3&&e<=DW},HW=function(e){return e>=h3&&e<=MW},OW=function(e){return e>=p3&&e<=PW},$W=function(e){return HW(e)||OW(e)},zW=function(e){return e>=SW},np=function(e){return e===gg||e===AW||e===cW},mg=function(e){return $W(e)||zW(e)||e===fW},YB=function(e){return mg(e)||xs(e)||e===Os},WW=function(e){return e>=kW&&e<=FW||e===NW||e>=TW&&e<=_W||e===UW},Mo=function(e,t){return e!==Ud?!1:t!==gg},rp=function(e,t,n){return e===Os?mg(t)||Mo(t,n):mg(e)?!0:!!(e===Ud&&Mo(e,t))},jv=function(e,t,n){return e===_l||e===Os?xs(t)?!0:t===ah&&xs(n):xs(e===ah?t:e)},KW=function(e){var t=0,n=1;(e[t]===_l||e[t]===Os)&&(e[t]===Os&&(n=-1),t++);for(var r=[];xs(e[t]);)r.push(e[t++]);var s=r.length?parseInt(Er.apply(void 0,r),10):0;e[t]===ah&&t++;for(var a=[];xs(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(Er.apply(void 0,a),10):0;(e[t]===g3||e[t]===f3)&&t++;var A=1;(e[t]===_l||e[t]===Os)&&(e[t]===Os&&(A=-1),t++);for(var c=[];xs(e[t]);)c.push(e[t++]);var u=c.length?parseInt(Er.apply(void 0,c),10):0;return n*(s+l*Math.pow(10,-o))*Math.pow(10,A*u)},VW={type:2},GW={type:3},qW={type:4},YW={type:13},XW={type:8},JW={type:21},ZW={type:9},eK={type:10},tK={type:11},nK={type:12},rK={type:14},sp={type:23},sK={type:1},iK={type:25},aK={type:24},oK={type:26},lK={type:27},AK={type:28},cK={type:29},uK={type:31},ry={type:32},v3=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Dm(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==ry;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Jf:return this.consumeStringToken(Jf);case uW:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(YB(n)||Mo(r,s)){var a=rp(n,r,s)?lW:oW,o=this.consumeName();return{type:5,value:o,flags:a}}break;case dW:if(this.peekCodePoint(0)===sd)return this.consumeCodePoint(),YW;break;case Zf:return this.consumeStringToken(Zf);case ep:return VW;case id:return GW;case Sv:if(this.peekCodePoint(0)===sd)return this.consumeCodePoint(),rK;break;case _l:if(jv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case jW:return qW;case Os:var l=t,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(jv(l,A,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(rp(l,A,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===Os&&c===mW)return this.consumeCodePoint(),this.consumeCodePoint(),aK;break;case ah:if(jv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case VB:if(this.peekCodePoint(0)===Sv)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Sv&&(u=this.consumeCodePoint(),u===VB))return this.consumeToken();if(u===oa)return this.consumeToken()}break;case EW:return oK;case IW:return lK;case gW:if(this.peekCodePoint(0)===pW&&this.peekCodePoint(1)===Os&&this.peekCodePoint(2)===Os)return this.consumeCodePoint(),this.consumeCodePoint(),iK;break;case vW:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),h=this.peekCodePoint(2);if(rp(d,p,h)){var o=this.consumeName();return{type:7,value:o}}break;case yW:return AK;case Ud:if(Mo(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case xW:return cK;case bW:if(this.peekCodePoint(0)===sd)return this.consumeCodePoint(),XW;break;case wW:return tK;case BW:return nK;case LW:case QW:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return m===_l&&(zA(g)||g===tp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case GB:if(this.peekCodePoint(0)===sd)return this.consumeCodePoint(),ZW;if(this.peekCodePoint(0)===GB)return this.consumeCodePoint(),JW;break;case CW:if(this.peekCodePoint(0)===sd)return this.consumeCodePoint(),eK;break;case oa:return ry}return np(t)?(this.consumeWhiteSpace(),uK):xs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):mg(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Er(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();zA(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===tp&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Er.apply(void 0,t.map(function(A){return A===tp?d3:A})),16),a=parseInt(Er.apply(void 0,t.map(function(A){return A===tp?m3:A})),16);return{type:30,start:s,end:a}}var o=parseInt(Er.apply(void 0,t),16);if(this.peekCodePoint(0)===Os&&zA(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];zA(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var a=parseInt(Er.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===ep?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ep?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oa)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Zf||n===Jf){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oa||this.peekCodePoint(0)===id)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),sp)}for(;;){var s=this.consumeCodePoint();if(s===oa||s===id)return{type:22,value:Er.apply(void 0,t)};if(np(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oa||this.peekCodePoint(0)===id?(this.consumeCodePoint(),{type:22,value:Er.apply(void 0,t)}):(this.consumeBadUrlRemnants(),sp);if(s===Jf||s===Zf||s===ep||WW(s))return this.consumeBadUrlRemnants(),sp;if(s===Ud)if(Mo(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),sp;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;np(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===id||t===oa)return;Mo(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var s=Math.min(n,t);r+=Er.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var s=this._value[r];if(s===oa||s===void 0||s===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===gg)return this._value.splice(0,r),sK;if(s===Ud){var a=this._value[r+1];a!==oa&&a!==void 0&&(a===gg?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Mo(s,a)&&(n+=this.consumeStringSlice(r),n+=Er(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Uh,r=this.peekCodePoint(0);for((r===_l||r===Os)&&t.push(this.consumeCodePoint());xs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===ah&&xs(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=KB;xs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===g3||r===f3)&&((s===_l||s===Os)&&xs(a)||xs(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=KB;xs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[KW(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(rp(s,a,o)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return s===hW?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(zA(t)){for(var n=Er(t);zA(this.peekCodePoint(0))&&n.length<6;)n+=Er(this.consumeCodePoint());np(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||RW(r)||r>1114111?qB:r}return t===oa?qB:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(YB(n))t+=Er(n);else if(Mo(n,this.peekCodePoint(0)))t+=Er(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),y3=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new v3;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||hK(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ry:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Dh=function(e){return e.type===15},ou=function(e){return e.type===17},Wn=function(e){return e.type===20},dK=function(e){return e.type===0},sy=function(e,t){return Wn(e)&&e.value===t},x3=function(e){return e.type!==31},Oc=function(e){return e.type!==31&&e.type!==4},Ia=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},hK=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},sl=function(e){return e.type===17||e.type===15},Pr=function(e){return e.type===16||sl(e)},b3=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},us={type:17,number:0,flags:Uh},Rx={type:16,number:50,flags:Uh},zo={type:16,number:100,flags:Uh},yd=function(e,t,n){var r=e[0],s=e[1];return[Zn(r,t),Zn(typeof s<"u"?s:r,n)]},Zn=function(e,t){if(e.type===16)return e.number/100*t;if(Dh(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},w3="deg",B3="grad",C3="rad",S3="turn",Lm={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case w3:return Math.PI*t.number/180;case B3:return Math.PI/200*t.number;case C3:return t.number;case S3:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},j3=function(e){return e.type===15&&(e.unit===w3||e.unit===B3||e.unit===C3||e.unit===S3)},E3=function(e){var t=e.filter(Wn).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[us,us];case"to top":case"bottom":return ji(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[us,zo];case"to right":case"left":return ji(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zo,zo];case"to bottom":case"top":return ji(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zo,us];case"to left":case"right":return ji(270)}return 0},ji=function(e){return Math.PI*e/180},Go={name:"color",parse:function(e,t){if(t.type===18){var n=fK[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return Wo(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return Wo(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6);return Wo(parseInt(r,16),parseInt(s,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return Wo(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=Ja[t.value.toUpperCase()];if(typeof l<"u")return l}return Ja.TRANSPARENT}},qo=function(e){return(255&e)===0},Yr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},Wo=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},XB=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},JB=function(e,t){var n=t.filter(Oc);if(n.length===3){var r=n.map(XB),s=r[0],a=r[1],o=r[2];return Wo(s,a,o,1)}if(n.length===4){var l=n.map(XB),s=l[0],a=l[1],o=l[2],A=l[3];return Wo(s,a,o,A)}return 0};function Ev(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var ZB=function(e,t){var n=t.filter(Oc),r=n[0],s=n[1],a=n[2],o=n[3],l=(r.type===17?ji(r.number):Lm.parse(e,r))/(Math.PI*2),A=Pr(s)?s.number/100:0,c=Pr(a)?a.number/100:0,u=typeof o<"u"&&Pr(o)?Zn(o,1):1;if(A===0)return Wo(c*255,c*255,c*255,1);var d=c<=.5?c*(A+1):c+A-c*A,p=c*2-d,h=Ev(p,d,l+1/3),m=Ev(p,d,l),g=Ev(p,d,l-1/3);return Wo(h*255,m*255,g*255,u)},fK={hsl:ZB,hsla:ZB,rgb:JB,rgba:JB},Dd=function(e,t){return Go.parse(e,y3.create(t).parseComponentValue())},Ja={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},pK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Wn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mm=function(e,t){var n=Go.parse(e,t[0]),r=t[1];return r&&Pr(r)?{color:n,stop:r}:{color:n,stop:null}},eC=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=us),r.stop===null&&(r.stop=zo);for(var s=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Zn(l,t);A>a?s.push(A):s.push(a),a=A}else s.push(null)}for(var c=null,o=0;o<s.length;o++){var u=s[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var d=o-c,p=s[c-1],h=(u-p)/(d+1),m=1;m<=d;m++)s[c+m-1]=h*m;c=null}}return e.map(function(g,y){var x=g.color;return{color:x,stop:Math.max(Math.min(1,s[y]/t),0)}})},mK=function(e,t,n){var r=t/2,s=n/2,a=Zn(e[0],t)-r,o=s-Zn(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},vK=function(e,t,n){var r=typeof e=="number"?e:mK(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,l=s/2,A=Math.sin(r-Math.PI/2)*l,c=Math.cos(r-Math.PI/2)*l;return[s,a-c,a+c,o-A,o+A]},Gi=function(e,t){return Math.sqrt(e*e+t*t)},tC=function(e,t,n,r,s){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var A=l[0],c=l[1],u=Gi(n-A,r-c);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},yK=function(e,t,n,r,s){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(e.shape===0)a=o=Math.min(Gi(t,n),Gi(t,n-s),Gi(t-r,n),Gi(t-r,n-s));else if(e.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),A=tC(r,s,t,n,!0),c=A[0],u=A[1];a=Gi(c-t,(u-n)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(e.shape===0)a=o=Math.max(Gi(t,n),Gi(t,n-s),Gi(t-r,n),Gi(t-r,n-s));else if(e.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r)),d=tC(r,s,t,n,!1),c=d[0],u=d[1];a=Gi(c-t,(u-n)/l),o=l*a}break}return Array.isArray(e.size)&&(a=Zn(e.size[0],r),o=e.size.length===2?Zn(e.size[1],s):a),[a,o]},xK=function(e,t){var n=ji(180),r=[];return Ia(t).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&o.value==="to"){n=E3(s);return}else if(j3(o)){n=Lm.parse(e,o);return}}var l=Mm(e,s);r.push(l)}),{angle:n,stops:r,type:1}},ip=function(e,t){var n=ji(180),r=[];return Ia(t).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=E3(s);return}else if(j3(o)){n=(Lm.parse(e,o)+ji(270))%ji(360);return}}var l=Mm(e,s);r.push(l)}),{angle:n,stops:r,type:1}},bK=function(e,t){var n=ji(180),r=[],s=1,a=0,o=3,l=[];return Ia(t).forEach(function(A,c){var u=A[0];if(c===0){if(Wn(u)&&u.value==="linear"){s=1;return}else if(Wn(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var d=Go.parse(e,u.values[0]);r.push({stop:us,color:d})}else if(u.name==="to"){var d=Go.parse(e,u.values[0]);r.push({stop:zo,color:d})}else if(u.name==="color-stop"){var p=u.values.filter(Oc);if(p.length===2){var d=Go.parse(e,p[1]),h=p[0];ou(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),s===1?{angle:(n+ji(180))%ji(360),stops:r,type:s}:{size:o,shape:a,stops:r,position:l,type:s}},I3="closest-side",k3="farthest-side",F3="closest-corner",N3="farthest-corner",T3="circle",_3="ellipse",U3="cover",D3="contain",wK=function(e,t){var n=0,r=3,s=[],a=[];return Ia(t).forEach(function(o,l){var A=!0;if(l===0){var c=!1;A=o.reduce(function(d,p){if(c)if(Wn(p))switch(p.value){case"center":return a.push(Rx),d;case"top":case"left":return a.push(us),d;case"right":case"bottom":return a.push(zo),d}else(Pr(p)||sl(p))&&a.push(p);else if(Wn(p))switch(p.value){case T3:return n=0,!1;case _3:return n=1,!1;case"at":return c=!0,!1;case I3:return r=0,!1;case U3:case k3:return r=1,!1;case D3:case F3:return r=2,!1;case N3:return r=3,!1}else if(sl(p)||Pr(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return d},A)}if(A){var u=Mm(e,o);s.push(u)}}),{size:r,shape:n,stops:s,position:a,type:2}},ap=function(e,t){var n=0,r=3,s=[],a=[];return Ia(t).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(u,d){if(Wn(d))switch(d.value){case"center":return a.push(Rx),!1;case"top":case"left":return a.push(us),!1;case"right":case"bottom":return a.push(zo),!1}else if(Pr(d)||sl(d))return a.push(d),!1;return u},A):l===1&&(A=o.reduce(function(u,d){if(Wn(d))switch(d.value){case T3:return n=0,!1;case _3:return n=1,!1;case D3:case I3:return r=0,!1;case k3:return r=1,!1;case F3:return r=2,!1;case U3:case N3:return r=3,!1}else if(sl(d)||Pr(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return u},A)),A){var c=Mm(e,o);s.push(c)}}),{size:r,shape:n,stops:s,position:a,type:2}},BK=function(e){return e.type===1},CK=function(e){return e.type===2},Hx={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=L3[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function SK(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!L3[e.name])}var L3={"linear-gradient":xK,"-moz-linear-gradient":ip,"-ms-linear-gradient":ip,"-o-linear-gradient":ip,"-webkit-linear-gradient":ip,"radial-gradient":wK,"-moz-radial-gradient":ap,"-ms-radial-gradient":ap,"-o-radial-gradient":ap,"-webkit-radial-gradient":ap,"-webkit-gradient":bK},jK={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return Oc(r)&&SK(r)}).map(function(r){return Hx.parse(e,r)})}},EK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Wn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},IK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ia(t).map(function(n){return n.filter(Pr)}).map(b3)}},kK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ia(t).map(function(n){return n.filter(Wn).map(function(r){return r.value}).join(" ")}).map(FK)}},FK=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Bc;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Bc||(Bc={}));var NK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ia(t).map(function(n){return n.filter(TK)})}},TK=function(e){return Wn(e)||Pr(e)},Qm=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_K=Qm("top"),UK=Qm("right"),DK=Qm("bottom"),LK=Qm("left"),Pm=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return b3(n.filter(Pr))}}},MK=Pm("top-left"),QK=Pm("top-right"),PK=Pm("bottom-right"),RK=Pm("bottom-left"),Rm=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},HK=Rm("top"),OK=Rm("right"),$K=Rm("bottom"),zK=Rm("left"),Hm=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Dh(n)?n.number:0}}},WK=Hm("top"),KK=Hm("right"),VK=Hm("bottom"),GK=Hm("left"),qK={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},YK={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},XK={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Wn).reduce(function(n,r){return n|JK(r.value)},0)}},JK=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ZK={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},eV={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},vg;(function(e){e.NORMAL="normal",e.STRICT="strict"})(vg||(vg={}));var tV={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return vg.STRICT;case"normal":default:return vg.NORMAL}}},nV={name:"line-height",initialValue:"normal",prefix:!1,type:4},nC=function(e,t){return Wn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Pr(e)?Zn(e,t):t},rV={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Hx.parse(e,t)}},sV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},iy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Om=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},iV=Om("top"),aV=Om("right"),oV=Om("bottom"),lV=Om("left"),AV={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Wn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},cV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},$m=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},uV=$m("top"),dV=$m("right"),hV=$m("bottom"),fV=$m("left"),pV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&sy(t[0],"none")?[]:Ia(t).map(function(n){for(var r={color:Ja.TRANSPARENT,offsetX:us,offsetY:us,blur:us},s=0,a=0;a<n.length;a++){var o=n[a];sl(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:r.blur=o,s++):r.color=Go.parse(e,o)}return r})}},vV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},yV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=wV[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},xV=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},bV=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[n,r,s,a,o,l]:null},wV={matrix:xV,matrix3d:bV},rC={type:16,number:50,flags:Uh},BV=[rC,rC],CV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Pr);return n.length!==2?BV:[n[0],n[1]]}},SV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ld;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Ld||(Ld={}));var jV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Ld.BREAK_ALL;case"keep-all":return Ld.KEEP_ALL;case"normal":default:return Ld.NORMAL}}},EV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(ou(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},M3={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},IV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return ou(t)?t.number:1}},kV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},FV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Wn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},NV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},TV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_V={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(ou(t))return t.number;if(Wn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},UV={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Wn).map(function(n){return n.value})}},DV={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},$r=function(e,t){return(e&t)!==0},LV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},MV={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=t.filter(x3),a=0;a<s.length;a++){var o=s[a],l=s[a+1];if(o.type===20){var A=l&&ou(l)?l.number:1;r.push({counter:o.value,increment:A})}}return r}},QV={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(x3),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(Wn(a)&&a.value!=="none"){var l=o&&ou(o)?o.number:0;n.push({counter:a.value,reset:l})}}return n}},PV={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Dh).map(function(n){return M3.parse(e,n)})}},RV={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],s=t.filter(dK);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var o=s[a].value,l=s[a+1].value;r.push({open:o,close:l})}return r}},sC=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},HV={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&sy(t[0],"none")?[]:Ia(t).map(function(n){for(var r={color:255,offsetX:us,offsetY:us,blur:us,spread:us,inset:!1},s=0,a=0;a<n.length;a++){var o=n[a];sy(o,"inset")?r.inset=!0:sl(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:s===2?r.blur=o:r.spread=o,s++):r.color=Go.parse(e,o)}return r})}},OV={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Wn).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},$V={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},zV={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Dh(t)?t.number:0}},WV=function(){function e(t,n){var r,s;this.animationDuration=It(t,PV,n.animationDuration),this.backgroundClip=It(t,pK,n.backgroundClip),this.backgroundColor=It(t,gK,n.backgroundColor),this.backgroundImage=It(t,jK,n.backgroundImage),this.backgroundOrigin=It(t,EK,n.backgroundOrigin),this.backgroundPosition=It(t,IK,n.backgroundPosition),this.backgroundRepeat=It(t,kK,n.backgroundRepeat),this.backgroundSize=It(t,NK,n.backgroundSize),this.borderTopColor=It(t,_K,n.borderTopColor),this.borderRightColor=It(t,UK,n.borderRightColor),this.borderBottomColor=It(t,DK,n.borderBottomColor),this.borderLeftColor=It(t,LK,n.borderLeftColor),this.borderTopLeftRadius=It(t,MK,n.borderTopLeftRadius),this.borderTopRightRadius=It(t,QK,n.borderTopRightRadius),this.borderBottomRightRadius=It(t,PK,n.borderBottomRightRadius),this.borderBottomLeftRadius=It(t,RK,n.borderBottomLeftRadius),this.borderTopStyle=It(t,HK,n.borderTopStyle),this.borderRightStyle=It(t,OK,n.borderRightStyle),this.borderBottomStyle=It(t,$K,n.borderBottomStyle),this.borderLeftStyle=It(t,zK,n.borderLeftStyle),this.borderTopWidth=It(t,WK,n.borderTopWidth),this.borderRightWidth=It(t,KK,n.borderRightWidth),this.borderBottomWidth=It(t,VK,n.borderBottomWidth),this.borderLeftWidth=It(t,GK,n.borderLeftWidth),this.boxShadow=It(t,HV,n.boxShadow),this.color=It(t,qK,n.color),this.direction=It(t,YK,n.direction),this.display=It(t,XK,n.display),this.float=It(t,ZK,n.cssFloat),this.fontFamily=It(t,NV,n.fontFamily),this.fontSize=It(t,TV,n.fontSize),this.fontStyle=It(t,DV,n.fontStyle),this.fontVariant=It(t,UV,n.fontVariant),this.fontWeight=It(t,_V,n.fontWeight),this.letterSpacing=It(t,eV,n.letterSpacing),this.lineBreak=It(t,tV,n.lineBreak),this.lineHeight=It(t,nV,n.lineHeight),this.listStyleImage=It(t,rV,n.listStyleImage),this.listStylePosition=It(t,sV,n.listStylePosition),this.listStyleType=It(t,iy,n.listStyleType),this.marginTop=It(t,iV,n.marginTop),this.marginRight=It(t,aV,n.marginRight),this.marginBottom=It(t,oV,n.marginBottom),this.marginLeft=It(t,lV,n.marginLeft),this.opacity=It(t,IV,n.opacity);var a=It(t,AV,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=It(t,cV,n.overflowWrap),this.paddingTop=It(t,uV,n.paddingTop),this.paddingRight=It(t,dV,n.paddingRight),this.paddingBottom=It(t,hV,n.paddingBottom),this.paddingLeft=It(t,fV,n.paddingLeft),this.paintOrder=It(t,OV,n.paintOrder),this.position=It(t,gV,n.position),this.textAlign=It(t,pV,n.textAlign),this.textDecorationColor=It(t,kV,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=It(t,FV,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=It(t,mV,n.textShadow),this.textTransform=It(t,vV,n.textTransform),this.transform=It(t,yV,n.transform),this.transformOrigin=It(t,CV,n.transformOrigin),this.visibility=It(t,SV,n.visibility),this.webkitTextStrokeColor=It(t,$V,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=It(t,zV,n.webkitTextStrokeWidth),this.wordBreak=It(t,jV,n.wordBreak),this.zIndex=It(t,EV,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return qo(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return $r(this.display,4)||$r(this.display,33554432)||$r(this.display,268435456)||$r(this.display,536870912)||$r(this.display,67108864)||$r(this.display,134217728)},e}(),KV=function(){function e(t,n){this.content=It(t,LV,n.content),this.quotes=It(t,RV,n.quotes)}return e}(),iC=function(){function e(t,n){this.counterIncrement=It(t,MV,n.counterIncrement),this.counterReset=It(t,QV,n.counterReset)}return e}(),It=function(e,t,n){var r=new v3,s=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(s);var a=new y3(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Wn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Lm.parse(e,a.parseComponentValue());case"color":return Go.parse(e,a.parseComponentValue());case"image":return Hx.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return sl(l)?l:us;case"length-percentage":var A=a.parseComponentValue();return Pr(A)?A:us;case"time":return M3.parse(e,a.parseComponentValue())}break}},VV="data-html2canvas-debug",GV=function(e){var t=e.getAttribute(VV);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ay=function(e,t){var n=GV(e);return n===1||t===n},ka=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,ay(n,3))debugger;this.styles=new WV(t,window.getComputedStyle(n,null)),Ay(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Um(this.context,n),ay(n,4)&&(this.flags|=16)}return e}(),qV="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",aC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var op=0;op<aC.length;op++)xd[aC.charCodeAt(op)]=op;var YV=function(e){var t=e.length*.75,n=e.length,r,s=0,a,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=xd[e.charCodeAt(r)],o=xd[e.charCodeAt(r+1)],l=xd[e.charCodeAt(r+2)],A=xd[e.charCodeAt(r+3)],u[s++]=a<<2|o>>4,u[s++]=(o&15)<<4|l>>2,u[s++]=(l&3)<<6|A&63;return c},XV=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},JV=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Rl=5,Ox=11,Iv=2,ZV=Ox-Rl,Q3=65536>>Rl,eG=1<<Rl,kv=eG-1,tG=1024>>Rl,nG=Q3+tG,rG=nG,sG=32,iG=rG+sG,aG=65536>>Ox,oG=1<<ZV,lG=oG-1,oC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},AG=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},cG=function(e,t){var n=YV(e),r=Array.isArray(n)?JV(n):new Uint32Array(n),s=Array.isArray(n)?XV(n):new Uint16Array(n),a=24,o=oC(s,a/2,r[4]/2),l=r[5]===2?oC(s,(a+r[4])/2):AG(r,Math.ceil((a+r[4])/4));return new uG(r[0],r[1],r[2],r[3],o,l)},uG=function(){function e(t,n,r,s,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Rl],n=(n<<Iv)+(t&kv),this.data[n];if(t<=65535)return n=this.index[Q3+(t-55296>>Rl)],n=(n<<Iv)+(t&kv),this.data[n];if(t<this.highStart)return n=iG-aG+(t>>Ox),n=this.index[n],n+=t>>Rl&lG,n=this.index[n],n=(n<<Iv)+(t&kv),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),lC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lp=0;lp<lC.length;lp++)dG[lC.charCodeAt(lp)]=lp;var hG=1,Fv=2,Nv=3,AC=4,cC=5,fG=7,uC=8,Tv=9,_v=10,dC=11,hC=12,fC=13,pC=14,Uv=15,pG=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},gG=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},mG=cG(qV),yi="×",Dv="÷",vG=function(e){return mG.get(e)},yG=function(e,t,n){var r=n-2,s=t[r],a=t[n-1],o=t[n];if(a===Fv&&o===Nv)return yi;if(a===Fv||a===Nv||a===AC||o===Fv||o===Nv||o===AC)return Dv;if(a===uC&&[uC,Tv,dC,hC].indexOf(o)!==-1||(a===dC||a===Tv)&&(o===Tv||o===_v)||(a===hC||a===_v)&&o===_v||o===fC||o===cC||o===fG||a===hG)return yi;if(a===fC&&o===pC){for(;s===cC;)s=t[--r];if(s===pC)return yi}if(a===Uv&&o===Uv){for(var l=0;s===Uv;)l++,s=t[--r];if(l%2===0)return yi}return Dv},xG=function(e){var t=pG(e),n=t.length,r=0,s=0,a=t.map(vG);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=yi;r<n&&(o=yG(t,a,++r))===yi;);if(o!==yi||r===n){var l=gG.apply(null,t.slice(s,r));return s=r,{value:l,done:!1}}return{done:!0,value:null}}}},bG=function(e){for(var t=xG(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},wG=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(r),a===t)return!0}}return!1},BG=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,s=Dm(r.data).map(function(A){return Er(A)}),a=0,o={},l=s.every(function(A,c){n.setStart(r,a),n.setEnd(r,a+A.length);var u=n.getBoundingClientRect();a+=A.length;var d=u.x>o.x||u.y>o.y;return o=u,c===0?!0:d});return e.body.removeChild(t),l},CG=function(){return typeof new Image().crossOrigin<"u"},SG=function(){return typeof new XMLHttpRequest().responseType=="string"},jG=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},gC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},EG=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=t.toDataURL();s.src=a;var o=oy(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),mC(o).then(function(l){r.drawImage(l,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=e.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=n+"px",gC(A)?mC(oy(n,n,0,0,c)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),gC(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},oy=function(e,t,n,r,s){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},mC=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},os={get SUPPORT_RANGE_BOUNDS(){var e=wG(document);return Object.defineProperty(os,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=os.SUPPORT_RANGE_BOUNDS&&BG(document);return Object.defineProperty(os,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=jG(document);return Object.defineProperty(os,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?EG(document):Promise.resolve(!1);return Object.defineProperty(os,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=CG();return Object.defineProperty(os,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=SG();return Object.defineProperty(os,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(os,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(os,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Md=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),IG=function(e,t,n,r){var s=NG(t,n),a=[],o=0;return s.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(os.SUPPORT_RANGE_BOUNDS){var A=vC(r,o,l.length).getClientRects();if(A.length>1){var c=$x(l),u=0;c.forEach(function(p){a.push(new Md(p,oo.fromDOMRectList(e,vC(r,u+o,p.length).getClientRects()))),u+=p.length})}else a.push(new Md(l,oo.fromDOMRectList(e,A)))}else{var d=r.splitText(l.length);a.push(new Md(l,kG(e,r))),r=d}else os.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));o+=l.length}),a},kG=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var a=Um(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return oo.EMPTY},vC=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},$x=function(e){if(os.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return bG(e)},FG=function(e,t){if(os.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return _G(e,t)},NG=function(e,t){return t.letterSpacing!==0?$x(e):FG(e,t)},TG=[32,160,4961,65792,65793,4153,4241],_G=function(e,t){for(var n=aW(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],s,a=function(){if(s.value){var o=s.value.slice(),l=Dm(o),A="";l.forEach(function(c){TG.indexOf(c)===-1?A+=Er(c):(A.length&&r.push(A),r.push(Er(c)),A="")}),A.length&&r.push(A)}};!(s=n.next()).done;)a();return r},UG=function(){function e(t,n,r){this.text=DG(n.data,r.textTransform),this.textBounds=IG(t,this.text,r,n)}return e}(),DG=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(LG,MG);case 2:return e.toUpperCase();default:return e}},LG=/(^|\s|:|-|\(|\))([a-z])/g,MG=function(e,t,n){return e.length>0?t+n.toUpperCase():e},P3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return t}(ka),R3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return t}(ka),H3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this,a=new XMLSerializer,o=Um(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(ka),O3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.value=r.value,s}return t}(ka),ly=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return t}(ka),QG=[{type:15,flags:0,unit:"px",number:3}],PG=[{type:16,flags:0,number:50}],RG=function(e){return e.width>e.height?new oo(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new oo(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},HG=function(e){var t=e.type===OG?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},yg="checkbox",xg="radio",OG="password",yC=707406591,zx=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=HG(r),(s.type===yg||s.type===xg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=RG(s.bounds)),s.type){case yg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=QG;break;case xg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=PG;break}return s}return t}(ka),$3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return s.value=a&&a.text||"",s}return t}(ka),z3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.value=r.value,s}return t}(ka),W3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=V3(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Dd(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ja.TRANSPARENT,o=r.contentWindow.document.body?Dd(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ja.TRANSPARENT;s.backgroundColor=qo(a)?qo(o)?s.styles.backgroundColor:o:a}}catch{}return s}return t}(ka),$G=["OL","UL","MENU"],Qp=function(e,t,n,r){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,G3(s)&&s.data.trim().length>0)n.textNodes.push(new UG(e,s,n.styles));else if(Ac(s))if(J3(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Qp(e,l,n,r)});else{var o=K3(e,s);o.styles.isVisible()&&(zG(s,o,r)?o.flags|=4:WG(o.styles)&&(o.flags|=2),$G.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?Qp(e,s.shadowRoot,o,r):!bg(s)&&!q3(s)&&!wg(s)&&Qp(e,s,o,r))}},K3=function(e,t){return cy(t)?new P3(e,t):Y3(t)?new R3(e,t):q3(t)?new H3(e,t):KG(t)?new O3(e,t):VG(t)?new ly(e,t):GG(t)?new zx(e,t):wg(t)?new $3(e,t):bg(t)?new z3(e,t):X3(t)?new W3(e,t):new ka(e,t)},V3=function(e,t){var n=K3(e,t);return n.flags|=4,Qp(e,t,n,n),n},zG=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Wx(e)&&n.styles.isTransparent()},WG=function(e){return e.isPositioned()||e.isFloating()},G3=function(e){return e.nodeType===Node.TEXT_NODE},Ac=function(e){return e.nodeType===Node.ELEMENT_NODE},Ay=function(e){return Ac(e)&&typeof e.style<"u"&&!Pp(e)},Pp=function(e){return typeof e.className=="object"},KG=function(e){return e.tagName==="LI"},VG=function(e){return e.tagName==="OL"},GG=function(e){return e.tagName==="INPUT"},qG=function(e){return e.tagName==="HTML"},q3=function(e){return e.tagName==="svg"},Wx=function(e){return e.tagName==="BODY"},Y3=function(e){return e.tagName==="CANVAS"},xC=function(e){return e.tagName==="VIDEO"},cy=function(e){return e.tagName==="IMG"},X3=function(e){return e.tagName==="IFRAME"},bC=function(e){return e.tagName==="STYLE"},YG=function(e){return e.tagName==="SCRIPT"},bg=function(e){return e.tagName==="TEXTAREA"},wg=function(e){return e.tagName==="SELECT"},J3=function(e){return e.tagName==="SLOT"},wC=function(e){return e.tagName.indexOf("-")>0},XG=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,s=t.counterReset,a=!0;r!==null&&r.forEach(function(l){var A=n.counters[l.counter];A&&l.increment!==0&&(a=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return a&&s.forEach(function(l){var A=n.counters[l.counter];o.push(l.counter),A||(A=n.counters[l.counter]=[]),A.push(l.reset)}),o},e}(),BC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},CC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},JG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},ZG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},WA=function(e,t,n,r,s,a){return e<t||e>n?oh(e,s,a.length>0):r.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=r.values[A];return o},"")+a},Z3=function(e,t,n,r){var s="";do n||e--,s=r(e)+s,e/=t;while(e*t>=t);return s},jr=function(e,t,n,r,s){var a=n-t+1;return(e<0?"-":"")+(Z3(Math.abs(e),a,r,function(o){return Er(Math.floor(o%a)+t)})+s)},xl=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return Z3(Math.abs(e),r,!1,function(s){return t[Math.floor(s%r)]})+n},tc=1,Do=2,Lo=4,bd=8,Oa=function(e,t,n,r,s,a){if(e<-9999||e>9999)return oh(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var A=0;o>0&&A<=4;A++){var c=o%10;c===0&&$r(a,tc)&&l!==""?l=t[c]+l:c>1||c===1&&A===0||c===1&&A===1&&$r(a,Do)||c===1&&A===1&&$r(a,Lo)&&e>100||c===1&&A>1&&$r(a,bd)?l=t[c]+(A>0?n[A-1]:"")+l:c===1&&A>0&&(l=n[A-1]+l),o=Math.floor(o/10)}return(e<0?r:"")+l},SC="十百千萬",jC="拾佰仟萬",EC="マイナス",Lv="마이너스",oh=function(e,t,n){var r=n?". ":"",s=n?"、":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=jr(e,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return xl(e,"〇一二三四五六七八九",s);case 6:return WA(e,1,3999,BC,3,r).toLowerCase();case 7:return WA(e,1,3999,BC,3,r);case 8:return jr(e,945,969,!1,r);case 9:return jr(e,97,122,!1,r);case 10:return jr(e,65,90,!1,r);case 11:return jr(e,1632,1641,!0,r);case 12:case 49:return WA(e,1,9999,CC,3,r);case 35:return WA(e,1,9999,CC,3,r).toLowerCase();case 13:return jr(e,2534,2543,!0,r);case 14:case 30:return jr(e,6112,6121,!0,r);case 15:return xl(e,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return xl(e,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return Oa(e,"零一二三四五六七八九",SC,"負",s,Do|Lo|bd);case 47:return Oa(e,"零壹貳參肆伍陸柒捌玖",jC,"負",s,tc|Do|Lo|bd);case 42:return Oa(e,"零一二三四五六七八九",SC,"负",s,Do|Lo|bd);case 41:return Oa(e,"零壹贰叁肆伍陆柒捌玖",jC,"负",s,tc|Do|Lo|bd);case 26:return Oa(e,"〇一二三四五六七八九","十百千万",EC,s,0);case 25:return Oa(e,"零壱弐参四伍六七八九","拾百千万",EC,s,tc|Do|Lo);case 31:return Oa(e,"영일이삼사오육칠팔구","십백천만",Lv,a,tc|Do|Lo);case 33:return Oa(e,"零一二三四五六七八九","十百千萬",Lv,a,0);case 32:return Oa(e,"零壹貳參四五六七八九","拾百千",Lv,a,tc|Do|Lo);case 18:return jr(e,2406,2415,!0,r);case 20:return WA(e,1,19999,ZG,3,r);case 21:return jr(e,2790,2799,!0,r);case 22:return jr(e,2662,2671,!0,r);case 22:return WA(e,1,10999,JG,3,r);case 23:return xl(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return xl(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return jr(e,3302,3311,!0,r);case 28:return xl(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return xl(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return jr(e,3792,3801,!0,r);case 37:return jr(e,6160,6169,!0,r);case 38:return jr(e,4160,4169,!0,r);case 39:return jr(e,2918,2927,!0,r);case 40:return jr(e,1776,1785,!0,r);case 43:return jr(e,3046,3055,!0,r);case 44:return jr(e,3174,3183,!0,r);case 45:return jr(e,3664,3673,!0,r);case 46:return jr(e,3872,3881,!0,r);case 3:default:return jr(e,48,57,!0,r)}},eE="data-html2canvas-ignore",IC=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new XG,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,s=eq(t,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,A=l.document,c=rq(s).then(function(){return _s(r,void 0,void 0,function(){var u,d;return ys(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(oq),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,nq(A)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,d)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(iq(document.doctype)+"<html></html>"),aq(this.referenceElement.ownerDocument,a,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(t){if(ay(t,2))debugger;if(Y3(t))return this.createCanvasClone(t);if(xC(t))return this.createVideoClone(t);if(bC(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return cy(n)&&(cy(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),wC(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Mv(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),s=t.cloneNode(!1);return s.textContent=r,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var a=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,n,r){(!Ac(n)||!YG(n)&&!n.hasAttribute(eE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Ac(n)||!bC(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var s=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Ac(a)&&J3(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(n,l,r)})}else this.appendChildNode(n,a,r)},e.prototype.cloneNode=function(t,n){if(G3(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&Ac(t)&&(Ay(t)||Pp(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var a=r.getComputedStyle(t),o=r.getComputedStyle(t,":before"),l=r.getComputedStyle(t,":after");this.referenceElement===t&&Ay(s)&&(this.clonedReferenceElement=s),Wx(s)&&cq(s);var A=this.counters.parse(new iC(this.context,a)),c=this.resolvePseudoContent(t,s,o,Qd.BEFORE);wC(t)&&(n=!0),xC(t)||this.cloneChildNodes(t,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(t,s,l,Qd.AFTER);return u&&s.appendChild(u),this.counters.pop(A),(a&&(this.options.copyStyles||Pp(t))&&!X3(t)||n)&&Mv(a,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(bg(t)||wg(t))&&(bg(s)||wg(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,s){var a=this;if(r){var o=r.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new iC(this.context,r));var A=new KV(this.context,r),c=l.createElement("html2canvaspseudoelement");Mv(r,c),A.content.forEach(function(d){if(d.type===0)c.appendChild(l.createTextNode(d.value));else if(d.type===22){var p=l.createElement("img");p.src=d.value,p.style.opacity="1",c.appendChild(p)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Wn);h.length&&c.appendChild(l.createTextNode(t.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(Oc),g=m[0],y=m[1];if(g&&Wn(g)){var x=a.counters.getCounterValue(g.value),C=y&&Wn(y)?iy.parse(a.context,y.value):3;c.appendChild(l.createTextNode(oh(x,C,!1)))}}else if(d.name==="counters"){var S=d.values.filter(Oc),g=S[0],w=S[1],y=S[2];if(g&&Wn(g)){var L=a.counters.getCounterValues(g.value),I=y&&Wn(y)?iy.parse(a.context,y.value):3,U=w&&w.type===0?w.value:"",_=L.map(function(k){return oh(k,I,!1)}).join(U);c.appendChild(l.createTextNode(_))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(l.createTextNode(sC(A.quotes,a.quoteDepth++,!0)));break;case"close-quote":c.appendChild(l.createTextNode(sC(A.quotes,--a.quoteDepth,!1)));break;default:c.appendChild(l.createTextNode(d.value))}}),c.className=uy+" "+dy;var u=s===Qd.BEFORE?" "+uy:" "+dy;return Pp(n)?n.className.baseValue+=u:n.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Qd;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Qd||(Qd={}));var eq=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(eE,"true"),e.body.appendChild(n),n},tq=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},nq=function(e){return Promise.all([].slice.call(e.images,0).map(tq))},rq=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},sq=["all","d","content"],Mv=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);sq.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},iq=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},aq=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},oq=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},lq=":before",Aq=":after",uy="___html2canvas___pseudoelement_before",dy="___html2canvas___pseudoelement_after",kC=`{
    content: "" !important;
    display: none !important;
}`,cq=function(e){uq(e,"."+uy+lq+kC+`
         .`+dy+Aq+kC)},uq=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},tE=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),dq=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Pv(t)||gq(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return _s(this,void 0,void 0,function(){var n,r,s,a,o=this;return ys(this,function(l){switch(l.label){case 0:return n=tE.isSameOrigin(t),r=!Qv(t)&&this._options.useCORS===!0&&os.SUPPORT_CORS_IMAGES&&!n,s=!Qv(t)&&!n&&!Pv(t)&&typeof this._options.proxy=="string"&&os.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Qv(t)&&!Pv(t)&&!s&&!r?[2]:(a=t,s?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,c){var u=new Image;u.onload=function(){return A(u)},u.onerror=c,(mq(a)||r)&&(u.crossOrigin="anonymous"),u.src=a,u.complete===!0&&setTimeout(function(){return A(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(a,o){var l=os.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")a(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(p){return o(p)},!1),d.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(A.open("GET",""+r+c+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),n._options.imageTimeout){var u=n._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}A.send()})},e}(),hq=/^data:image\/svg\+xml/i,fq=/^data:image\/.*;base64,/i,pq=/^data:image\/.*/i,gq=function(e){return os.SUPPORT_SVG_DRAWING||!vq(e)},Qv=function(e){return pq.test(e)},mq=function(e){return fq.test(e)},Pv=function(e){return e.substr(0,4)==="blob"},vq=function(e){return e.substr(-3).toLowerCase()==="svg"||hq.test(e)},Bt=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),KA=function(e,t,n){return new Bt(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Ap=function(){function e(t,n,r,s){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=s}return e.prototype.subdivide=function(t,n){var r=KA(this.start,this.startControl,t),s=KA(this.startControl,this.endControl,t),a=KA(this.endControl,this.end,t),o=KA(r,s,t),l=KA(s,a,t),A=KA(o,l,t);return n?new e(this.start,r,o,A):new e(A,l,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ci=function(e){return e.type===1},yq=function(){function e(t){var n=t.styles,r=t.bounds,s=yd(n.borderTopLeftRadius,r.width,r.height),a=s[0],o=s[1],l=yd(n.borderTopRightRadius,r.width,r.height),A=l[0],c=l[1],u=yd(n.borderBottomRightRadius,r.width,r.height),d=u[0],p=u[1],h=yd(n.borderBottomLeftRadius,r.width,r.height),m=h[0],g=h[1],y=[];y.push((a+A)/r.width),y.push((m+d)/r.width),y.push((o+g)/r.height),y.push((c+p)/r.height);var x=Math.max.apply(Math,y);x>1&&(a/=x,o/=x,A/=x,c/=x,d/=x,p/=x,m/=x,g/=x);var C=r.width-A,S=r.height-p,w=r.width-d,L=r.height-g,I=n.borderTopWidth,U=n.borderRightWidth,_=n.borderBottomWidth,F=n.borderLeftWidth,R=Zn(n.paddingTop,t.bounds.width),k=Zn(n.paddingRight,t.bounds.width),j=Zn(n.paddingBottom,t.bounds.width),M=Zn(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Ar(r.left+F/3,r.top+I/3,a-F/3,o-I/3,Un.TOP_LEFT):new Bt(r.left+F/3,r.top+I/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Ar(r.left+C,r.top+I/3,A-U/3,c-I/3,Un.TOP_RIGHT):new Bt(r.left+r.width-U/3,r.top+I/3),this.bottomRightBorderDoubleOuterBox=d>0||p>0?Ar(r.left+w,r.top+S,d-U/3,p-_/3,Un.BOTTOM_RIGHT):new Bt(r.left+r.width-U/3,r.top+r.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||g>0?Ar(r.left+F/3,r.top+L,m-F/3,g-_/3,Un.BOTTOM_LEFT):new Bt(r.left+F/3,r.top+r.height-_/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Ar(r.left+F*2/3,r.top+I*2/3,a-F*2/3,o-I*2/3,Un.TOP_LEFT):new Bt(r.left+F*2/3,r.top+I*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Ar(r.left+C,r.top+I*2/3,A-U*2/3,c-I*2/3,Un.TOP_RIGHT):new Bt(r.left+r.width-U*2/3,r.top+I*2/3),this.bottomRightBorderDoubleInnerBox=d>0||p>0?Ar(r.left+w,r.top+S,d-U*2/3,p-_*2/3,Un.BOTTOM_RIGHT):new Bt(r.left+r.width-U*2/3,r.top+r.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||g>0?Ar(r.left+F*2/3,r.top+L,m-F*2/3,g-_*2/3,Un.BOTTOM_LEFT):new Bt(r.left+F*2/3,r.top+r.height-_*2/3),this.topLeftBorderStroke=a>0||o>0?Ar(r.left+F/2,r.top+I/2,a-F/2,o-I/2,Un.TOP_LEFT):new Bt(r.left+F/2,r.top+I/2),this.topRightBorderStroke=a>0||o>0?Ar(r.left+C,r.top+I/2,A-U/2,c-I/2,Un.TOP_RIGHT):new Bt(r.left+r.width-U/2,r.top+I/2),this.bottomRightBorderStroke=d>0||p>0?Ar(r.left+w,r.top+S,d-U/2,p-_/2,Un.BOTTOM_RIGHT):new Bt(r.left+r.width-U/2,r.top+r.height-_/2),this.bottomLeftBorderStroke=m>0||g>0?Ar(r.left+F/2,r.top+L,m-F/2,g-_/2,Un.BOTTOM_LEFT):new Bt(r.left+F/2,r.top+r.height-_/2),this.topLeftBorderBox=a>0||o>0?Ar(r.left,r.top,a,o,Un.TOP_LEFT):new Bt(r.left,r.top),this.topRightBorderBox=A>0||c>0?Ar(r.left+C,r.top,A,c,Un.TOP_RIGHT):new Bt(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||p>0?Ar(r.left+w,r.top+S,d,p,Un.BOTTOM_RIGHT):new Bt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||g>0?Ar(r.left,r.top+L,m,g,Un.BOTTOM_LEFT):new Bt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?Ar(r.left+F,r.top+I,Math.max(0,a-F),Math.max(0,o-I),Un.TOP_LEFT):new Bt(r.left+F,r.top+I),this.topRightPaddingBox=A>0||c>0?Ar(r.left+Math.min(C,r.width-U),r.top+I,C>r.width+U?0:Math.max(0,A-U),Math.max(0,c-I),Un.TOP_RIGHT):new Bt(r.left+r.width-U,r.top+I),this.bottomRightPaddingBox=d>0||p>0?Ar(r.left+Math.min(w,r.width-F),r.top+Math.min(S,r.height-_),Math.max(0,d-U),Math.max(0,p-_),Un.BOTTOM_RIGHT):new Bt(r.left+r.width-U,r.top+r.height-_),this.bottomLeftPaddingBox=m>0||g>0?Ar(r.left+F,r.top+Math.min(L,r.height-_),Math.max(0,m-F),Math.max(0,g-_),Un.BOTTOM_LEFT):new Bt(r.left+F,r.top+r.height-_),this.topLeftContentBox=a>0||o>0?Ar(r.left+F+M,r.top+I+R,Math.max(0,a-(F+M)),Math.max(0,o-(I+R)),Un.TOP_LEFT):new Bt(r.left+F+M,r.top+I+R),this.topRightContentBox=A>0||c>0?Ar(r.left+Math.min(C,r.width+F+M),r.top+I+R,C>r.width+F+M?0:A-F+M,c-(I+R),Un.TOP_RIGHT):new Bt(r.left+r.width-(U+k),r.top+I+R),this.bottomRightContentBox=d>0||p>0?Ar(r.left+Math.min(w,r.width-(F+M)),r.top+Math.min(S,r.height+I+R),Math.max(0,d-(U+k)),p-(_+j),Un.BOTTOM_RIGHT):new Bt(r.left+r.width-(U+k),r.top+r.height-(_+j)),this.bottomLeftContentBox=m>0||g>0?Ar(r.left+F+M,r.top+L,Math.max(0,m-(F+M)),g-(_+j),Un.BOTTOM_LEFT):new Bt(r.left+F+M,r.top+r.height-(_+j))}return e}(),Un;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Un||(Un={}));var Ar=function(e,t,n,r,s){var a=4*((Math.sqrt(2)-1)/3),o=n*a,l=r*a,A=e+n,c=t+r;switch(s){case Un.TOP_LEFT:return new Ap(new Bt(e,c),new Bt(e,c-l),new Bt(A-o,t),new Bt(A,t));case Un.TOP_RIGHT:return new Ap(new Bt(e,t),new Bt(e+o,t),new Bt(A,c-l),new Bt(A,c));case Un.BOTTOM_RIGHT:return new Ap(new Bt(A,t),new Bt(A,t+l),new Bt(e+o,c),new Bt(e,c));case Un.BOTTOM_LEFT:default:return new Ap(new Bt(A,c),new Bt(A-o,c),new Bt(e,t+l),new Bt(e,t))}},Bg=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},xq=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Cg=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},bq=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),cp=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),wq=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Bq=function(e){return e.type===0},nE=function(e){return e.type===1},Cq=function(e){return e.type===2},FC=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},Sq=function(e,t,n,r,s){return e.map(function(a,o){switch(o){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+s);case 3:return a.add(t,n+s)}return a})},rE=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),sE=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new yq(this.container),this.container.styles.opacity<1&&this.effects.push(new wq(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new bq(r,s,a))}if(this.container.styles.overflowX!==0){var o=Bg(this.curves),l=Cg(this.curves);FC(o,l)?this.effects.push(new cp(o,6)):(this.effects.push(new cp(o,2)),this.effects.push(new cp(l,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var a=r.effects.filter(function(A){return!nE(A)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=Bg(r.curves),l=Cg(r.curves);FC(o,l)||s.unshift(new cp(l,6))}}else s.unshift.apply(s,a);r=r.parent}return s.filter(function(A){return $r(A.target,t)})},e}(),hy=function(e,t,n,r){e.container.elements.forEach(function(s){var a=$r(s.flags,4),o=$r(s.flags,2),l=new sE(s,e);$r(s.styles.display,2048)&&r.push(l);var A=$r(s.flags,8)?[]:r;if(a||o){var c=a||s.styles.isPositioned()?n:t,u=new rE(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var p=0;c.negativeZIndex.some(function(m,g){return d>m.element.container.styles.zIndex.order?(p=g,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(d>0){var h=0;c.positiveZIndex.some(function(m,g){return d>=m.element.container.styles.zIndex.order?(h=g+1,!1):h>0}),c.positiveZIndex.splice(h,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);hy(l,u,a?u:n,A)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),hy(l,t,n,A);$r(s.flags,8)&&iE(s,A)})},iE=function(e,t){for(var n=e instanceof ly?e.start:1,r=e instanceof ly?e.reversed:!1,s=0;s<t.length;s++){var a=t[s];a.container instanceof O3&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=oh(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},jq=function(e){var t=new sE(e,null),n=new rE(t),r=[];return hy(t,n,n,r),iE(t.container,r),n},NC=function(e,t){switch(t){case 0:return Ei(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ei(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ei(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ei(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Eq=function(e,t){switch(t){case 0:return Ei(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ei(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ei(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ei(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Iq=function(e,t){switch(t){case 0:return Ei(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ei(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ei(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ei(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},kq=function(e,t){switch(t){case 0:return up(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return up(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return up(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return up(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},up=function(e,t){var n=[];return Ci(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ci(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ei=function(e,t,n,r){var s=[];return Ci(e)?s.push(e.subdivide(.5,!1)):s.push(e),Ci(n)?s.push(n.subdivide(.5,!0)):s.push(n),Ci(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Ci(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},aE=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Sg=function(e){var t=e.styles,n=e.bounds,r=Zn(t.paddingLeft,n.width),s=Zn(t.paddingRight,n.width),a=Zn(t.paddingTop,n.width),o=Zn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+a+o))},Fq=function(e,t){return e===0?t.bounds:e===2?Sg(t):aE(t)},Nq=function(e,t){return e===0?t.bounds:e===2?Sg(t):aE(t)},Rv=function(e,t,n){var r=Fq(nc(e.styles.backgroundOrigin,t),e),s=Nq(nc(e.styles.backgroundClip,t),e),a=Tq(nc(e.styles.backgroundSize,t),n,r),o=a[0],l=a[1],A=yd(nc(e.styles.backgroundPosition,t),r.width-o,r.height-l),c=_q(nc(e.styles.backgroundRepeat,t),A,a,r,s),u=Math.round(r.left+A[0]),d=Math.round(r.top+A[1]);return[c,u,d,o,l]},VA=function(e){return Wn(e)&&e.value===Bc.AUTO},dp=function(e){return typeof e=="number"},Tq=function(e,t,n){var r=t[0],s=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Pr(o)&&l&&Pr(l))return[Zn(o,n.width),Zn(l,n.height)];var A=dp(a);if(Wn(o)&&(o.value===Bc.CONTAIN||o.value===Bc.COVER)){if(dp(a)){var c=n.width/n.height;return c<a!=(o.value===Bc.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var u=dp(r),d=dp(s),p=u||d;if(VA(o)&&(!l||VA(l))){if(u&&d)return[r,s];if(!A&&!p)return[n.width,n.height];if(p&&A){var h=u?r:s*a,m=d?s:r/a;return[h,m]}var g=u?r:n.width,y=d?s:n.height;return[g,y]}if(A){var x=0,C=0;return Pr(o)?x=Zn(o,n.width):Pr(l)&&(C=Zn(l,n.height)),VA(o)?x=C*a:(!l||VA(l))&&(C=x/a),[x,C]}var S=null,w=null;if(Pr(o)?S=Zn(o,n.width):l&&Pr(l)&&(w=Zn(l,n.height)),S!==null&&(!l||VA(l))&&(w=u&&d?S/r*s:n.height),w!==null&&VA(o)&&(S=u&&d?w/s*r:n.width),S!==null&&w!==null)return[S,w];throw new Error("Unable to calculate background-size for element")},nc=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},_q=function(e,t,n,r,s){var a=t[0],o=t[1],l=n[0],A=n[1];switch(e){case 2:return[new Bt(Math.round(r.left),Math.round(r.top+o)),new Bt(Math.round(r.left+r.width),Math.round(r.top+o)),new Bt(Math.round(r.left+r.width),Math.round(A+r.top+o)),new Bt(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new Bt(Math.round(r.left+a),Math.round(r.top)),new Bt(Math.round(r.left+a+l),Math.round(r.top)),new Bt(Math.round(r.left+a+l),Math.round(r.height+r.top)),new Bt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Bt(Math.round(r.left+a),Math.round(r.top+o)),new Bt(Math.round(r.left+a+l),Math.round(r.top+o)),new Bt(Math.round(r.left+a+l),Math.round(r.top+o+A)),new Bt(Math.round(r.left+a),Math.round(r.top+o+A))];default:return[new Bt(Math.round(s.left),Math.round(s.top)),new Bt(Math.round(s.left+s.width),Math.round(s.top)),new Bt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Bt(Math.round(s.left),Math.round(s.height+s.top))]}},Uq="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",TC="Hidden Text",Dq=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),s.src=Uq,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(TC)),r.appendChild(a),r.appendChild(s);var l=s.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(TC)),r.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:l,middle:A}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),oE=function(){function e(t,n){this.context=t,this.options=n}return e}(),Lq=1e4,Mq=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Dq(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},t.prototype.applyEffect=function(n){this.ctx.save(),Cq(n)&&(this.ctx.globalAlpha=n.opacity),Bq(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),nE(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return _s(this,void 0,void 0,function(){var r;return ys(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return _s(this,void 0,void 0,function(){return ys(this,function(r){switch(r.label){case 0:if($r(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,s){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=$x(n.text);o.reduce(function(l,A){return a.ctx.fillText(A,l,n.bounds.top+s),l+a.ctx.measureText(A).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=Oq(n.fontFamily).join(", "),a=Dh(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,s].join(" "),s,a]},t.prototype.renderTextNode=function(n,r){return _s(this,void 0,void 0,function(){var s,a,o,l,A,c,u,d,p=this;return ys(this,function(h){return s=this.createFontStyle(r),a=s[0],o=s[1],l=s[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),c=A.baseline,u=A.middle,d=r.paintOrder,n.textBounds.forEach(function(m){d.forEach(function(g){switch(g){case 0:p.ctx.fillStyle=Yr(r.color),p.renderTextWithLetterSpacing(m,r.letterSpacing,c);var y=r.textShadow;y.length&&m.text.trim().length&&(y.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=Yr(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(m,r.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Yr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:p.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(p.ctx.strokeStyle=Yr(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=Sg(n),o=Cg(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return _s(this,void 0,void 0,function(){var r,s,a,o,l,A,C,C,c,u,d,p,w,h,m,L,g,y,x,C,S,w,L;return ys(this,function(I){switch(I.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,a=r.styles,o=0,l=r.textNodes,I.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:I.sent(),I.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof P3))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return C=I.sent(),this.renderReplacedElement(r,s,C),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof R3&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof H3))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return C=I.sent(),this.renderReplacedElement(r,s,C),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof W3&&r.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=I.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),I.label=14;case 14:if(r instanceof zx&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===yg?r.checked&&(this.ctx.save(),this.path([new Bt(r.bounds.left+d*.39363,r.bounds.top+d*.79),new Bt(r.bounds.left+d*.16,r.bounds.top+d*.5549),new Bt(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new Bt(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new Bt(r.bounds.left+d*.72983,r.bounds.top+d*.23),new Bt(r.bounds.left+d*.84,r.bounds.top+d*.34085),new Bt(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=Yr(yC),this.ctx.fill(),this.ctx.restore()):r.type===xg&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Yr(yC),this.ctx.fill(),this.ctx.restore())),Qq(r)&&r.value.length){switch(p=this.createFontStyle(a),w=p[0],h=p[1],m=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=Yr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Rq(r.styles.textAlign),L=Sg(r),g=0,r.styles.textAlign){case 1:g+=L.width/2;break;case 2:g+=L.width;break}y=L.add(g,0,0,-L.height/2+1),this.ctx.save(),this.path([new Bt(L.left,L.top),new Bt(L.left+L.width,L.top),new Bt(L.left+L.width,L.top+L.height),new Bt(L.left,L.top+L.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Md(r.value,y),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!$r(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];C=void 0,S=x.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return C=I.sent(),this.ctx.drawImage(C,r.bounds.left-(C.width+10),r.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=Yr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",L=new oo(r.bounds.left,r.bounds.top+Zn(r.styles.paddingTop,r.bounds.width),r.bounds.width,nC(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Md(n.listValue,L),a.letterSpacing,nC(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return _s(this,void 0,void 0,function(){var r,s,x,a,o,x,l,A,x,c,u,x,d,p,x,h,m,x,g,y,x;return ys(this,function(C){switch(C.label){case 0:if($r(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:C.sent(),r=0,s=n.negativeZIndex,C.label=2;case 2:return r<s.length?(x=s[r],[4,this.renderStack(x)]):[3,5];case 3:C.sent(),C.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:C.sent(),a=0,o=n.nonInlineLevel,C.label=7;case 7:return a<o.length?(x=o[a],[4,this.renderNode(x)]):[3,10];case 8:C.sent(),C.label=9;case 9:return a++,[3,7];case 10:l=0,A=n.nonPositionedFloats,C.label=11;case 11:return l<A.length?(x=A[l],[4,this.renderStack(x)]):[3,14];case 12:C.sent(),C.label=13;case 13:return l++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,C.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:C.sent(),C.label=17;case 17:return c++,[3,15];case 18:d=0,p=n.inlineLevel,C.label=19;case 19:return d<p.length?(x=p[d],[4,this.renderNode(x)]):[3,22];case 20:C.sent(),C.label=21;case 21:return d++,[3,19];case 22:h=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,C.label=23;case 23:return h<m.length?(x=m[h],[4,this.renderStack(x)]):[3,26];case 24:C.sent(),C.label=25;case 25:return h++,[3,23];case 26:g=0,y=n.positiveZIndex,C.label=27;case 27:return g<y.length?(x=y[g],[4,this.renderStack(x)]):[3,30];case 28:C.sent(),C.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(s,a){var o=Ci(s)?s.start:s;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Ci(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(n,r,s,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},t.prototype.resizeImage=function(n,r,s){var a;if(n.width===r&&n.height===s)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(n,0,0,n.width,n.height,0,0,r,s),l},t.prototype.renderBackgroundImage=function(n){return _s(this,void 0,void 0,function(){var r,s,a,o,l,A;return ys(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var d,p,h,R,P,D,M,N,_,m,R,P,D,M,N,g,y,x,C,S,w,L,I,U,_,F,R,k,j,M,N,$,P,D,W,G,Z,le,T,H,Q,K;return ys(this,function(V){switch(V.label){case 0:if(u.type!==0)return[3,5];d=void 0,p=u.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,a.context.cache.match(p)];case 2:return d=V.sent(),[3,4];case 3:return V.sent(),a.context.logger.error("Error loading background-image "+p),[3,4];case 4:return d&&(h=Rv(n,r,[d.width,d.height,d.width/d.height]),R=h[0],P=h[1],D=h[2],M=h[3],N=h[4],_=a.ctx.createPattern(a.resizeImage(d,M,N),"repeat"),a.renderRepeat(R,_,P,D)),[3,6];case 5:BK(u)?(m=Rv(n,r,[null,null,null]),R=m[0],P=m[1],D=m[2],M=m[3],N=m[4],g=vK(u.angle,M,N),y=g[0],x=g[1],C=g[2],S=g[3],w=g[4],L=document.createElement("canvas"),L.width=M,L.height=N,I=L.getContext("2d"),U=I.createLinearGradient(x,S,C,w),eC(u.stops,y).forEach(function(X){return U.addColorStop(X.stop,Yr(X.color))}),I.fillStyle=U,I.fillRect(0,0,M,N),M>0&&N>0&&(_=a.ctx.createPattern(L,"repeat"),a.renderRepeat(R,_,P,D))):CK(u)&&(F=Rv(n,r,[null,null,null]),R=F[0],k=F[1],j=F[2],M=F[3],N=F[4],$=u.position.length===0?[Rx]:u.position,P=Zn($[0],M),D=Zn($[$.length-1],N),W=yK(u,P,D,M,N),G=W[0],Z=W[1],G>0&&Z>0&&(le=a.ctx.createRadialGradient(k+P,j+D,0,k+P,j+D,G),eC(u.stops,G*2).forEach(function(X){return le.addColorStop(X.stop,Yr(X.color))}),a.path(R),a.ctx.fillStyle=le,G!==Z?(T=n.bounds.left+.5*n.bounds.width,H=n.bounds.top+.5*n.bounds.height,Q=Z/G,K=1/Q,a.ctx.save(),a.ctx.translate(T,H),a.ctx.transform(1,0,0,Q,0,0),a.ctx.translate(-T,-H),a.ctx.fillRect(k,K*(j-H)+H,M,N*K),a.ctx.restore()):a.ctx.fill())),V.label=6;case 6:return r--,[2]}})},a=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,s){return _s(this,void 0,void 0,function(){return ys(this,function(a){return this.path(NC(s,r)),this.ctx.fillStyle=Yr(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,s,a){return _s(this,void 0,void 0,function(){var o,l;return ys(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,a)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Eq(a,s),this.path(o),this.ctx.fillStyle=Yr(n),this.ctx.fill(),l=Iq(a,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return _s(this,void 0,void 0,function(){var r,s,a,o,l,A,c,u,d=this;return ys(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!qo(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Pq(nc(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),qo(r.backgroundColor)||(this.ctx.fillStyle=Yr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var m=Bg(n.curves),g=h.inset?0:Lq,y=Sq(m,-g+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(m),d.ctx.clip(),d.mask(y)):(d.mask(m),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=h.offsetX.number+g,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=Yr(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?Yr(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),p.label=2;case 2:l=0,A=0,c=a,p.label=3;case 3:return A<c.length?(u=c[A],u.style!==0&&!qo(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,n.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,s,a,o){return _s(this,void 0,void 0,function(){var l,A,c,u,d,p,h,m,g,y,x,C,S,w,L,I,L,I;return ys(this,function(U){return this.ctx.save(),l=kq(a,s),A=NC(a,s),o===2&&(this.path(A),this.ctx.clip()),Ci(A[0])?(c=A[0].start.x,u=A[0].start.y):(c=A[0].x,u=A[0].y),Ci(A[1])?(d=A[1].end.x,p=A[1].end.y):(d=A[1].x,p=A[1].y),s===0||s===2?h=Math.abs(c-d):h=Math.abs(u-p),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),m=r<3?r*3:r*2,g=r<3?r*2:r,o===3&&(m=r,g=r),y=!0,h<=m*2?y=!1:h<=m*2+g?(x=h/(2*m+g),m*=x,g*=x):(C=Math.floor((h+g)/(m+g)),S=(h-C*m)/(C-1),w=(h-(C+1)*m)/C,g=w<=0||Math.abs(g-S)<Math.abs(g-w)?S:w),y&&(o===3?this.ctx.setLineDash([0,m+g]):this.ctx.setLineDash([m,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Yr(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ci(A[0])&&(L=A[3],I=A[0],this.ctx.beginPath(),this.formatPath([new Bt(L.end.x,L.end.y),new Bt(I.start.x,I.start.y)]),this.ctx.stroke()),Ci(A[1])&&(L=A[1],I=A[2],this.ctx.beginPath(),this.formatPath([new Bt(L.end.x,L.end.y),new Bt(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return _s(this,void 0,void 0,function(){var r;return ys(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Yr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=jq(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(oE),Qq=function(e){return e instanceof z3||e instanceof $3?!0:e instanceof zx&&e.type!==xg&&e.type!==yg},Pq=function(e,t){switch(e){case 0:return Bg(t);case 2:return xq(t);case 1:default:return Cg(t)}},Rq=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Hq=["-apple-system","system-ui"],Oq=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Hq.indexOf(t)===-1}):e},$q=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return t.prototype.render=function(n){return _s(this,void 0,void 0,function(){var r,s;return ys(this,function(a){switch(a.label){case 0:return r=oy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,zq(r)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Yr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(oE),zq=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Wq=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zf([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Kq=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Wq({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new dq(this,t)}return e.instanceCount=1,e}(),lE=function(e,t){return t===void 0&&(t={}),Vq(e,t)};typeof window<"u"&&tE.setContext(window);var Vq=function(e,t){return _s(void 0,void 0,void 0,function(){var n,r,s,a,o,l,A,c,u,d,p,h,m,g,y,x,C,S,w,L,U,I,U,_,F,R,k,j,M,N,$,P,D,W,G,Z,le,T,H,Q;return ys(this,function(K){switch(K.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(_=t.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(F=t.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:t.proxy,useCORS:(R=t.useCORS)!==null&&R!==void 0?R:!1},a=K1({logging:(k=t.logging)!==null&&k!==void 0?k:!0,cache:t.cache},s),o={windowWidth:(j=t.windowWidth)!==null&&j!==void 0?j:r.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:r.innerHeight,scrollX:(N=t.scrollX)!==null&&N!==void 0?N:r.pageXOffset,scrollY:($=t.scrollY)!==null&&$!==void 0?$:r.pageYOffset},l=new oo(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new Kq(a,l),c=(P=t.foreignObjectRendering)!==null&&P!==void 0?P:!1,u={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new IC(A,e,u),p=d.clonedReferenceElement,p?[4,d.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=K.sent(),m=Wx(p)||qG(p)?Sz(p.ownerDocument):Um(A,p),g=m.width,y=m.height,x=m.left,C=m.top,S=Gq(A,p,t.backgroundColor),w={canvas:t.canvas,backgroundColor:S,scale:(G=(W=t.scale)!==null&&W!==void 0?W:r.devicePixelRatio)!==null&&G!==void 0?G:1,x:((Z=t.x)!==null&&Z!==void 0?Z:0)+x,y:((le=t.y)!==null&&le!==void 0?le:0)+C,width:(T=t.width)!==null&&T!==void 0?T:Math.ceil(g),height:(H=t.height)!==null&&H!==void 0?H:Math.ceil(y)},c?(A.logger.debug("Document cloned, using foreign object rendering"),U=new $q(A,w),[4,U.render(p)]):[3,3];case 2:return L=K.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+x+","+C+" with size "+g+"x"+y+" using computed rendering"),A.logger.debug("Starting DOM parsing"),I=V3(A,p),S===I.styles.backgroundColor&&(I.styles.backgroundColor=Ja.TRANSPARENT),A.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),U=new Mq(A,w),[4,U.render(I)];case 4:L=K.sent(),K.label=5;case 5:return(!((Q=t.removeContainer)!==null&&Q!==void 0)||Q)&&(IC.destroy(h)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,L]}})})},Gq=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?Dd(e,getComputedStyle(r.documentElement).backgroundColor):Ja.TRANSPARENT,a=r.body?Dd(e,getComputedStyle(r.body).backgroundColor):Ja.TRANSPARENT,o=typeof n=="string"?Dd(e,n):n===null?Ja.TRANSPARENT:4294967295;return t===r.documentElement?qo(s)?qo(a)?o:a:s:o};const qq=Object.freeze(Object.defineProperty({__proto__:null,default:lE},Symbol.toStringTag,{value:"Module"})),ad=({title:e,value:t,icon:n,change:r,isPositive:s,description:a})=>i.jsxs("div",{className:"stat-card",style:{position:"relative"},children:[i.jsxs("div",{className:"stat-header",children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[i.jsx("span",{className:"stat-label",children:e}),a&&i.jsx("span",{style:{fontSize:"11px",color:"var(--light-gray)",lineHeight:"1.3",maxWidth:"200px"},children:a})]}),i.jsx("div",{className:"stat-icon",children:n})]}),i.jsx("div",{className:"stat-value",children:t}),r!=null&&i.jsxs("div",{className:`stat-change ${s?"":"negative"}`,children:[s?i.jsx(D9,{fontSize:"small"}):i.jsx(U9,{fontSize:"small"}),r]})]});function Yq(){var k,j;const{currentUser:e,admin:t}=hr(),{isSuperAdmin:n}=Kr(),[r,s]=b.useState(null),[a,o]=b.useState(!1),[l,A]=b.useState(!1),[c,u]=b.useState([]),[d,p]=b.useState({todayBookings:0,todayRevenue:0,todayIncome:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,incomeChange:0,utilizationChange:0}),[h,m]=b.useState(!0),[g,y]=b.useState([]),[x,C]=b.useState("all"),[S,w]=b.useState("");b.useEffect(()=>{(async()=>{if(n)await L(),x==="all"?await I():await U(x);else if(t!=null&&t.venueId){s(t.venueId);try{const N=await rn(bt($e,"venues",t.venueId));if(N.exists()){const $=N.data();w($.name||""),y([{id:t.venueId,name:$.name||""}])}}catch(N){console.error("Error loading venue data:",N)}await U(t.venueId)}m(!1)})()},[e,t,n,x]);const L=async()=>{try{const M=zt(Tt($e,"venues"),Ct("status","==","active")),$=(await Wt(M)).docs.map(P=>({id:P.id,name:P.data().name}));y($)}catch(M){console.error("Error loading venues:",M)}},I=async()=>{var M;try{const N=new Date,$=new Date(N.getFullYear(),N.getMonth(),N.getDate()),P=new Date(N.getFullYear(),N.getMonth(),N.getDate(),23,59,59);let D=g;if(D.length===0){const ue=zt(Tt($e,"venues"),Ct("status","==","active"));D=(await Wt(ue)).docs.map(he=>({id:he.id,name:he.data().name}))}const W=zt(Tt($e,"bookings")),G=await Wt(W),Z=G.docs.filter(ue=>{var re,Ve;const we=ue.data(),he=(Ve=(re=we.date)==null?void 0:re.toDate)==null?void 0:Ve.call(re);return he?he>=$&&he<=P&&we.status==="confirmed":!1}),le=Z.filter(ue=>ue.data().paymentStatus==="paid"),T=Z.length,H=le.reduce((ue,we)=>ue+(we.data().amount||0),0),Q=G.docs.sort((ue,we)=>{var Ve,ye,pe,Fe,De,ze,Xe,at;const he=((ye=(Ve=ue.data().createdAt)==null?void 0:Ve.toDate)==null?void 0:ye.call(Ve))||((Fe=(pe=ue.data().date)==null?void 0:pe.toDate)==null?void 0:Fe.call(pe))||new Date(0);return(((ze=(De=we.data().createdAt)==null?void 0:De.toDate)==null?void 0:ze.call(De))||((at=(Xe=we.data().date)==null?void 0:Xe.toDate)==null?void 0:at.call(Xe))||new Date(0)).getTime()-he.getTime()}).slice(0,10),K=[];for(const ue of Q){const we=ue.data();let he="",re="Корт";if(we.venueId){const Ve=D.find(ye=>ye.id===we.venueId);if(he=(Ve==null?void 0:Ve.name)||"",we.courtId)try{const ye=await rn(ue($e,"venues",we.venueId,"courts",we.courtId));ye.exists()&&(re=ye.data().name)}catch(ye){console.error("Error fetching court:",ye)}}K.push({id:ue.id,clientName:we.clientName||we.customerName||"Неизвестный клиент",courtName:he?`${he} - ${re}`:re,date:((M=we.date)==null?void 0:M.toDate())||new Date,startTime:we.startTime||we.time||"",endTime:we.endTime||"",status:we.status||"pending",paymentStatus:we.paymentStatus,amount:we.amount||0})}u(K);let V=0;for(const ue of D){const we=zt(Tt($e,"venues",ue.id,"courts"),Ct("status","==","active")),he=await Wt(we);V+=he.size}const X=V*16,ie=X>0?Math.round(T/X*100):0,ae=new Date;ae.setDate(ae.getDate()-30);const Ce=G.docs.filter(ue=>{var re,Ve;const he=(Ve=(re=ue.data().date)==null?void 0:re.toDate)==null?void 0:Ve.call(re);return he&&he>=ae}),ce=new Set(Ce.map(ue=>ue.data().clientPhone||ue.data().customerPhone)),fe=G.docs.reduce((ue,we)=>{var ye,pe;const he=we.data(),Ve=(he.paymentHistory||[]).some(Fe=>{var De,ze;if(Fe.action==="paid"||Fe.action==="payment_completed"){const Xe=((ze=(De=Fe.timestamp)==null?void 0:De.toDate)==null?void 0:ze.call(De))||new Date(Fe.timestamp);return Xe>=$&&Xe<=P}return!1});if(!Ve&&he.paymentStatus==="paid"){const Fe=((pe=(ye=he.createdAt)==null?void 0:ye.toDate)==null?void 0:pe.call(ye))||new Date(he.createdAt);if(Fe>=$&&Fe<=P)return ue+(he.amount||0)}return Ve?ue+(he.amount||0):ue},0);p({todayBookings:T,todayRevenue:H,todayIncome:fe,utilization:ie,activeCustomers:ce.size,bookingsChange:15,revenueChange:10,incomeChange:8,utilizationChange:-3})}catch(N){console.error("Error loading all venues data:",N)}},U=async M=>{var N,$;try{const P=new Date,D=new Date(P.getFullYear(),P.getMonth(),P.getDate()),W=new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59),G=zt(Tt($e,"bookings"),Ct("venueId","==",M)),le=(await Wt(G)).docs.map(ye=>({id:ye.id,...ye.data()})).sort((ye,pe)=>{var ze,Xe,at,ct,st,me,Pe,oe;const Fe=((Xe=(ze=ye.createdAt)==null?void 0:ze.toDate)==null?void 0:Xe.call(ze))||((ct=(at=ye.date)==null?void 0:at.toDate)==null?void 0:ct.call(at))||new Date(0);return(((me=(st=pe.createdAt)==null?void 0:st.toDate)==null?void 0:me.call(st))||((oe=(Pe=pe.date)==null?void 0:Pe.toDate)==null?void 0:oe.call(Pe))||new Date(0)).getTime()-Fe.getTime()}).slice(0,5),T=[];for(const ye of le){let pe=ye.courtName||"Корт";if(ye.courtId&&!ye.courtName)try{const Fe=await rn(bt($e,"venues",M,"courts",ye.courtId));Fe.exists()&&(pe=Fe.data().name)}catch(Fe){console.error("Error fetching court:",Fe)}T.push({id:ye.id,clientName:ye.clientName||ye.customerName||"Неизвестный клиент",courtName:pe,date:(($=(N=ye.date)==null?void 0:N.toDate)==null?void 0:$.call(N))||new Date,startTime:ye.startTime||ye.time||"",endTime:ye.endTime||"",status:ye.status||"pending",paymentStatus:ye.paymentStatus,amount:ye.amount||0})}u(T);const H=zt(Tt($e,"bookings"),Ct("venueId","==",M)),Q=await Wt(H),K=Q.docs.filter(ye=>{var De,ze;const pe=ye.data(),Fe=(ze=(De=pe.date)==null?void 0:De.toDate)==null?void 0:ze.call(De);return Fe?Fe>=D&&Fe<=W&&pe.status==="confirmed":!1}),V=K.filter(ye=>ye.data().paymentStatus==="paid"),X=K.length,ie=V.reduce((ye,pe)=>ye+(pe.data().amount||0),0),ae=zt(Tt($e,"venues",M,"courts"),Ct("status","==","active")),fe=(await Wt(ae)).size*16,ue=fe>0?Math.round(X/fe*100):0,we=new Date;we.setDate(we.getDate()-30);const he=Q.docs.filter(ye=>{var De,ze;const Fe=(ze=(De=ye.data().date)==null?void 0:De.toDate)==null?void 0:ze.call(De);return Fe&&Fe>=we}),re=new Set(he.map(ye=>ye.data().clientPhone||ye.data().customerPhone)),Ve=Q.docs.reduce((ye,pe)=>{var Xe,at;const Fe=pe.data(),ze=(Fe.paymentHistory||[]).some(ct=>{var st,me;if(ct.action==="paid"||ct.action==="payment_completed"){const Pe=((me=(st=ct.timestamp)==null?void 0:st.toDate)==null?void 0:me.call(st))||new Date(ct.timestamp);return Pe>=D&&Pe<=W}return!1});if(!ze&&Fe.paymentStatus==="paid"){const ct=((at=(Xe=Fe.createdAt)==null?void 0:Xe.toDate)==null?void 0:at.call(Xe))||new Date(Fe.createdAt);if(ct>=D&&ct<=W)return ye+(Fe.amount||0)}return ze?ye+(Fe.amount||0):ye},0);p({todayBookings:X,todayRevenue:ie,todayIncome:Ve,utilization:ue,activeCustomers:re.size,bookingsChange:12,revenueChange:8,incomeChange:5,utilizationChange:-5})}catch(P){console.error("Error loading dashboard data:",P)}},_=()=>{const M=n?x:r;return!M||M==="all"?"":`https://allcourt.ru/club/${M}`},F=()=>{const M=_();M&&(navigator.clipboard.writeText(M),A(!0),setTimeout(()=>A(!1),2e3))},R=async()=>{const M=_();if(M)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:M})}catch(N){console.log("Share failed:",N)}else F()};return h?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:i.jsx("div",{children:"Загрузка..."})}):i.jsxs("div",{children:[n&&i.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:i.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[i.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),i.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:M=>C(M.target.value),children:[i.jsx("option",{value:"all",children:"Все клубы"}),g.map(M=>i.jsx("option",{value:M.id,children:M.name},M.id))]})]})})}),(r&&!n||n&&x!=="all")&&i.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[i.jsx("div",{className:"section-header",children:i.jsxs("h2",{className:"section-title",children:["Ссылка для бронирования",n&&x!=="all"&&i.jsxs("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"8px"},children:["(",(k=g.find(M=>M.id===x))==null?void 0:k.name,")"]})]})}),i.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[i.jsxs("div",{onClick:()=>o(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:M=>M.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:M=>M.currentTarget.style.boxShadow="none",children:[i.jsx(hg,{value:_(),size:120,level:"M",includeMargin:!0}),i.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:i.jsxs("button",{className:"btn btn-secondary btn-icon",children:[i.jsx(_x,{fontSize:"small"}),i.jsx("span",{children:"Увеличить"})]})})]}),i.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[i.jsxs("div",{style:{marginBottom:"12px"},children:[i.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),i.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[i.jsx("input",{type:"text",value:_(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),i.jsxs("button",{className:"btn btn-primary btn-icon",onClick:F,children:[l?i.jsx(Qo,{fontSize:"small"}):i.jsx(mj,{fontSize:"small"}),i.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),i.jsx("div",{style:{display:"flex",gap:"8px"},children:i.jsxs("button",{className:"btn btn-secondary",onClick:R,children:[i.jsx(Cj,{fontSize:"small"}),i.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&i.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(j=g.find(M=>M.id===x))==null?void 0:j.name}"`}),i.jsxs("div",{className:"stats-grid",children:[i.jsx(ad,{title:"Бронирований сегодня",value:d.todayBookings,icon:i.jsx(th,{}),change:`${d.bookingsChange>0?"+":""}${d.bookingsChange}% от вчера`,isPositive:d.bookingsChange>0,description:"Количество игр на сегодня"}),i.jsx(ad,{title:"Поступления за сегодня",value:`${d.todayIncome.toLocaleString("ru-RU")}₽`,icon:i.jsx(ql,{}),change:`${d.incomeChange>0?"+":""}${d.incomeChange}% от вчера`,isPositive:d.incomeChange>0,description:"Все платежи, пришедшие сегодня (независимо от даты игры)"}),i.jsx(ad,{title:"Доход за сегодня",value:`${d.todayRevenue.toLocaleString("ru-RU")}₽`,icon:i.jsx(ql,{}),change:`${d.revenueChange>0?"+":""}${d.revenueChange}% от вчера`,isPositive:d.revenueChange>0,description:"Деньги от игр, состоявшихся сегодня (со статусом оплачен)"}),i.jsx(ad,{title:"Загрузка кортов",value:`${d.utilization}%`,icon:i.jsx(Fm,{}),change:`${d.utilizationChange>0?"+":""}${d.utilizationChange}% от вчера`,isPositive:d.utilizationChange>0,description:"Процент занятых слотов от максимума"}),i.jsx(ad,{title:"Активных клиентов",value:d.activeCustomers,icon:i.jsx(Tx,{}),change:"за последние 30 дней",isPositive:!0,description:"Уникальные клиенты за месяц"})]}),i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",children:"Последние бронирования"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),i.jsx("div",{className:"table-wrapper",children:h?i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):c.length===0?i.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Клиент"}),i.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),i.jsx("th",{children:"Дата и время"}),i.jsx("th",{children:"Статус"}),i.jsx("th",{children:"Сумма"})]})}),i.jsx("tbody",{children:c.map(M=>i.jsxs("tr",{children:[i.jsx("td",{children:M.clientName}),i.jsx("td",{children:M.courtName}),i.jsxs("td",{children:[M.date.toLocaleDateString("ru-RU"),", ",M.startTime,M.endTime&&`-${M.endTime}`]}),i.jsxs("td",{children:[M.status==="confirmed"&&i.jsxs(i.Fragment,{children:[M.paymentStatus==="paid"&&i.jsx("span",{style:{color:"var(--success)"},children:"✅ Оплачено"}),M.paymentStatus==="awaiting_payment"&&i.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),M.paymentStatus==="not_required"&&i.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),!M.paymentStatus&&i.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"})]}),M.status==="pending"&&i.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает подтверждения"}),M.status==="cancelled"&&i.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),i.jsxs("td",{children:[M.amount.toLocaleString("ru-RU"),"₽"]})]},M.id))})]})})]}),a&&i.jsx("div",{className:"modal active",onClick:()=>o(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:i.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[i.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[i.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),i.jsx("button",{className:"modal-close",onClick:()=>o(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx(hg,{id:"modal-qr-code",value:_(),size:256,level:"H",includeMargin:!0}),i.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",i.jsx("br",{}),"чтобы забронировать корт"]}),i.jsx("div",{style:{marginTop:"24px"},children:i.jsx("button",{className:"btn btn-primary",onClick:async()=>{var M;try{const N=document.getElementById("modal-qr-code");if(!N){console.error("QR code SVG element not found"),alert("Не удалось найти QR код. Попробуйте еще раз.");return}const $=document.createElement("div");$.style.position="absolute",$.style.left="-9999px",$.style.top="-9999px",$.style.backgroundColor="white",$.style.width="1600px",$.style.height="1600px",$.style.display="flex",$.style.alignItems="center",$.style.justifyContent="center",document.body.appendChild($);const P=document.createElement("div");P.style.width="1600px",P.style.height="1600px",P.innerHTML=`
                        <svg width="1600" height="1600" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
                          ${N.innerHTML}
                        </svg>
                      `,$.appendChild(P);const D=await lE($,{backgroundColor:"white",scale:1,width:1600,height:1600}),W=new Rt({orientation:"portrait",unit:"mm",format:"a4"}),G=210,Z=297,le=180,T=(G-le)/2,H=(Z-le)/2,Q=D.toDataURL("image/png");W.addImage(Q,"PNG",T,H,le,le);const V=`qr-code-${(n?(M=g.find(X=>X.id===x))==null?void 0:M.name:S)||"booking"}-${new Date().getTime()}.pdf`;W.save(V),document.body.removeChild($)}catch(N){console.error("Error downloading QR code:",N),alert("Ошибка при скачивании QR кода. Попробуйте еще раз.")}},children:"Скачать QR код"})})]})]})})]})}const lu=({children:e,permission:t,role:n,requireAll:r=!1,fallback:s,allowTrainer:a=!1})=>{const{hasPermission:o,hasAllPermissions:l,hasRole:A}=Kr(),{admin:c}=hr();return a&&(c==null?void 0:c.role)==="trainer"?i.jsx(i.Fragment,{children:e}):n&&!A(n)?s?i.jsx(i.Fragment,{children:s}):i.jsxs(Jt,{severity:"error",sx:{mt:2},children:[i.jsx(Vl,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?l(t):o(t))?s?i.jsx(i.Fragment,{children:s}):i.jsxs(Jt,{severity:"error",sx:{mt:2},children:[i.jsx(Vl,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):i.jsx(i.Fragment,{children:e})},iA=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[s,a]=b.useState([]),[o,l]=b.useState(!0);b.useEffect(()=>{A()},[]);const A=async()=>{try{const c=zt(Tt($e,"venues"),Ct("status","==","active")),d=(await Wt(c)).docs.map(p=>({id:p.id,...p.data()}));a(d)}catch(c){console.error("Error fetching venues:",c)}finally{l(!1)}};return o?i.jsx("div",{children:"Загрузка клубов..."}):i.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:i.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[i.jsx("label",{className:"form-label",children:n}),i.jsxs("select",{className:"form-select",value:e||"",onChange:c=>t(c.target.value),style:{maxWidth:"400px"},children:[i.jsx("option",{value:"",children:"Выберите клуб"}),s.map(c=>i.jsx("option",{value:c.id,children:c.name},c.id))]}),r&&i.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},aA=({title:e})=>{const[t,n]=b.useState([]),[r,s]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const l=zt(Tt($e,"venues"),Ct("status","==","active")),c=(await Wt(l)).docs.map(u=>({id:u.id,...u.data()}));n(c)}catch(l){console.error("Error fetching venues:",l)}finally{s(!1)}},o=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?i.jsx("div",{children:"Загрузка..."}):i.jsx("div",{children:i.jsxs("div",{className:"section-card",children:[i.jsx("div",{className:"section-header",children:i.jsx("h2",{className:"section-title",children:e})}),i.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[i.jsx("label",{className:"form-label",children:"Клуб"}),i.jsxs("select",{className:"form-select",value:"",onChange:l=>o(l.target.value),children:[i.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(l=>i.jsx("option",{value:l.id,children:l.name},l.id))]}),i.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function Xq(){const e=rs(),{club:t,admin:n,refreshClubData:r}=hr(),{isSuperAdmin:s,canManageClub:a}=Kr(),[o,l]=b.useState(null),[A,c]=b.useState(null),[u,d]=b.useState(!1),[p,h]=b.useState(!1),[m,g]=b.useState(null),[y,x]=b.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",timezone:"Europe/Moscow",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bankBik:"",bankCorrespondentAccount:"",directorName:"",directorPosition:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:60}),[C,S]=b.useState([]),[w,L]=b.useState(!1);b.useEffect(()=>{var D,W,G,Z,le,T,H,Q;if(s){const K=localStorage.getItem("selectedVenueId");K&&(l(K),U(K))}else t&&(console.log("Updating form data from club:",t),x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:((W=(D=t.location)==null?void 0:D._lat)==null?void 0:W.toString())||((Z=(G=t.location)==null?void 0:G.latitude)==null?void 0:Z.toString())||"",longitude:((T=(le=t.location)==null?void 0:le._long)==null?void 0:T.toString())||((Q=(H=t.location)==null?void 0:H.longitude)==null?void 0:Q.toString())||"",description:t.description||"",timezone:t.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",legalName:t.legalName||"",ogrn:t.ogrn||"",kpp:t.kpp||"",legalAddress:t.legalAddress||"",bankName:t.bankName||"",bankBik:t.bankBik||"",bankCorrespondentAccount:t.bankCorrespondentAccount||"",directorName:t.directorName||"",directorPosition:t.directorPosition||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||60}),S(t.photos||[]))},[t,s]);const I=D=>{l(D),localStorage.setItem("selectedVenueId",D),D&&U(D)},U=async D=>{var W,G,Z,le,T,H,Q,K;try{console.log("Loading venue data for:",D);const V=await rn(bt($e,"venues",D));if(V.exists()){const X=V.data();console.log("Venue data loaded:",X),c({id:V.id,...X}),x({name:X.name||"",phone:X.phone||"",address:X.address||"",city:X.city||"",latitude:((G=(W=X.location)==null?void 0:W._lat)==null?void 0:G.toString())||((le=(Z=X.location)==null?void 0:Z.latitude)==null?void 0:le.toString())||"",longitude:((H=(T=X.location)==null?void 0:T._long)==null?void 0:H.toString())||((K=(Q=X.location)==null?void 0:Q.longitude)==null?void 0:K.toString())||"",description:X.description||"",timezone:X.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(X.amenities)&&X.amenities.includes("showers")||!1,parking:Array.isArray(X.amenities)&&X.amenities.includes("parking")||!1,cafe:Array.isArray(X.amenities)&&X.amenities.includes("cafe")||!1,proshop:Array.isArray(X.amenities)&&X.amenities.includes("proshop")||!1,lockers:Array.isArray(X.amenities)&&X.amenities.includes("lockers")||!1},organizationType:X.organizationType||"",inn:X.inn||"",bankAccount:X.bankAccount||"",legalName:X.legalName||"",ogrn:X.ogrn||"",kpp:X.kpp||"",legalAddress:X.legalAddress||"",bankName:X.bankName||"",bankBik:X.bankBik||"",bankCorrespondentAccount:X.bankCorrespondentAccount||"",directorName:X.directorName||"",directorPosition:X.directorPosition||"",workingHours:X.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:X.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:X.bookingSlotInterval||60}),S(X.photos||[])}}catch(V){console.error("Error loading venue:",V)}},_=D=>{const{name:W,value:G}=D.target;x(Z=>({...Z,[W]:G}))},F=D=>{x(W=>({...W,amenities:{...W.amenities,[D]:!W.amenities[D]}}))},R=async D=>{var Z;const W=(Z=D.target.files)==null?void 0:Z[0];if(!W)return;const G=s?o:n==null?void 0:n.venueId;if(!G){g("Не выбран клуб");return}try{d(!0);const le=Nb(y1,`clubs/${G}/logo.${W.name.split(".").pop()}`),T=await Tb(le,W),H=await _b(T.ref);await Nn(bt($e,"venues",G),{logoUrl:H}),s&&A?c({...A,logoUrl:H}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(le){console.error("Error uploading logo:",le),g("Ошибка при загрузке логотипа")}finally{d(!1)}},k=async D=>{const W=D.target.files;if(!W||W.length===0)return;const G=s?o:n==null?void 0:n.venueId;if(!G){g("Не выбран клуб");return}if(C.length+W.length>5){g("Максимальное количество фотографий - 5");return}try{L(!0);const Z=[];for(let H=0;H<W.length;H++){const Q=W[H];if(Q.size>5*1024*1024){g(`Файл ${Q.name} превышает максимальный размер 5 МБ`);continue}if(!Q.type.startsWith("image/")){g(`Файл ${Q.name} не является изображением`);continue}const V=`photo_${Date.now()}_${H}.${Q.name.split(".").pop()}`,X=Nb(y1,`clubs/${G}/photos/${V}`);Z.push(Tb(X,Q).then(async ie=>await _b(ie.ref)))}const le=await Promise.all(Z),T=[...C,...le];S(T),await Nn(bt($e,"venues",G),{photos:T}),s&&A?c({...A,photos:T}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(Z){console.error("Error uploading photos:",Z),g("Ошибка при загрузке фотографий")}finally{L(!1)}},j=async()=>{const D=s?o:n==null?void 0:n.venueId;if(!D){g("Не выбран клуб");return}try{d(!0),await Nn(bt($e,"venues",D),{logoUrl:null}),s&&A?c({...A,logoUrl:null}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(W){console.error("Error deleting logo:",W),g("Ошибка при удалении логотипа")}finally{d(!1)}},M=async(D,W)=>{const G=s?o:n==null?void 0:n.venueId;if(!G){g("Не выбран клуб");return}try{d(!0);const Z=C.filter((le,T)=>T!==W);S(Z),await Nn(bt($e,"venues",G),{photos:Z}),s&&A?c({...A,photos:Z}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(Z){console.error("Error deleting photo:",Z),g("Ошибка при удалении фотографии")}finally{d(!1)}},N=async D=>{D.preventDefault();const W=s?o:n==null?void 0:n.venueId;if(W)try{d(!0);const G=Object.entries(y.amenities).filter(([le,T])=>T).map(([le])=>le),Z={name:y.name,phone:y.phone,address:y.address,city:y.city,description:y.description,timezone:y.timezone,amenities:G,workingHours:y.workingHours,bookingDurations:y.bookingDurations,bookingSlotInterval:y.bookingSlotInterval,updatedAt:new Date};y.latitude&&y.longitude&&(Z.location=new ok(parseFloat(y.latitude),parseFloat(y.longitude))),await Nn(bt($e,"venues",W),Z),s&&A?await U(W):(await r(),console.log("Club data refreshed successfully")),h(!0),setTimeout(()=>h(!1),3e3)}catch(G){console.error("Error updating club:",G),g("Ошибка при сохранении данных")}finally{d(!1)}},$=async D=>{D.preventDefault();const W=s?o:n==null?void 0:n.venueId;if(W)try{d(!0);const G={organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount,legalName:y.legalName,ogrn:y.ogrn,kpp:y.kpp,legalAddress:y.legalAddress,bankName:y.bankName,bankBik:y.bankBik,bankCorrespondentAccount:y.bankCorrespondentAccount,directorName:y.directorName,directorPosition:y.directorPosition,updatedAt:new Date};await Nn(bt($e,"venues",W),G),s&&A?await U(W):(await r(),console.log("Club data refreshed successfully")),h(!0),setTimeout(()=>h(!1),3e3)}catch(G){console.error("Error updating requisites:",G),g("Ошибка при сохранении реквизитов")}finally{d(!1)}};if(!a())return i.jsxs(Jt,{severity:"error",children:[i.jsx(Vl,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(s&&!o)return i.jsx(aA,{title:"Выберите клуб для управления"});const P=s?A:t;return i.jsx(lu,{permission:["manage_club","manage_all_venues"],children:i.jsxs("div",{children:[s&&i.jsx(iA,{selectedVenueId:o,onVenueChange:I}),i.jsxs("div",{className:"section-card",children:[i.jsxs("h2",{className:"section-title",children:["Информация о клубе",s&&A&&i.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:A.name})]}),i.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[i.jsx("strong",{children:"💡 Как получить координаты:"}),i.jsx("br",{}),"1. Откройте ",i.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),i.jsx("br",{}),"2. Найдите ваш клуб на карте",i.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",i.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),i.jsxs("form",{onSubmit:N,children:[m&&i.jsx(Jt,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:m}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Логотип клуба"}),i.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[i.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:D=>{const W=D.currentTarget.querySelector("button");W&&(W.style.opacity="1")},onMouseLeave:D=>{const W=D.currentTarget.querySelector("button");W&&(W.style.opacity="0")},children:P!=null&&P.logoUrl?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:P.logoUrl,alt:P.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),i.jsx("button",{type:"button",onClick:j,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:u,children:i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):i.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[i.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:i.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),i.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),i.jsxs("div",{children:[i.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var D;return(D=document.getElementById("logoInput"))==null?void 0:D.click()},disabled:u,children:"Загрузить логотип"}),i.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:R}),i.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",i.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Фотографии клуба"}),i.jsx("div",{style:{marginBottom:"16px"},children:i.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[C.map((D,W)=>i.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[i.jsx("img",{src:D,alt:`Фото ${W+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),i.jsx("button",{type:"button",onClick:()=>M(D,W),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:u,children:i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},W)),C.length<5&&i.jsx("div",{onClick:()=>{var D;return(D=document.getElementById("photosInput"))==null?void 0:D.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:D=>{D.currentTarget.style.borderColor="var(--primary)",D.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:D=>{D.currentTarget.style.borderColor="var(--extra-light-gray)",D.currentTarget.style.background="var(--background)"},children:i.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[i.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:i.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),i.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:w?"Загрузка...":"Добавить фото"})]})})]}),i.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:k,disabled:w||C.length>=5})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Название клуба"}),i.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:_,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Телефон"}),i.jsx("input",{type:"tel",className:"form-input",name:"phone",value:y.phone,onChange:_,required:!0})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Адрес"}),i.jsx("input",{type:"text",className:"form-input",name:"address",value:y.address,onChange:_,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Город"}),i.jsx("input",{type:"text",className:"form-input",name:"city",value:y.city,onChange:_,placeholder:"Например: Москва"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),i.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:y.latitude,onChange:_,placeholder:"55.755831"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),i.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:y.longitude,onChange:_,placeholder:"37.617673"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Описание"}),i.jsx("textarea",{className:"form-textarea",name:"description",value:y.description,onChange:_,rows:4})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Часовой пояс"}),i.jsxs("select",{className:"form-select",name:"timezone",value:y.timezone,onChange:_,required:!0,children:[i.jsx("option",{value:"Europe/Kaliningrad",children:"Калининград (UTC+2)"}),i.jsx("option",{value:"Europe/Moscow",children:"Москва (UTC+3)"}),i.jsx("option",{value:"Europe/Samara",children:"Самара (UTC+4)"}),i.jsx("option",{value:"Asia/Yekaterinburg",children:"Екатеринбург (UTC+5)"}),i.jsx("option",{value:"Asia/Omsk",children:"Омск (UTC+6)"}),i.jsx("option",{value:"Asia/Krasnoyarsk",children:"Красноярск (UTC+7)"}),i.jsx("option",{value:"Asia/Irkutsk",children:"Иркутск (UTC+8)"}),i.jsx("option",{value:"Asia/Yakutsk",children:"Якутск (UTC+9)"}),i.jsx("option",{value:"Asia/Vladivostok",children:"Владивосток (UTC+10)"}),i.jsx("option",{value:"Asia/Magadan",children:"Магадан (UTC+11)"}),i.jsx("option",{value:"Asia/Kamchatka",children:"Камчатка (UTC+12)"})]}),i.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:"Выберите часовой пояс, в котором работает ваш клуб. Это важно для корректного отображения времени в уведомлениях."})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Удобства"}),i.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.amenities.showers,onChange:()=>F("showers")}),"Душевые"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.amenities.parking,onChange:()=>F("parking")}),"Парковка"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.amenities.cafe,onChange:()=>F("cafe")}),"Кафе"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.amenities.proshop,onChange:()=>F("proshop")}),"Pro Shop"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.amenities.lockers,onChange:()=>F("lockers")}),"Раздевалки"]})]})]}),i.jsxs("div",{style:{marginTop:"32px"},children:[i.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(D=>i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:D.label}),i.jsx("input",{type:"text",className:"form-input",value:y.workingHours[D.key],onChange:W=>x(G=>({...G,workingHours:{...G.workingHours,[D.key]:W.target.value}})),placeholder:"07:00-23:00"}),i.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},D.key))})]}),i.jsxs("div",{style:{marginTop:"32px"},children:[i.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),i.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.bookingDurations[60],onChange:()=>x(D=>({...D,bookingDurations:{...D.bookingDurations,60:!D.bookingDurations[60]}}))}),"1 час"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.bookingDurations[90],onChange:()=>x(D=>({...D,bookingDurations:{...D.bookingDurations,90:!D.bookingDurations[90]}}))}),"1.5 часа"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:y.bookingDurations[120],onChange:()=>x(D=>({...D,bookingDurations:{...D.bookingDurations,120:!D.bookingDurations[120]}}))}),"2 часа"]})]}),i.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),i.jsxs("div",{style:{marginTop:"32px"},children:[i.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),i.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:y.bookingSlotInterval===30,onChange:()=>x(D=>({...D,bookingSlotInterval:30}))}),"Каждые 30 минут"]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[i.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:y.bookingSlotInterval===60,onChange:()=>x(D=>({...D,bookingSlotInterval:60}))}),"Только с 00 минут (стандарт)"]})]}),i.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),i.jsxs("div",{style:{display:"flex",gap:"12px"},children:[i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить изменения"}),i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var W,G,Z,le,T,H,Q,K;const D=s?A:t;D&&x({name:D.name||"",phone:D.phone||"",address:D.address||"",city:D.city||"",latitude:((G=(W=D.location)==null?void 0:W._lat)==null?void 0:G.toString())||((le=(Z=D.location)==null?void 0:Z.latitude)==null?void 0:le.toString())||"",longitude:((H=(T=D.location)==null?void 0:T._long)==null?void 0:H.toString())||((K=(Q=D.location)==null?void 0:Q.longitude)==null?void 0:K.toString())||"",description:D.description||"",amenities:{showers:Array.isArray(D.amenities)&&D.amenities.includes("showers")||!1,parking:Array.isArray(D.amenities)&&D.amenities.includes("parking")||!1,cafe:Array.isArray(D.amenities)&&D.amenities.includes("cafe")||!1,proshop:Array.isArray(D.amenities)&&D.amenities.includes("proshop")||!1,lockers:Array.isArray(D.amenities)&&D.amenities.includes("lockers")||!1},organizationType:D.organizationType||"",inn:D.inn||"",bankAccount:D.bankAccount||"",legalName:D.legalName||"",ogrn:D.ogrn||"",kpp:D.kpp||"",legalAddress:D.legalAddress||"",bankName:D.bankName||"",bankBik:D.bankBik||"",bankCorrespondentAccount:D.bankCorrespondentAccount||"",directorName:D.directorName||"",directorPosition:D.directorPosition||"",workingHours:D.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:D.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:D.bookingSlotInterval||60})},children:"Отмена"})]}),p&&i.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),i.jsxs("div",{className:"section-card",children:[i.jsx("h2",{className:"section-title",children:"Реквизиты организации"}),i.jsxs("form",{onSubmit:$,children:[i.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[i.jsx("label",{className:"form-label",children:"Тип организации"}),i.jsxs("select",{className:"form-select",name:"organizationType",value:y.organizationType,onChange:_,children:[i.jsx("option",{value:"",children:"Выберите тип"}),i.jsx("option",{value:"ИП",children:"ИП"}),i.jsx("option",{value:"ООО",children:"ООО"}),i.jsx("option",{value:"АО",children:"АО"}),i.jsx("option",{value:"НКО",children:"НКО"}),i.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Юридическое наименование"}),i.jsx("input",{type:"text",className:"form-input",name:"legalName",value:y.legalName,onChange:_,placeholder:"ООО «Название организации»"})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"ИНН"}),i.jsx("input",{type:"text",className:"form-input",name:"inn",value:y.inn,onChange:_,placeholder:"1234567890"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"КПП"}),i.jsx("input",{type:"text",className:"form-input",name:"kpp",value:y.kpp,onChange:_,placeholder:"123456789"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"ОГРН / ОГРНИП"}),i.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:y.ogrn,onChange:_,placeholder:"1234567890123"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Юридический адрес"}),i.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:y.legalAddress,onChange:_,placeholder:"123456, г. Москва, ул. Примерная, д. 1, офис 1"})]}),i.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Банковские реквизиты"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Наименование банка"}),i.jsx("input",{type:"text",className:"form-input",name:"bankName",value:y.bankName,onChange:_,placeholder:"ПАО Сбербанк"})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"БИК банка"}),i.jsx("input",{type:"text",className:"form-input",name:"bankBik",value:y.bankBik,onChange:_,placeholder:"044525225"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Корр. счет"}),i.jsx("input",{type:"text",className:"form-input",name:"bankCorrespondentAccount",value:y.bankCorrespondentAccount,onChange:_,placeholder:"30101810400000000225"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Расчетный счет"}),i.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:y.bankAccount,onChange:_,placeholder:"40702810900000123456"})]}),i.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Руководитель"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"ФИО руководителя"}),i.jsx("input",{type:"text",className:"form-input",name:"directorName",value:y.directorName,onChange:_,placeholder:"Иванов Иван Иванович"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Должность"}),i.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:y.directorPosition,onChange:_,placeholder:"Генеральный директор"})]}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить реквизиты"}),p&&i.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Реквизиты успешно сохранены"})]}),i.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[i.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),i.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const hp=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function Jq(){const{admin:e}=hr(),{isSuperAdmin:t,canManageCourts:n}=Kr(),[r,s]=b.useState(null),[a,o]=b.useState([]),[l,A]=b.useState(!0),[c,u]=b.useState(!1),[d,p]=b.useState(!1),[h,m]=b.useState(null),[g,y]=b.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:"#00A86B"});b.useEffect(()=>{if(t){const R=localStorage.getItem("selectedVenueId");R&&(s(R),C(R))}else e!=null&&e.venueId&&C(e.venueId)},[e,t]);const x=R=>{s(R),localStorage.setItem("selectedVenueId",R),R&&C(R)},C=async R=>{if(R)try{A(!0);const k=zt(Tt($e,"venues",R,"courts")),M=(await Wt(k)).docs.map((N,$)=>{const P=N.data();if(!P.color){const D=$%hp.length;P.color=hp[D],Nn(N.ref,{color:P.color})}return{id:N.id,...P}});o(M)}catch(k){console.error("Error fetching courts:",k)}finally{A(!1)}},S=()=>{const R=a.map(j=>j.color).filter(Boolean);for(const j of hp)if(!R.includes(j))return j;const k=hp.reduce((j,M)=>(j[M]=R.filter(N=>N===M).length,j),{});return Object.entries(k).sort((j,M)=>j[1]-M[1])[0][0]},w=R=>{const{name:k,value:j}=R.target;y(M=>({...M,[k]:k.includes("price")?Number(j):j}))},L=async R=>{var j,M,N,$,P,D,W,G,Z,le,T,H,Q,K;R.preventDefault();const k=t?r:e==null?void 0:e.venueId;if(k)try{const V={...g,holidayPricing:Array.isArray(g.holidayPricing)?g.holidayPricing:[],pricing:{monday:{basePrice:((j=g.pricing.monday)==null?void 0:j.basePrice)||1900,intervals:Array.isArray((M=g.pricing.monday)==null?void 0:M.intervals)?g.pricing.monday.intervals:[]},tuesday:{basePrice:((N=g.pricing.tuesday)==null?void 0:N.basePrice)||1900,intervals:Array.isArray(($=g.pricing.tuesday)==null?void 0:$.intervals)?g.pricing.tuesday.intervals:[]},wednesday:{basePrice:((P=g.pricing.wednesday)==null?void 0:P.basePrice)||1900,intervals:Array.isArray((D=g.pricing.wednesday)==null?void 0:D.intervals)?g.pricing.wednesday.intervals:[]},thursday:{basePrice:((W=g.pricing.thursday)==null?void 0:W.basePrice)||1900,intervals:Array.isArray((G=g.pricing.thursday)==null?void 0:G.intervals)?g.pricing.thursday.intervals:[]},friday:{basePrice:((Z=g.pricing.friday)==null?void 0:Z.basePrice)||1900,intervals:Array.isArray((le=g.pricing.friday)==null?void 0:le.intervals)?g.pricing.friday.intervals:[]},saturday:{basePrice:((T=g.pricing.saturday)==null?void 0:T.basePrice)||2400,intervals:Array.isArray((H=g.pricing.saturday)==null?void 0:H.intervals)?g.pricing.saturday.intervals:[]},sunday:{basePrice:((Q=g.pricing.sunday)==null?void 0:Q.basePrice)||2400,intervals:Array.isArray((K=g.pricing.sunday)==null?void 0:K.intervals)?g.pricing.sunday.intervals:[]}}};h?await Nn(bt($e,"venues",k,"courts",h.id),{...V,updatedAt:new Date}):await va(Tt($e,"venues",k,"courts"),{...V,createdAt:new Date}),u(!1),m(null);const X=S();y({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:X}),C(k),p(!0),setTimeout(()=>p(!1),3e3)}catch(V){console.error("Error saving court:",V)}},I=R=>{var M,N,$,P,D,W,G;m(R);const k={monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},j={monday:(M=R.pricing)!=null&&M.monday?{basePrice:R.pricing.monday.basePrice||1900,intervals:R.pricing.monday.intervals||[]}:k.monday,tuesday:(N=R.pricing)!=null&&N.tuesday?{basePrice:R.pricing.tuesday.basePrice||1900,intervals:R.pricing.tuesday.intervals||[]}:k.tuesday,wednesday:($=R.pricing)!=null&&$.wednesday?{basePrice:R.pricing.wednesday.basePrice||1900,intervals:R.pricing.wednesday.intervals||[]}:k.wednesday,thursday:(P=R.pricing)!=null&&P.thursday?{basePrice:R.pricing.thursday.basePrice||1900,intervals:R.pricing.thursday.intervals||[]}:k.thursday,friday:(D=R.pricing)!=null&&D.friday?{basePrice:R.pricing.friday.basePrice||1900,intervals:R.pricing.friday.intervals||[]}:k.friday,saturday:(W=R.pricing)!=null&&W.saturday?{basePrice:R.pricing.saturday.basePrice||2400,intervals:R.pricing.saturday.intervals||[]}:k.saturday,sunday:(G=R.pricing)!=null&&G.sunday?{basePrice:R.pricing.sunday.basePrice||2400,intervals:R.pricing.sunday.intervals||[]}:k.sunday};y({name:R.name,type:R.type,courtType:R.courtType,pricing:j,holidayPricing:R.holidayPricing||[],status:R.status,color:R.color||"#00A86B"}),u(!0)},U=async R=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const k=t?r:e==null?void 0:e.venueId;if(!k)return;await Vc(bt($e,"venues",k,"courts",R)),C(k),p(!0),setTimeout(()=>p(!1),3e3)}catch(k){console.error("Error deleting court:",k)}},_=R=>{switch(R){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},F=R=>{switch(R){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return R}};return l?i.jsx("div",{children:"Загрузка..."}):n()?t&&!r?i.jsx(aA,{title:"Выберите клуб для управления кортами"}):i.jsxs(lu,{permission:["manage_courts","manage_all_venues"],children:[i.jsxs("div",{children:[t&&i.jsx(iA,{selectedVenueId:r,onVenueChange:x}),i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",children:"Управление кортами"}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>{const R=S();y(k=>({...k,color:R})),u(!0)},children:[i.jsx(au,{fontSize:"small"}),"Добавить корт"]})]}),d&&i.jsx("div",{style:{marginTop:"16px",marginBottom:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Корт успешно сохранен"}),i.jsx("div",{className:"courts-grid",children:a.map(R=>i.jsxs("div",{className:"court-card",children:[i.jsx("div",{className:"court-header",children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[R.color&&i.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:R.color,border:"1px solid #e5e7eb"}}),i.jsxs("div",{children:[i.jsx("div",{className:"court-name",children:R.name}),i.jsx("span",{className:`court-type ${_(R.type)}`,children:F(R.type)})]})]})}),i.jsxs("div",{className:"court-details",children:[i.jsxs("div",{children:["Тип: ",R.courtType==="indoor"?"Крытый":"Открытый"]}),i.jsx("div",{children:R.pricing?(()=>{try{const k=Object.values(R.pricing).filter(j=>j&&j.basePrice).map(j=>j.basePrice);return k.length===0?i.jsx(i.Fragment,{children:"Цены не установлены"}):i.jsxs(i.Fragment,{children:["Цены: от ",Math.min(...k),"₽ до ",Math.max(...k),"₽"]})}catch(k){return console.error("Error displaying court prices:",k,R),i.jsx(i.Fragment,{children:"Ошибка отображения цен"})}})():i.jsxs(i.Fragment,{children:["Будни: ",R.priceWeekday||1900,"₽ | Вых: ",R.priceWeekend||2400,"₽"]})}),i.jsxs("div",{children:["Статус: ",R.status==="active"?"Активен":R.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),i.jsxs("div",{className:"court-actions",children:[i.jsxs("button",{className:"btn btn-secondary",onClick:()=>I(R),children:[i.jsx(Rc,{fontSize:"small"}),"Редактировать"]}),i.jsx("button",{className:"btn btn-danger",onClick:()=>U(R.id),style:{marginLeft:"auto"},children:i.jsx(rA,{fontSize:"small"})})]})]},R.id))}),a.length===0&&i.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[i.jsx("p",{children:"У вас пока нет кортов"}),i.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),i.jsx("div",{className:`modal ${c?"active":""}`,children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:h?"Редактировать корт":"Добавить корт"}),i.jsx("button",{className:"modal-close",onClick:()=>{u(!1),m(null);const R=S();y({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:R})},children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),i.jsxs("form",{onSubmit:L,children:[i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Название корта"}),i.jsx("input",{type:"text",className:"form-input",name:"name",value:g.name,onChange:w,placeholder:"Например: Падел корт 1",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Вид спорта"}),i.jsxs("select",{className:"form-select",name:"type",value:g.type,onChange:w,children:[i.jsx("option",{value:"padel",children:"Падел"}),i.jsx("option",{value:"tennis",children:"Теннис"}),i.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Тип корта"}),i.jsxs("select",{className:"form-select",name:"courtType",value:g.courtType,onChange:w,children:[i.jsx("option",{value:"indoor",children:"Крытый"}),i.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Ценовая политика"}),i.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(R=>i.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[i.jsx("h4",{style:{margin:0},children:R.label}),i.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:g.pricing[R.key].basePrice,onChange:k=>{const j=Number(k.target.value);y(M=>({...M,pricing:{...M.pricing,[R.key]:{...M.pricing[R.key],basePrice:j}}}))},min:"0",placeholder:"Базовая цена"}),i.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),i.jsxs("div",{style:{marginTop:"12px"},children:[i.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(()=>{const k=g.pricing[R.key];return((k==null?void 0:k.intervals)||[]).map((M,N)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[i.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:M.from,onChange:$=>{const P=[...g.pricing[R.key].intervals||[]];P[N].from=$.target.value,y(D=>({...D,pricing:{...D.pricing,[R.key]:{...D.pricing[R.key],intervals:P}}}))},step:"3600"}),i.jsx("span",{children:"-"}),i.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:M.to,onChange:$=>{const P=[...g.pricing[R.key].intervals||[]];P[N].to=$.target.value,y(D=>({...D,pricing:{...D.pricing,[R.key]:{...D.pricing[R.key],intervals:P}}}))},step:"3600"}),i.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:M.price,onChange:$=>{const P=[...g.pricing[R.key].intervals||[]];P[N].price=Number($.target.value),y(D=>({...D,pricing:{...D.pricing,[R.key]:{...D.pricing[R.key],intervals:P}}}))},min:"0",placeholder:"Цена"}),i.jsx("span",{children:"₽"}),i.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const $=(g.pricing[R.key].intervals||[]).filter((P,D)=>D!==N);y(P=>({...P,pricing:{...P.pricing,[R.key]:{...P.pricing[R.key],intervals:$}}}))},children:"Удалить"})]},N))})(),i.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const k=[...g.pricing[R.key].intervals||[],{from:"09:00",to:"11:00",price:g.pricing[R.key].basePrice*1.5}];y(j=>({...j,pricing:{...j.pricing,[R.key]:{...j.pricing[R.key],intervals:k}}}))},children:"+ Добавить интервал"})]})]},R.key))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Праздничные дни"}),i.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"В праздничные дни действует фиксированная цена, независимо от дня недели и временных интервалов"}),i.jsxs("div",{children:[(g.holidayPricing||[]).map((k,j)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"8px"},children:[i.jsx("input",{type:"text",className:"form-input",style:{width:"100px"},placeholder:"ММ-ДД",value:k.date,onChange:M=>{const N=[...g.holidayPricing||[]];N[j].date=M.target.value,y($=>({...$,holidayPricing:N}))}}),i.jsx("input",{type:"text",className:"form-input",style:{flex:1},placeholder:"Название праздника (необязательно)",value:k.name||"",onChange:M=>{const N=[...g.holidayPricing||[]];N[j].name=M.target.value,y($=>({...$,holidayPricing:N}))}}),i.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},placeholder:"Цена",value:k.price,onChange:M=>{const N=[...g.holidayPricing||[]];N[j].price=Number(M.target.value),y($=>({...$,holidayPricing:N}))}}),i.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const M=(g.holidayPricing||[]).filter((N,$)=>$!==j);y(N=>({...N,holidayPricing:M}))},children:"✕"})]},j)),i.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const R=[...g.holidayPricing||[],{date:"",price:3e3,name:""}];y(k=>({...k,holidayPricing:R}))},children:"+ Добавить праздничный день"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Статус"}),i.jsxs("select",{className:"form-select",name:"status",value:g.status,onChange:w,children:[i.jsx("option",{value:"active",children:"Активен"}),i.jsx("option",{value:"maintenance",children:"На обслуживании"}),i.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Цвет корта"}),i.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[i.jsx("input",{type:"color",className:"form-input",name:"color",value:g.color,onChange:w,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),i.jsx("input",{type:"text",className:"form-input",value:g.color,onChange:R=>y(k=>({...k,color:R.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),i.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),m(null)},children:"Отмена"}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:h?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):i.jsxs(Jt,{severity:"error",children:[i.jsx(Vl,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const _C={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",cancelled:"Отменено",refunded:"Возврат",expired:"Время истекло",error:"Ошибка","":"-"},UC={awaiting_payment:"#F59E0B",paid:"#10B981",cancelled:"#EF4444",refunded:"#8B5CF6",expired:"#6B7280",error:"#DC2626","":"#9CA3AF"},DC={awaiting_payment:cg,paid:km,cancelled:Ga,refunded:Ga,expired:cg,error:Ga,"":Ga};function AE({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r,onRefund:s}){const{admin:a}=hr(),[o,l]=b.useState(!1),[A,c]=b.useState(!1),[u,d]=b.useState(null),[p,h]=b.useState(t);b.useEffect(()=>{h(t)},[t]),b.useEffect(()=>{if(!e)return;const C=Ii(bt($e,"bookings",e),S=>{if(S.exists()){const L=S.data().paymentStatus||"";h(L)}});return()=>C()},[e]);const m=p==="awaiting_payment"&&n!=="online",g=async C=>{if(!a){alert("Ошибка: пользователь не авторизован");return}l(!0);try{const S=bt($e,"bookings",e),w=await rn(S);if(!w.exists())throw new Error("Бронирование не найдено");const I=w.data().paymentHistory||[],U={timestamp:qt.now(),action:C,userId:a.uid||"unknown",userName:a.displayName||a.email||"Администратор"},_={paymentStatus:C};Array.isArray(I)?_.paymentHistory=[...I,U]:_.paymentHistory=[U],C==="cancelled"?_.status="cancelled":C==="paid"&&(_.status="confirmed"),Object.keys(_).forEach(F=>{_[F]===void 0&&delete _[F]}),await Nn(S,_),c(!1),d(null),await new Promise(F=>setTimeout(F,500)),h(C),r&&await r()}catch(S){console.error("Error updating payment status:",S);let w="Ошибка при обновлении статуса оплаты";S.code==="permission-denied"?w="У вас нет прав для изменения статуса оплаты":S.code==="not-found"?w="Бронирование не найдено":S.message&&(w=`Ошибка: ${S.message}`),alert(w)}finally{l(!1)}},y=p||"",x=DC[y]||DC.cancelled;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${UC[y]}1A`,color:UC[y],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[i.jsx(x,{style:{fontSize:"18px"}}),i.jsx("span",{children:_C[y]}),m&&i.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[i.jsx("button",{onClick:()=>{d("paid"),c(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Оплачено"}),i.jsx("button",{onClick:()=>{d("cancelled"),c(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Отменить"})]}),p==="paid"&&s&&i.jsx("button",{onClick:s,disabled:o,style:{marginLeft:"8px",padding:"4px 8px",fontSize:"12px",background:"#8B5CF6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.5:1},title:"Оформить возврат",children:"Возврат"})]}),A&&u&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[i.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),i.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',_C[u],'"?']}),i.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>{c(!1),d(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),i.jsx("button",{onClick:()=>g(u),disabled:o,style:{padding:"8px 16px",background:u==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:o?.6:1},children:o?"Обновление...":"Подтвердить"})]})]})})]})}function cE({createdAt:e,paymentMethod:t,paymentStatus:n}){const[r,s]=b.useState(0),[a,o]=b.useState(!1);if(b.useEffect(()=>{if(n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site")return;const c=()=>{const d=new Date;let p;e instanceof Date?p=e:e!=null&&e.toDate?p=e.toDate():e!=null&&e.seconds?p=new Date(e.seconds*1e3):p=new Date(e);const h=Math.floor((d.getTime()-p.getTime())/(1e3*60));let m=30;t==="online"&&(m=15);const g=m-h;g<=0?(o(!0),s(0)):(o(!1),s(g))};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[e,t,n]),n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site"||r===0&&!a)return null;const l=()=>a?"Время истекло":r<=5?`${r} мин`:`${r} мин`,A=()=>a?{color:"var(--danger)",fontWeight:"600"}:r<=5?{color:"var(--warning)",fontWeight:"600"}:{color:"var(--gray)"};return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",...A()},children:[a?i.jsx(Yl,{style:{fontSize:"16px"}}):i.jsx(T9,{style:{fontSize:"16px"}}),i.jsx("span",{children:l()})]})}const Zq={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено"},LC={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function eY({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return i.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[i.jsx(vj,{style:{fontSize:"18px"}}),"История платежей"]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[i.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:LC[n.action],flexShrink:0}}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{color:LC[n.action],fontWeight:"500"},children:Zq[n.action]}),i.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[i.jsx(Td,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&i.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}const tY={cash:"Оплата в клубе наличными",card_on_site:"Оплата в клубе картой",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн оплата",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка",vtb_card:"На карту ВТБ"};function Kx(e){return tY[e]||e}function uE({isOpen:e,onClose:t,booking:n,onSuccess:r}){const{admin:s}=hr(),[a,o]=b.useState(!1),[l,A]=b.useState("");if(!e||!n)return null;const c=async()=>{if(!s||!n)return;if(!l.trim()){alert("Пожалуйста, укажите причину возврата");return}const p=new Date(n.date),h=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999);if(new Date>h){alert(`Возврат невозможен после окончания дня бронирования (${p.toLocaleDateString("ru-RU")}). Возврат был доступен до конца этого дня.`);return}o(!0);try{if(n.paymentMethod==="online"){const x=(await es(Jo,"processBookingRefund")({bookingId:n.id,reason:l})).data;if(x.success)alert("Запрос на возврат отправлен в платежную систему. Статус бронирования будет обновлен автоматически после подтверждения возврата.");else throw new Error(x.error||"Ошибка при создании возврата")}else{const g=bt($e,"bookings",n.id);await Nn(g,{status:"cancelled",paymentStatus:"refunded",refundedAt:qt.now(),refundReason:l,refundedBy:{userId:s.uid||"",userName:s.displayName||s.email||"Администратор"},paymentHistory:bp({timestamp:qt.now(),action:"refunded",userId:s.uid||"",userName:s.displayName||s.email||"Администратор",note:`Возврат: ${l}`})}),alert("Возврат успешно оформлен. Бронирование отменено.")}r(),t(),A("")}catch(g){console.error("Error processing refund:",g),g.code==="functions/already-exists"?alert(g.message||"Возврат по этому бронированию уже выполнен или обрабатывается"):alert("Ошибка при оформлении возврата: "+(g.message||"Неизвестная ошибка"))}finally{o(!1)}},u=p=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(p),d=p=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(p);return i.jsx("div",{className:"modal active",onClick:p=>{p.target===p.currentTarget&&t()},children:i.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{className:"modal-title",children:"Оформление возврата"}),i.jsx("button",{className:"modal-close",onClick:t,children:i.jsx(nh,{})})]}),i.jsxs("div",{className:"modal-body",children:[(()=>{const p=new Date(n.date),h=new Date;return p.getFullYear()===h.getFullYear()&&p.getMonth()===h.getMonth()&&p.getDate()===h.getDate()?i.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--danger)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[i.jsx(Yl,{style:{color:"var(--danger)",flexShrink:0}}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:"var(--danger)"},children:"Внимание! Последний день для возврата"}),i.jsx("div",{style:{fontSize:"14px"},children:"Сегодня последний день, когда возможен возврат по этому бронированию. После 23:59 возврат будет недоступен."})]})]}):null})(),i.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid var(--warning)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[i.jsx(Yl,{style:{color:"var(--warning)",flexShrink:0}}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Важно! Способ возврата"}),i.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:["Возврат должен быть осуществлен тем же способом, что и оплата.",n.paymentMethod==="online"?i.jsx("div",{style:{marginTop:"8px",color:"var(--danger)"},children:"Для онлайн оплаты возврат будет произведен автоматически через платежную систему. Бронирование будет отменено только после подтверждения возврата от платежной системы."}):i.jsxs("div",{style:{marginTop:"8px"},children:["Способ оплаты: ",i.jsx("strong",{children:Kx(n.paymentMethod)}),i.jsx("br",{}),"После подтверждения возврата бронирование будет отменено немедленно."]})]})]})]}),i.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Детали бронирования"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Клиент:"}),i.jsx("span",{children:n.clientName||n.customerName})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),i.jsx("span",{children:n.courtName})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),i.jsx("span",{children:u(n.date)})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),i.jsxs("span",{children:[n.startTime," - ",n.endTime]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid var(--extra-light-gray)",fontWeight:"600",fontSize:"18px"},children:[i.jsx("span",{children:"Сумма к возврату:"}),i.jsx("span",{style:{color:"var(--danger)"},children:d(n.amount)})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Причина возврата *"}),i.jsx("textarea",{className:"form-textarea",placeholder:"Укажите причину возврата...",value:l,onChange:p=>A(p.target.value),rows:3,required:!0})]})]}),i.jsxs("div",{className:"modal-footer",style:{paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:"Отмена"}),i.jsx("button",{type:"button",className:"btn btn-danger",onClick:c,disabled:a||!l.trim(),children:a?"Оформление...":"Оформить возврат"})]})]})})}function nY(e){return new Date(e+"T00:00:00")}function rY(e){return qt.fromDate(e)}function jg(e,t){const[n,r]=e.split(":").map(Number),s=n*60+r+t,a=Math.floor(s/60)%24,o=s%60;return`${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function sY(e){return Math.round(e*60)}function rc(e,t){if(!t){const[o,l,A]=e.split("-").map(Number);return new Date(Date.UTC(o,l-1,A,0,0,0))}const n=new Date(e+"T00:00:00"),s=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).formatToParts(n),a={};return s.forEach(o=>{o.type!=="literal"&&(a[o.type]=parseInt(o.value))}),new Date(Date.UTC(a.year,a.month-1,a.day,0,0,0))}function Eg(e,t){if(!e)return new Date;if(e!=null&&e.toDate&&typeof e.toDate=="function"){const n=e.toDate(),r=n.getUTCHours();if(r>=19&&r<=23){const A=new Date(n);A.setUTCDate(A.getUTCDate()+1);const c=A.getUTCFullYear(),u=String(A.getUTCMonth()+1).padStart(2,"0"),d=String(A.getUTCDate()).padStart(2,"0"),p=`${c}-${u}-${d}`;return rc(p,t)}const s=n.getUTCFullYear(),a=String(n.getUTCMonth()+1).padStart(2,"0"),o=String(n.getUTCDate()).padStart(2,"0"),l=`${s}-${a}-${o}`;return rc(l,t)}if(e!=null&&e.seconds&&typeof e.seconds=="number"){const n=new Date(e.seconds*1e3),r=n.getUTCHours();if(r>=19&&r<=23){const A=new Date(n);A.setUTCDate(A.getUTCDate()+1);const c=A.getUTCFullYear(),u=String(A.getUTCMonth()+1).padStart(2,"0"),d=String(A.getUTCDate()).padStart(2,"0"),p=`${c}-${u}-${d}`;return rc(p,t)}const s=n.getUTCFullYear(),a=String(n.getUTCMonth()+1).padStart(2,"0"),o=String(n.getUTCDate()).padStart(2,"0"),l=`${s}-${a}-${o}`;return rc(l,t)}return e instanceof Date?e:typeof e=="string"?e.match(/^\d{4}-\d{2}-\d{2}$/)?rc(e,t):new Date(e):typeof e=="number"?new Date(e):new Date}function iY(e,t){if(!t){const r=e.getUTCFullYear(),s=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0");return`${r}-${s}-${a}`}return new Intl.DateTimeFormat("en-CA",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}function fy(e,t){const n=iY(e,t),r=rc(n,t);let s=r.getUTCDay();return s=s===0?6:s-1,r.setUTCDate(r.getUTCDate()-s),r}function aY(e,t){const n=fy(e,t),r=new Date(n);return r.setUTCDate(r.getUTCDate()+6),r.setUTCHours(23,59,59,999),r}function dE({booking:e,isOpen:t,onClose:n,onUpdate:r}){var x,C,S,w;const{club:s,admin:a}=hr(),[o,l]=b.useState(e),[A,c]=b.useState(!1),u=(a==null?void 0:a.role)==="trainer",d=(s==null?void 0:s.timezone)||"Europe/Moscow";b.useEffect(()=>{if(e&&t){p(e.id);const L=Ii(bt($e,"bookings",e.id),I=>{var U,_;if(I.exists()){const F=I.data(),R=Eg(F.date,d);let k;(U=F.createdAt)!=null&&U.toDate&&typeof F.createdAt.toDate=="function"?k=F.createdAt.toDate():(_=F.createdAt)!=null&&_.seconds&&typeof F.createdAt.seconds=="number"?k=new Date(F.createdAt.seconds*1e3):F.createdAt instanceof Date?k=F.createdAt:F.createdAt?k=new Date(F.createdAt):k=new Date;const j=F.duration?jg(F.startTime||F.time||"00:00",F.duration):F.endTime||"",M={id:I.id,...F,date:R,createdAt:k,startTime:F.startTime||F.time||"00:00",endTime:j,clientName:F.customerName||F.clientName,clientPhone:F.customerPhone||F.clientPhone,customerName:F.customerName||F.clientName,customerPhone:F.customerPhone||F.clientPhone,paymentStatus:F.paymentStatus||"awaiting_payment",paymentHistory:F.paymentHistory||[]};l(M)}});return()=>L()}},[e==null?void 0:e.id,t]);const p=async L=>{var I,U;console.log("Loading fresh booking data:",L);try{const _=await rn(bt($e,"bookings",L));if(_.exists()){const F=_.data(),R=Eg(F.date,d);let k;(I=F.createdAt)!=null&&I.toDate&&typeof F.createdAt.toDate=="function"?k=F.createdAt.toDate():(U=F.createdAt)!=null&&U.seconds&&typeof F.createdAt.seconds=="number"?k=new Date(F.createdAt.seconds*1e3):F.createdAt instanceof Date?k=F.createdAt:F.createdAt?k=new Date(F.createdAt):k=new Date;const j=F.duration?jg(F.startTime||F.time||"00:00",F.duration):F.endTime||"",M={id:_.id,...F,date:R,createdAt:k,startTime:F.startTime||F.time||"00:00",endTime:j,clientName:F.customerName||F.clientName,clientPhone:F.customerPhone||F.clientPhone,customerName:F.customerName||F.clientName,customerPhone:F.customerPhone||F.clientPhone,paymentStatus:F.paymentStatus||"awaiting_payment",paymentHistory:F.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",M.paymentStatus),l(M)}}catch(_){console.error("Error loading fresh booking:",_)}};if(!t||!o)return null;const h=L=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(L),m=L=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(L),g={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},y={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"modal active",onClick:L=>{L.target===L.currentTarget&&n()},children:i.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),i.jsx("button",{className:"modal-close",onClick:n,children:i.jsx(nh,{})})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{style:{display:"grid",gap:"24px"},children:[i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),i.jsxs("div",{style:{display:"grid",gap:"12px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),i.jsx("span",{style:{fontWeight:"600"},children:o.courtName})]}),o.trainerName&&i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Тренер:"}),i.jsx("span",{style:{fontWeight:"600",color:"var(--primary)"},children:o.trainerName})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),i.jsx("span",{style:{fontWeight:"600"},children:h(o.date)})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),i.jsxs("span",{style:{fontWeight:"600"},children:[o.startTime," - ",o.endTime]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),i.jsx("span",{style:{fontWeight:"600",color:y[o.status]},children:g[o.status]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),i.jsxs("div",{style:{display:"grid",gap:"12px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),i.jsx("span",{style:{fontWeight:"600"},children:o.clientName||o.customerName})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),i.jsx("span",{style:{fontWeight:"600"},children:o.clientPhone||o.customerPhone})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),i.jsxs("div",{style:{display:"grid",gap:"12px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),i.jsx("span",{style:{fontWeight:"600"},children:((x=o.createdBy)==null?void 0:x.userName)||"Система"})]}),((C=o.createdBy)==null?void 0:C.userRole)&&i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),i.jsx("span",{style:{fontWeight:"600"},children:o.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),i.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(o.createdAt)})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),i.jsxs("div",{style:{display:"grid",gap:"12px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),i.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:m(o.totalAmount||o.amount)})]}),o.trainerPrice&&i.jsxs("div",{style:{paddingLeft:"20px",fontSize:"14px",color:"var(--gray)",display:"flex",flexDirection:"column",gap:"4px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:"• Корт:"}),i.jsx("span",{children:m(o.amount-(o.trainerPrice||0))})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:"• Тренер:"}),i.jsx("span",{children:m(o.trainerPrice)})]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),i.jsx("span",{style:{fontWeight:"600"},children:Kx(o.paymentMethod)})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),u?i.jsx("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"13px",fontWeight:"500",background:o.paymentStatus==="paid"?"#10B981":o.paymentStatus==="cancelled"?"#EF4444":"#F59E0B",color:"white"},children:o.paymentStatus==="paid"?"Оплачено":o.paymentStatus==="cancelled"?"Отменено":o.paymentStatus==="refunded"?"Возвращено":"Ожидает оплаты"}):i.jsx(AE,{bookingId:o.id,currentStatus:o.paymentStatus||"awaiting_payment",paymentMethod:o.paymentMethod,onStatusUpdate:async()=>{r&&await r()},onRefund:()=>{c(!0)}},`${o.id}-${o.paymentStatus}`)]}),o.paymentStatus==="awaiting_payment"&&i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:"До отмены:"}),i.jsx(cE,{createdAt:o.createdAt,paymentMethod:o.paymentMethod,paymentStatus:o.paymentStatus})]}),o.paymentMethod==="online"&&o.paymentStatus==="awaiting_payment"&&(o.paymentUrl||((S=o.paymentSmsInfo)==null?void 0:S.paymentUrl))&&i.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--warning)",marginBottom:"8px"},children:"Ссылка на оплату"}),i.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",marginBottom:"8px"},children:o.paymentSmsInfo?`SMS отправлено на ${o.paymentSmsInfo.sentTo}`:"Клиент может оплатить по этой ссылке"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"white",borderRadius:"6px",border:"1px solid var(--extra-light-gray)"},children:[i.jsx("input",{type:"text",value:o.paymentUrl||((w=o.paymentSmsInfo)==null?void 0:w.paymentUrl)||"",readOnly:!0,style:{flex:1,border:"none",outline:"none",fontSize:"12px",background:"transparent"}}),i.jsx("button",{onClick:()=>{var I;const L=o.paymentUrl||((I=o.paymentSmsInfo)==null?void 0:I.paymentUrl)||"";navigator.clipboard.writeText(L),alert("Ссылка скопирована!")},style:{padding:"4px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Копировать"})]})]})]})]}),!u&&o.paymentHistory&&o.paymentHistory.length>0&&i.jsx(eY,{history:o.paymentHistory})]})}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})}),i.jsx(uE,{isOpen:A,onClose:()=>{c(!1)},booking:o,onSuccess:()=>{c(!1),r&&r()}})]})}function oY({venueId:e,bookings:t,onRefresh:n}){const{admin:r}=hr(),{isSuperAdmin:s}=Kr(),[a,o]=b.useState([]),[l,A]=b.useState(!0),[c,u]=b.useState("all"),[d,p]=b.useState("all"),[h,m]=b.useState("all"),[g,y]=b.useState("all"),[x,C]=b.useState(!1),[S,w]=b.useState(null),[L,I]=b.useState(!1),[U,_]=b.useState(!1),[F,R]=b.useState(null),[k,j]=b.useState("desc");b.useEffect(()=>{t?(o(t),A(!1)):M()},[e,t]);const M=async()=>{if(!t){if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{A(!0);const T=zt(Tt($e,"bookings"),Ct("venueId","==",e)),H=await Wt(T);console.log("BookingsList: Found bookings:",H.size);const Q=H.docs.map(K=>{var ae,Ce,ce,fe;const V=K.data();console.log("BookingsList: Raw booking:",V);let X;(ae=V.createdAt)!=null&&ae.toDate?X=V.createdAt.toDate():V.createdAt instanceof Date?X=V.createdAt:typeof V.createdAt=="string"?X=new Date(V.createdAt):(Ce=V.createdAt)!=null&&Ce.seconds?X=new Date(V.createdAt.seconds*1e3):(X=new Date,console.warn("No createdAt for booking:",K.id));let ie;return(ce=V.date)!=null&&ce.toDate?ie=V.date.toDate():V.date instanceof Date?ie=V.date:typeof V.date=="string"?ie=new Date(V.date):(fe=V.date)!=null&&fe.seconds?ie=new Date(V.date.seconds*1e3):ie=new Date,{id:K.id,...V,date:ie,createdAt:X}});console.log("BookingsList: Processed bookings:",Q),o(Q)}catch(T){console.error("Error fetching bookings:",T)}finally{A(!1)}}},N=T=>{if(!s)return!1;const H=T.status==="cancelled",Q=!T.paymentStatus||T.paymentStatus==="awaiting_payment"||T.paymentStatus==="cancelled",K=T.paymentStatus==="refunded",V=T.paymentStatus==="error";return H&&(Q||K)||V},$=async(T,H)=>{if(!N(H)){alert("Удалить можно только отмененное бронирование без оплаты/с возвратом средств, или бронирование с ошибкой оплаты");return}if(confirm(`Вы уверены, что хотите удалить это бронирование?

Это действие необратимо!`))try{await Vc(bt($e,"bookings",T)),n?n():M()}catch(Q){console.error("Error deleting booking:",Q),alert("Ошибка при удалении бронирования")}},D=[...a.filter(T=>!(c!=="all"&&T.status!==c||d!=="all"&&(T.paymentStatus||"awaiting_payment")!==d||h!=="all"&&T.paymentMethod!==h||g!=="all"&&(g==="no_trainer"&&T.trainerId||g!=="no_trainer"&&T.trainerId!==g)))].sort((T,H)=>{var V,X,ie,ae,Ce,ce,fe,ue;let Q,K;return T.createdAt instanceof Date?Q=T.createdAt:(V=T.createdAt)!=null&&V.toDate?Q=T.createdAt.toDate():(X=T.createdAt)!=null&&X.seconds?Q=new Date(T.createdAt.seconds*1e3):typeof T.createdAt=="string"?Q=new Date(T.createdAt):T.date instanceof Date?Q=T.date:(ie=T.date)!=null&&ie.toDate?Q=T.date.toDate():(ae=T.date)!=null&&ae.seconds?Q=new Date(T.date.seconds*1e3):Q=new Date(0),H.createdAt instanceof Date?K=H.createdAt:(Ce=H.createdAt)!=null&&Ce.toDate?K=H.createdAt.toDate():(ce=H.createdAt)!=null&&ce.seconds?K=new Date(H.createdAt.seconds*1e3):typeof H.createdAt=="string"?K=new Date(H.createdAt):H.date instanceof Date?K=H.date:(fe=H.date)!=null&&fe.toDate?K=H.date.toDate():(ue=H.date)!=null&&ue.seconds?K=new Date(H.date.seconds*1e3):K=new Date(0),k==="desc"?K.getTime()-Q.getTime():Q.getTime()-K.getTime()}),W=T=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(T),G=T=>T||"—",Z=T=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(T),le=Array.from(new Map(a.filter(T=>T.trainerId&&T.trainerName).map(T=>[T.trainerId,{id:T.trainerId,name:T.trainerName}])).values()).sort((T,H)=>(T.name||"").localeCompare(H.name||""));return l?i.jsx("div",{children:"Загрузка..."}):i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[i.jsx("h2",{className:"section-title",children:"Список бронирований"}),D.length!==a.length&&i.jsxs("span",{style:{fontSize:"14px",color:"var(--gray)",padding:"4px 12px",background:"var(--background)",borderRadius:"4px"},children:["Показано: ",D.length," из ",a.length]})]}),i.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>C(!x),children:[i.jsx(z9,{}),"Фильтры"]})]}),x&&i.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),i.jsxs("select",{className:"form-select",value:c,onChange:T=>u(T.target.value),style:{minWidth:"150px"},children:[i.jsx("option",{value:"all",children:"Все"}),i.jsx("option",{value:"confirmed",children:"Подтверждено"}),i.jsx("option",{value:"pending",children:"Ожидает"}),i.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),i.jsxs("select",{className:"form-select",value:d,onChange:T=>p(T.target.value),style:{minWidth:"150px"},children:[i.jsx("option",{value:"all",children:"Все"}),i.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),i.jsx("option",{value:"paid",children:"Оплачено"}),i.jsx("option",{value:"expired",children:"Время истекло"}),i.jsx("option",{value:"cancelled",children:"Отменено"}),i.jsx("option",{value:"refunded",children:"Возвращено"}),i.jsx("option",{value:"error",children:"Ошибка оплаты"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Способ оплаты"}),i.jsxs("select",{className:"form-select",value:h,onChange:T=>m(T.target.value),style:{minWidth:"150px"},children:[i.jsx("option",{value:"all",children:"Все"}),i.jsx("option",{value:"cash",children:"Наличные"}),i.jsx("option",{value:"card_on_site",children:"Карта на месте"}),i.jsx("option",{value:"transfer",children:"Перевод на счет"}),i.jsx("option",{value:"online",children:"ЮKassa (онлайн)"}),i.jsx("option",{value:"sberbank_card",children:"Перевод Сбербанк"}),i.jsx("option",{value:"tbank_card",children:"Перевод Т-Банк"}),i.jsx("option",{value:"vtb_card",children:"Перевод ВТБ"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Тренер"}),i.jsxs("select",{className:"form-select",value:g,onChange:T=>y(T.target.value),style:{minWidth:"150px"},children:[i.jsx("option",{value:"all",children:"Все"}),i.jsx("option",{value:"no_trainer",children:"Без тренера"}),le.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]})]}),(c!=="all"||d!=="all"||h!=="all"||g!=="all")&&i.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:i.jsx("button",{onClick:()=>{u("all"),p("all"),m("all"),y("all")},style:{padding:"8px 16px",background:"var(--error)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Сбросить фильтры"})})]}),i.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{onClick:()=>j(T=>T==="desc"?"asc":"desc"),style:{cursor:"pointer",userSelect:"none"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:["Дата создания",i.jsx("span",{style:{color:"var(--primary)"},children:k==="desc"?"↓":"↑"})]})}),i.jsx("th",{children:"Дата и время"}),i.jsx("th",{children:"Корт"}),i.jsx("th",{children:"Клиент"}),i.jsx("th",{children:"Сумма"}),i.jsx("th",{children:"Способ оплаты"}),i.jsx("th",{children:"Статус оплаты"}),i.jsx("th",{children:"Действия"})]})}),i.jsx("tbody",{children:D.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):D.map(T=>i.jsxs("tr",{children:[i.jsx("td",{children:(()=>{var Q,K;let H=null;return T.createdAt instanceof Date?H=T.createdAt:(Q=T.createdAt)!=null&&Q.toDate?H=T.createdAt.toDate():(K=T.createdAt)!=null&&K.seconds?H=new Date(T.createdAt.seconds*1e3):typeof T.createdAt=="string"&&(H=new Date(T.createdAt)),H&&!isNaN(H.getTime())?i.jsxs(i.Fragment,{children:[i.jsx("div",{children:W(H)}),i.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:H.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{children:"Неизвестно"}),i.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"—"})]})})()}),i.jsxs("td",{children:[i.jsx("div",{children:W(T.date)}),i.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[G(T.startTime)," - ",G(T.endTime)]})]}),i.jsxs("td",{children:[i.jsx("div",{children:T.courtName}),T.trainerName&&i.jsxs("div",{style:{fontSize:"14px",color:"var(--primary)"},children:["Тренер: ",T.trainerName]})]}),i.jsxs("td",{children:[i.jsx("div",{children:T.clientName||T.customerName}),i.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:T.clientPhone||T.customerPhone})]}),i.jsx("td",{style:{fontWeight:"600"},children:Z(T.totalAmount||T.amount)}),i.jsx("td",{children:Kx(T.paymentMethod)}),i.jsx("td",{children:i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[i.jsx(AE,{bookingId:T.id,currentStatus:T.paymentStatus||"awaiting_payment",paymentMethod:T.paymentMethod,onStatusUpdate:M,onRefund:()=>{R(T),_(!0)}}),(T.paymentMethod==="online"&&!T.createdAt&&console.log("WARNING: Online booking without createdAt:",T.id),T.createdAt?i.jsx(cE,{createdAt:T.createdAt,paymentMethod:T.paymentMethod,paymentStatus:T.paymentStatus}):null)]})}),i.jsx("td",{children:i.jsxs("div",{style:{display:"flex",gap:"8px"},children:[i.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{w(T),I(!0)},title:"Подробности",children:i.jsx(yj,{})}),N(T)&&i.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>$(T.id,T),title:"Удалить бронирование (отмененные без оплаты или с ошибкой)",children:i.jsx(rA,{})})]})})]},T.id))})]})}),i.jsx(dE,{booking:S,isOpen:L,onClose:()=>{I(!1),w(null)},onUpdate:M}),i.jsx(uE,{isOpen:U,onClose:()=>{_(!1),R(null)},booking:F,onSuccess:()=>{M(),_(!1),R(null)}})]})}function hE(e,t){if(!t||t.length===0)return null;const n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=`${n}-${r}`;return t.find(a=>a.date===s)||null}function $c(e,t,n,r,s,a,o){const[l,A]=t.split(":").map(Number);let c=0,u=l,d=A,p=n;for(;p>0;){const h=Math.min(60-d,p),m=h/60,g=hE(e,s);if(g)c+=g.price*m;else if(r){const y=e.getDay(),C=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y],S=r[C];if(S){let w=S.basePrice;if(S.intervals)for(const L of S.intervals){const I=parseInt(L.from.split(":")[0]),U=parseInt(L.to.split(":")[0]);if(u>=I&&u<U){w=L.price;break}}c+=w*m}else{const L=e.getDay()===0||e.getDay()===6?o||2400:a||1900;c+=L*m}}else{const x=e.getDay()===0||e.getDay()===6?o||2400:a||1900;c+=x*m}p-=h,d+=h,d>=60&&(u+=Math.floor(d/60),d=d%60)}return Math.round(c)}function lY(e,t,n,r,s,a,o){const l=[],[A,c]=t.split(":").map(Number);let u=A,d=c,p=n;for(;p>0;){const h=Math.min(60-d,p),m=h/60,g=`${String(u).padStart(2,"0")}:${String(d).padStart(2,"0")}`,y=d+h,x=u+Math.floor(y/60),C=y%60,S=`${String(x).padStart(2,"0")}:${String(C).padStart(2,"0")}`;let w=0;const L=hE(e,s);if(L)w=L.price*m;else if(r){const I=e.getDay(),_=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][I],F=r[_];if(F){let R=F.basePrice;if(F.intervals)for(const k of F.intervals){const j=parseInt(k.from.split(":")[0]),M=parseInt(k.to.split(":")[0]);if(u>=j&&u<M){R=k.price;break}}w=R*m}else w=(e.getDay()===0||e.getDay()===6?o||2400:a||1900)*m}else w=(e.getDay()===0||e.getDay()===6?o||2400:a||1900)*m;(h===60||p<=60)&&l.push({time:`${g} - ${S}`,price:Math.round(w)}),p-=h,d+=h,d>=60&&(u+=Math.floor(d/60),d=d%60)}return l}function AY(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function fE(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function cc(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function pE(e){return e.trim().length>=2&&e.trim().length<=100}function gE(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function cY(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[s,a]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),A=s*60+a,c=o*60+l;return c<=A?!1:c-A>=n}function Pd(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function uY({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:s,preSelectedTime:a,preSelectedCourtId:o,preSelectedTrainerId:l}){const{admin:A}=hr(),[c,u]=b.useState([]),[d,p]=b.useState(!1),[h,m]=b.useState(""),[g,y]=b.useState(30),[x,C]=b.useState({monday:{open:"07:00",close:"23:00"},tuesday:{open:"07:00",close:"23:00"},wednesday:{open:"07:00",close:"23:00"},thursday:{open:"07:00",close:"23:00"},friday:{open:"07:00",close:"23:00"},saturday:{open:"08:00",close:"22:00"},sunday:{open:"08:00",close:"22:00"}}),S=oe=>{const ge=oe.getFullYear(),Ie=String(oe.getMonth()+1).padStart(2,"0"),Ne=String(oe.getDate()).padStart(2,"0");return`${ge}-${Ie}-${Ne}`},[w,L]=b.useState({clientName:"",clientPhone:"+7",courtId:o||"",date:S(s||new Date),startTime:a||"10:00",duration:1,paymentMethod:"online"}),[I,U]=b.useState([]),[_,F]=b.useState([]),[R,k]=b.useState(null),[j,M]=b.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),[N,$]=b.useState(""),[P,D]=b.useState([]),[W,G]=b.useState(null),[Z,le]=b.useState(!1),[T,H]=b.useState(!1),[Q,K]=b.useState(!1),V=b.useRef(null),[X,ie]=b.useState([]),[ae,Ce]=b.useState(!!l),[ce,fe]=b.useState(l||""),[ue,we]=b.useState([]),he=async oe=>{if(!oe||oe.length<2){D([]);return}le(!0);try{const ge=zt(Tt($e,"bookings"),Ct("venueId","==",r),uc(2e3)),Ie=await Wt(ge),Ne=new Map;Ie.docs.forEach(qe=>{var xt,hn;const Be=qe.data(),Qe=Be.customerPhone||Be.clientPhone,Se=Be.customerName||Be.clientName;if(!Qe||!Se)return;const He=oe.toLowerCase().trim(),Oe=Se.toLowerCase(),_e=oe.replace(/\D/g,""),Ke=Qe.replace(/\D/g,""),lt=He.length>0&&Oe.includes(He),ut=_e.length>=3&&Ke.includes(_e);if(!lt&&!ut)return;const nt=Qe;if(Ne.has(nt)){const Qt=Ne.get(nt);Qt.bookingsCount++;const jn=(xt=Be.date)!=null&&xt.toDate?Be.date.toDate():new Date(Be.date);(!Qt.lastVisit||jn>Qt.lastVisit)&&(Qt.lastVisit=jn)}else{const Qt=(hn=Be.date)!=null&&hn.toDate?Be.date.toDate():new Date(Be.date);Ne.set(nt,{id:nt,name:Se,phone:Qe,email:Be.customerEmail||Be.clientEmail,bookingsCount:1,lastVisit:Qt})}});const Ee=Array.from(Ne.values()).sort((qe,Be)=>Be.bookingsCount!==qe.bookingsCount?Be.bookingsCount-qe.bookingsCount:qe.lastVisit&&Be.lastVisit?Be.lastVisit.getTime()-qe.lastVisit.getTime():0).slice(0,10);D(Ee)}catch(ge){console.error("Error searching customers:",ge)}finally{le(!1)}},re=oe=>{G(oe),L(ge=>({...ge,clientName:oe.name,clientPhone:oe.phone})),$(""),D([]),K(!1)},Ve=()=>{G(null),L(oe=>({...oe,clientName:"",clientPhone:"+7"})),H(!1),$("")},ye=(oe,ge)=>{const Ie=c.find(Ee=>Ee.id===w.courtId);if(!Ie)return 0;const Ne=new Date(w.date);return $c(Ne,oe,ge*60,Ie.pricing,Ie.holidayPricing,Ie.priceWeekday,Ie.priceWeekend)},pe=(oe,ge)=>{const[Ie,Ne]=oe.split(":").map(Number),Ee=Ie+Ne/60,qe=Ee+ge;return _.some(Qe=>{const[Se,He]=Qe.startTime.split(":").map(Number),[Oe,_e]=Qe.endTime.split(":").map(Number),Ke=Se+He/60,lt=Oe+_e/60;return Ee<lt&&qe>Ke})},Fe=oe=>{const ge=[],Ie=new Date(w.date),Ee=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Ie.getDay()],qe=x[Ee];let Be="08:00",Qe="22:00";if(qe)if(typeof qe=="string"&&qe.includes("-")){const[xt,hn]=qe.split("-").map(Qt=>Qt.trim());Be=xt||"08:00",Qe=hn||"22:00"}else qe.open&&qe.close&&(Be=qe.open,Qe=qe.close);const[Se,He]=Be.split(":").map(Number),[Oe,_e]=Qe.split(":").map(Number),Ke=Se+He/60,lt=Oe+_e/60,ut=lt-oe,nt=g===60?1:.5;for(let xt=Ke;xt<=ut;xt+=nt){const hn=Math.floor(xt),Qt=xt%1*60,jn=`${String(hn).padStart(2,"0")}:${String(Qt).padStart(2,"0")}`;xt+oe<=lt&&ge.push(jn)}return ge};b.useEffect(()=>{const oe=setTimeout(()=>{N&&!T?(he(N),K(!0)):K(!1)},300);return()=>clearTimeout(oe)},[N,T]),b.useEffect(()=>{const oe=ge=>{V.current&&!V.current.contains(ge.target)&&K(!1)};return document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}},[]);const De=async()=>{if(r)try{const oe=await rn(bt($e,"venues",r));if(oe.exists()){const ge=oe.data();ge.enabledPaymentMethods&&M(ge.enabledPaymentMethods)}}catch(oe){console.error("Error loading payment methods settings:",oe)}};b.useEffect(()=>{if(e&&r){ze(),Xe(),De(),!j[w.paymentMethod]&&w.paymentMethod!=="online"&&L(Ne=>({...Ne,paymentMethod:"online"}));const oe=Tt($e,"venues",r,"courts"),ge=Ii(oe,Ne=>{const Ee=Ne.docs.map(qe=>({id:qe.id,...qe.data()}));u(Ee),w.courtId&&!Ee.find(qe=>qe.id===w.courtId)&&L(qe=>({...qe,courtId:""}))},Ne=>{console.error("Error listening to courts:",Ne)});s&&L(Ne=>({...Ne,date:S(s)})),a&&L(Ne=>({...Ne,startTime:a})),L(Ne=>({...Ne,courtId:o||""}));const Ie=Fe(w.duration);if(U(Ie),s||w.date){const Ne=s?S(s):w.date;l?ct(Ne):o&&st(o,Ne)}return()=>{ge()}}else e||($(""),D([]),G(null),le(!1),H(!1),K(!1))},[e,r,s,a,o,g]),b.useEffect(()=>{const oe=Fe(w.duration);U(oe),!oe.includes(w.startTime)&&oe.length>0&&L(ge=>({...ge,startTime:oe[0]}))},[w.duration,w.date,g,x]),b.useEffect(()=>{e&&w.date&&(l?ct(w.date):w.courtId&&st(w.courtId,w.date))},[w.date,w.courtId,e,l]),b.useEffect(()=>{e&&w.date&&at(w.date)},[w.date,e]),b.useEffect(()=>{if(w.date&&e){if(R&&(R(),k(null)),l&&!w.courtId){ct(w.date);const oe=Tt($e,"bookings"),ge=new Date(w.date);ge.setHours(0,0,0,0);const Ie=new Date(w.date);Ie.setHours(23,59,59,999);const Ne=zt(oe,Ct("venueId","==",r),Ct("date",">=",qt.fromDate(ge)),Ct("date","<=",qt.fromDate(Ie))),Ee=Ii(Ne,qe=>{const Qe=qe.docs.map(Se=>({id:Se.id,...Se.data()})).filter(Se=>{const He=Se.status||"pending",Oe=Se.paymentStatus||"awaiting_payment";return He==="cancelled"||["cancelled","refunded","error"].includes(Oe)?!1:He==="confirmed"||He==="pending"||Oe==="paid"||Oe==="awaiting_payment"});F(Qe)});k(()=>Ee);return}if(w.courtId){st(w.courtId,w.date);const oe=Tt($e,"bookings"),ge=new Date(w.date);ge.setHours(0,0,0,0);const Ie=new Date(w.date);Ie.setHours(23,59,59,999);const Ne=zt(oe,Ct("courtId","==",w.courtId),Ct("date",">=",qt.fromDate(ge)),Ct("date","<=",qt.fromDate(Ie))),Ee=Ii(Ne,qe=>{const Be=new Map;qe.docs.forEach(Qe=>{const Se=Qe.data(),He=Se.status||"pending",Oe=Se.paymentStatus||"awaiting_payment";He!=="cancelled"&&Oe!=="cancelled"&&Oe!=="refunded"&&Oe!=="error"&&(He==="confirmed"||He==="pending"||Oe==="paid"||Oe==="awaiting_payment")&&Be.set(Qe.id,{id:Qe.id,...Se})}),F(Array.from(Be.values()))});k(()=>Ee)}}return()=>{R&&(R(),k(null))}},[w.courtId,w.date,e,r,l]);const ze=async()=>{if(r)try{const oe=await rn(bt($e,"venues",r));if(oe.exists()){const Ee=oe.data();m(Ee.name||""),y(Ee.bookingSlotInterval||60),Ee.workingHours&&C(Ee.workingHours)}const ge=Tt($e,"venues",r,"courts"),Ne=(await Wt(ge)).docs.map(Ee=>({id:Ee.id,...Ee.data()}));u(Ne),Ne.length>0&&!w.courtId&&L(Ee=>({...Ee,courtId:Ne[0].id}))}catch(oe){console.error("Error fetching courts:",oe)}},Xe=async()=>{if(r)try{const oe=zt(Tt($e,"trainers"),Ct("clubId","==",r)),Ie=(await Wt(oe)).docs.map(Ne=>({id:Ne.id,...Ne.data()})).filter(Ne=>Ne.status==="active");Ie.sort((Ne,Ee)=>(Ne.firstName||"").localeCompare(Ee.firstName||"")),ie(Ie),l&&(fe(l),Ce(!0))}catch(oe){console.error("Error fetching trainers:",oe)}},at=async oe=>{if(!(!r||!oe))try{const ge=new Date(oe);ge.setHours(0,0,0,0);const Ie=new Date(oe);Ie.setHours(23,59,59,999);const Ne=zt(Tt($e,"bookings"),Ct("venueId","==",r),Ct("date",">=",qt.fromDate(ge)),Ct("date","<=",qt.fromDate(Ie))),qe=(await Wt(Ne)).docs.map(Be=>({id:Be.id,...Be.data()})).filter(Be=>{const Qe=Be.status||"pending",Se=Be.paymentStatus||"awaiting_payment";return Be.trainerId&&Qe!=="cancelled"&&Se!=="cancelled"&&Se!=="refunded"&&Se!=="error"});we(qe)}catch(ge){console.error("Error fetching trainer bookings:",ge)}},ct=async oe=>{if(!(!r||!oe))try{const ge=Tt($e,"bookings"),Ie=new Date(oe);Ie.setHours(0,0,0,0);const Ne=new Date(oe);Ne.setHours(23,59,59,999);const Ee=zt(ge,Ct("venueId","==",r),Ct("date",">=",qt.fromDate(Ie)),Ct("date","<=",qt.fromDate(Ne))),Qe=(await Wt(Ee)).docs.map(Se=>({id:Se.id,...Se.data()})).filter(Se=>{const He=Se.status||"pending",Oe=Se.paymentStatus||"awaiting_payment";return He==="cancelled"||["cancelled","refunded","error"].includes(Oe)?!1:He==="confirmed"||He==="pending"||Oe==="paid"||Oe==="awaiting_payment"});F(Qe)}catch(ge){console.error("Error fetching all courts bookings:",ge)}},st=async(oe,ge)=>{const Ie=oe||w.courtId,Ne=ge||w.date;if(!(!r||!Ie||!Ne))try{const Ee=Tt($e,"bookings"),qe=new Date(Ne);qe.setHours(0,0,0,0);const Be=new Date(Ne);Be.setHours(23,59,59,999);const Qe=zt(Ee,Ct("courtId","==",Ie),Ct("date",">=",qt.fromDate(qe)),Ct("date","<=",qt.fromDate(Be))),Oe=(await Wt(Qe)).docs.map(_e=>({id:_e.id,..._e.data()})).filter(_e=>{const Ke=_e.status||"pending",lt=_e.paymentStatus||"awaiting_payment";return Ke!=="cancelled"&&lt!=="cancelled"&&lt!=="refunded"&&lt!=="error"&&(Ke==="confirmed"||Ke==="pending"||lt==="paid"||lt==="awaiting_payment")});F(Oe)}catch(Ee){console.error("Error fetching bookings:",Ee)}},me=oe=>{const{name:ge,value:Ie}=oe.target;L(Ne=>({...Ne,[ge]:ge==="duration"?parseFloat(Ie):Ie}))},Pe=async oe=>{if(oe.preventDefault(),!r||!A||d)return;if(!w.clientName){alert("Пожалуйста, укажите имя клиента");return}if(!w.clientPhone){alert("Пожалуйста, укажите телефон клиента");return}if(!pE(w.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!fE(w.clientPhone)){alert("Некорректный номер телефона");return}if(l&&!w.courtId){const Be=c.find(Qe=>{const Se=_.filter(ut=>ut.courtId===Qe.id),[He,Oe]=w.startTime.split(":").map(Number),_e=He+Oe/60,Ke=_e+w.duration;return!Se.some(ut=>{const[nt,xt]=ut.startTime.split(":").map(Number),[hn,Qt]=ut.endTime.split(":").map(Number),jn=nt+xt/60,qn=hn+Qt/60;return _e<qn&&Ke>jn})});if(!Be){alert("Все корты заняты в выбранное время. Пожалуйста, выберите другое время.");return}L(Qe=>({...Qe,courtId:Be.id}))}if(!w.courtId){alert("Пожалуйста, выберите корт");return}if(pe(w.startTime,w.duration)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время.");return}const ge=new Date;if(ge.setFullYear(parseInt(w.date.split("-")[0]),parseInt(w.date.split("-")[1])-1,parseInt(w.date.split("-")[2])),!gE(ge)){alert("Нельзя забронировать на прошедшую дату");return}const[Ie,Ne]=w.startTime.split(":").map(Number),Ee=Ie*60+Ne+w.duration*60,qe=`${Math.floor(Ee/60).toString().padStart(2,"0")}:${(Ee%60).toString().padStart(2,"0")}`;if(!cY(w.startTime,qe,w.duration*60)){alert("Некорректное время бронирования");return}p(!0);try{const Be=c.find(En=>En.id===w.courtId);if(!Be)return;const[Qe,Se]=w.startTime.split(":").map(Number),He=Qe+Math.floor(w.duration),Oe=Se+w.duration%1*60,_e=`${String(He+Math.floor(Oe/60)).padStart(2,"0")}:${String(Oe%60).padStart(2,"0")}`,Ke=new Date(w.date+"T00:00:00"),lt=new Date(Ke);lt.setHours(0,0,0,0);const ut=new Date(Ke);ut.setHours(23,59,59,999);const nt=zt(Tt($e,"bookings"),Ct("courtId","==",w.courtId),Ct("date",">=",qt.fromDate(lt)),Ct("date","<=",qt.fromDate(ut)));if((await Wt(nt)).docs.filter(En=>{const Ot=En.data(),cr=Ot.status||"pending",wr=Ot.paymentStatus||"awaiting_payment";if(cr==="cancelled"||wr==="cancelled"||wr==="refunded"||wr==="error"||!(cr==="confirmed"||cr==="pending"||wr==="paid"||wr==="awaiting_payment")||Ot.venueId!==r)return!1;const Es=Ot.startTime||Ot.time,Hr=Ot.endTime,or=Qe*60+Se,Hn=or+w.duration*60,[$t,fr]=Es.split(":").map(Number),[ho,fo]=Hr.split(":").map(Number),oA=$t*60+fr,Au=ho*60+fo;return or<Au&&Hn>oA}).length>0){alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),p(!1);return}const Qt="awaiting_payment",jn="pending",qn=sY(w.duration),Ut=ye(w.startTime,w.duration);let ar=Ut,Lt={};if(ae&&ce){const En=X.find(Ot=>Ot.id===ce);if(En){const Ot=Math.round(En.pricePerHour*w.duration),cr=En.commissionType==="percent"?Math.round(Ot*(En.commissionValue/100)):En.commissionValue;Lt={trainerId:ce,trainerName:`${En.firstName} ${En.lastName}`,trainerPrice:Ot,trainerCommission:cr,courtPrice:Ut},ar=Ut+Ot}}const Pn=w.duration>0?Ut/w.duration:0,Rn=nY(w.date),er={venueId:r,courtId:w.courtId,courtName:Be.name,venueName:h,customerName:Pd(w.clientName),customerPhone:cc(w.clientPhone),date:rY(Rn),startTime:w.startTime,duration:qn,gameType:"single",status:jn,amount:ar,price:Pn,paymentMethod:w.paymentMethod,paymentStatus:Qt,source:"admin",...Lt,totalAmount:ar,time:w.startTime,endTime:jg(w.startTime,qn),clientName:Pd(w.clientName),clientPhone:cc(w.clientPhone),paymentHistory:[{timestamp:qt.now(),action:"created",userId:A.uid||"",userName:A.displayName||A.email||"Администратор"}],createdBy:{userId:A.uid||"",userName:A.displayName||A.email||"Администратор",userRole:A.role||"admin"},createdAt:qt.now()},_n=await va(Tt($e,"bookings"),er);if(w.paymentMethod==="online"){console.log("Инициализация онлайн платежа для бронирования:",_n.id);try{const Ot=(await rn(bt($e,"venues",r))).data();if(console.log("Настройки платежей venue:",{paymentEnabled:Ot==null?void 0:Ot.paymentEnabled,paymentProvider:Ot==null?void 0:Ot.paymentProvider,hasCredentials:!!(Ot!=null&&Ot.paymentCredentials)}),!(Ot!=null&&Ot.paymentEnabled))throw new Error("Платежи не включены для этой площадки");if(!(Ot!=null&&Ot.paymentProvider)||!(Ot!=null&&Ot.paymentCredentials))throw new Error("Платежный провайдер не настроен для этой площадки");const cr=window.location.origin,wr=`${cr}/club/${r}/booking-payment/${_n.id}`;console.log("Вызов функции initBookingPayment с параметрами:",{bookingId:_n.id,amount:ar,venueId:r});const Hr=await es(Jo,"initBookingPayment")({bookingId:_n.id,amount:ar,description:`Оплата бронирования корта ${Be.name} на ${w.date} ${w.startTime}`,returnUrl:`${cr}/payment-result?bookingId=${_n.id}`,userId:A.uid||"",customerPhone:cc(w.clientPhone),customerEmail:""});console.log("Результат инициализации платежа:",Hr.data);const or=Hr.data;if(or.success&&or.paymentUrl){console.log("Платеж успешно инициализирован, обновляем бронирование"),await Nn(bt($e,"bookings",_n.id),{paymentStatus:"awaiting_payment",paymentId:or.paymentId,paymentUrl:or.paymentUrl,paymentHistory:bp({timestamp:qt.now(),action:"payment_initialized",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:"Платеж инициализирован"})});try{console.log("Отправка SMS с ссылкой на оплату");const Hn={bookingId:_n.id,phone:cc(w.clientPhone),customerName:Pd(w.clientName),venueId:r,venueName:h||"",courtName:Be.name||"",date:w.date,time:w.startTime,paymentUrl:or.paymentUrl};console.log("SMS параметры:",Hn),await es(Jo,"sendBookingPaymentSMS")(Hn),console.log("SMS со ссылкой на оплату отправлено успешно"),alert(`Бронирование создано! SMS со ссылкой на оплату отправлено на номер ${w.clientPhone}`)}catch(Hn){console.error("Ошибка отправки SMS:",Hn),console.error("Детали ошибки:",{code:Hn==null?void 0:Hn.code,message:Hn==null?void 0:Hn.message,details:Hn==null?void 0:Hn.details}),alert(`Бронирование создано, но не удалось отправить SMS: ${(Hn==null?void 0:Hn.message)||"Неизвестная ошибка"}`)}}else console.error("Payment initialization failed:",or.error),await Nn(bt($e,"bookings",_n.id),{paymentStatus:"error",paymentError:or.error||"Не удалось инициализировать платеж",paymentHistory:bp({timestamp:qt.now(),action:"payment_error",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:`Ошибка инициализации платежа: ${or.error||"Unknown error"}`})})}catch(En){console.error("Error initializing payment:",En),await Nn(bt($e,"bookings",_n.id),{paymentStatus:"error",paymentError:En instanceof Error?En.message:"Ошибка при инициализации платежа",paymentHistory:bp({timestamp:qt.now(),action:"payment_error",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:`Ошибка: ${En instanceof Error?En.message:"Unknown error"}`})})}}L({clientName:"",clientPhone:"+7",courtId:c.length>0?c[0].id:"",date:S(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),$(""),D([]),G(null),H(!1);const ci={id:_n.id,...er,date:Rn,courtName:Be.name,venueName:h,endTime:jg(w.startTime,qn)};n(ci),t()}catch(Be){console.error("Error creating booking:",Be),alert("Ошибка при создании бронирования: "+Be.message)}finally{p(!1)}};return e?i.jsx("div",{className:"modal active",onClick:oe=>{oe.target===oe.currentTarget&&t()},children:i.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),i.jsx("button",{className:"modal-close",onClick:t,children:i.jsx(nh,{})})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("form",{onSubmit:Pe,children:[i.jsx("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:W?i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},children:W.name.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("span",{style:{fontWeight:"600"},children:W.name}),i.jsx(Qo,{style:{fontSize:"16px",color:"var(--success)"}})]}),i.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:W.phone}),i.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[W.bookingsCount," бронирований"]})]})]}),i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Ve,children:"Изменить"})]}):T?i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:"Новый клиент"}),i.jsx("button",{type:"button",className:"btn btn-secondary btn-icon",onClick:()=>{H(!1),L(oe=>({...oe,clientName:"",clientPhone:"+7"})),$("")},style:{padding:"4px 8px",fontSize:"14px"},children:"Отмена"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Имя клиента"}),i.jsx("input",{type:"text",className:"form-input",name:"clientName",value:w.clientName,onChange:me,disabled:d,placeholder:"Введите имя",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Телефон"}),i.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:w.clientPhone,onChange:me,disabled:d,placeholder:"+7 (___) ___-__-__",required:!0})]})]})]}):i.jsx("div",{children:i.jsxs("div",{className:"form-group",style:{marginBottom:0,position:"relative"},ref:V,children:[i.jsx("label",{className:"form-label",children:"Поиск клиента"}),i.jsx("input",{type:"text",className:"form-input",placeholder:"Введите имя или телефон...",value:N,onChange:oe=>$(oe.target.value),disabled:d,onFocus:()=>N&&K(!0)}),(Z||P.length>0)&&N&&Q&&i.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"240px",overflowY:"auto"},children:Z?i.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:"Поиск..."}):P.map(oe=>i.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:ge=>{ge.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:ge=>{ge.currentTarget.style.backgroundColor="white"},onClick:()=>re(oe),children:[i.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:oe.name.substring(0,2).toUpperCase()}),i.jsx("div",{style:{flex:1},children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:oe.name}),i.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:oe.phone})]}),i.jsxs("div",{style:{textAlign:"right"},children:[i.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[oe.bookingsCount," брон."]}),oe.lastVisit&&i.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:new Date(oe.lastVisit).toLocaleDateString("ru-RU")})]})]})})]},oe.id))}),N&&P.length===0&&!Z&&Q&&i.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"16px",textAlign:"center"},children:i.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{H(!0),K(!1);const oe=N.trim(),ge=/^[+]?[78]?[\d\s\-\(\)]+$/.test(oe)&&/\d/.test(oe)&&oe.replace(/\D/g,"").length>=6;L(ge?Ie=>({...Ie,clientPhone:oe}):Ie=>({...Ie,clientName:oe}))},style:{width:"100%"},children:[i.jsx(X9,{fontSize:"small"}),"Создать нового клиента"]})})]})})}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Корт"}),i.jsxs("select",{className:"form-select",name:"courtId",value:w.courtId,onChange:me,disabled:d,required:!0,children:[i.jsx("option",{value:"",children:"Выберите корт"}),c.map(oe=>i.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Дата"}),i.jsx("input",{type:"date",className:"form-input",name:"date",value:w.date,onChange:me,disabled:d,required:!0})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Длительность"}),i.jsxs("select",{className:"form-select",name:"duration",value:w.duration,onChange:me,disabled:d,children:[i.jsx("option",{value:"0.5",children:"30 минут"}),i.jsx("option",{value:"1",children:"1 час"}),i.jsx("option",{value:"1.5",children:"1.5 часа"}),i.jsx("option",{value:"2",children:"2 часа"}),i.jsx("option",{value:"2.5",children:"2.5 часа"}),i.jsx("option",{value:"3",children:"3 часа"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Доступные интервалы"}),i.jsxs("select",{className:"form-select",name:"startTime",value:w.startTime,onChange:me,disabled:d,required:!0,children:[i.jsx("option",{value:"",children:"Выберите время"}),I.map(oe=>{const ge=pe(oe,w.duration),[Ie,Ne]=oe.split(":").map(Number),Ee=Ie+Math.floor(w.duration),qe=Ne+w.duration%1*60,Be=Ee+Math.floor(qe/60),Qe=qe%60,Se=`${String(Be).padStart(2,"0")}:${String(Qe).padStart(2,"0")}`,He=ye(oe,w.duration);return i.jsxs("option",{value:oe,disabled:ge,style:ge?{color:"#9CA3AF",backgroundColor:"#F3F4F6"}:{},children:[oe," - ",Se," ",ge?"❌ ЗАНЯТО":` - ${He.toLocaleString("ru-RU")}₽`]},oe)})]}),i.jsxs("div",{style:{marginTop:"6px",fontSize:"12px",color:"#6B7280",display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",fill:"#9CA3AF"})}),"Местное время клуба"]})]})]}),w.courtId&&X.length>0&&i.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[i.jsx("input",{type:"checkbox",checked:ae,onChange:oe=>{Ce(oe.target.checked),oe.target.checked||fe("")},style:{marginRight:"8px"},disabled:!!l}),i.jsx("span",{className:"form-label",style:{marginBottom:0},children:"Добавить тренера"})]}),ae&&i.jsxs("select",{className:"form-select",value:ce,onChange:oe=>fe(oe.target.value),disabled:!!l||d,required:ae,children:[i.jsx("option",{value:"",children:"Выберите тренера"}),X.filter(oe=>{var Ee;const ge=c.find(qe=>qe.id===w.courtId);if(!ge)return!1;const Ne={tennis:["tennis"],padel:["padel"],badminton:["badminton"],universal:["tennis","padel","badminton"]}[ge.type]||[];return(Ee=oe.specialization)==null?void 0:Ee.some(qe=>Ne.includes(qe))}).map(oe=>{var Ee;let ge=!0,Ie="",Ne=0;if(w.date&&w.startTime){const qe=new Date(w.date),Be=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][qe.getDay()],Qe=(Ee=oe.schedule)==null?void 0:Ee[Be],[Se,He]=w.startTime.split(":").map(Number);if(Ne=Se*60+He,!(Qe!=null&&Qe.enabled))ge=!1,Ie="Выходной";else if(Qe.start&&Qe.end){const[Oe,_e]=Qe.start.split(":").map(Number),[Ke,lt]=Qe.end.split(":").map(Number),ut=Oe*60+_e,nt=Ke*60+lt,xt=Ne+w.duration*60;(Ne<ut||xt>nt)&&(ge=!1,Ie="Нерабочее время")}if(oe.status==="vacation"?(ge=!1,Ie="В отпуске"):oe.status==="inactive"&&(ge=!1,Ie="Неактивен"),ge&&oe.vacations&&oe.vacations.length>0){const Oe=w.date;for(const _e of oe.vacations)if(_e.startDate&&_e.endDate&&Oe>=_e.startDate&&Oe<=_e.endDate){ge=!1,Ie=_e.reason||"Отпуск";break}}if(ge&&oe.blockedDates&&oe.blockedDates.includes(w.date)&&(ge=!1,Ie="Недоступен"),ge&&ue.length>0){const Oe=ue.filter(_e=>_e.trainerId===oe.id);for(const _e of Oe){const Ke=_e.time||"",lt=parseFloat(_e.duration)||1,[ut,nt]=Ke.split(":").map(Number),xt=ut*60+nt,hn=xt+lt*60,Qt=Ne,jn=Ne+w.duration*60;if(Qt>=xt&&Qt<hn||jn>xt&&jn<=hn||Qt<=xt&&jn>=hn){ge=!1,Ie="Занят";break}}}}return i.jsxs("option",{value:oe.id,disabled:!ge,style:ge?{}:{color:"#9CA3AF",backgroundColor:"#F3F4F6"},children:[oe.firstName," ",oe.lastName," - ",oe.pricePerHour,"₽/час",!ge&&` (${Ie})`]},oe.id)})]})]}),i.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[i.jsx("label",{className:"form-label",children:"Способ оплаты"}),i.jsxs("select",{className:"form-select",name:"paymentMethod",value:w.paymentMethod,onChange:me,disabled:d,children:[j.cash&&i.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),j.card_on_site&&i.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),j.transfer&&i.jsx("option",{value:"transfer",children:"Перевод на р.счет клуба (юр.лицо)"}),j.sberbank_card&&i.jsx("option",{value:"sberbank_card",children:"На карту Сбербанка"}),j.tbank_card&&i.jsx("option",{value:"tbank_card",children:"На карту Т-Банка"}),j.vtb_card&&i.jsx("option",{value:"vtb_card",children:"На карту ВТБ"}),i.jsx("option",{value:"online",children:"Онлайн оплата (Автоматическое подтверждение оплаты, ссылка на оплату в смс и в МП)"})]}),w.paymentMethod&&i.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:w.paymentMethod==="online"?"rgba(239, 68, 68, 0.1)":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",borderRadius:"6px",fontSize:"13px",color:w.paymentMethod==="online"?"var(--danger)":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"var(--success)":"var(--warning)"},children:w.paymentMethod==="online"?"⏱️ На оплату дается 15 минут. Статус меняется автоматически после оплаты.":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"✓ Без ограничения по времени. Бронирование может ожидать оплату любое время.":w.paymentMethod==="sberbank_card"||w.paymentMethod==="tbank_card"||w.paymentMethod==="vtb_card"?"⏱️ На оплату дается 30 минут. Администратор должен подтвердить оплату.":""})]}),w.courtId&&w.duration&&w.startTime&&i.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const oe=c.find(Ke=>Ke.id===w.courtId);if(!oe)return null;const ge=ye(w.startTime,w.duration),Ie=parseInt(w.startTime.split(":")[0]),Ne=new Date(w.date),Ee=Ne.getDay()===0||Ne.getDay()===6,qe=Ne.getDay(),Qe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][qe],Se=w.duration>1?lY(Ne,w.startTime,w.duration*60,oe.pricing,oe.holidayPricing,oe.priceWeekday,oe.priceWeekend):[];let He=null,Oe=0,_e=!1;if(oe.holidayPricing&&oe.holidayPricing.length>0){const Ke=String(Ne.getMonth()+1).padStart(2,"0"),lt=String(Ne.getDate()).padStart(2,"0"),ut=`${Ke}-${lt}`,nt=oe.holidayPricing.find(xt=>xt.date===ut);nt&&(_e=!0,Oe=nt.price,He={isHoliday:!0})}if(!_e&&oe.pricing&&oe.pricing[Qe]){const Ke=oe.pricing[Qe];Oe=Ke.basePrice,Ke.intervals&&(He=Ke.intervals.find(lt=>{const ut=parseInt(lt.from.split(":")[0]),nt=parseInt(lt.to.split(":")[0]);return Ie>=ut&&Ie<nt}),He&&(Oe=He.price))}else _e||(Oe=oe.pricePerHour||(Ee?oe.priceWeekend:oe.priceWeekday)||0);return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[w.duration>1&&Se.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--gray)"},children:"Детализация по часам:"}),Se.map((Ke,lt)=>i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:Ke.time}),i.jsxs("span",{style:{fontWeight:"500"},children:[Ke.price.toLocaleString("ru-RU")," ₽"]})]},lt))]}):i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{color:"var(--gray)"},children:He?He.isHoliday?i.jsx(i.Fragment,{children:"Праздничный день:"}):i.jsxs(i.Fragment,{children:["Особый тариф (",He.from," - ",He.to,"):"]}):i.jsx(i.Fragment,{children:"Стоимость за час:"})}),i.jsxs("span",{style:{fontWeight:"500"},children:[Oe.toLocaleString("ru-RU")," ₽"]})]}),ae&&ce&&(()=>{const Ke=X.find(ut=>ut.id===ce),lt=Ke?Math.round(Ke.pricePerHour*w.duration):0;return Ke?i.jsx(i.Fragment,{children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",fontSize:"14px"},children:[i.jsxs("span",{style:{color:"var(--gray)"},children:["Тренер (",Ke.firstName," ",Ke.lastName,", ",w.duration,"ч):"]}),i.jsxs("span",{style:{fontWeight:"500"},children:[lt.toLocaleString("ru-RU")," ₽"]})]})}):null})(),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[i.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),i.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[(()=>{const Ke=ge,lt=ae&&ce?X.find(xt=>xt.id===ce):null,ut=lt?Math.round(lt.pricePerHour*w.duration):0;return(Ke+ut).toLocaleString("ru-RU")})()," ₽"]})]})]})})()}),i.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:d,children:"Отмена"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Создание...":"Создать бронирование"})]})]})})]})}):null}function dY(){const{admin:e,club:t}=hr(),{isSuperAdmin:n,hasPermission:r}=Kr(),[s,a]=b.useState(null),[o,l]=b.useState([]),[A,c]=b.useState([]),[u,d]=b.useState([]),[p,h]=b.useState([]),[m,g]=b.useState(!0),[y,x]=b.useState(new Date),C=(e==null?void 0:e.role)==="trainer",[S,w]=b.useState(C?"trainer":"courts"),[L,I]=b.useState(C&&(e!=null&&e.trainerId)?e.trainerId:""),[U,_]=b.useState([]),[F,R]=b.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[k,j]=b.useState([]),[M,N]=b.useState([]),[$,P]=b.useState(null),[D,W]=b.useState(!1),[G,Z]=b.useState(!1),[le,T]=b.useState(null),[H,Q]=b.useState(null),[K,V]=b.useState(null),[X,ie]=b.useState(null);b.useEffect(()=>{if(n){Ce();const me=localStorage.getItem("selectedVenueId");me?(a(me),fe(me),ue(me),we(me)):g(!1)}else e!=null&&e.venueId?(ae(e.venueId),fe(e.venueId),ue(e.venueId),we(e.venueId),C&&e.trainerId&&(w("trainer"),I(e.trainerId))):g(!1);return()=>{X&&X()}},[e,y,n]),b.useEffect(()=>{const me=pe(F.duration);j(me),!me.includes(F.startTime)&&me.length>0&&R(Pe=>({...Pe,startTime:me[0]}))},[F.duration,F.date,o,s,e==null?void 0:e.venueId]),b.useEffect(()=>{F.courtId&&F.date&&he()},[F.courtId,F.date]);const ae=async me=>{try{const Pe=await rn(bt($e,"venues",me));if(Pe.exists()){const oe={id:Pe.id,...Pe.data()};l([oe])}}catch(Pe){console.error("Error fetching venue data:",Pe)}},Ce=async()=>{try{const Pe=(await Wt(Tt($e,"venues"))).docs.map(oe=>({id:oe.id,...oe.data()}));l(Pe)}catch(me){console.error("Error fetching venues:",me)}},ce=me=>{a(me),localStorage.setItem("selectedVenueId",me),fe(me),ue(me),we(me)},fe=async me=>{if(me)try{const Pe=Tt($e,"venues",me,"courts"),ge=(await Wt(Pe)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));h(ge)}catch(Pe){console.error("Error fetching courts:",Pe)}},ue=async me=>{if(!me){console.log("No venueId provided for fetching trainers");return}console.log("Fetching trainers for venue:",me);try{const Pe=zt(Tt($e,"trainers"),Ct("clubId","==",me)),oe=await Wt(Pe);console.log("Found trainers documents:",oe.size);const ge=oe.docs.map(Ne=>({id:Ne.id,...Ne.data()}));console.log("All trainers:",ge);const Ie=ge.filter(Ne=>Ne.status==="active");Ie.sort((Ne,Ee)=>(Ne.firstName||"").localeCompare(Ee.firstName||"")),_(Ie),console.log("Active trainers:",Ie)}catch(Pe){console.error("Error fetching trainers:",Pe)}},we=async me=>{if(me){X&&X();try{g(!0);let Pe=(t==null?void 0:t.timezone)||"Europe/Moscow";if(n&&me){const Ee=await rn(bt($e,"venues",me));Ee.exists()&&(Pe=Ee.data().timezone||"Europe/Moscow")}const oe=fy(y,Pe),ge=aY(y,Pe),Ie=zt(Tt($e,"bookings"),Ct("venueId","==",me)),Ne=Ii(Ie,Ee=>{try{const qe=Ee.docs.map(Oe=>{var ut,nt;const _e=Oe.data(),Ke=Eg(_e.date,Pe);let lt;return _e.createdAt?(ut=_e.createdAt)!=null&&ut.toDate&&typeof _e.createdAt.toDate=="function"?lt=_e.createdAt.toDate():(nt=_e.createdAt)!=null&&nt.seconds&&typeof _e.createdAt.seconds=="number"?lt=new Date(_e.createdAt.seconds*1e3):_e.createdAt instanceof Date?lt=_e.createdAt:lt=new Date(_e.createdAt):(console.log("Booking without createdAt:",Oe.id,"using current time as fallback"),lt=new Date),{..._e,id:Oe.id,status:_e.status||"pending",paymentStatus:_e.paymentStatus||"awaiting_payment",venueId:_e.venueId||"",courtId:_e.courtId||"",startTime:_e.startTime||"",endTime:_e.endTime||"",customerName:_e.customerName||"",customerPhone:_e.customerPhone||"",amount:_e.amount||_e.totalPrice||0,date:Ke,createdAt:lt}}),Se=qe.filter(Oe=>{if(!Oe||!Oe.date||!Oe.venueId)return console.warn("Invalid booking data:",Oe),!1;try{const _e=new Date(Oe.date);return isNaN(_e.getTime())?(console.warn("Invalid booking date:",Oe.date),!1):_e>=oe&&_e<=ge&&Oe.venueId===me}catch(_e){return console.error("Error filtering booking:",Oe.id,_e),!1}}).filter(Oe=>{if(!Oe||!Oe.id)return console.warn("Invalid booking for calendar:",Oe),!1;try{const _e=Oe.status||"pending",Ke=Oe.paymentStatus||"awaiting_payment";return _e!=="cancelled"&&Ke!=="cancelled"&&Ke!=="refunded"&&Ke!=="error"&&(_e==="confirmed"||_e==="pending"||Ke==="paid"||Ke==="awaiting_payment")}catch(_e){return console.error("Error processing booking for calendar:",Oe.id,_e),!1}}).sort((Oe,_e)=>{try{const Ke=new Date(Oe.date||new Date);return new Date(_e.date||new Date).getTime()-Ke.getTime()}catch(Ke){return console.error("Error sorting calendar bookings:",Ke),0}}),He=[...qe].sort((Oe,_e)=>{var ut,nt,xt,hn,Qt,jn,qn,Ut;let Ke,lt;return Oe.createdAt instanceof Date?Ke=Oe.createdAt:(ut=Oe.createdAt)!=null&&ut.toDate?Ke=Oe.createdAt.toDate():(nt=Oe.createdAt)!=null&&nt.seconds?Ke=new Date(Oe.createdAt.seconds*1e3):typeof Oe.createdAt=="string"?Ke=new Date(Oe.createdAt):Oe.date instanceof Date?Ke=Oe.date:(xt=Oe.date)!=null&&xt.toDate?Ke=Oe.date.toDate():(hn=Oe.date)!=null&&hn.seconds?Ke=new Date(Oe.date.seconds*1e3):Ke=new Date(0),_e.createdAt instanceof Date?lt=_e.createdAt:(Qt=_e.createdAt)!=null&&Qt.toDate?lt=_e.createdAt.toDate():(jn=_e.createdAt)!=null&&jn.seconds?lt=new Date(_e.createdAt.seconds*1e3):typeof _e.createdAt=="string"?lt=new Date(_e.createdAt):_e.date instanceof Date?lt=_e.date:(qn=_e.date)!=null&&qn.toDate?lt=_e.date.toDate():(Ut=_e.date)!=null&&Ut.seconds?lt=new Date(_e.date.seconds*1e3):lt=new Date(0),lt.getTime()-Ke.getTime()});c(Se),d(He),g(!1)}catch(qe){console.error("Error processing bookings snapshot:",qe),g(!1),c([]),d([])}},Ee=>{console.error("Error in bookings listener:",Ee),g(!1)});ie(()=>Ne)}catch(Pe){console.error("Error setting up bookings listener:",Pe),g(!1)}}},he=async()=>{if(!(!s&&!(e!=null&&e.venueId))&&!(!F.courtId||!F.date))try{const me=Tt($e,"bookings"),Pe=zt(me,Ct("venueId","==",s||(e==null?void 0:e.venueId)),Ct("courtId","==",F.courtId),Ct("date","==",qt.fromDate(new Date(F.date)))),ge=(await Wt(Pe)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));N(ge)}catch(me){console.error("Error fetching bookings:",me)}},re=me=>{const Pe=new Date(y);Pe.setDate(y.getDate()+me*7),x(Pe)},Ve=()=>{if(!y)return[];const me=(t==null?void 0:t.timezone)||"Europe/Moscow",Pe=[],oe=fy(y,me);for(let ge=0;ge<7;ge++){const Ie=new Date(oe);Ie.setUTCDate(oe.getUTCDate()+ge),Pe.push(Ie)}return Pe},ye=(me,Pe,oe)=>{if(!me||!Pe||!oe)return[];try{return A.filter(ge=>{var _e;if(!ge||!ge.date)return!1;const Ie=ge.date instanceof Date?ge.date:(_e=ge.date)!=null&&_e.toDate?ge.date.toDate():new Date(ge.date);if(!Ie||!me||Ie.toDateString()!==me.toDateString()||ge.courtId!==oe)return!1;const Ne=ge.startTime||ge.time,Ee=ge.endTime;if(!Ne)return!1;const[qe,Be]=Pe.split(":").map(Number),Qe=qe*60+Be,[Se,He]=Ne.split(":").map(Number),Oe=Se*60+He;if(Ee){const[Ke,lt]=Ee.split(":").map(Number),ut=Ke*60+lt;return Qe>=Oe&&Qe<ut}else if(ge.duration){const Ke=Oe+ge.duration*60;return Qe>=Oe&&Qe<Ke}else return Ne===Pe})}catch(ge){return console.error("Error in getBookingsForSlot:",ge,{date:me,time:Pe,courtId:oe}),[]}},pe=me=>{var Se;const Pe=o.find(He=>He.id===(s||(e==null?void 0:e.venueId))),oe=F.date?new Date(F.date).getDay()===0||new Date(F.date).getDay()===6:!1,ge=((Se=Pe==null?void 0:Pe.workingHours)==null?void 0:Se[oe?"weekend":"weekday"])||(oe?"08:00-22:00":"07:00-23:00"),[Ie,Ne]=ge.split("-"),[Ee]=Ie.split(":").map(Number),[qe]=Ne.split(":").map(Number),Be=[],Qe=qe-me;for(let He=Ee;He<=Qe;He+=.5){const Oe=Math.floor(He),_e=He%1*60,Ke=`${String(Oe).padStart(2,"0")}:${String(_e).padStart(2,"0")}`;He+me<=qe&&Be.push(Ke)}return Be},Fe=(me,Pe)=>{const ge=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][me.getDay()];let Ie=null,Ne=null;if(Pe!=null&&Pe.workingHours){const Ee=Pe.workingHours[ge];if(Ee){if(typeof Ee=="string"&&Ee.includes("-")){const[qe,Be]=Ee.split("-").map(Qe=>Qe.trim());qe&&Be&&(Ie=parseInt(qe.split(":")[0]),Ne=parseInt(Be.split(":")[0]))}else if(Ee.open&&Ee.close){const[qe]=Ee.open.split(":").map(Number),[Be]=Ee.close.split(":").map(Number);Ie=qe,Ne=Be}}else{const qe=me.getDay()===0||me.getDay()===6,Be=Pe.workingHours[qe?"weekend":"weekday"];if(Be&&typeof Be=="string"&&Be.includes("-")){const[Qe,Se]=Be.split("-").map(He=>He.trim());Qe&&Se&&(Ie=parseInt(Qe.split(":")[0]),Ne=parseInt(Se.split(":")[0]))}}}return Ie!==null&&Ne!==null?{startHour:Ie,endHour:Ne}:{startHour:8,endHour:22}},De=()=>{const me=[],Pe=o.find(Ne=>Ne.id===(s||(e==null?void 0:e.venueId)));let oe=24,ge=0;Ve().forEach(Ne=>{const{startHour:Ee,endHour:qe}=Fe(Ne,Pe);oe=Math.min(oe,Ee),ge=Math.max(ge,qe)});for(let Ne=oe;Ne<ge;Ne++)me.push(`${Ne.toString().padStart(2,"0")}:00`);return me},ze=b.useMemo(()=>De(),[o,s,e==null?void 0:e.venueId,F.date]),Xe=Ve(),at=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ct=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];if(m)return i.jsx("div",{children:"Загрузка..."});if(!C&&!r(["manage_bookings","manage_all_bookings","view_bookings"]))return i.jsxs(Jt,{severity:"error",children:[i.jsx("strong",{children:"Доступ запрещен"}),i.jsx("br",{}),"У вас недостаточно прав для просмотра бронирований."]});if(n&&!s)return i.jsx("div",{children:i.jsxs("div",{className:"section-card",children:[i.jsx("div",{className:"section-header",children:i.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),i.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[i.jsx("label",{className:"form-label",children:"Клуб"}),i.jsxs("select",{className:"form-select",value:s||"",onChange:me=>ce(me.target.value),children:[i.jsx("option",{value:"",children:"Выберите клуб для управления"}),o.map(me=>i.jsx("option",{value:me.id,children:me.name},me.id))]}),i.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})});const st=!C&&r(["manage_bookings","manage_all_bookings","create_bookings"]);return i.jsx(lu,{permission:["manage_bookings","manage_all_bookings","view_bookings"],allowTrainer:!0,children:i.jsxs("div",{children:[n&&i.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:i.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[i.jsx("label",{className:"form-label",children:"Управление клубом"}),i.jsxs("select",{className:"form-select",value:s||"",onChange:me=>ce(me.target.value),style:{maxWidth:"400px"},children:[i.jsx("option",{value:"",children:"Выберите клуб"}),o.map(me=>i.jsx("option",{value:me.id,children:me.name},me.id))]})]})}),i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[i.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),i.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[i.jsx("button",{onClick:()=>re(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(M9,{})}),i.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[ct[y.getMonth()]," ",y.getFullYear()]}),i.jsx("button",{onClick:()=>re(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Q9,{})}),i.jsx("button",{onClick:()=>x(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),!C&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px",padding:"12px",background:"#f9fafb",borderRadius:"8px"},children:[i.jsxs("div",{style:{display:"flex",gap:"8px"},children:[i.jsx("button",{onClick:()=>{w("courts"),I("")},style:{padding:"8px 16px",border:"1px solid",borderColor:S==="courts"?"var(--primary)":"var(--extra-light-gray)",background:S==="courts"?"var(--primary)":"white",color:S==="courts"?"white":"var(--text-secondary)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:S==="courts"?"600":"400"},children:"По кортам"}),i.jsx("button",{onClick:()=>w("trainer"),style:{padding:"8px 16px",border:"1px solid",borderColor:S==="trainer"?"var(--primary)":"var(--extra-light-gray)",background:S==="trainer"?"var(--primary)":"white",color:S==="trainer"?"white":"var(--text-secondary)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:S==="trainer"?"600":"400"},children:"По тренеру"})]}),S==="trainer"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{width:"1px",height:"24px",background:"var(--extra-light-gray)"}}),i.jsxs("select",{value:L,onChange:me=>I(me.target.value),style:{padding:"8px 12px",border:"1px solid var(--extra-light-gray)",borderRadius:"6px",background:"white",fontSize:"14px",minWidth:"200px"},children:[i.jsx("option",{value:"",children:"Выберите тренера"}),U.map(me=>i.jsxs("option",{value:me.id,children:[me.firstName," ",me.lastName]},me.id))]})]})]}),C&&i.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#f0fdf4",borderRadius:"8px",border:"1px solid #86efac"},children:i.jsx("span",{style:{fontSize:"14px",color:"#166534"},children:"Показан календарь ваших бронирований"})}),S==="courts"&&p.length>0&&i.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px",marginBottom:"8px",flexWrap:"wrap"},children:[i.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontWeight:"600"},children:"Корты:"}),p.map((me,Pe)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px"},children:[i.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:me.color||"#00A86B",border:"1px solid rgba(0, 0, 0, 0.1)"}}),i.jsx("span",{children:me.name}),Pe<p.length-1&&i.jsx("span",{style:{color:"var(--extra-light-gray)",marginLeft:"4px"},children:"|"})]},me.id))]}),S==="courts"&&i.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[i.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(Xe||[]).map((me,Pe)=>i.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[at[Pe]," ",me?me.getDate():""]},Pe)),(ze||[]).map(me=>i.jsxs(fn.Fragment,{children:[i.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:me||""}),(Xe||[]).map((Pe,oe)=>i.jsx("div",{className:"booking-slot-container",style:{display:"flex",flexDirection:"column",minHeight:`${Math.max(60,p.length*40)}px`,background:"var(--white)",border:"1px solid var(--extra-light-gray)",borderRadius:"4px",overflow:"hidden"},children:(p||[]).map((ge,Ie)=>{const Ne=Pe&&me&&(ge!=null&&ge.id)?ye(Pe,me,ge.id)[0]:null,Ee=le&&H&&Pe&&Pe.toDateString()===le.toDateString()&&me===H&&F.courtId===ge.id,qe=K&&Pe&&Pe.toDateString()===K.date.toDateString()&&me===K.time&&K.courtId===ge.id,Be=o.find(_e=>_e.id===(s||(e==null?void 0:e.venueId))),{startHour:Qe,endHour:Se}=Fe(Pe,Be),He=parseInt(me.split(":")[0]),Oe=He<Qe||He>=Se;return i.jsxs("div",{className:"court-slot",style:{flex:1,position:"relative",cursor:Oe&&!Ne?"not-allowed":"pointer",minHeight:"40px",background:Oe&&!Ne?"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #e5e7eb 10px, #e5e7eb 20px)":Ne?(()=>{const _e=Ne.paymentStatus||"awaiting_payment";let Ke="#9CA3AF";_e==="awaiting_payment"?Ke="#F59E0B":_e==="paid"?Ke="#10B981":_e==="cancelled"||_e==="refunded"?Ke="#EF4444":_e==="error"?Ke="#DC2626":_e==="not_required"?Ke="#6B7280":_e==="expired"&&(Ke="#374151");const lt=parseInt(Ke.slice(1,3),16),ut=parseInt(Ke.slice(3,5),16),nt=parseInt(Ke.slice(5,7),16);return`rgba(${lt}, ${ut}, ${nt}, 0.15)`})():Ee?"rgba(0, 168, 107, 0.2)":qe?"rgba(0, 168, 107, 0.05)":"transparent",padding:"4px 8px",borderTop:Ie>0?"1px solid var(--extra-light-gray)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>{!Ne&&!Oe&&V({date:Pe,time:me,courtId:ge.id})},onMouseLeave:()=>{V(null)},onClick:()=>{if(Ne)P(Ne),W(!0);else{const _e=o.find(nt=>nt.id===(s||(e==null?void 0:e.venueId))),{startHour:Ke,endHour:lt}=Fe(Pe,_e),ut=parseInt(me.split(":")[0]);if(ut<Ke||ut>=lt){alert(`Клуб не работает в это время. Режим работы: ${Ke}:00 - ${lt}:00`);return}T(Pe),Q(me),R(nt=>({...nt,courtId:ge.id})),Z(!0)}},children:[!Ne&&(qe||Ee)&&i.jsxs("div",{style:{fontSize:"11px",color:ge.color||"var(--primary)",fontWeight:"600",textAlign:"center",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[ge.color&&i.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:ge.color,flexShrink:0}}),ge.name]}),Ne&&i.jsxs("div",{style:{fontSize:"10px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(ge==null?void 0:ge.color)&&i.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"2px",backgroundColor:ge.color,flexShrink:0}}),(Ne==null?void 0:Ne.clientName)||(Ne==null?void 0:Ne.customerName)||"Клиент"]}),((Ne==null?void 0:Ne.clientPhone)||(Ne==null?void 0:Ne.customerPhone))&&i.jsx("div",{style:{color:"var(--gray)",fontSize:"9px",marginTop:"1px"},children:Ne.clientPhone||Ne.customerPhone}),(Ne==null?void 0:Ne.trainerName)&&i.jsxs("div",{style:{color:(()=>{const _e=U.find(Ke=>Ke.id===Ne.trainerId);return(_e==null?void 0:_e.color)||"var(--primary)"})(),fontSize:"9px",marginTop:"1px",fontWeight:"500"},children:["Тренер: ",Ne.trainerName]})]})]},ge.id)})},`${me||"unknown"}-${oe}`))]},me))]}),S==="trainer"&&L&&i.jsx("div",{children:(()=>{var Pe;const me=U.find(oe=>oe.id===L);return me?i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px"},children:[i.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:me.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[me.firstName[0],me.lastName[0]]}),i.jsxs("div",{children:[i.jsxs("h3",{style:{margin:0},children:[me.firstName," ",me.lastName]}),i.jsxs("p",{style:{margin:0,color:"#6B7280",fontSize:"14px"},children:[(Pe=me.specialization)==null?void 0:Pe.join(", ")," • ",me.pricePerHour,"₽/час"]})]})]}),i.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[i.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(Xe||[]).map((oe,ge)=>i.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[at[ge]," ",oe?oe.getDate():""]},ge)),(ze||[]).map(oe=>i.jsxs(fn.Fragment,{children:[i.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:oe||""}),(Xe||[]).map((ge,Ie)=>{var _e;const Ne=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ge.getDay()],Ee=(_e=me.schedule)==null?void 0:_e[Ne],qe=!(Ee!=null&&Ee.enabled);let Be=!1;if(Ee!=null&&Ee.enabled&&Ee.start&&Ee.end){const[Ke]=oe.split(":").map(Number),[lt]=Ee.start.split(":").map(Number),[ut]=Ee.end.split(":").map(Number);Be=Ke<lt||Ke>=ut}const Qe=A.find(Ke=>Ke.trainerId===me.id&&Ke.date instanceof Date&&ge instanceof Date&&Ke.date.toDateString()===ge.toDateString()&&Ke.startTime<=oe&&Ke.endTime>oe&&Ke.status!=="cancelled"),Se=p.length>0&&p.every(Ke=>A.some(lt=>lt.courtId===Ke.id&&lt.date instanceof Date&&ge instanceof Date&&lt.date.toDateString()===ge.toDateString()&&lt.startTime<=oe&&lt.endTime>oe&&lt.status!=="cancelled")),He=qe||Be||me.status==="vacation",Oe=!!Qe;return i.jsx("div",{onClick:()=>{C&&Oe&&Qe?(P(Qe),W(!0)):!He&&!Oe&&!Se&&st&&(T(ge),Q(oe),Z(!0))},style:{background:He?"#E5E7EB":Oe?"#10B981":Se?"#9CA3AF":"white",color:Oe?"white":He||Se?"#6B7280":"#374151",padding:"8px",minHeight:"60px",cursor:C&&Oe?"pointer":He||Oe||Se?"not-allowed":"pointer",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"all 0.2s",...!He&&!Oe&&!Se?{":hover":{background:"#F3F4F6",border:"1px solid #10B981"}}:{}},onMouseEnter:Ke=>{!He&&!Oe&&!Se&&(Ke.currentTarget.style.background="#F3F4F6",Ke.currentTarget.style.border="1px solid #10B981")},onMouseLeave:Ke=>{!He&&!Oe&&!Se&&(Ke.currentTarget.style.background="white",Ke.currentTarget.style.border="none")},children:He?i.jsx("span",{style:{fontSize:"11px"},children:qe?"Выходной":Be?"Нерабочее время":"Недоступно"}):Oe?i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"12px",fontWeight:"600"},children:Qe.clientName}),i.jsx("div",{style:{fontSize:"10px",marginTop:"2px"},children:Qe.courtName})]}):Se?i.jsx("span",{style:{fontSize:"11px",color:"white"},children:"Корты заняты"}):i.jsx("span",{style:{fontSize:"11px",color:"#10B981"},children:"Свободно"})},`${oe}-${Ie}`)})]},oe))]})]}):i.jsx("div",{children:"Тренер не найден"})})()}),S==="trainer"&&!L&&i.jsx("div",{style:{padding:"48px",textAlign:"center",background:"#f9fafb",borderRadius:"8px"},children:i.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:"Выберите тренера для просмотра его расписания"})})]}),!C&&i.jsx(oY,{venueId:s||(e==null?void 0:e.venueId)||"",bookings:u,onRefresh:()=>we(s||(e==null?void 0:e.venueId)||"")}),i.jsx(dE,{booking:$,isOpen:D,onClose:()=>{W(!1),P(null)},onUpdate:()=>we(s||(e==null?void 0:e.venueId)||"")}),i.jsx(uY,{isOpen:G,onClose:()=>{Z(!1),T(null),Q(null),R(me=>({...me,courtId:""}))},onSuccess:me=>{we(s||(e==null?void 0:e.venueId)||""),me&&(P(me),W(!0))},venueId:s||(e==null?void 0:e.venueId)||"",preSelectedDate:le||void 0,preSelectedTime:H||void 0,preSelectedCourtId:F.courtId||void 0,preSelectedTrainerId:S==="trainer"?L:void 0})]})})}function hY(){var $;const{admin:e}=hr(),{isSuperAdmin:t}=Kr(),[n,r]=b.useState(null),[s,a]=b.useState([]),[o,l]=b.useState(!0),[A,c]=b.useState(""),[u,d]=b.useState(null),[p,h]=b.useState([]),[m,g]=b.useState(!1),[y,x]=b.useState(null),[C,S]=b.useState({day:"",month:""});b.useEffect(()=>{if(t){const P=localStorage.getItem("selectedVenueId");P?(r(P),L(P)):l(!1)}else e!=null&&e.venueId&&L(e.venueId)},[e,t]);const w=P=>{r(P),localStorage.setItem("selectedVenueId",P),P&&L(P)},L=async P=>{const D=P||(e==null?void 0:e.venueId);if(D)try{l(!0);const W=zt(Tt($e,"bookings"),Ct("venueId","==",D),uc(1e3)),G=await Wt(W),Z=new Map;G.docs.forEach(T=>{var ie,ae,Ce;const H=T.data(),Q=H.customerPhone||H.clientPhone,K=H.customerName||H.clientName;if(!Q||!K)return;const V=Q,X=H.status!=="cancelled";if(Z.has(V)){const ce=Z.get(V);if(ce.name=K,H.userId&&H.userId.trim()!==""&&(ce.hasApp=!0),X){ce.bookingsCount++,ce.totalSpent+=H.amount||H.totalPrice||H.price||0;const fe=(ie=H.date)!=null&&ie.toDate?H.date.toDate():new Date(H.date);(!ce.lastVisit||fe>ce.lastVisit)&&(ce.lastVisit=fe)}}else{const ce=(ae=H.date)!=null&&ae.toDate?H.date.toDate():new Date(H.date),fe=(Ce=H.createdAt)!=null&&Ce.toDate?H.createdAt.toDate():new Date(H.createdAt||new Date);Z.set(V,{id:V,name:K,phone:Q,email:H.customerEmail||H.clientEmail,bookingsCount:X?1:0,lastVisit:X?ce:void 0,totalSpent:X&&(H.amount||H.totalPrice||H.price)||0,hasApp:H.userId&&H.userId.trim()!==""||H.paymentMethod==="app"||H.paymentMethod==="mobile",venueId:D,createdAt:fe})}});const le=Array.from(Z.values()).sort((T,H)=>T.lastVisit?H.lastVisit?H.lastVisit.getTime()-T.lastVisit.getTime():-1:1);a(le)}catch(W){console.error("Error fetching customers:",W)}finally{l(!1)}},I=s.filter(P=>P.name.toLowerCase().includes(A.toLowerCase())||P.phone.includes(A)),U=P=>P.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2),_=P=>{const D=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],W=P.charCodeAt(0)%D.length;return D[W]},F=P=>{if(!P)return"Нет данных";const W=Math.abs(new Date().getTime()-P.getTime()),G=Math.ceil(W/(1e3*60*60*24));return G===0?"Сегодня":G===1?"Вчера":G<7?`${G} дней назад`:G<30?`${Math.floor(G/7)} недель назад`:P.toLocaleDateString("ru-RU")},R=P=>{const[D,W]=P.split("-"),G=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];return`${parseInt(W)} ${G[parseInt(D)-1]}`},k=P=>{x(P),S({day:"",month:""})},j=async()=>{if(!y||!C.day||!C.month)return;const P=`${C.month.padStart(2,"0")}-${C.day.padStart(2,"0")}`;a(D=>D.map(W=>W.id===y?{...W,birthday:P}:W)),x(null),S({day:"",month:""})},M=()=>{const P=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...I.map(G=>{var Z;return[G.name,G.phone,G.bookingsCount,G.totalSpent,((Z=G.lastVisit)==null?void 0:Z.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),D=new Blob([P],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a");W.href=URL.createObjectURL(D),W.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,W.click()},N=async P=>{const D=s.find(W=>W.id===P);if(D)try{g(!0),d(P);const W=t?n:e==null?void 0:e.venueId;if(!W)return;const G=zt(Tt($e,"bookings"),Ct("venueId","==",W),uc(100)),Z=await Wt(G),le=[];Z.docs.forEach(H=>{var V;const Q=H.data();(Q.customerPhone||Q.clientPhone)===D.phone&&le.push({id:H.id,date:(V=Q.date)!=null&&V.toDate?Q.date.toDate():new Date(Q.date),courtName:Q.courtName||"Корт",startTime:Q.startTime,endTime:Q.endTime,amount:Q.amount||Q.totalPrice||Q.price||0,status:Q.status||"confirmed",paymentStatus:Q.paymentStatus})});const T=le.sort((H,Q)=>Q.date.getTime()-H.date.getTime());h(T)}catch(W){console.error("Error loading customer history:",W)}finally{g(!1)}};return o?i.jsx("div",{children:"Загрузка..."}):t&&!n?i.jsx(aA,{title:"Выберите клуб для просмотра клиентов"}):i.jsxs("div",{children:[t&&i.jsx(iA,{selectedVenueId:n,onVenueChange:w}),i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",children:"База клиентов"}),i.jsxs("div",{style:{display:"flex",gap:"12px"},children:[i.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:A,onChange:P=>c(P.target.value)}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>L(t?n:e==null?void 0:e.venueId),title:"Обновить список клиентов",children:"🔄"}),i.jsxs("button",{className:"btn btn-secondary",onClick:M,children:[i.jsx($9,{fontSize:"small"}),"Экспорт"]})]})]}),i.jsxs("div",{style:{padding:"12px 16px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderLeft:"3px solid var(--primary)",marginBottom:"16px",borderRadius:"4px"},children:[i.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:i.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"📊 Ограничения тарифа"})}),i.jsxs("p",{style:{fontSize:"13px",color:"var(--gray)",margin:0},children:["В бесплатном тарифе доступно отображение до ",i.jsx("strong",{children:"1000 клиентов"}),". Всего найдено: ",i.jsx("strong",{children:s.length})," клиентов.",s.length>=1e3&&i.jsx("span",{style:{color:"var(--warning)",marginLeft:"8px"},children:"⚠️ Достигнут лимит отображения"})]})]}),i.jsx("div",{className:"table-wrapper",children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Клиент"}),i.jsx("th",{children:"Телефон"}),i.jsx("th",{children:"Бронирований"}),i.jsx("th",{children:"Потрачено"}),i.jsx("th",{children:i.jsxs("div",{children:["Последний визит",i.jsx("div",{style:{fontSize:"11px",fontWeight:"normal",color:"var(--gray)",marginTop:"2px"},children:"Последнее не отмененное бронирование"})]})}),i.jsx("th",{children:"День рождения"}),i.jsx("th",{children:"Статус в приложении"}),i.jsx("th",{children:"Действия"})]})}),i.jsx("tbody",{children:I.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):I.map(P=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:_(P.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:U(P.name)}),i.jsx("div",{children:i.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:P.name})})]})}),i.jsx("td",{children:P.phone}),i.jsx("td",{children:P.bookingsCount}),i.jsxs("td",{children:[P.totalSpent.toLocaleString("ru-RU"),"₽"]}),i.jsx("td",{children:F(P.lastVisit)}),i.jsx("td",{children:P.birthday?i.jsx("span",{children:R(P.birthday)}):i.jsx("button",{className:"btn btn-link",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>k(P.id),children:"Добавить"})}),i.jsx("td",{children:P.hasApp?i.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):i.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),i.jsx("td",{children:i.jsxs("button",{className:"btn btn-secondary",onClick:()=>N(P.id),title:"История бронирований",children:[i.jsx(vj,{fontSize:"small"}),"История"]})})]},P.id))})]})})]}),i.jsxs("div",{className:"section-card",children:[i.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.length}),i.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.filter(P=>P.hasApp).length}),i.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),i.jsxs("div",{style:{textAlign:"center"},children:[i.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.length>0?Math.round(s.filter(P=>P.hasApp).length/s.length*100):0,"%"]}),i.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),i.jsxs("div",{style:{textAlign:"center"},children:[i.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.reduce((P,D)=>P+D.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),i.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]}),u&&i.jsx("div",{className:`modal ${u?"active":""}`,children:i.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h3",{className:"modal-title",children:["История бронирований: ",($=s.find(P=>P.id===u))==null?void 0:$.name]}),i.jsx("button",{className:"modal-close",onClick:()=>{d(null),h([])},children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),i.jsxs("div",{className:"modal-body",children:[m?i.jsx("div",{style:{textAlign:"center",padding:"48px"},children:"Загрузка истории..."}):p.length===0?i.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"История бронирований пуста"}):i.jsx("div",{className:"table-wrapper",children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Дата и время"}),i.jsx("th",{children:"Корт"}),i.jsx("th",{children:"Сумма"}),i.jsx("th",{children:"Статус"})]})}),i.jsx("tbody",{children:p.map(P=>i.jsxs("tr",{children:[i.jsxs("td",{children:[P.date.toLocaleDateString("ru-RU")," ",P.startTime," - ",P.endTime]}),i.jsx("td",{children:P.courtName}),i.jsxs("td",{children:[P.amount.toLocaleString("ru-RU"),"₽"]}),i.jsx("td",{children:i.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:P.status==="confirmed"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",color:P.status==="confirmed"?"var(--success)":"var(--warning)"},children:P.status==="confirmed"?"Подтверждено":P.status==="cancelled"?"Отменено":"В ожидании"})})]},P.id))})]})}),i.jsx("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",textAlign:"center"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"700",fontSize:"18px"},children:p.length}),i.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Всего бронирований"})]}),i.jsxs("div",{children:[i.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[p.reduce((P,D)=>P+D.amount,0).toLocaleString("ru-RU"),"₽"]}),i.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Общая сумма"})]}),i.jsxs("div",{children:[i.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[p.length>0?Math.round(p.reduce((P,D)=>P+D.amount,0)/p.length).toLocaleString("ru-RU"):0,"₽"]}),i.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Средний чек"})]})]})})]})]})}),y&&i.jsx("div",{className:"modal active",children:i.jsxs("div",{className:"modal-content",style:{maxWidth:"400px"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:"Добавить день рождения"}),i.jsx("button",{className:"modal-close",onClick:()=>{x(null),S({day:"",month:""})},children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{style:{marginBottom:"20px",color:"var(--gray)"},children:"Укажите день и месяц рождения клиента (год не требуется)"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"День"}),i.jsx("input",{type:"number",className:"form-input",placeholder:"1-31",min:"1",max:"31",value:C.day,onChange:P=>S(D=>({...D,day:P.target.value}))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Месяц"}),i.jsxs("select",{className:"form-select",value:C.month,onChange:P=>S(D=>({...D,month:P.target.value})),children:[i.jsx("option",{value:"",children:"Выберите месяц"}),i.jsx("option",{value:"01",children:"Январь"}),i.jsx("option",{value:"02",children:"Февраль"}),i.jsx("option",{value:"03",children:"Март"}),i.jsx("option",{value:"04",children:"Апрель"}),i.jsx("option",{value:"05",children:"Май"}),i.jsx("option",{value:"06",children:"Июнь"}),i.jsx("option",{value:"07",children:"Июль"}),i.jsx("option",{value:"08",children:"Август"}),i.jsx("option",{value:"09",children:"Сентябрь"}),i.jsx("option",{value:"10",children:"Октябрь"}),i.jsx("option",{value:"11",children:"Ноябрь"}),i.jsx("option",{value:"12",children:"Декабрь"})]})]})]}),i.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>{x(null),S({day:"",month:""})},children:"Отмена"}),i.jsx("button",{className:"btn btn-primary",onClick:j,disabled:!C.day||!C.month,children:"Сохранить"})]})]})]})})]})}function fY(){const e=rs();return i.jsxs(Ml,{maxWidth:"lg",sx:{py:8},children:[i.jsxs(Ue,{textAlign:"center",mb:6,children:[i.jsx(te,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),i.jsx(te,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),i.jsx(te,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),i.jsxs(dt,{container:!0,spacing:4,mb:6,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(tn,{children:i.jsxs(nn,{sx:{p:4,textAlign:"center"},children:[i.jsx(Z9,{sx:{fontSize:60,color:"primary.main",mb:2}}),i.jsx(te,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),i.jsx(te,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),i.jsxs(Ue,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[i.jsx(Dt,{variant:"outlined",disabled:!0,children:"App Store"}),i.jsx(Dt,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(tn,{children:i.jsxs(nn,{sx:{p:4,textAlign:"center"},children:[i.jsx(d$,{sx:{fontSize:60,color:"primary.main",mb:2}}),i.jsx(te,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),i.jsx(te,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),i.jsx(Dt,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),i.jsxs($n,{sx:{p:4,textAlign:"center"},children:[i.jsx(_x,{sx:{fontSize:80,color:"primary.main",mb:2}}),i.jsx(te,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),i.jsx(te,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),i.jsx(Ue,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:i.jsx(te,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function pY({email:e,size:t="small"}){const[n,r]=b.useState(!1),[s,a]=b.useState(null),o=async()=>{r(!0);try{await lk(Bs,e),a({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(l){console.error("Error sending password reset email:",l),a({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Dt,{variant:"outlined",size:t,startIcon:n?i.jsx(Rr,{size:16}):i.jsx(q9,{}),onClick:o,disabled:n,children:"Сбросить пароль"}),i.jsx(hj,{open:!!s,autoHideDuration:6e3,onClose:()=>a(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:s&&i.jsx(Jt,{onClose:()=>a(null),severity:s.type,sx:{width:"100%"},children:s.text})})]})}const gY=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],Hv={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function mY(){const{isSuperAdmin:e}=Kr(),[t,n]=b.useState([]),[r,s]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(!1),[c,u]=b.useState(null),[d,p]=b.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[h,m]=b.useState("");b.useEffect(()=>{g()},[]);const g=async()=>{try{const I=await Wt(Tt($e,"admins")),U=[];for(const R of I.docs){const k=R.data();let j="";if(k.venueId){const M=await Wt(zt(Tt($e,"venues"),Ct("__name__","==",k.venueId)));M.empty||(j=M.docs[0].data().name)}U.push({id:R.id,name:k.name,email:k.email,password:k.password,role:k.role,venueId:k.venueId,venueName:j,permissions:k.permissions||[]})}n(U);const F=(await Wt(Tt($e,"venues"))).docs.map(R=>({id:R.id,name:R.data().name}));s(F),o(!1)}catch(I){console.error("Error loading data:",I),o(!1)}},y=I=>{I?(u(I),p({name:I.name,email:I.email,password:"",role:I.role,venueId:I.venueId||"",permissions:I.permissions})):(u(null),p({name:"",email:"",password:"",role:"admin",venueId:"",permissions:Hv.admin})),A(!0),m("")},x=()=>{A(!1),u(null),m("")},C=I=>{p({...d,role:I,permissions:Hv[I]})},S=I=>{const U=d.permissions.includes(I)?d.permissions.filter(_=>_!==I):[...d.permissions,I];p({...d,permissions:U})},w=async()=>{try{if(m(""),c){const I={name:d.name,role:d.role,venueId:d.venueId||null,permissions:d.permissions,updatedAt:new Date};await Nn(bt($e,"admins",c.id),I)}else{if(!d.password){m("Пароль обязателен для нового администратора");return}const I=await h5(Bs,d.email,d.password);await va(Tt($e,"admins"),{uid:I.user.uid,name:d.name,email:d.email,role:d.role,venueId:d.venueId||null,permissions:d.permissions,createdAt:new Date,updatedAt:new Date})}x(),g()}catch(I){console.error("Error saving admin:",I),I.code==="auth/email-already-in-use"?m("Пользователь с таким email уже существует"):I.code==="auth/weak-password"?m("Пароль должен содержать минимум 6 символов"):m("Ошибка при сохранении администратора")}},L=async I=>{const U=t.find(F=>F.id===I);if(!U)return;const _=`Вы уверены, что хотите удалить администратора ${U.name} (${U.email})?`;if(confirm(_))try{await Vc(bt($e,"admins",I)),await g(),alert(`Администратор ${U.name} успешно удален`)}catch(F){console.error("Error deleting admin:",F),alert("Ошибка при удалении администратора")}};return a?i.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:i.jsx(Rr,{})}):i.jsx(lu,{role:"superadmin",children:i.jsxs(Ue,{children:[i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[i.jsx("h2",{children:"Управление администраторами"}),i.jsx(Dt,{variant:"contained",startIcon:i.jsx(au,{}),onClick:()=>y(),children:"Добавить администратора"})]}),i.jsx(Th,{component:$n,children:i.jsxs(Fh,{children:[i.jsx(_h,{children:i.jsxs(Sa,{children:[i.jsx(Yt,{children:"Имя"}),i.jsx(Yt,{children:"Email"}),i.jsx(Yt,{children:"Роль"}),i.jsx(Yt,{children:"Клуб"}),i.jsx(Yt,{align:"right",children:"Действия"})]})}),i.jsx(Nh,{children:t.map(I=>i.jsxs(Sa,{children:[i.jsx(Yt,{children:I.name}),i.jsx(Yt,{children:I.email}),i.jsx(Yt,{children:i.jsx(Di,{label:I.role,color:I.role==="superadmin"?"error":I.role==="admin"?"primary":"default",size:"small"})}),i.jsx(Yt,{children:I.venueName||"-"}),i.jsx(Yt,{align:"right",children:I.role!=="superadmin"&&i.jsxs(i.Fragment,{children:[i.jsx(pY,{email:I.email}),i.jsx(Ds,{onClick:()=>y(I),children:i.jsx(Rc,{})}),e&&i.jsx(Ds,{onClick:()=>L(I.id),color:"error",children:i.jsx(rA,{})})]})})]},I.id))})]})}),i.jsxs(so,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[i.jsx(el,{children:c?"Редактировать администратора":"Добавить администратора"}),i.jsxs(io,{children:[h&&i.jsx(Jt,{severity:"error",sx:{mb:2},children:h}),i.jsx(Ft,{fullWidth:!0,label:"Имя",value:d.name,onChange:I=>p({...d,name:I.target.value}),margin:"normal"}),i.jsx(Ft,{fullWidth:!0,label:"Email",type:"email",value:d.email,onChange:I=>p({...d,email:I.target.value}),margin:"normal",disabled:!!c}),!c&&i.jsx(Ft,{fullWidth:!0,label:"Пароль",type:"password",value:d.password,onChange:I=>p({...d,password:I.target.value}),margin:"normal",required:!0}),i.jsxs(Ya,{fullWidth:!0,margin:"normal",children:[i.jsx(tl,{children:"Роль"}),i.jsxs(ao,{value:d.role,onChange:I=>C(I.target.value),children:[i.jsx(Jn,{value:"admin",children:"Администратор"}),i.jsx(Jn,{value:"manager",children:"Менеджер"})]})]}),i.jsxs(Ya,{fullWidth:!0,margin:"normal",children:[i.jsx(tl,{children:"Клуб"}),i.jsxs(ao,{value:d.venueId,onChange:I=>p({...d,venueId:I.target.value}),children:[i.jsx(Jn,{value:"",children:"Не выбран"}),r.map(I=>i.jsx(Jn,{value:I.id,children:I.name},I.id))]})]}),i.jsxs(Ya,{component:"fieldset",margin:"normal",children:[i.jsx(aj,{component:"legend",children:"Права доступа"}),i.jsx(ij,{children:gY.map(I=>i.jsx(As,{control:i.jsx(Sl,{checked:d.permissions.includes(I.value),onChange:()=>S(I.value),disabled:Hv[d.role].includes(I.value)}),label:I.label},I.value))})]})]}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:x,children:"Отмена"}),i.jsx(Dt,{onClick:w,variant:"contained",children:c?"Сохранить":"Создать"})]})]})]})})}const Aa={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!0,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Email-уведомления без ограничений","SMS-уведомления от 6₽ за сообщение","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Финансовая отчетность","QR-коды для бронирований","Аккаунты для тренеров с расписанием","Персональный менеджер на 3 месяца"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!0,personalManager:!1},features:["990₽ за корт в месяц","От 1 корта (без ограничений)","🎁 Первые 3 месяца бесплатно","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на клуб)","Расширенная аналитика и отчеты","Управление ценами и скидками","Маркетинг - промокоды, акции и рассылки","CRM система для работы с клиентской базой","Экспорт данных в Excel и PDF","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!1,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта (без ограничений)","SMS/Email уведомления без ограничений","Белый лейбл PRO (кастомизация дизайна приложения)","API доступ для интеграций","Мультиплощадки (управление сетью)","Приоритет в поиске (+30%)","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер навсегда"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function vY(){const e=rs(),{isSuperAdmin:t}=Kr(),{admin:n}=hr(),[r,s]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(null),[c,u]=b.useState(!1),[d,p]=b.useState(""),[h,m]=b.useState(null),[g,y]=b.useState(!1),[x,C]=b.useState(null),[S,w]=b.useState(!1),[L,I]=b.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});b.useEffect(()=>{U()},[]);const U=async()=>{try{const N=await Wt(Tt($e,"venues")),$=await Promise.all(N.docs.map(async P=>{var le,T,H,Q,K,V;const D=P.data();D.location&&D.location._lat!==void 0&&(D.location={latitude:D.location._lat,longitude:D.location._long});const W=zt(Tt($e,"subscriptions"),Ct("venueId","==",P.id),Ct("status","in",["active","trial"])),G=await Wt(W);let Z=null;if(!G.empty){const X=G.docs[0].data();Z={id:G.docs[0].id,...X,startDate:(le=X.startDate)==null?void 0:le.toDate(),endDate:(T=X.endDate)==null?void 0:T.toDate(),trialEndDate:(H=X.trialEndDate)==null?void 0:H.toDate(),nextBillingDate:(Q=X.nextBillingDate)==null?void 0:Q.toDate(),usage:{...X.usage,lastUpdated:(V=(K=X.usage)==null?void 0:K.lastUpdated)==null?void 0:V.toDate()}}}return{id:P.id,...D,subscription:Z}}));s($),o(!1)}catch(N){console.error("Error loading venues:",N),o(!1)}},_=N=>{localStorage.setItem("selectedVenueId",N.id),e("/admin/club")},F=async N=>{try{const $=N.status==="active"?"inactive":"active";await Nn(bt($e,"venues",N.id),{status:$,updatedAt:new Date}),U()}catch($){console.error("Error updating venue status:",$)}},R=async N=>{try{const $=zt(Tt($e,"admins"),Ct("venueId","==",N)),P=await Wt($);if(!P.empty){const G=P.size,Z=P.docs.map(le=>{const T=le.data();return`- ${T.name} (${T.email}) - ${T.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${G} сотрудник(ов):
${Z}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const D=r.find(G=>G.id===N);if(!D)return;const W=`Вы уверены, что хотите удалить клуб "${D.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(W)&&(await Vc(bt($e,"venues",N)),await U(),alert(`Клуб "${D.name}" успешно удален`))}catch($){console.error("Error deleting venue:",$),alert("Ошибка при удалении клуба")}},k=N=>`https://allcourt.ru/club/${N}`,j=N=>{const $=k(N);navigator.clipboard.writeText($),m(N),setTimeout(()=>m(null),2e3)},M=N=>{C(N),y(!0)};return a?i.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:i.jsx(Rr,{})}):i.jsxs(lu,{role:"superadmin",children:[i.jsxs(Ue,{children:[i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[i.jsx(te,{variant:"h5",component:"h2",children:"Управление клубами"}),i.jsx(Dt,{variant:"contained",startIcon:i.jsx(au,{}),onClick:()=>w(!0),children:"Добавить клуб"})]}),r.length===0?i.jsx(Jt,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):i.jsx(dt,{container:!0,spacing:3,children:r.map(N=>{var $,P;return i.jsx(dt,{item:!0,xs:12,md:6,lg:4,children:i.jsxs(tn,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[i.jsxs(nn,{sx:{flexGrow:1},children:[i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[i.jsx(te,{variant:"h6",component:"h3",children:N.name}),i.jsx(Di,{label:N.status==="active"?"Активен":"Неактивен",color:N.status==="active"?"success":"default",size:"small"})]}),i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[i.jsx(G9,{fontSize:"small",color:"action"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:N.address})]}),N.city&&i.jsx(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:i.jsx(te,{variant:"body2",color:"text.secondary",sx:{ml:3},children:N.city})}),N.location?i.jsx(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:i.jsxs(te,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",($=N.location.latitude)==null?void 0:$.toFixed(6),", ",(P=N.location.longitude)==null?void 0:P.toFixed(6)]})}):i.jsx(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:i.jsx(te,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[i.jsx(k1,{fontSize:"small",color:"action"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:N.phone})]}),i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(I1,{fontSize:"small",color:"action"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:N.email})]}),N.description&&i.jsx(te,{variant:"body2",color:"text.secondary",mt:2,children:N.description}),N.status==="pending"&&i.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[i.jsx(Yl,{fontSize:"small",color:"warning"}),i.jsx(te,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),i.jsx(Dt,{variant:"contained",size:"small",color:"success",onClick:async()=>{var D;try{await Nn(bt($e,"venues",N.id),{status:"active",moderatedAt:new Date,moderatedBy:((D=Bs.currentUser)==null?void 0:D.uid)||"superadmin"}),U()}catch(W){console.error("Error activating venue:",W)}},children:"Активировать клуб"})]}),N.status==="active"&&t&&i.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[i.jsx(km,{fontSize:"small",color:"success"}),i.jsx(te,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),i.jsx(Dt,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await Nn(bt($e,"venues",N.id),{status:"pending",moderatedAt:null,moderatedBy:null}),U()}catch(D){console.error("Error deactivating venue:",D)}},children:"Отправить на модерацию"})]}),i.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[i.jsx(gj,{fontSize:"small",color:"primary"}),i.jsxs(te,{variant:"subtitle2",color:"primary",children:["Тариф: ",N.subscription&&Aa[N.subscription.plan]?Aa[N.subscription.plan].name:"Не определен"]})]}),N.subscription&&Aa[N.subscription.plan]&&i.jsx(te,{variant:"caption",color:"text.secondary",children:Aa[N.subscription.plan].price===0?"Бесплатный":Aa[N.subscription.plan].pricePerCourt?`${Aa[N.subscription.plan].pricePerCourt.toLocaleString("ru-RU")} ₽/корт в месяц`:`${Aa[N.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!N.subscription&&i.jsxs(te,{variant:"caption",color:"warning.main",children:[i.jsx(Yl,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),i.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[i.jsx(V9,{fontSize:"small",color:"action"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(te,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:k(N.id)}),i.jsx(Xw,{title:h===N.id?"Скопировано!":"Копировать ссылку",children:i.jsx(Ds,{size:"small",onClick:()=>j(N.id),color:h===N.id?"success":"default",children:h===N.id?i.jsx(Qo,{fontSize:"small"}):i.jsx(mj,{fontSize:"small"})})}),i.jsx(Xw,{title:"Показать QR код",children:i.jsx(Ds,{size:"small",onClick:()=>M(N),children:i.jsx(_x,{fontSize:"small"})})})]})]})]}),i.jsxs(mP,{sx:{flexWrap:"wrap",gap:.5},children:[i.jsx(Dt,{size:"small",onClick:()=>_(N),startIcon:i.jsx(Rc,{fontSize:"small"}),children:"Редактировать"}),i.jsx(Dt,{size:"small",onClick:()=>F(N),children:N.status==="active"?"Деактивировать":"Активировать"}),i.jsx(Ds,{size:"small",color:"error",onClick:()=>R(N.id),children:i.jsx(rA,{})})]})]})},N.id)})})]}),i.jsxs(so,{open:g,onClose:()=>y(!1),maxWidth:"sm",children:[i.jsxs(el,{children:["QR код для ",x==null?void 0:x.name]}),i.jsx(io,{children:i.jsxs(Ue,{sx:{textAlign:"center",p:2},children:[i.jsx(hg,{value:x?k(x.id):"",size:256,level:"H",includeMargin:!0}),i.jsx(te,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),i.jsx(bi,{sx:{my:2}}),i.jsx(te,{variant:"caption",sx:{fontFamily:"monospace"},children:x&&k(x.id)})]})}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:()=>y(!1),children:"Закрыть"}),i.jsx(Dt,{variant:"contained",onClick:()=>{x&&j(x.id)},children:"Копировать ссылку"})]})]}),i.jsxs(so,{open:S,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[i.jsx(el,{children:"Добавить новый клуб"}),i.jsxs(io,{children:[d&&i.jsx(Jt,{severity:"error",sx:{mb:2},children:d}),i.jsxs(Ue,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[i.jsx(Ft,{label:"Название клуба",value:L.name,onChange:N=>I({...L,name:N.target.value}),fullWidth:!0,required:!0}),i.jsx(Ft,{label:"Адрес",value:L.address,onChange:N=>I({...L,address:N.target.value}),fullWidth:!0,required:!0}),i.jsx(Ft,{label:"Город",value:L.city,onChange:N=>I({...L,city:N.target.value}),fullWidth:!0,required:!0}),i.jsx(Ft,{label:"Телефон",value:L.phone,onChange:N=>I({...L,phone:N.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),i.jsx(Ft,{label:"Email",value:L.email,onChange:N=>I({...L,email:N.target.value}),fullWidth:!0,required:!0,type:"email"}),i.jsx(Ft,{label:"Описание",value:L.description,onChange:N=>I({...L,description:N.target.value}),fullWidth:!0,multiline:!0,rows:3}),i.jsxs(Ya,{fullWidth:!0,children:[i.jsx(tl,{children:"Форма организации"}),i.jsxs(ao,{value:L.organizationType,onChange:N=>I({...L,organizationType:N.target.value}),label:"Форма организации",children:[i.jsx(Jn,{value:"ИП",children:"ИП"}),i.jsx(Jn,{value:"ООО",children:"ООО"}),i.jsx(Jn,{value:"Самозанятый",children:"Самозанятый"})]})]}),i.jsx(Ft,{label:"ИНН",value:L.inn,onChange:N=>I({...L,inn:N.target.value}),fullWidth:!0}),i.jsx(Ft,{label:"Расчетный счет",value:L.bankAccount,onChange:N=>I({...L,bankAccount:N.target.value}),fullWidth:!0})]})]}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:()=>{w(!1),p(""),I({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),i.jsx(Dt,{onClick:async()=>{try{if(!L.name||!L.address||!L.city||!L.phone||!L.email){p("Заполните все обязательные поля");return}const N=zt(Tt($e,"venues"),Ct("email","==",L.email));if(!(await Wt(N)).empty){p("Клуб с таким email уже существует");return}const P={name:L.name,address:L.address,city:L.city,phone:L.phone,email:L.email,description:L.description||"",organizationType:L.organizationType,inn:L.inn||"",bankAccount:L.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!Bs.currentUser){p("Необходимо авторизоваться");return}if(!t){p("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",P),console.log("Firebase auth current user:",Bs.currentUser);const D=await va(Tt($e,"venues"),P);console.log("Venue created with ID:",D.id),await va(Tt($e,"subscriptions"),{venueId:D.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await va(Tt($e,"admins"),{name:"Администратор",email:L.email,password:"123456",role:"admin",venueId:D.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),w(!1),p(""),I({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),U(),alert(`Клуб "${L.name}" успешно создан! Администратор: ${L.email}, пароль: 123456`)}catch(N){console.error("Error creating venue:",N),console.error("Error details:",{code:N==null?void 0:N.code,message:N==null?void 0:N.message,stack:N==null?void 0:N.stack}),p("Ошибка при создании клуба: "+((N==null?void 0:N.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function fp(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function pp(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const MC={start:"Старт",standard:"Стандарт",pro:"Профи"},gp={start:0,standard:990,pro:1990},yY={start:["До 2 кортов","Email без ограничений","SMS от 6₽/шт","Тренеры","Менеджер 3 месяца"],standard:["От 1 корта","500 SMS/Email в месяц","CRM система","Маркетинг","3 месяца бесплатно"],pro:["От 1 корта","SMS/Email без лимитов","API доступ","Мультиплощадки","Персональный менеджер"]};function xY(){var k;const{admin:e}=hr(),{isSuperAdmin:t}=Kr(),[n,r]=b.useState(null),[s,a]=b.useState(!0),[o,l]=b.useState(null),[A,c]=b.useState([]),[u,d]=b.useState(null),[p,h]=b.useState(!1),[m,g]=b.useState(""),[y,x]=b.useState(1),[C,S]=b.useState(!1),[w,L]=b.useState(null);b.useEffect(()=>{if(t){const j=localStorage.getItem("selectedVenueId");j&&r(j),a(!1)}else e!=null&&e.venueId&&(r(e.venueId),a(!1))},[e,t]),b.useEffect(()=>{const j=n||(e==null?void 0:e.venueId);if(!j)return;const M=Ii(zt(Tt($e,"subscriptions"),Ct("venueId","==",j),uc(1)),P=>{if(P.empty)l(null);else{const D=P.docs[0];l({id:D.id,...D.data()})}}),N=Ii(zt(Tt($e,"invoices"),Ct("venueId","==",j),f5("createdAt","desc"),uc(20)),P=>{const D=P.docs.map(W=>({id:W.id,...W.data()}));c(D)}),$=Ii(zt(Tt($e,"payment_methods"),Ct("venueId","==",j),Ct("isDefault","==",!0),uc(1)),P=>{if(P.empty)d(null);else{const D=P.docs[0];d({id:D.id,...D.data()})}});return()=>{M(),N(),$()}},[n,e==null?void 0:e.venueId]);const I=j=>{r(j),localStorage.setItem("selectedVenueId",j)},U=async()=>{if(!(!m||!y)){S(!0),L(null);try{const j=es(Jo,"initSubscriptionPayment"),M=n||(e==null?void 0:e.venueId),$=(await j({venueId:M,planKey:m,amount:gp[m]*y,courtsCount:y})).data;if($.success&&$.paymentUrl)window.open($.paymentUrl,"_blank"),h(!1);else throw new Error("Failed to initialize payment")}catch(j){console.error("Payment initialization error:",j),L(j.message||"Ошибка при инициализации платежа")}finally{S(!1)}}},_=j=>{const M={active:{label:"Активна",color:"success",icon:i.jsx(km,{})},pending_payment:{label:"Ожидает оплаты",color:"warning",icon:i.jsx(cg,{})},payment_failed:{label:"Ошибка оплаты",color:"error",icon:i.jsx(Yl,{})},cancelled:{label:"Отменена",color:"default",icon:i.jsx(Ga,{})}},N=M[j]||M.cancelled;return i.jsx(Di,{label:N.label,color:N.color,size:"small",icon:N.icon})},F=j=>{const M={pending:{label:"Ожидает",color:"default"},processing:{label:"Обработка",color:"info"},paid:{label:"Оплачен",color:"success"},failed:{label:"Ошибка",color:"error"},refunded:{label:"Возврат",color:"warning"}},N=M[j]||M.pending;return i.jsx(Di,{label:N.label,color:N.color,size:"small"})};if(s)return i.jsx(Ue,{sx:{width:"100%"},children:i.jsx(lj,{})});const R=o!=null&&o.endDate?Math.floor((o.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return t&&!n?i.jsx(aA,{title:"Выберите клуб для управления подпиской"}):i.jsxs(Ue,{sx:{p:3},children:[t&&i.jsx(iA,{selectedVenueId:n,onVenueChange:I}),i.jsx(te,{variant:"h5",gutterBottom:!0,children:"Управление подпиской"}),w&&i.jsx(Jt,{severity:"error",sx:{mb:3},onClose:()=>L(null),children:w}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Текущий тариф"}),o?i.jsxs(dt,{container:!0,spacing:3,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(XA,{spacing:2,children:[i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Тариф"}),i.jsx(te,{variant:"h4",children:MC[o.plan]})]}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Статус"}),_(o.status)]}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Количество кортов"}),i.jsx(te,{variant:"body1",children:o.courtsCount})]}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Стоимость в месяц"}),i.jsx(te,{variant:"h5",children:fp(gp[o.plan]*o.courtsCount)})]})]})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(XA,{spacing:2,children:[i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Активна до"}),i.jsx(te,{variant:"body1",children:o.endDate?pp(o.endDate.toDate()):"Бессрочно"}),R>0&&R<=7&&i.jsxs(te,{variant:"caption",color:"warning.main",children:["Осталось ",R," дней"]})]}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Автопродление"}),i.jsx(te,{variant:"body1",children:o.autoRenewal?"Включено":"Отключено"})]}),o.lastPaymentAt&&i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Последний платеж"}),i.jsx(te,{variant:"body1",children:pp(o.lastPaymentAt.toDate())})]}),o.status==="payment_failed"&&o.gracePeriodEnd&&i.jsx(Jt,{severity:"error",sx:{mt:2},children:i.jsxs(te,{variant:"body2",children:["Последний платеж не прошел. Подписка будет приостановлена"," ",pp(o.gracePeriodEnd.toDate()),", если оплата не поступит."]})})]})})]}):i.jsx(Jt,{severity:"info",children:"У вас нет активной подписки"}),i.jsx(bi,{sx:{my:3}}),i.jsxs(XA,{direction:"row",spacing:2,children:[i.jsx(Dt,{variant:"contained",onClick:()=>{g((o==null?void 0:o.plan)||"standard"),x((o==null?void 0:o.courtsCount)||1),h(!0)},children:"Изменить тариф"}),!u&&i.jsx(Dt,{variant:"outlined",startIcon:i.jsx(E1,{}),onClick:()=>{alert("Функция привязки карты будет добавлена")},children:"Привязать карту"})]})]})}),u&&i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Способ оплаты"}),i.jsxs(XA,{direction:"row",spacing:2,alignItems:"center",children:[i.jsx(E1,{fontSize:"large",color:"action"}),i.jsxs(Ue,{children:[i.jsxs(te,{variant:"body1",children:[u.brand," •••• ",u.last4]}),i.jsxs(te,{variant:"caption",color:"text.secondary",children:["Действует до ",u.expiryMonth,"/",u.expiryYear]})]})]})]})}),i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"История платежей"}),A.length>0?i.jsx(Th,{component:$n,variant:"outlined",children:i.jsxs(Fh,{children:[i.jsx(_h,{children:i.jsxs(Sa,{children:[i.jsx(Yt,{children:"Дата"}),i.jsx(Yt,{children:"Описание"}),i.jsx(Yt,{children:"Сумма"}),i.jsx(Yt,{children:"Статус"}),i.jsx(Yt,{align:"right",children:"Действия"})]})}),i.jsx(Nh,{children:A.map(j=>i.jsxs(Sa,{children:[i.jsx(Yt,{children:pp(j.createdAt.toDate())}),i.jsx(Yt,{children:j.description}),i.jsx(Yt,{children:fp(j.amount)}),i.jsx(Yt,{children:F(j.status)}),i.jsx(Yt,{align:"right",children:i.jsx(Dt,{size:"small",startIcon:i.jsx(bj,{}),onClick:()=>{alert("Функция скачивания чека будет добавлена")},children:"Чек"})})]},j.id))})]})}):i.jsx(te,{color:"text.secondary",children:"История платежей пуста"})]})}),i.jsxs(so,{open:p,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[i.jsx(el,{children:"Изменить тариф"}),i.jsx(io,{children:i.jsxs(XA,{spacing:3,sx:{mt:2},children:[i.jsx(Ft,{select:!0,fullWidth:!0,label:"Тариф",value:m,onChange:j=>g(j.target.value),children:Object.entries(MC).filter(([j])=>j!=="start").map(([j,M])=>i.jsxs(Jn,{value:j,children:[M," - ",fp(gp[j])," за корт/месяц"]},j))}),i.jsx(Ft,{type:"number",fullWidth:!0,label:"Количество кортов",value:y,onChange:j=>x(parseInt(j.target.value)||1),inputProps:{min:1,max:100}}),m&&i.jsxs(i.Fragment,{children:[i.jsxs(Ue,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[i.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Возможности тарифа:"}),i.jsx("ul",{style:{margin:0,paddingLeft:20},children:(k=yY[m])==null?void 0:k.map((j,M)=>i.jsx("li",{children:i.jsx(te,{variant:"body2",children:j})},M))})]}),i.jsx(bi,{}),i.jsxs(Ue,{sx:{textAlign:"center"},children:[i.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Итого к оплате:"}),i.jsx(te,{variant:"h4",children:fp(gp[m]*y)}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"в месяц"})]})]})]})}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:()=>h(!1),children:"Отмена"}),i.jsx(Dt,{variant:"contained",onClick:U,disabled:!m||!y||C,startIcon:C?i.jsx(cg,{}):i.jsx(ql,{}),children:C?"Обработка...":"Перейти к оплате"})]})]})]})}const QC=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]}];function bY(){const{admin:e,club:t}=hr(),{isSuperAdmin:n}=Kr(),[r,s]=b.useState(null),[a,o]=b.useState(!0),[l,A]=b.useState(!1),[c,u]=b.useState(!0),[d,p]=b.useState(!1),[h,m]=b.useState(""),[g,y]=b.useState({}),[x,C]=b.useState(!1),[S,w]=b.useState(null),[L,I]=b.useState(0),[U,_]=b.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0});b.useEffect(()=>{if(n){const P=localStorage.getItem("selectedVenueId");P?(s(P),R(P)):o(!1)}else e!=null&&e.venueId&&R(e.venueId)},[e,n]);const F=P=>{s(P),localStorage.setItem("selectedVenueId",P),P&&R(P)},R=async P=>{const D=P||(e==null?void 0:e.venueId);if(D)try{o(!0);const W=await rn(bt($e,"venues",D));if(W.exists()){const G=W.data();p(G.paymentEnabled||!1),u(G.paymentTestMode!==!1),m(G.paymentProvider||""),G.paymentCredentials&&y(G.paymentCredentials),G.enabledPaymentMethods?_(G.enabledPaymentMethods):_({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),G.paymentProvider&&G.paymentCredentials?I(2):G.paymentProvider&&I(1)}o(!1)}catch(W){console.error("Error loading payment settings:",W),o(!1)}},k=P=>{m(P),y({}),I(1)},j=(P,D)=>{y(W=>({...W,[P]:D}))},M=async()=>{const P=n?r:e==null?void 0:e.venueId;if(!(!P||!h)){A(!0);try{const W={paymentEnabled:d,paymentTestMode:h==="yookassa"?!1:c,paymentProvider:h,paymentCredentials:g,enabledPaymentMethods:U,paymentUpdatedAt:new Date};console.log("Saving payment settings:",{venueId:P,...W}),await Nn(bt($e,"venues",P),W),I(2),alert("Настройки успешно сохранены")}catch(D){console.error("Error saving payment settings:",D),alert("Ошибка при сохранении настроек")}finally{A(!1)}}},N=async()=>{C(!0),w(null);const P=n?r:e==null?void 0:e.venueId;if(!(!P||!h))try{const W=await(await rh(async()=>{const{httpsCallable:G}=await Promise.resolve().then(()=>$D);return{httpsCallable:G}},void 0)).httpsCallable((await rh(async()=>{const{functions:G}=await Promise.resolve().then(()=>WD);return{functions:G}},void 0)).functions,"testPaymentConnection")({venueId:P,provider:h,credentials:g});w(W.data)}catch(D){console.error("Error testing connection:",D),w({success:!1,message:D.message||"Ошибка при проверке подключения"})}};if(a)return i.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:i.jsx(Rr,{})});if(n&&!r)return i.jsx(aA,{title:"Выберите клуб для настройки оплаты"});const $=QC.find(P=>P.id===h);return i.jsxs(Ue,{children:[n&&i.jsx(iA,{selectedVenueId:r,onVenueChange:F}),i.jsx(te,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[i.jsxs(Ue,{children:[i.jsx(te,{variant:"h6",children:"Статус платежей"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:d?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),i.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,children:[h!=="yookassa"&&i.jsx(As,{control:i.jsx(ni,{checked:c,onChange:P=>u(P.target.checked),disabled:!d}),label:"Тестовый режим"}),i.jsx(Di,{icon:d?i.jsx(Qo,{}):i.jsx(Yl,{}),label:d?"Подключено":"Не подключено",color:d?"success":"default"})]})]}),d&&$&&i.jsxs(Ue,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[i.jsxs(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",i.jsx("strong",{children:$.name})]}),i.jsxs(te,{variant:"body2",color:"text.secondary",children:["Комиссия: ",i.jsxs("strong",{children:[$.commission,"%"]})]})]})]})}),i.jsxs(y7,{activeStep:L,orientation:"vertical",children:[i.jsxs(av,{children:[i.jsx(Np,{children:"Выберите платежного провайдера"}),i.jsxs(Av,{children:[i.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),i.jsx(Ue,{sx:{mt:2,mb:3},children:QC.map(P=>i.jsx($n,{sx:{p:2,mb:2,cursor:"pointer",border:h===P.id?2:1,borderColor:h===P.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>k(P.id),children:i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,children:[i.jsx(pj,{color:"action"}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle1",children:P.name}),i.jsxs(te,{variant:"body2",color:"text.secondary",children:["Комиссия: ",P.commission,"%"]})]})]}),h===P.id&&i.jsx(Qo,{color:"primary"})]})},P.id))}),i.jsx(Dt,{variant:"contained",onClick:()=>I(1),disabled:!h,children:"Продолжить"})]})]}),i.jsxs(av,{children:[i.jsx(Np,{children:"Введите данные для подключения"}),i.jsx(Av,{children:$&&i.jsxs(i.Fragment,{children:[i.jsxs(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",$.name]}),h==="yookassa"&&i.jsx(Jt,{severity:"info",sx:{mt:2,mb:2},children:"YooKassa не поддерживает тестовый режим через API. Используйте реальные ключи и проводите тестовые платежи на небольшие суммы с последующим возвратом."}),i.jsx(Ue,{sx:{mt:2},children:$.fields.map(P=>{var D;return i.jsx(Ue,{sx:{mb:2},children:P.type==="select"?i.jsxs(Ya,{fullWidth:!0,children:[i.jsx(tl,{children:P.label}),i.jsx(ao,{value:g[P.name]||"",onChange:W=>j(P.name,W.target.value),required:P.required,children:(D=P.options)==null?void 0:D.map(W=>i.jsx(Jn,{value:W.value,children:W.label},W.value))})]}):i.jsx(Ft,{fullWidth:!0,label:P.label,type:P.type,value:g[P.name]||"",onChange:W=>j(P.name,W.target.value),required:P.required,placeholder:P.placeholder,helperText:P.name==="secretKey"&&h==="yookassa"?"Используйте OAuth токен (live_xxx или test_xxx). Для возвратов токен должен иметь права refunds:write":P.placeholder})},P.name)})}),i.jsx(Jt,{severity:"warning",icon:i.jsx(Ux,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),i.jsxs(Ue,{sx:{mt:2},children:[i.jsx(Dt,{variant:"contained",onClick:M,disabled:l||!$.fields.every(P=>!P.required||g[P.name]),startIcon:l?i.jsx(Rr,{size:20}):i.jsx(Hc,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),i.jsx(Dt,{sx:{ml:1},onClick:()=>I(0),children:"Назад"})]})]})})]}),i.jsxs(av,{children:[i.jsx(Np,{children:"Проверка подключения"}),i.jsxs(Av,{children:[i.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),i.jsx(Ue,{sx:{mt:3},children:i.jsx(Dt,{variant:"contained",onClick:N,startIcon:i.jsx(r$,{}),children:"Проверить подключение"})}),d&&i.jsxs(i.Fragment,{children:[i.jsxs(Jt,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",h==="yookassa"?" YooKassa работает только с реальными платежами.":c&&" Не забудьте отключить тестовый режим для приема реальных платежей."]}),i.jsxs(Ue,{sx:{mt:2,mb:2},children:[i.jsx(Dt,{variant:"outlined",color:"primary",onClick:()=>{I(1),p(!1)},children:"Изменить настройки платежей"}),h==="yookassa"&&i.jsx(te,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Если возвраты не работают, создайте новый OAuth токен с правами на возвраты в личном кабинете YooKassa"})]}),h==="yookassa"&&i.jsxs(Jt,{severity:"warning",icon:i.jsx(yj,{}),sx:{mt:2},children:[i.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Важно! Для завершения настройки YooKassa:"}),i.jsxs(Ue,{component:"ol",sx:{pl:2,mb:0},children:[i.jsx("li",{children:"Войдите в личный кабинет YooKassa"}),i.jsx("li",{children:'Перейдите в раздел "Настройки" → "Уведомления" → "HTTP-уведомления"'}),i.jsxs("li",{children:["Укажите URL для уведомлений: ",i.jsx("strong",{children:"https://allcourt.ru/api/webhooks/yookassa"})]}),i.jsx("li",{children:'Выберите события: "Успешная оплата", "Отмена платежа", "Возврат платежа"'}),i.jsx("li",{children:"Сохраните настройки"})]}),i.jsxs(te,{variant:"body2",sx:{mt:1},children:[i.jsx("strong",{children:"Важно!"})," Без настройки webhook в личном кабинете YooKassa статусы платежей не будут обновляться автоматически."]})]})]})]})]})]}),i.jsx(tn,{sx:{mt:4},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Доступные способы оплаты в админ-панели"}),i.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Выберите, какие способы оплаты будут доступны администраторам при создании бронирований. Онлайн оплата всегда доступна и не может быть отключена."}),i.jsxs(ij,{children:[i.jsx(As,{control:i.jsx(Sl,{checked:U.cash,onChange:P=>_(D=>({...D,cash:P.target.checked}))}),label:i.jsxs(Ue,{children:[i.jsx(te,{children:"Оплата в клубе наличными"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),i.jsx(As,{control:i.jsx(Sl,{checked:U.card_on_site,onChange:P=>_(D=>({...D,card_on_site:P.target.checked}))}),label:i.jsxs(Ue,{children:[i.jsx(te,{children:"Оплата в клубе картой"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),i.jsx(As,{control:i.jsx(Sl,{checked:U.transfer,onChange:P=>_(D=>({...D,transfer:P.target.checked}))}),label:i.jsxs(Ue,{children:[i.jsx(te,{children:"Перевод на р.счет клуба (юр.лицо)"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),i.jsx(As,{control:i.jsx(Sl,{checked:U.sberbank_card,onChange:P=>_(D=>({...D,sberbank_card:P.target.checked}))}),label:i.jsxs(Ue,{children:[i.jsx(te,{children:"На карту Сбербанка"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})}),i.jsx(As,{control:i.jsx(Sl,{checked:U.tbank_card,onChange:P=>_(D=>({...D,tbank_card:P.target.checked}))}),label:i.jsxs(Ue,{children:[i.jsx(te,{children:"На карту Т-Банка"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})}),i.jsx(As,{control:i.jsx(Sl,{checked:U.vtb_card,onChange:P=>_(D=>({...D,vtb_card:P.target.checked}))}),label:i.jsxs(Ue,{children:[i.jsx(te,{children:"На карту ВТБ"}),i.jsx(te,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})})]}),i.jsx(Ue,{sx:{mt:3},children:i.jsx(Dt,{variant:"contained",onClick:async()=>{const P=n?r:e==null?void 0:e.venueId;if(P)try{A(!0),await Nn(bt($e,"venues",P),{enabledPaymentMethods:U,paymentMethodsUpdatedAt:new Date}),alert("Настройки способов оплаты сохранены")}catch(D){console.error("Error saving payment methods:",D),alert("Ошибка при сохранении настроек")}finally{A(!1)}},disabled:l,startIcon:l?i.jsx(Rr,{size:20}):i.jsx(Hc,{}),children:l?"Сохранение...":"Сохранить настройки способов оплаты"})})]})}),i.jsx(tn,{sx:{mt:4},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),i.jsxs(Zd,{children:[i.jsxs(Ka,{children:[i.jsx(rv,{children:i.jsx(Qo,{color:"success"})}),i.jsx(Va,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),i.jsxs(Ka,{children:[i.jsx(rv,{children:i.jsx(Qo,{color:"success"})}),i.jsx(Va,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),i.jsxs(Ka,{children:[i.jsx(rv,{children:i.jsx(Qo,{color:"success"})}),i.jsx(Va,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),i.jsxs(so,{open:x,onClose:()=>C(!1),children:[i.jsx(el,{children:"Проверка подключения"}),i.jsx(io,{children:S?i.jsx(Jt,{severity:S.success?"success":"error",sx:{mt:1},children:S.message}):i.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,py:2,children:[i.jsx(Rr,{size:24}),i.jsx(te,{children:"Проверяем подключение..."})]})}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:()=>C(!1),children:"Закрыть"}),(S==null?void 0:S.success)&&i.jsx(Dt,{variant:"contained",onClick:async()=>{p(!0),C(!1);const P=n?r:e==null?void 0:e.venueId;if(!(!P||!h)){A(!0);try{const W={paymentEnabled:!0,paymentTestMode:h==="yookassa"?!1:c,paymentProvider:h,paymentCredentials:g,paymentUpdatedAt:new Date};console.log("Activating payments:",{venueId:P,...W}),await Nn(bt($e,"venues",P),W),I(2),alert("Платежи успешно активированы!")}catch(D){console.error("Error activating payments:",D),alert("Ошибка при активации платежей")}finally{A(!1)}}},children:"Активировать платежи"})]})]})]})}function wY(){const{isSuperAdmin:e}=Kr(),[t,n]=b.useState(!0),[r,s]=b.useState(!1),[a,o]=b.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,A]=b.useState(!1),[c,u]=b.useState(!1),[d,p]=b.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[h,m]=b.useState(null),[g,y]=b.useState({}),[x,C]=b.useState(null);b.useEffect(()=>{S(),w(),L()},[]);const S=async()=>{try{const _=bt($e,"settings","billing"),F=await rn(_);if(F.exists()){const R=F.data();o(R)}}catch(_){console.error("Error loading billing config:",_)}finally{n(!1)}},w=async()=>{try{const _=zt(Tt($e,"subscriptions"),Ct("status","==","active")),F=await Wt(_);p({totalRevenue:0,activeSubscriptions:F.size,pendingPayments:0,failedPayments:0})}catch(_){console.error("Error loading billing stats:",_)}},L=()=>{const _={};Object.entries(Aa).filter(([F])=>F!=="premium").forEach(([F,R])=>{_[F]=R.pricePerCourt||R.price}),y(_)},I=async()=>{try{s(!0);const _=bt($e,"settings","billing");await by(_,{...a,updatedAt:new Date},{merge:!0}),A(!1),C({type:"success",text:"Настройки биллинга сохранены"}),setTimeout(()=>C(null),3e3)}catch(_){console.error("Error saving billing config:",_),C({type:"error",text:"Ошибка при сохранении настроек"}),setTimeout(()=>C(null),3e3)}finally{s(!1)}},U=async _=>{try{C({type:"success",text:`Цена тарифа ${Aa[_].name} обновлена на ${g[_]}₽ за корт/месяц`}),m(null),setTimeout(()=>C(null),3e3)}catch(F){console.error("Error updating plan price:",F),C({type:"error",text:"Ошибка при обновлении цены"}),setTimeout(()=>C(null),3e3)}};return e?t?i.jsx(Ue,{sx:{display:"flex",justifyContent:"center",p:3},children:i.jsx(Rr,{})}):i.jsx(lu,{requiredPermission:"superadmin",children:i.jsxs(Ue,{sx:{p:3},children:[i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),i.jsx(te,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),x&&i.jsx(Jt,{severity:x.type,sx:{mb:3},onClose:()=>C(null),children:x.text}),i.jsxs(dt,{container:!0,spacing:3,sx:{mb:3},children:[i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(Fm,{color:"primary"}),i.jsx(te,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),i.jsxs(te,{variant:"h5",children:[d.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(vc,{color:"success"}),i.jsx(te,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),i.jsx(te,{variant:"h5",children:d.activeSubscriptions})]})})}),i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(vc,{color:"warning"}),i.jsx(te,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),i.jsx(te,{variant:"h5",children:d.pendingPayments})]})})}),i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(vc,{color:"error"}),i.jsx(te,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),i.jsx(te,{variant:"h5",children:d.failedPayments})]})})})]}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[i.jsx(te,{variant:"h6",children:"Настройки Т-Банк"}),l?i.jsxs(Ue,{children:[i.jsx(Dt,{startIcon:i.jsx(Ga,{}),onClick:()=>{A(!1),S()},sx:{mr:1},children:"Отмена"}),i.jsx(Dt,{startIcon:i.jsx(Hc,{}),onClick:I,variant:"contained",disabled:r,children:"Сохранить"})]}):i.jsx(Dt,{startIcon:i.jsx(Rc,{}),onClick:()=>A(!0),variant:"outlined",children:"Редактировать"})]}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Terminal Key",value:a.tbank.terminalKey,onChange:_=>o({...a,tbank:{...a.tbank,terminalKey:_.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Password",type:c?"text":"password",value:a.tbank.password,onChange:_=>o({...a,tbank:{...a.tbank,password:_.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&i.jsx(Dt,{size:"small",onClick:()=>u(!c),children:c?"Скрыть":"Показать"})}})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(Ft,{label:"Notification URL",value:a.tbank.notificationUrl,onChange:_=>o({...a,tbank:{...a.tbank,notificationUrl:_.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),i.jsxs(dt,{item:!0,xs:12,children:[i.jsx(As,{control:i.jsx(ni,{checked:a.tbank.testMode,onChange:_=>o({...a,tbank:{...a.tbank,testMode:_.target.checked}}),disabled:!l}),label:"Тестовый режим"}),a.tbank.testMode&&i.jsx(Jt,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,children:i.jsx(As,{control:i.jsx(ni,{checked:a.autoRenewal,onChange:_=>o({...a,autoRenewal:_.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Льготный период (дней)",type:"number",value:a.gracePeriodDays,onChange:_=>o({...a,gracePeriodDays:parseInt(_.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),i.jsx(Jt,{severity:"info",sx:{mb:2},children:i.jsxs(te,{variant:"body2",children:["Актуальная тарифная сетка: ",i.jsx("strong",{children:"Старт"})," (бесплатно до 2 кортов),",i.jsx("strong",{children:" Стандарт"})," (990₽/корт), ",i.jsx("strong",{children:"Профи"})," (1990₽/корт). SMS-уведомления тарифицируются отдельно: 6₽ за сообщение."]})}),i.jsx(Th,{component:$n,variant:"outlined",children:i.jsxs(Fh,{children:[i.jsx(_h,{children:i.jsxs(Sa,{children:[i.jsx(Yt,{children:"Тариф"}),i.jsx(Yt,{children:"Основные возможности"}),i.jsx(Yt,{align:"right",children:"Цена"}),i.jsx(Yt,{align:"center",children:"Лимиты"}),i.jsx(Yt,{align:"center",children:"Статус"}),i.jsx(Yt,{align:"center",children:"Действия"})]})}),i.jsx(Nh,{children:Object.entries(Aa).filter(([_])=>_!=="premium").map(([_,F])=>i.jsxs(Sa,{children:[i.jsx(Yt,{children:i.jsx(te,{variant:"subtitle2",children:F.name})}),i.jsx(Yt,{children:i.jsxs(Ue,{children:[i.jsx(te,{variant:"body2",color:"textSecondary",children:F.features[0]}),_==="standard"&&i.jsx(Di,{label:"3 месяца бесплатно",size:"small",color:"primary",sx:{mt:.5}})]})}),i.jsx(Yt,{align:"right",children:h===_?i.jsx(Ft,{type:"number",value:g[_],onChange:R=>y({...g,[_]:parseInt(R.target.value)||0}),size:"small",sx:{width:120},InputProps:{endAdornment:i.jsx(te,{variant:"caption",children:"₽/корт"})}}):i.jsx(te,{children:_==="start"?"Бесплатно":`${(F.pricePerCourt||F.price).toLocaleString("ru-RU")} ₽/корт`})}),i.jsx(Yt,{align:"center",children:i.jsxs(Ue,{children:[_==="start"&&i.jsx(te,{variant:"caption",children:"До 2 кортов"}),_==="standard"&&i.jsx(te,{variant:"caption",children:"500 SMS/Email"}),_==="pro"&&i.jsx(te,{variant:"caption",children:"Без лимитов"})]})}),i.jsx(Yt,{align:"center",children:i.jsx(Di,{label:"Активен",color:"success",size:"small"})}),i.jsx(Yt,{align:"center",children:h===_?i.jsxs(i.Fragment,{children:[i.jsx(Ds,{size:"small",onClick:()=>U(_),color:"primary",children:i.jsx(Hc,{})}),i.jsx(Ds,{size:"small",onClick:()=>{m(null),L()},children:i.jsx(Ga,{})})]}):i.jsx(Ds,{size:"small",onClick:()=>m(_),disabled:_==="start",children:i.jsx(Rc,{})})})]},_))})]})}),i.jsxs(Ue,{sx:{mt:2},children:[i.jsx(te,{variant:"body2",color:"textSecondary",children:"* SMS-уведомления тарифицируются отдельно по 6₽ за сообщение для всех тарифов"}),i.jsx(te,{variant:"body2",color:"textSecondary",children:"* Тариф Стандарт включает 500 SMS/Email уведомлений суммарно на клуб в месяц"}),i.jsx(te,{variant:"body2",color:"textSecondary",children:"* Тариф Профи включает неограниченные SMS/Email уведомления"})]})]})})]})}):i.jsx(Ue,{sx:{p:3},children:i.jsx(Jt,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function BY(){const{admin:e}=hr(),{isSuperAdmin:t}=Kr(),[n,r]=b.useState(null),[s,a]=b.useState("Europe/Moscow"),[o,l]=b.useState(!0),[A,c]=b.useState("month"),[u,d]=b.useState("all"),[p,h]=b.useState(""),[m,g]=b.useState(""),[y,x]=b.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[C,S]=b.useState([]),w=()=>{const U=new Date;let _=new Date,F=new Date;switch(A){case"today":return"Сегодня";case"yesterday":return"Вчера";case"week":return _.setDate(U.getDate()-7),`${_.toLocaleDateString("ru-RU")} - ${F.toLocaleDateString("ru-RU")}`;case"month":_.setMonth(U.getMonth(),1);const R=U.toLocaleDateString("ru-RU",{month:"long",year:"numeric"});return R.charAt(0).toUpperCase()+R.slice(1);case"year":return U.getFullYear().toString();case"custom":return p&&m?`${new Date(p).toLocaleDateString("ru-RU")} - ${new Date(m).toLocaleDateString("ru-RU")}`:"Выберите даты";default:return""}};b.useEffect(()=>{if(t){const U=localStorage.getItem("selectedVenueId");U?(r(U),I(U)):l(!1)}else e!=null&&e.venueId&&I(e.venueId)},[e,t,A,u]);const L=U=>{r(U),localStorage.setItem("selectedVenueId",U),U&&I(U)},I=async U=>{const _=U||(e==null?void 0:e.venueId);if(_)try{l(!0);const F=bt($e,"venues",_),R=await rn(F);if(R.exists()){const T=R.data().timezone||"Europe/Moscow";a(T),console.log("Club timezone:",T)}const k=new Date;let j=new Date,M=new Date;switch(A){case"today":j.setHours(0,0,0,0),M.setHours(23,59,59,999);break;case"yesterday":j.setDate(k.getDate()-1),j.setHours(0,0,0,0),M.setDate(k.getDate()-1),M.setHours(23,59,59,999);break;case"week":j.setDate(k.getDate()-7);break;case"month":j.setMonth(k.getMonth()-1);break;case"year":j.setFullYear(k.getFullYear()-1);break;case"custom":p&&m?(j=new Date(p),M=new Date(m),M.setHours(23,59,59,999)):j.setMonth(k.getMonth()-1);break}console.log("Loading finance data for venue:",_),console.log("Period:",A,"Start date:",j);const N=zt(Tt($e,"bookings"),Ct("venueId","==",_)),$=await Wt(N);console.log("Total bookings found:",$.size);let P=$.docs.map(le=>{const T=le.data();return{id:le.id,...T,date:Eg(T.date,s),paymentStatus:T.paymentStatus||"awaiting_payment",paymentMethod:T.paymentMethod||"cash"}});P=P.filter(le=>{if(!le.date)return!1;const T=new Date(le.date);return A==="custom"&&m||A==="today"||A==="yesterday"?T>=j&&T<=M&&le.status==="confirmed":T>=j&&le.status==="confirmed"}),console.log("Bookings after date filter:",P.length),P=P.filter(le=>le.paymentStatus==="paid"),console.log("Paid bookings:",P.length),u!=="all"&&(P=P.filter(le=>le.paymentMethod===u));const D=P.reduce((le,T)=>le+(T.amount||0),0),W=P.length,G=W>0?D/W:0;x({totalRevenue:D,bookingsCount:W,averageCheck:G,revenueChange:15.5});const Z=P.reduce((le,T)=>{var Q;const H=(Q=T.date)==null?void 0:Q.toLocaleDateString("ru-RU");return le[H]||(le[H]={date:T.date,bookings:0,revenue:0}),le[H].bookings++,le[H].revenue+=T.amount||0,le},{});S(Object.values(Z).slice(0,10))}catch(F){console.error("Error loading finance data:",F)}finally{l(!1)}};return o?i.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:i.jsx(Rr,{})}):t&&!n?i.jsx(aA,{title:"Выберите клуб для просмотра финансов"}):i.jsxs(Ue,{children:[t&&i.jsx(iA,{selectedVenueId:n,onVenueChange:L}),i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[i.jsx(te,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),i.jsxs(Ue,{display:"flex",gap:2,children:[i.jsxs(Ya,{size:"small",sx:{minWidth:150},children:[i.jsx(tl,{children:"Способ оплаты"}),i.jsxs(ao,{value:u,label:"Способ оплаты",onChange:U=>d(U.target.value),children:[i.jsx(Jn,{value:"all",children:"Все"}),i.jsx(Jn,{value:"cash",children:"Наличные"}),i.jsx(Jn,{value:"card_on_site",children:"Карта на месте"}),i.jsx(Jn,{value:"transfer",children:"Перевод"}),i.jsx(Jn,{value:"online",children:"Онлайн оплата"}),i.jsx(Jn,{value:"sberbank_card",children:"Карта Сбербанк"}),i.jsx(Jn,{value:"tbank_card",children:"Карта Т-Банк"}),i.jsx(Jn,{value:"vtb_card",children:"Карта ВТБ"})]})]}),i.jsxs(Ya,{size:"small",sx:{minWidth:120},children:[i.jsx(tl,{children:"Период"}),i.jsxs(ao,{value:A,label:"Период",onChange:U=>c(U.target.value),children:[i.jsx(Jn,{value:"today",children:"Сегодня"}),i.jsx(Jn,{value:"yesterday",children:"Вчера"}),i.jsx(Jn,{value:"week",children:"Неделя"}),i.jsx(Jn,{value:"month",children:"Месяц"}),i.jsx(Jn,{value:"year",children:"Год"}),i.jsx(Jn,{value:"custom",children:"Персональный период"})]})]})]})]}),A==="custom"&&i.jsxs(Ue,{display:"flex",gap:2,mb:3,children:[i.jsx(Ft,{label:"Начальная дата",type:"date",value:p,onChange:U=>h(U.target.value),size:"small",InputLabelProps:{shrink:!0}}),i.jsx(Ft,{label:"Конечная дата",type:"date",value:m,onChange:U=>g(U.target.value),size:"small",InputLabelProps:{shrink:!0}}),i.jsx(Dt,{variant:"contained",size:"small",onClick:()=>I(n||(e==null?void 0:e.venueId)),disabled:!p||!m,children:"Применить"})]}),i.jsx(Ue,{mb:3,children:i.jsxs(te,{variant:"body2",color:"text.secondary",children:["Период: ",w()]})}),i.jsxs(dt,{container:!0,spacing:3,mb:4,children:[i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[i.jsx(ql,{color:"primary"}),i.jsx(Di,{size:"small",label:`+${y.revenueChange}%`,color:"success",icon:i.jsx(Fm,{})})]}),i.jsx(te,{color:"text.secondary",variant:"body2",children:"Общий доход"}),i.jsxs(te,{variant:"h5",component:"div",children:[y.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:i.jsx(bj,{color:"primary"})}),i.jsx(te,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),i.jsx(te,{variant:"h5",component:"div",children:y.bookingsCount})]})})}),i.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:i.jsx(ql,{color:"primary"})}),i.jsx(te,{color:"text.secondary",variant:"body2",children:"Средний чек"}),i.jsxs(te,{variant:"h5",component:"div",children:[Math.round(y.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),i.jsx(Th,{component:$n,variant:"outlined",children:i.jsxs(Fh,{children:[i.jsx(_h,{children:i.jsxs(Sa,{children:[i.jsx(Yt,{children:"Дата"}),i.jsx(Yt,{align:"center",children:"Бронирований"}),i.jsx(Yt,{align:"right",children:"Сумма"})]})}),i.jsx(Nh,{children:C.map((U,_)=>{var F;return i.jsxs(Sa,{children:[i.jsx(Yt,{children:(F=U.date)==null?void 0:F.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),i.jsx(Yt,{align:"center",children:U.bookings}),i.jsxs(Yt,{align:"right",children:[U.revenue.toLocaleString("ru-RU")," ₽"]})]},_)})})]})})]})})]})}function CY(){const{admin:e}=hr(),{isSuperAdmin:t}=Kr(),[n,r]=b.useState(null),[s,a]=b.useState(!0),[o,l]=b.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[A,c]=b.useState(!1),[u,d]=b.useState({name:"",description:"",discount:10,validUntil:"",active:!0});b.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),h(x)):a(!1)}else e!=null&&e.venueId&&h(e.venueId)},[e,t]);const p=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&h(x)},h=async x=>{const C=x||(e==null?void 0:e.venueId);if(C)try{a(!0);const S=await rn(bt($e,"venues",C));if(S.exists()){const w=S.data();l({smsEnabled:w.marketingSms||!1,emailEnabled:w.marketingEmail||!1,pushEnabled:w.marketingPush||!1,promotions:w.promotions||[]})}}catch(S){console.error("Error loading marketing data:",S)}finally{a(!1)}},m=async x=>{const C=t?n:e==null?void 0:e.venueId;if(!C)return;const S=!o[x];try{await Nn(bt($e,"venues",C),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:S}),l(w=>({...w,[x]:S}))}catch(w){console.error("Error updating notification settings:",w)}},g=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const C={...u,id:Date.now().toString(),createdAt:new Date};try{const S=[...o.promotions,C];await Nn(bt($e,"venues",x),{promotions:S}),l(w=>({...w,promotions:S})),c(!1),d({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(S){console.error("Error creating promotion:",S)}},y=async x=>{const C=t?n:e==null?void 0:e.venueId;if(C)try{const S=o.promotions.filter(w=>w.id!==x);await Nn(bt($e,"venues",C),{promotions:S}),l(w=>({...w,promotions:S}))}catch(S){console.error("Error deleting promotion:",S)}};return s?i.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:i.jsx(Rr,{})}):t&&!n?i.jsx(aA,{title:"Выберите клуб для управления маркетингом"}):i.jsxs(Ue,{children:[t&&i.jsx(iA,{selectedVenueId:n,onVenueChange:p}),i.jsx(te,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),i.jsxs(dt,{container:!0,spacing:3,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),i.jsxs(Zd,{children:[i.jsxs(Ka,{children:[i.jsx(Va,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),i.jsx(Tl,{children:i.jsx(ni,{checked:o.smsEnabled,onChange:()=>m("smsEnabled")})})]}),i.jsxs(Ka,{children:[i.jsx(Va,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),i.jsx(Tl,{children:i.jsx(ni,{checked:o.emailEnabled,onChange:()=>m("emailEnabled")})})]}),i.jsxs(Ka,{children:[i.jsx(Va,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),i.jsx(Tl,{children:i.jsx(ni,{checked:o.pushEnabled,onChange:()=>m("pushEnabled")})})]})]})]})})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,children:i.jsx(Dt,{variant:"outlined",fullWidth:!0,startIcon:i.jsx(t$,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(Dt,{variant:"outlined",fullWidth:!0,startIcon:i.jsx(Cj,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(Dt,{variant:"outlined",fullWidth:!0,startIcon:i.jsx(L9,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[i.jsx(te,{variant:"h6",component:"h3",children:"Активные акции"}),i.jsx(Dt,{variant:"contained",startIcon:i.jsx(au,{}),onClick:()=>c(!0),children:"Создать акцию"})]}),o.promotions.length===0?i.jsx(Jt,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):i.jsx(Zd,{children:o.promotions.map(x=>i.jsxs(Ka,{children:[i.jsx(Va,{primary:x.name,secondary:i.jsxs(Ue,{children:[i.jsx(te,{variant:"body2",children:x.description}),i.jsxs(Ue,{mt:1,children:[i.jsx(Di,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&i.jsx(Di,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),i.jsx(Tl,{children:i.jsx(Ds,{onClick:()=>y(x.id),children:i.jsx(rA,{})})})]},x.id))})]})})})]}),i.jsxs(so,{open:A,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[i.jsx(el,{children:"Создать акцию"}),i.jsxs(io,{children:[i.jsx(Ft,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>d(C=>({...C,name:x.target.value})),sx:{mb:2}}),i.jsx(Ft,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>d(C=>({...C,description:x.target.value})),sx:{mb:2}}),i.jsx(Ft,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>d(C=>({...C,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),i.jsx(Ft,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>d(C=>({...C,validUntil:x.target.value}))})]}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:()=>c(!1),children:"Отмена"}),i.jsx(Dt,{onClick:g,variant:"contained",children:"Создать"})]})]})]})}async function mE(e){try{console.log("Тестирование через Cloud Function...");const t=Dl(void 0,"europe-west1"),r=await es(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await va(Tt($e,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=mE);const SY=({defaultEmail:e=""})=>{const[t,n]=b.useState(!1),[r,s]=b.useState(e),[a,o]=b.useState(!1),[l,A]=b.useState(null),c=async()=>{if(!r||!r.includes("@")){A({success:!1,message:"Введите корректный email"});return}o(!0),A(null);try{const u=await mE(r);A({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(u){A({success:!1,message:u.message||"Ошибка при отправке"})}finally{o(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Dt,{variant:"contained",startIcon:i.jsx(F1,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),i.jsxs(so,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[i.jsx(el,{children:"Тестирование отправки Email"}),i.jsx(io,{children:i.jsxs(Ue,{sx:{mt:2},children:[i.jsx(Ft,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:u=>s(u.target.value),disabled:a,helperText:"Введите email, на который будет отправлено тестовое письмо"}),l&&i.jsx(Jt,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),i.jsxs(Zo,{children:[i.jsx(Dt,{onClick:()=>n(!1),disabled:a,children:"Отмена"}),i.jsx(Dt,{onClick:c,variant:"contained",disabled:a||!r,startIcon:a?i.jsx(Rr,{size:20}):i.jsx(F1,{}),children:a?"Отправка...":"Отправить"})]})]})]})};function wn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function pt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function vt(e){pt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||dn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Za(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Rp(e,t){pt(2,arguments);var n=vt(e),r=wn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return s>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}function zm(e,t){pt(2,arguments);var n=vt(e).getTime(),r=wn(t);return new Date(n+r)}var jY=36e5;function EY(e,t){pt(2,arguments);var n=wn(t);return zm(e,n*jY)}var IY={};function Fa(){return IY}function Hl(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=Fa(),d=wn((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(A=u.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=vt(e),h=p.getDay(),m=(h<d?7:0)+h-d;return p.setDate(p.getDate()-m),p.setHours(0,0,0,0),p}function Ig(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Jl(e){pt(1,arguments);var t=vt(e);return t.setHours(0,0,0,0),t}var kY=864e5;function FY(e,t){pt(2,arguments);var n=Jl(e),r=Jl(t),s=n.getTime()-Ig(n),a=r.getTime()-Ig(r);return Math.round((s-a)/kY)}var NY=6e4;function Xi(e,t){pt(2,arguments);var n=wn(t);return zm(e,n*NY)}function TY(e,t){pt(2,arguments);var n=wn(t);return zm(e,n*1e3)}function _Y(e,t){pt(2,arguments);var n=wn(t),r=n*7;return Za(e,r)}function PC(e,t){pt(2,arguments);var n=wn(t);return Rp(e,n*12)}function Rd(e,t){pt(2,arguments);var n=vt(e),r=vt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var Wm=6e4,Km=36e5,UY=1e3;function vE(e,t){pt(2,arguments);var n=Jl(e),r=Jl(t);return n.getTime()===r.getTime()}function DY(e){return pt(1,arguments),e instanceof Date||dn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yE(e){if(pt(1,arguments),!DY(e)&&typeof e!="number")return!1;var t=vt(e);return!isNaN(Number(t))}function LY(e,t){pt(2,arguments);var n=vt(e),r=vt(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function MY(e,t){pt(2,arguments);var n=vt(e),r=vt(t);return n.getFullYear()-r.getFullYear()}function RC(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function xE(e,t){pt(2,arguments);var n=vt(e),r=vt(t),s=RC(n,r),a=Math.abs(FY(n,r));n.setDate(n.getDate()-s*a);var o=+(RC(n,r)===-s),l=s*(a-o);return l===0?0:l}function Vm(e,t){return pt(2,arguments),vt(e).getTime()-vt(t).getTime()}var HC={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},QY="trunc";function Lh(e){return e?HC[e]:HC[QY]}function PY(e,t,n){pt(2,arguments);var r=Vm(e,t)/Km;return Lh(void 0)(r)}function RY(e,t,n){pt(2,arguments);var r=Vm(e,t)/Wm;return Lh(void 0)(r)}function py(e){pt(1,arguments);var t=vt(e);return t.setHours(23,59,59,999),t}function gy(e){pt(1,arguments);var t=vt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function HY(e){pt(1,arguments);var t=vt(e);return py(t).getTime()===gy(t).getTime()}function bE(e,t){pt(2,arguments);var n=vt(e),r=vt(t),s=Rd(n,r),a=Math.abs(LY(n,r)),o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);var l=Rd(n,r)===-s;HY(vt(e))&&a===1&&Rd(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function OY(e,t,n){pt(2,arguments);var r=bE(e,t)/3;return Lh(void 0)(r)}function $Y(e,t,n){pt(2,arguments);var r=Vm(e,t)/1e3;return Lh(void 0)(r)}function zY(e,t,n){pt(2,arguments);var r=xE(e,t)/7;return Lh(void 0)(r)}function WY(e,t){pt(2,arguments);var n=vt(e),r=vt(t),s=Rd(n,r),a=Math.abs(MY(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=Rd(n,r)===-s,l=s*(a-Number(o));return l===0?0:l}function KY(e,t){var n;pt(1,arguments);var r=e||{},s=vt(r.start),a=vt(r.end),o=a.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var l=[],A=s;A.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;A.getTime()<=o;)l.push(vt(A)),A.setDate(A.getDate()+c),A.setHours(0,0,0,0);return l}function OC(e){pt(1,arguments);var t=vt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ov(e){pt(1,arguments);var t=vt(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function mp(e){pt(1,arguments);var t=vt(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $v(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=Fa(),d=wn((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(A=u.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=vt(e),h=p.getDay(),m=(h<d?-7:0)+6-(h-d);return p.setDate(p.getDate()+m),p.setHours(23,59,59,999),p}function wE(e,t){pt(2,arguments);var n=wn(t);return zm(e,-n)}var VY=864e5;function GY(e){pt(1,arguments);var t=vt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/VY)+1}function zc(e){pt(1,arguments);var t=1,n=vt(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function BE(e){pt(1,arguments);var t=vt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=zc(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=zc(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function qY(e){pt(1,arguments);var t=BE(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=zc(n);return r}var YY=6048e5;function CE(e){pt(1,arguments);var t=vt(e),n=zc(t).getTime()-qY(t).getTime();return Math.round(n/YY)+1}function lo(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=Fa(),d=wn((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(A=u.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=vt(e),h=p.getUTCDay(),m=(h<d?7:0)+h-d;return p.setUTCDate(p.getUTCDate()-m),p.setUTCHours(0,0,0,0),p}function Vx(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=vt(e),d=u.getUTCFullYear(),p=Fa(),h=wn((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(A=p.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,h),m.setUTCHours(0,0,0,0);var g=lo(m,t),y=new Date(0);y.setUTCFullYear(d,0,h),y.setUTCHours(0,0,0,0);var x=lo(y,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function XY(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=Fa(),d=wn((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(A=u.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Vx(e,t),h=new Date(0);h.setUTCFullYear(p,0,d),h.setUTCHours(0,0,0,0);var m=lo(h,t);return m}var JY=6048e5;function SE(e,t){pt(1,arguments);var n=vt(e),r=lo(n,t).getTime()-XY(n,t).getTime();return Math.round(r/JY)+1}function on(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Uo={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return on(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):on(r+1,2)},d:function(t,n){return on(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return on(t.getUTCHours()%12||12,n.length)},H:function(t,n){return on(t.getUTCHours(),n.length)},m:function(t,n){return on(t.getUTCMinutes(),n.length)},s:function(t,n){return on(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return on(a,n.length)}},GA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZY={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Uo.y(t,n)},Y:function(t,n,r,s){var a=Vx(t,s),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return on(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):on(o,n.length)},R:function(t,n){var r=BE(t);return on(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return on(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return on(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return on(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Uo.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return on(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=SE(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):on(a,n.length)},I:function(t,n,r){var s=CE(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):on(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Uo.d(t,n)},D:function(t,n,r){var s=GY(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):on(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),o=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return on(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),o=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return on(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return on(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=GA.noon:s===0?a=GA.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=GA.evening:s>=12?a=GA.afternoon:s>=4?a=GA.morning:a=GA.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Uo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Uo.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):on(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):on(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Uo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Uo.s(t,n)},S:function(t,n){return Uo.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return zC(o);case"XXXX":case"XX":return El(o);case"XXXXX":case"XXX":default:return El(o,":")}},x:function(t,n,r,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return zC(o);case"xxxx":case"xx":return El(o);case"xxxxx":case"xxx":default:return El(o,":")}},O:function(t,n,r,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+$C(o,":");case"OOOO":default:return"GMT"+El(o,":")}},z:function(t,n,r,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+$C(o,":");case"zzzz":default:return"GMT"+El(o,":")}},t:function(t,n,r,s){var a=s._originalDate||t,o=Math.floor(a.getTime()/1e3);return on(o,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,o=a.getTime();return on(o,n.length)}};function $C(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var o=t;return n+String(s)+o+on(a,2)}function zC(e,t){if(e%60===0){var n=e>0?"-":"+";return n+on(Math.abs(e)/60,2)}return El(e,t)}function El(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=on(Math.floor(s/60),2),o=on(s%60,2);return r+a+n+o}var WC=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},jE=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},eX=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return WC(t,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",WC(s,n)).replace("{{time}}",jE(a,n))},my={p:jE,P:eX},tX=["D","DD"],nX=["YY","YYYY"];function EE(e){return tX.indexOf(e)!==-1}function IE(e){return nX.indexOf(e)!==-1}function kg(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sX=function(t,n,r){var s,a=rX[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Cc(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var iX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lX={date:Cc({formats:iX,defaultWidth:"full"}),time:Cc({formats:aX,defaultWidth:"full"}),dateTime:Cc({formats:oX,defaultWidth:"full"})},AX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cX=function(t,n,r,s){return AX[t]};function da(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,A=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[A]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}var uX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mX=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vX={ordinalNumber:mX,era:da({values:uX,defaultWidth:"wide"}),quarter:da({values:dX,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:da({values:hX,defaultWidth:"wide"}),day:da({values:fX,defaultWidth:"wide"}),dayPeriod:da({values:pX,defaultWidth:"wide",formattingValues:gX,defaultFormattingWidth:"wide"})};function ha(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?xX(l,function(d){return d.test(o)}):yX(l,function(d){return d.test(o)}),c;c=e.valueCallback?e.valueCallback(A):A,c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function yX(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function xX(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function kE(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var bX=/^(\d+)(th|st|nd|rd)?/i,wX=/\d+/i,BX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CX={any:[/^b/i,/^(a|c)/i]},SX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jX={any:[/1/i,/2/i,/3/i,/4/i]},EX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_X={ordinalNumber:kE({matchPattern:bX,parsePattern:wX,valueCallback:function(t){return parseInt(t,10)}}),era:ha({matchPatterns:BX,defaultMatchWidth:"wide",parsePatterns:CX,defaultParseWidth:"any"}),quarter:ha({matchPatterns:SX,defaultMatchWidth:"wide",parsePatterns:jX,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ha({matchPatterns:EX,defaultMatchWidth:"wide",parsePatterns:IX,defaultParseWidth:"any"}),day:ha({matchPatterns:kX,defaultMatchWidth:"wide",parsePatterns:FX,defaultParseWidth:"any"}),dayPeriod:ha({matchPatterns:NX,defaultMatchWidth:"any",parsePatterns:TX,defaultParseWidth:"any"})},Gx={code:"en-US",formatDistance:sX,formatLong:lX,formatRelative:cX,localize:vX,match:_X,options:{weekStartsOn:0,firstWeekContainsDate:1}},UX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LX=/^'([^]*?)'?$/,MX=/''/g,QX=/[a-zA-Z]/;function ln(e,t,n){var r,s,a,o,l,A,c,u,d,p,h,m,g,y,x,C,S,w;pt(2,arguments);var L=String(t),I=Fa(),U=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:I.locale)!==null&&r!==void 0?r:Gx,_=wn((a=(o=(l=(A=n==null?void 0:n.firstWeekContainsDate)!==null&&A!==void 0?A:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:I.firstWeekContainsDate)!==null&&o!==void 0?o:(d=I.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=wn((h=(m=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(C=x.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:I.weekStartsOn)!==null&&m!==void 0?m:(S=I.locale)===null||S===void 0||(w=S.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&h!==void 0?h:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!U.localize)throw new RangeError("locale must contain localize property");if(!U.formatLong)throw new RangeError("locale must contain formatLong property");var R=vt(e);if(!yE(R))throw new RangeError("Invalid time value");var k=Ig(R),j=wE(R,k),M={firstWeekContainsDate:_,weekStartsOn:F,locale:U,_originalDate:R},N=L.match(DX).map(function($){var P=$[0];if(P==="p"||P==="P"){var D=my[P];return D($,U.formatLong)}return $}).join("").match(UX).map(function($){if($==="''")return"'";var P=$[0];if(P==="'")return PX($);var D=ZY[P];if(D)return!(n!=null&&n.useAdditionalWeekYearTokens)&&IE($)&&kg($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&EE($)&&kg($,t,String(e)),D(j,$,U.localize,M);if(P.match(QX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return $}).join("");return N}function PX(e){var t=e.match(LX);return t?t[1].replace(MX,"'"):e}function RX(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function HX(e,t){var n,r;pt(1,arguments);var s=vt(e);if(isNaN(s.getTime()))throw new RangeError("Invalid time value");var a=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),o=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(a!=="extended"&&a!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(o!=="date"&&o!=="time"&&o!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",A="",c=a==="extended"?"-":"",u=a==="extended"?":":"";if(o!=="time"){var d=on(s.getDate(),2),p=on(s.getMonth()+1,2),h=on(s.getFullYear(),4);l="".concat(h).concat(c).concat(p).concat(c).concat(d)}if(o!=="date"){var m=s.getTimezoneOffset();if(m!==0){var g=Math.abs(m),y=on(Math.floor(g/60),2),x=on(g%60,2),C=m<0?"+":"-";A="".concat(C).concat(y,":").concat(x)}else A="Z";var S=on(s.getHours(),2),w=on(s.getMinutes(),2),L=on(s.getSeconds(),2),I=l===""?"":"T",U=[S,w,L].join(u);l="".concat(l).concat(I).concat(U).concat(A)}return l}function OX(e){pt(1,arguments);var t=vt(e),n=t.getDate();return n}function FE(e){pt(1,arguments);var t=vt(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function $X(e){pt(1,arguments);var t=vt(e),n=t.getHours();return n}function zX(e){pt(1,arguments);var t=vt(e),n=t.getMilliseconds();return n}function WX(e){pt(1,arguments);var t=vt(e),n=t.getMinutes();return n}function KX(e){pt(1,arguments);var t=vt(e),n=t.getMonth();return n}function VX(e){pt(1,arguments);var t=vt(e),n=t.getSeconds();return n}function GX(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=vt(e),d=u.getFullYear(),p=Fa(),h=wn((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(A=p.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(d+1,0,h),m.setHours(0,0,0,0);var g=Hl(m,t),y=new Date(0);y.setFullYear(d,0,h),y.setHours(0,0,0,0);var x=Hl(y,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function qX(e,t){var n,r,s,a,o,l,A,c;pt(1,arguments);var u=Fa(),d=wn((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(A=u.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=GX(e,t),h=new Date(0);h.setFullYear(p,0,d),h.setHours(0,0,0,0);var m=Hl(h,t);return m}var YX=6048e5;function XX(e,t){pt(1,arguments);var n=vt(e),r=Hl(n,t).getTime()-qX(n,t).getTime();return Math.round(r/YX)+1}function JX(e){return pt(1,arguments),vt(e).getFullYear()}function zs(e,t){pt(2,arguments);var n=vt(e),r=vt(t);return n.getTime()>r.getTime()}function zr(e,t){pt(2,arguments);var n=vt(e),r=vt(t);return n.getTime()<r.getTime()}function ZX(e,t){pt(2,arguments);var n=vt(e),r=vt(t);return n.getTime()===r.getTime()}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eJ(e,t){if(e){if(typeof e=="string")return KC(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KC(e,t):void 0}}function VC(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=eJ(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,a=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw a}}}}function Bn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fg(e)}function NE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NE=function(){return!!e})()}function tJ(e,t){if(t&&(dn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}function Cn(e){var t=NE();return function(){var n,r=Fg(e);if(t){var s=Fg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return tJ(this,n)}}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c4(r.key),r)}}function mn(e,t,n){return t&&nJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jt(e,t,n){return(t=c4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rJ=10,TE=function(){function e(){gn(this,e),jt(this,"priority",void 0),jt(this,"subPriority",0)}return mn(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),sJ=function(e){Bn(n,e);var t=Cn(n);function n(r,s,a,o,l){var A;return gn(this,n),A=t.call(this),A.value=r,A.validateValue=s,A.setValue=a,A.priority=o,l&&(A.subPriority=l),A}return mn(n,[{key:"validate",value:function(s,a){return this.validateValue(s,this.value,a)}},{key:"set",value:function(s,a,o){return this.setValue(s,a,this.value,o)}}]),n}(TE),iJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",rJ),jt(Nt(r),"subPriority",-1),r}return mn(n,[{key:"set",value:function(s,a){if(a.timestampIsSet)return s;var o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}}]),n}(TE),Tn=function(){function e(){gn(this,e),jt(this,"incompatibleTokens",void 0),jt(this,"priority",void 0),jt(this,"subPriority",void 0)}return mn(e,[{key:"run",value:function(n,r,s,a){var o=this.parse(n,r,s,a);return o?{setter:new sJ(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}(),aJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",140),jt(Nt(r),"incompatibleTokens",["R","u","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"});case"GGGGG":return o.era(s,{width:"narrow"});case"GGGG":default:return o.era(s,{width:"wide"})||o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"})}}},{key:"set",value:function(s,a,o){return a.era=o,s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),Nr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tr(e,t){return e&&{value:t(e.value),rest:e.rest}}function dr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function pa(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Km+a*Wm+o*UY),rest:t.slice(n[0].length)}}function _E(e){return dr(Nr.anyDigitsSigned,e)}function br(e,t){switch(e){case 1:return dr(Nr.singleDigit,t);case 2:return dr(Nr.twoDigits,t);case 3:return dr(Nr.threeDigits,t);case 4:return dr(Nr.fourDigits,t);default:return dr(new RegExp("^\\d{1,"+e+"}"),t)}}function Ng(e,t){switch(e){case 1:return dr(Nr.singleDigitSigned,t);case 2:return dr(Nr.twoDigitsSigned,t);case 3:return dr(Nr.threeDigitsSigned,t);case 4:return dr(Nr.fourDigitsSigned,t);default:return dr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function qx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function UE(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var a=r+50,o=Math.floor(a/100)*100,l=e>=a%100;s=e+o-(l?100:0)}return n?s:1-s}function DE(e){return e%400===0||e%4===0&&e%100!==0}var oJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",130),jt(Nt(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){var l=function(c){return{year:c,isTwoDigitYear:a==="yy"}};switch(a){case"y":return Tr(br(4,s),l);case"yo":return Tr(o.ordinalNumber(s,{unit:"year"}),l);default:return Tr(br(a.length,s),l)}}},{key:"validate",value:function(s,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(s,a,o){var l=s.getUTCFullYear();if(o.isTwoDigitYear){var A=UE(o.year,l);return s.setUTCFullYear(A,0,1),s.setUTCHours(0,0,0,0),s}var c=!("era"in a)||a.era===1?o.year:1-o.year;return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),lJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",130),jt(Nt(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){var l=function(c){return{year:c,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return Tr(br(4,s),l);case"Yo":return Tr(o.ordinalNumber(s,{unit:"year"}),l);default:return Tr(br(a.length,s),l)}}},{key:"validate",value:function(s,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(s,a,o,l){var A=Vx(s,l);if(o.isTwoDigitYear){var c=UE(o.year,A);return s.setUTCFullYear(c,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),lo(s,l)}var u=!("era"in a)||a.era===1?o.year:1-o.year;return s.setUTCFullYear(u,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),lo(s,l)}}]),n}(Tn),AJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",130),jt(Nt(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a){return Ng(a==="R"?4:a.length,s)}},{key:"set",value:function(s,a,o){var l=new Date(0);return l.setUTCFullYear(o,0,4),l.setUTCHours(0,0,0,0),zc(l)}}]),n}(Tn),cJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",130),jt(Nt(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a){return Ng(a==="u"?4:a.length,s)}},{key:"set",value:function(s,a,o){return s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),uJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",120),jt(Nt(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"Q":case"QQ":return br(a.length,s);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(s,{width:"wide",context:"formatting"})||o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,a){return a>=1&&a<=4}},{key:"set",value:function(s,a,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),dJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",120),jt(Nt(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"q":case"qq":return br(a.length,s);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(s,{width:"wide",context:"standalone"})||o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,a){return a>=1&&a<=4}},{key:"set",value:function(s,a,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),hJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),jt(Nt(r),"priority",110),r}return mn(n,[{key:"parse",value:function(s,a,o){var l=function(c){return c-1};switch(a){case"M":return Tr(dr(Nr.month,s),l);case"MM":return Tr(br(2,s),l);case"Mo":return Tr(o.ordinalNumber(s,{unit:"month"}),l);case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(s,{width:"wide",context:"formatting"})||o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,a){return a>=0&&a<=11}},{key:"set",value:function(s,a,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),fJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",110),jt(Nt(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){var l=function(c){return c-1};switch(a){case"L":return Tr(dr(Nr.month,s),l);case"LL":return Tr(br(2,s),l);case"Lo":return Tr(o.ordinalNumber(s,{unit:"month"}),l);case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(s,{width:"wide",context:"standalone"})||o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,a){return a>=0&&a<=11}},{key:"set",value:function(s,a,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),n}(Tn);function pJ(e,t,n){pt(2,arguments);var r=vt(e),s=wn(t),a=SE(r,n)-s;return r.setUTCDate(r.getUTCDate()-a*7),r}var gJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",100),jt(Nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"w":return dr(Nr.week,s);case"wo":return o.ordinalNumber(s,{unit:"week"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=1&&a<=53}},{key:"set",value:function(s,a,o,l){return lo(pJ(s,o,l),l)}}]),n}(Tn);function mJ(e,t){pt(2,arguments);var n=vt(e),r=wn(t),s=CE(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var vJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",100),jt(Nt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"I":return dr(Nr.week,s);case"Io":return o.ordinalNumber(s,{unit:"week"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=1&&a<=53}},{key:"set",value:function(s,a,o){return zc(mJ(s,o))}}]),n}(Tn),yJ=[31,28,31,30,31,30,31,31,30,31,30,31],xJ=[31,29,31,30,31,30,31,31,30,31,30,31],bJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",90),jt(Nt(r),"subPriority",1),jt(Nt(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"d":return dr(Nr.date,s);case"do":return o.ordinalNumber(s,{unit:"date"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){var o=s.getUTCFullYear(),l=DE(o),A=s.getUTCMonth();return l?a>=1&&a<=xJ[A]:a>=1&&a<=yJ[A]}},{key:"set",value:function(s,a,o){return s.setUTCDate(o),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),wJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",90),jt(Nt(r),"subpriority",1),jt(Nt(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"D":case"DD":return dr(Nr.dayOfYear,s);case"Do":return o.ordinalNumber(s,{unit:"date"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){var o=s.getUTCFullYear(),l=DE(o);return l?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(s,a,o){return s.setUTCMonth(0,o),s.setUTCHours(0,0,0,0),s}}]),n}(Tn);function Yx(e,t,n){var r,s,a,o,l,A,c,u;pt(2,arguments);var d=Fa(),p=wn((r=(s=(a=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(A=l.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&s!==void 0?s:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=vt(e),m=wn(t),g=h.getUTCDay(),y=m%7,x=(y+7)%7,C=(x<p?7:0)+m-g;return h.setUTCDate(h.getUTCDate()+C),h}var BJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",90),jt(Nt(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,a){return a>=0&&a<=6}},{key:"set",value:function(s,a,o,l){return s=Yx(s,o,l),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),CJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",90),jt(Nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o,l){var A=function(u){var d=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+d};switch(a){case"e":case"ee":return Tr(br(a.length,s),A);case"eo":return Tr(o.ordinalNumber(s,{unit:"day"}),A);case"eee":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeeee":return o.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,a){return a>=0&&a<=6}},{key:"set",value:function(s,a,o,l){return s=Yx(s,o,l),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),SJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",90),jt(Nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o,l){var A=function(u){var d=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+d};switch(a){case"c":case"cc":return Tr(br(a.length,s),A);case"co":return Tr(o.ordinalNumber(s,{unit:"day"}),A);case"ccc":return o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"ccccc":return o.day(s,{width:"narrow",context:"standalone"});case"cccccc":return o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(s,{width:"wide",context:"standalone"})||o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,a){return a>=0&&a<=6}},{key:"set",value:function(s,a,o,l){return s=Yx(s,o,l),s.setUTCHours(0,0,0,0),s}}]),n}(Tn);function jJ(e,t){pt(2,arguments);var n=wn(t);n%7===0&&(n=n-7);var r=1,s=vt(e),a=s.getUTCDay(),o=n%7,l=(o+7)%7,A=(l<r?7:0)+n-a;return s.setUTCDate(s.getUTCDate()+A),s}var EJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",90),jt(Nt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){var l=function(c){return c===0?7:c};switch(a){case"i":case"ii":return br(a.length,s);case"io":return o.ordinalNumber(s,{unit:"day"});case"iii":return Tr(o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),l);case"iiiii":return Tr(o.day(s,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Tr(o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Tr(o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(s,a){return a>=1&&a<=7}},{key:"set",value:function(s,a,o){return s=jJ(s,o),s.setUTCHours(0,0,0,0),s}}]),n}(Tn),IJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",80),jt(Nt(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,a,o){return s.setUTCHours(qx(o),0,0,0),s}}]),n}(Tn),kJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",80),jt(Nt(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,a,o){return s.setUTCHours(qx(o),0,0,0),s}}]),n}(Tn),FJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",80),jt(Nt(r),"incompatibleTokens",["a","b","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,a,o){return s.setUTCHours(qx(o),0,0,0),s}}]),n}(Tn),NJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",70),jt(Nt(r),"incompatibleTokens",["H","K","k","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"h":return dr(Nr.hour12h,s);case"ho":return o.ordinalNumber(s,{unit:"hour"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=1&&a<=12}},{key:"set",value:function(s,a,o){var l=s.getUTCHours()>=12;return l&&o<12?s.setUTCHours(o+12,0,0,0):!l&&o===12?s.setUTCHours(0,0,0,0):s.setUTCHours(o,0,0,0),s}}]),n}(Tn),TJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",70),jt(Nt(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"H":return dr(Nr.hour23h,s);case"Ho":return o.ordinalNumber(s,{unit:"hour"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=0&&a<=23}},{key:"set",value:function(s,a,o){return s.setUTCHours(o,0,0,0),s}}]),n}(Tn),_J=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",70),jt(Nt(r),"incompatibleTokens",["h","H","k","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"K":return dr(Nr.hour11h,s);case"Ko":return o.ordinalNumber(s,{unit:"hour"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=0&&a<=11}},{key:"set",value:function(s,a,o){var l=s.getUTCHours()>=12;return l&&o<12?s.setUTCHours(o+12,0,0,0):s.setUTCHours(o,0,0,0),s}}]),n}(Tn),UJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",70),jt(Nt(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"k":return dr(Nr.hour24h,s);case"ko":return o.ordinalNumber(s,{unit:"hour"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=1&&a<=24}},{key:"set",value:function(s,a,o){var l=o<=24?o%24:o;return s.setUTCHours(l,0,0,0),s}}]),n}(Tn),DJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",60),jt(Nt(r),"incompatibleTokens",["t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"m":return dr(Nr.minute,s);case"mo":return o.ordinalNumber(s,{unit:"minute"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=0&&a<=59}},{key:"set",value:function(s,a,o){return s.setUTCMinutes(o,0,0),s}}]),n}(Tn),LJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",50),jt(Nt(r),"incompatibleTokens",["t","T"]),r}return mn(n,[{key:"parse",value:function(s,a,o){switch(a){case"s":return dr(Nr.second,s);case"so":return o.ordinalNumber(s,{unit:"second"});default:return br(a.length,s)}}},{key:"validate",value:function(s,a){return a>=0&&a<=59}},{key:"set",value:function(s,a,o){return s.setUTCSeconds(o,0),s}}]),n}(Tn),MJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",30),jt(Nt(r),"incompatibleTokens",["t","T"]),r}return mn(n,[{key:"parse",value:function(s,a){var o=function(A){return Math.floor(A*Math.pow(10,-a.length+3))};return Tr(br(a.length,s),o)}},{key:"set",value:function(s,a,o){return s.setUTCMilliseconds(o),s}}]),n}(Tn),QJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",10),jt(Nt(r),"incompatibleTokens",["t","T","x"]),r}return mn(n,[{key:"parse",value:function(s,a){switch(a){case"X":return pa(fa.basicOptionalMinutes,s);case"XX":return pa(fa.basic,s);case"XXXX":return pa(fa.basicOptionalSeconds,s);case"XXXXX":return pa(fa.extendedOptionalSeconds,s);case"XXX":default:return pa(fa.extended,s)}}},{key:"set",value:function(s,a,o){return a.timestampIsSet?s:new Date(s.getTime()-o)}}]),n}(Tn),PJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",10),jt(Nt(r),"incompatibleTokens",["t","T","X"]),r}return mn(n,[{key:"parse",value:function(s,a){switch(a){case"x":return pa(fa.basicOptionalMinutes,s);case"xx":return pa(fa.basic,s);case"xxxx":return pa(fa.basicOptionalSeconds,s);case"xxxxx":return pa(fa.extendedOptionalSeconds,s);case"xxx":default:return pa(fa.extended,s)}}},{key:"set",value:function(s,a,o){return a.timestampIsSet?s:new Date(s.getTime()-o)}}]),n}(Tn),RJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",40),jt(Nt(r),"incompatibleTokens","*"),r}return mn(n,[{key:"parse",value:function(s){return _E(s)}},{key:"set",value:function(s,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Tn),HJ=function(e){Bn(n,e);var t=Cn(n);function n(){var r;gn(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),jt(Nt(r),"priority",20),jt(Nt(r),"incompatibleTokens","*"),r}return mn(n,[{key:"parse",value:function(s){return _E(s)}},{key:"set",value:function(s,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Tn),OJ={G:new aJ,y:new oJ,Y:new lJ,R:new AJ,u:new cJ,Q:new uJ,q:new dJ,M:new hJ,L:new fJ,w:new gJ,I:new vJ,d:new bJ,D:new wJ,E:new BJ,e:new CJ,c:new SJ,i:new EJ,a:new IJ,b:new kJ,B:new FJ,h:new NJ,H:new TJ,K:new _J,k:new UJ,m:new DJ,s:new LJ,S:new MJ,X:new QJ,x:new PJ,t:new RJ,T:new HJ},$J=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WJ=/^'([^]*?)'?$/,KJ=/''/g,VJ=/\S/,GJ=/[a-zA-Z]/;function ts(e,t,n,r){var s,a,o,l,A,c,u,d,p,h,m,g,y,x,C,S,w,L;pt(3,arguments);var I=String(e),U=String(t),_=Fa(),F=(s=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:_.locale)!==null&&s!==void 0?s:Gx;if(!F.match)throw new RangeError("locale must contain match property");var R=wn((o=(l=(A=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&A!==void 0?A:_.firstWeekContainsDate)!==null&&l!==void 0?l:(p=_.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=wn((m=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(C=r.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&y!==void 0?y:_.weekStartsOn)!==null&&g!==void 0?g:(w=_.locale)===null||w===void 0||(L=w.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(U==="")return I===""?vt(n):new Date(NaN);var j={firstWeekContainsDate:R,weekStartsOn:k,locale:F},M=[new iJ],N=U.match(zJ).map(function(ie){var ae=ie[0];if(ae in my){var Ce=my[ae];return Ce(ie,F.formatLong)}return ie}).join("").match($J),$=[],P=VC(N),D;try{var W=function(){var ae=D.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&IE(ae)&&kg(ae,U,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&EE(ae)&&kg(ae,U,e);var Ce=ae[0],ce=OJ[Ce];if(ce){var fe=ce.incompatibleTokens;if(Array.isArray(fe)){var ue=$.find(function(he){return fe.includes(he.token)||he.token===Ce});if(ue)throw new RangeError("The format string mustn't contain `".concat(ue.fullToken,"` and `").concat(ae,"` at the same time"))}else if(ce.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(ae,"` and any other token at the same time"));$.push({token:Ce,fullToken:ae});var we=ce.run(I,ae,F.match,j);if(!we)return{v:new Date(NaN)};M.push(we.setter),I=we.rest}else{if(Ce.match(GJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ce+"`");if(ae==="''"?ae="'":Ce==="'"&&(ae=qJ(ae)),I.indexOf(ae)===0)I=I.slice(ae.length);else return{v:new Date(NaN)}}};for(P.s();!(D=P.n()).done;){var G=W();if(dn(G)==="object")return G.v}}catch(ie){P.e(ie)}finally{P.f()}if(I.length>0&&VJ.test(I))return new Date(NaN);var Z=M.map(function(ie){return ie.priority}).sort(function(ie,ae){return ae-ie}).filter(function(ie,ae,Ce){return Ce.indexOf(ie)===ae}).map(function(ie){return M.filter(function(ae){return ae.priority===ie}).sort(function(ae,Ce){return Ce.subPriority-ae.subPriority})}).map(function(ie){return ie[0]}),le=vt(n);if(isNaN(le.getTime()))return new Date(NaN);var T=wE(le,Ig(le)),H={},Q=VC(Z),K;try{for(Q.s();!(K=Q.n()).done;){var V=K.value;if(!V.validate(T,j))return new Date(NaN);var X=V.set(T,H,j);Array.isArray(X)?(T=X[0],RX(H,X[1])):T=X}}catch(ie){Q.e(ie)}finally{Q.f()}return T}function qJ(e){return e.match(WJ)[1].replace(KJ,"'")}function GC(e){pt(1,arguments);var t=vt(e);return t.setMinutes(0,0,0),t}function YJ(e,t){pt(2,arguments);var n=GC(e),r=GC(t);return n.getTime()===r.getTime()}function XJ(e,t){pt(2,arguments);var n=vt(e),r=vt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function JJ(e,t){pt(2,arguments);var n=vt(e),r=vt(t);return n.getFullYear()===r.getFullYear()}function LE(e){return pt(1,arguments),vE(e,Date.now())}function ZJ(e,t){pt(2,arguments);var n=vt(e).getTime(),r=vt(t.start).getTime(),s=vt(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}function eZ(e,t){var n;pt(1,arguments);var r=wn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=sZ(e),a;if(s.date){var o=iZ(s.date,r);a=aZ(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var l=a.getTime(),A=0,c;if(s.time&&(A=oZ(s.time),isNaN(A)))return new Date(NaN);if(s.timezone){if(c=lZ(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(l+A),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(l+A+c)}var vp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function sZ(e){var t={},n=e.split(vp.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],vp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(vp.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=vp.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function iZ(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function aZ(e,t){if(t===null)return new Date(NaN);var n=e.match(tZ);if(!n)return new Date(NaN);var r=!!n[4],s=od(n[1]),a=od(n[2])-1,o=od(n[3]),l=od(n[4]),A=od(n[5])-1;if(r)return hZ(t,l,A)?AZ(t,l,A):new Date(NaN);var c=new Date(0);return!uZ(t,a,o)||!dZ(t,s)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(s,o)),c)}function od(e){return e?parseInt(e):1}function oZ(e){var t=e.match(nZ);if(!t)return NaN;var n=zv(t[1]),r=zv(t[2]),s=zv(t[3]);return fZ(n,r,s)?n*Km+r*Wm+s*1e3:NaN}function zv(e){return e&&parseFloat(e.replace(",","."))||0}function lZ(e){if(e==="Z")return 0;var t=e.match(rZ);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return pZ(r,s)?n*(r*Km+s*Wm):NaN}function AZ(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}var cZ=[31,null,31,30,31,30,31,31,30,31,30,31];function ME(e){return e%400===0||e%4===0&&e%100!==0}function uZ(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(cZ[t]||(ME(e)?29:28))}function dZ(e,t){return t>=1&&t<=(ME(e)?366:365)}function hZ(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function fZ(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function pZ(e,t){return t>=0&&t<=59}function gZ(e,t){pt(2,arguments);var n=vt(e),r=wn(t),s=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var l=FE(o);return n.setMonth(r,Math.min(a,l)),n}function mZ(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return n.setDate(r),n}function QE(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return n.setHours(r),n}function vZ(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return n.setMilliseconds(r),n}function PE(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return n.setMinutes(r),n}function yZ(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return n.setSeconds(r),n}function xZ(e,t){pt(2,arguments);var n=vt(e),r=wn(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Yo(){return Jl(Date.now())}function qC(e,t,n){pt(2,arguments);var r=lo(e,n),s=lo(t,n);return r.getTime()===s.getTime()}function ld(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Ns(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?ld(e.future,t):"через "+ld(e.regular,t):e.past?ld(e.past,t):ld(e.regular,t)+" назад":ld(e.regular,t)}}var bZ={lessThanXSeconds:Ns({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Ns({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:Ns({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Ns({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Ns({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Ns({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Ns({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Ns({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Ns({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Ns({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Ns({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Ns({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Ns({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Ns({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Ns({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},wZ=function(t,n,r){return bZ[t](n,r)},BZ={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},CZ={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},SZ={any:"{{date}}, {{time}}"},jZ={date:Cc({formats:BZ,defaultWidth:"full"}),time:Cc({formats:CZ,defaultWidth:"full"}),dateTime:Cc({formats:SZ,defaultWidth:"any"})},Xx=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function EZ(e){var t=Xx[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function YC(e){var t=Xx[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function IZ(e){var t=Xx[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var kZ={lastWeek:function(t,n,r){var s=t.getUTCDay();return qC(t,n,r)?YC(s):EZ(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var s=t.getUTCDay();return qC(t,n,r)?YC(s):IZ(s)},other:"P"},FZ=function(t,n,r,s){var a=kZ[t];return typeof a=="function"?a(n,r,s):a},NZ={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},TZ={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},_Z={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},UZ={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},DZ={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},LZ={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},MZ={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},QZ=function(t,n){var r=Number(t),s=n==null?void 0:n.unit,a;return s==="date"?a="-е":s==="week"||s==="minute"||s==="second"?a="-я":a="-й",r+a},PZ={ordinalNumber:QZ,era:da({values:NZ,defaultWidth:"wide"}),quarter:da({values:TZ,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:da({values:_Z,defaultWidth:"wide",formattingValues:UZ,defaultFormattingWidth:"wide"}),day:da({values:DZ,defaultWidth:"wide"}),dayPeriod:da({values:LZ,defaultWidth:"any",formattingValues:MZ,defaultFormattingWidth:"wide"})},RZ=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,HZ=/\d+/i,OZ={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},$Z={any:[/^д/i,/^н/i]},zZ={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},WZ={any:[/1/i,/2/i,/3/i,/4/i]},KZ={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},VZ={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},GZ={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},qZ={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},YZ={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},XZ={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},JZ={ordinalNumber:kE({matchPattern:RZ,parsePattern:HZ,valueCallback:function(t){return parseInt(t,10)}}),era:ha({matchPatterns:OZ,defaultMatchWidth:"wide",parsePatterns:$Z,defaultParseWidth:"any"}),quarter:ha({matchPatterns:zZ,defaultMatchWidth:"wide",parsePatterns:WZ,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ha({matchPatterns:KZ,defaultMatchWidth:"wide",parsePatterns:VZ,defaultParseWidth:"any"}),day:ha({matchPatterns:GZ,defaultMatchWidth:"wide",parsePatterns:qZ,defaultParseWidth:"any"}),dayPeriod:ha({matchPatterns:YZ,defaultMatchWidth:"wide",parsePatterns:XZ,defaultParseWidth:"any"})},si={code:"ru",formatDistance:wZ,formatLong:jZ,formatRelative:FZ,localize:PZ,match:JZ,options:{weekStartsOn:1,firstWeekContainsDate:1}};const qA=Dl(void 0,"europe-west1");function Ad(e){const{children:t,value:n,index:r,...s}=e;return i.jsx("div",{role:"tabpanel",hidden:n!==r,id:`settings-tabpanel-${r}`,"aria-labelledby":`settings-tab-${r}`,...s,children:n===r&&i.jsx(Ue,{sx:{pt:3},children:t})})}function ZZ(){var X,ie,ae,Ce,ce,fe,ue,we,he,re,Ve,ye,pe,Fe,De,ze,Xe,at,ct,st,me,Pe,oe,ge,Ie,Ne,Ee,qe,Be,Qe;const{admin:e}=hr(),{isSuperAdmin:t}=Kr(),n=rs(),[r,s]=b.useState(0),[a,o]=b.useState({superAdminEmails:[]}),[l,A]=b.useState(""),[c,u]=b.useState(!0),[d,p]=b.useState(!1),[h,m]=b.useState(!1),[g,y]=b.useState(""),[x,C]=b.useState({provider:"smsru",testMode:!1,smsruApiId:""}),[S,w]=b.useState(!0),[L,I]=b.useState(!1),[U,_]=b.useState(""),[F,R]=b.useState(!1),[k,j]=b.useState({bookingConfirmation:{enabled:!0,template:"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:!0,template:"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:2},bookingCancellation:{enabled:!0,template:"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:!0,template:"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:!0,template:"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:!0,template:"Оплатите бронь по ссылке: {link}"}}),[M,N]=b.useState(!1),[$,P]=b.useState({totalSent:0,lastSent:null,recentLogs:[]});fn.useEffect(()=>{t?(D(),W(),G(),K()):n("/admin/dashboard")},[t,n]);const D=async()=>{try{const Se=bt($e,"settings","notifications"),He=await rn(Se);if(He.exists()){const Oe=He.data();o(Oe)}}catch(Se){console.error("Error loading notification settings:",Se),y("Ошибка загрузки настроек")}finally{u(!1)}},W=async()=>{try{const Oe=(await es(qA,"getSMSSettings")()).data;C({provider:"smsru",testMode:Oe.testMode||!1,smsruApiId:Oe.smsruApiId||""})}catch(Se){console.error("Error loading SMS settings:",Se)}finally{w(!1)}},G=async()=>{try{const Oe=(await es(qA,"getSMSStats")()).data;let _e=null;if(Oe.lastSent)try{_e=new Date(Oe.lastSent),isNaN(_e.getTime())&&(_e=null)}catch(lt){console.error("Error parsing lastSent date:",lt),_e=null}const Ke=(Oe.recentLogs||[]).map(lt=>{let ut=null;if(lt.timestamp)try{ut=new Date(lt.timestamp),isNaN(ut.getTime())&&(ut=null)}catch(nt){console.error("Error parsing log timestamp:",nt),ut=null}return{...lt,timestamp:ut}});P({totalSent:Oe.totalSent||0,lastSent:_e,recentLogs:Ke})}catch(Se){console.error("Error loading SMS stats:",Se)}},Z=Se=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Se),le=async()=>{if(!l){y("Введите email");return}if(!Z(l)){y("Неверный формат email");return}if(a.superAdminEmails.includes(l)){y("Этот email уже добавлен");return}p(!0),y("");try{const Se=[...a.superAdminEmails,l],He=bt($e,"settings","notifications");await by(He,{superAdminEmails:Se,updatedAt:new Date},{merge:!0}),o({...a,superAdminEmails:Se}),A(""),m(!0)}catch(Se){console.error("Error adding email:",Se),y("Ошибка при добавлении email")}finally{p(!1)}},T=async Se=>{p(!0),y("");try{const He=a.superAdminEmails.filter(_e=>_e!==Se),Oe=bt($e,"settings","notifications");await Nn(Oe,{superAdminEmails:He,updatedAt:new Date}),o({...a,superAdminEmails:He}),m(!0)}catch(He){console.error("Error removing email:",He),y("Ошибка при удалении email")}finally{p(!1)}},H=async()=>{I(!0);try{await es(qA,"updateSMSSettings")(x),m(!0),await W()}catch(Se){console.error("Error saving SMS settings:",Se),y("Ошибка сохранения настроек SMS")}finally{I(!1)}},Q=async()=>{if(!U){y("Введите номер телефона для тестирования");return}R(!0);try{const Oe=(await es(qA,"testSMSSending")({phoneNumber:U})).data;Oe.success?m(!0):y(Oe.message),await G()}catch(Se){console.error("Error testing SMS:",Se),y("Ошибка отправки тестового SMS")}finally{R(!1)}},K=async()=>{var Se,He,Oe,_e,Ke,lt,ut,nt,xt,hn,Qt,jn,qn;try{const Lt=(await es(qA,"getSMSTemplates")()).data;j({bookingConfirmation:{enabled:((Se=Lt==null?void 0:Lt.bookingConfirmation)==null?void 0:Se.enabled)??!0,template:((He=Lt==null?void 0:Lt.bookingConfirmation)==null?void 0:He.template)||"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:((Oe=Lt==null?void 0:Lt.bookingReminder)==null?void 0:Oe.enabled)??!0,template:((_e=Lt==null?void 0:Lt.bookingReminder)==null?void 0:_e.template)||"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:((Ke=Lt==null?void 0:Lt.bookingReminder)==null?void 0:Ke.hoursBeforeGame)||2},bookingCancellation:{enabled:((lt=Lt==null?void 0:Lt.bookingCancellation)==null?void 0:lt.enabled)??!0,template:((ut=Lt==null?void 0:Lt.bookingCancellation)==null?void 0:ut.template)||"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:((nt=Lt==null?void 0:Lt.bookingModification)==null?void 0:nt.enabled)??!0,template:((xt=Lt==null?void 0:Lt.bookingModification)==null?void 0:xt.template)||"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:((hn=Lt==null?void 0:Lt.authCode)==null?void 0:hn.enabled)??!0,template:((Qt=Lt==null?void 0:Lt.authCode)==null?void 0:Qt.template)||"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:((jn=Lt==null?void 0:Lt.paymentLink)==null?void 0:jn.enabled)??!0,template:((qn=Lt==null?void 0:Lt.paymentLink)==null?void 0:qn.template)||"Оплатите бронь по ссылке: {link}"}})}catch(Ut){console.error("Error loading SMS templates:",Ut)}},V=async()=>{N(!0);try{await es(qA,"updateSMSTemplates")(k),m(!0)}catch(Se){console.error("Error saving SMS templates:",Se),y("Ошибка сохранения шаблонов SMS")}finally{N(!1)}};return t?i.jsxs(Ue,{sx:{p:3},children:[i.jsxs(Ue,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[i.jsx(Dx,{sx:{fontSize:32,color:"primary.main"}}),i.jsx(te,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),i.jsx(Ue,{sx:{borderBottom:1,borderColor:"divider"},children:i.jsxs(S9,{value:r,onChange:(Se,He)=>s(He),children:[i.jsx(Zu,{label:"Email уведомления"}),i.jsx(Zu,{label:"SMS настройки"}),i.jsx(Zu,{label:"Безопасность"}),i.jsx(Zu,{label:"База данных"}),i.jsx(Zu,{label:"Страницы оплаты"})]})}),i.jsx(Ad,{value:r,index:0,children:i.jsxs(dt,{container:!0,spacing:3,children:[i.jsx(dt,{item:!0,xs:12,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[i.jsx(I1,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),i.jsx(te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),i.jsx(bi,{sx:{my:2}}),c?i.jsx(Ue,{sx:{display:"flex",justifyContent:"center",py:3},children:i.jsx(Rr,{})}):i.jsxs(i.Fragment,{children:[i.jsx(Ue,{sx:{mb:3},children:i.jsxs(Ue,{sx:{display:"flex",gap:2,mb:2},children:[i.jsx(Ft,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:l,onChange:Se=>A(Se.target.value),onKeyPress:Se=>{Se.key==="Enter"&&le()},error:!!g&&r===0,helperText:r===0?g:"",disabled:d}),i.jsx(Dt,{variant:"contained",onClick:le,disabled:d||!l,startIcon:i.jsx(au,{}),children:"Добавить"})]})}),i.jsx(Zd,{sx:{maxHeight:300,overflow:"auto"},children:a.superAdminEmails.length===0?i.jsx(Ka,{children:i.jsx(Va,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):a.superAdminEmails.map(Se=>i.jsxs(Ka,{children:[i.jsx(Va,{primary:Se,primaryTypographyProps:{fontWeight:500}}),i.jsx(Tl,{children:i.jsx(Ds,{edge:"end","aria-label":"delete",onClick:()=>T(Se),disabled:d,children:i.jsx(rA,{})})})]},Se))})]})]})})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[i.jsx(I1,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Тестирование Email"})]}),i.jsx(te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Проверка работы email уведомлений"}),i.jsx(bi,{sx:{my:2}}),i.jsxs(Ue,{sx:{mb:2},children:[i.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"})]}),i.jsx(SY,{defaultEmail:(e==null?void 0:e.email)||""})]})})})]})}),i.jsx(Ad,{value:r,index:1,children:i.jsxs(dt,{container:!0,spacing:3,children:[i.jsx(dt,{item:!0,xs:12,lg:6,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[i.jsx(k1,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Настройки SMS"})]}),S?i.jsx(Ue,{sx:{display:"flex",justifyContent:"center",py:3},children:i.jsx(Rr,{})}):i.jsxs(i.Fragment,{children:[i.jsx(Jt,{severity:"info",sx:{mb:2},children:i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(a$,{fontSize:"small"}),i.jsx(te,{variant:"body2",children:"API ключи хранятся в зашифрованном виде"})]})}),i.jsx(Ue,{sx:{mb:3},children:i.jsx(As,{control:i.jsx(ni,{checked:x.testMode,onChange:Se=>C({...x,testMode:Se.target.checked})}),label:x.testMode?"Тестовый режим":"Боевой режим"})}),i.jsx(Ue,{sx:{mb:3},children:i.jsx(te,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"SMS провайдер: SMS.RU"})}),i.jsx(Ft,{fullWidth:!0,label:"API ID для SMS.RU",value:x.smsruApiId,onChange:Se=>C({...x,smsruApiId:Se.target.value}),type:"password",sx:{mb:2},helperText:"Получите API ID в личном кабинете SMS.RU"}),i.jsx(Dt,{variant:"contained",fullWidth:!0,onClick:H,disabled:L,children:"Сохранить настройки"}),i.jsx(bi,{sx:{my:3}}),i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Тестирование отправки"}),i.jsxs(Ue,{sx:{display:"flex",gap:2},children:[i.jsx(Ft,{fullWidth:!0,placeholder:"+7 (999) 123-45-67",value:U,onChange:Se=>_(Se.target.value)}),i.jsx(Dt,{variant:"outlined",onClick:Q,disabled:F,startIcon:i.jsx(F1,{}),children:"Отправить"})]})]})]})})}),i.jsx(dt,{item:!0,xs:12,lg:6,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[i.jsx(te,{variant:"h6",children:"Статистика SMS"}),i.jsx(Ds,{onClick:G,size:"small",children:i.jsx(wj,{})})]}),i.jsxs(dt,{container:!0,spacing:2,sx:{mb:2},children:[i.jsxs(dt,{item:!0,xs:6,children:[i.jsx(te,{variant:"h4",color:"primary",children:$.totalSent}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"Всего отправлено"})]}),i.jsxs(dt,{item:!0,xs:6,children:[i.jsx(te,{variant:"body1",children:$.lastSent&&!isNaN($.lastSent.getTime())?ln($.lastSent,"dd.MM.yyyy HH:mm",{locale:si}):"Нет данных"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"Последняя отправка"})]})]}),i.jsx(bi,{sx:{my:2}}),i.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Последние отправки"}),i.jsx(Th,{component:$n,variant:"outlined",sx:{maxHeight:300},children:i.jsxs(Fh,{size:"small",stickyHeader:!0,children:[i.jsx(_h,{children:i.jsxs(Sa,{children:[i.jsx(Yt,{children:"Дата"}),i.jsx(Yt,{children:"Телефон"}),i.jsx(Yt,{children:"Статус"})]})}),i.jsx(Nh,{children:$.recentLogs.map(Se=>i.jsxs(Sa,{children:[i.jsx(Yt,{children:Se.timestamp&&!isNaN(Se.timestamp.getTime())?ln(Se.timestamp,"dd.MM HH:mm"):"-"}),i.jsx(Yt,{children:Se.phone}),i.jsx(Yt,{children:i.jsx(Di,{label:Se.testMode?"Тест":Se.success?"Успешно":"Ошибка",size:"small",color:Se.testMode?"info":Se.success?"success":"error"})})]},Se.id))})]})})]})})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[i.jsx(k1,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Шаблоны SMS уведомлений"})]}),i.jsx(te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройте тексты SMS уведомлений (максимум 70 символов)"}),i.jsxs(Jt,{severity:"warning",sx:{mb:2},children:[i.jsx(Vl,{children:"Важная информация"}),"SMS уведомления о бронировании отправляются ",i.jsx("strong",{children:"только при онлайн оплате"})," через YooKassa или T-Bank. При оплате наличными, картой в клубе или переводом SMS не отправляются, даже если администратор отметит оплату как полученную."]}),i.jsx(bi,{sx:{my:2}}),i.jsxs(dt,{container:!0,spacing:3,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(Ue,{sx:{mb:3},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[i.jsx(te,{variant:"subtitle2",children:"Подтверждение бронирования"}),i.jsx(As,{control:i.jsx(ni,{size:"small",checked:((X=k.bookingConfirmation)==null?void 0:X.enabled)??!0,onChange:Se=>j({...k,bookingConfirmation:{...k.bookingConfirmation,enabled:Se.target.checked}})}),label:""})]}),i.jsx(Ft,{fullWidth:!0,size:"small",value:((ie=k.bookingConfirmation)==null?void 0:ie.template)||"",onChange:Se=>j({...k,bookingConfirmation:{...k.bookingConfirmation,template:Se.target.value}}),disabled:!((ae=k.bookingConfirmation)!=null&&ae.enabled),helperText:i.jsxs(i.Fragment,{children:[i.jsx("span",{children:`${(((Ce=k.bookingConfirmation)==null?void 0:Ce.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),i.jsx("br",{}),i.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при онлайн оплате через YooKassa/T-Bank"})]}),error:(((ce=k.bookingConfirmation)==null?void 0:ce.template)||"").length>70})]})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(Ue,{sx:{mb:3},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[i.jsx(te,{variant:"subtitle2",children:"Напоминание (за 2 часа)"}),i.jsx(As,{control:i.jsx(ni,{size:"small",checked:((fe=k.bookingReminder)==null?void 0:fe.enabled)??!0,onChange:Se=>j({...k,bookingReminder:{...k.bookingReminder,enabled:Se.target.checked}})}),label:""})]}),i.jsx(Ft,{fullWidth:!0,size:"small",value:((ue=k.bookingReminder)==null?void 0:ue.template)||"",onChange:Se=>j({...k,bookingReminder:{...k.bookingReminder,template:Se.target.value}}),disabled:!((we=k.bookingReminder)!=null&&we.enabled),helperText:i.jsxs(i.Fragment,{children:[i.jsx("span",{children:`${(((he=k.bookingReminder)==null?void 0:he.template)||"").length}/70 символов. Доступны: {venue}, {court}, {time}`}),i.jsx("br",{}),i.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только для оплаченных онлайн бронирований за 2 часа до игры"})]}),error:(((re=k.bookingReminder)==null?void 0:re.template)||"").length>70})]})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(Ue,{sx:{mb:3},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[i.jsx(te,{variant:"subtitle2",children:"Отмена бронирования"}),i.jsx(As,{control:i.jsx(ni,{size:"small",checked:((Ve=k.bookingCancellation)==null?void 0:Ve.enabled)??!0,onChange:Se=>j({...k,bookingCancellation:{...k.bookingCancellation,enabled:Se.target.checked}})}),label:""})]}),i.jsx(Ft,{fullWidth:!0,size:"small",value:((ye=k.bookingCancellation)==null?void 0:ye.template)||"",onChange:Se=>j({...k,bookingCancellation:{...k.bookingCancellation,template:Se.target.value}}),disabled:!((pe=k.bookingCancellation)!=null&&pe.enabled),helperText:i.jsxs(i.Fragment,{children:[i.jsx("span",{children:`${(((Fe=k.bookingCancellation)==null?void 0:Fe.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),i.jsx("br",{}),i.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при автоматической отмене или возврате онлайн платежа"})]}),error:(((De=k.bookingCancellation)==null?void 0:De.template)||"").length>70})]})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(Ue,{sx:{mb:3},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[i.jsx(te,{variant:"subtitle2",children:"Изменение бронирования"}),i.jsx(As,{control:i.jsx(ni,{size:"small",checked:((ze=k.bookingModification)==null?void 0:ze.enabled)??!0,onChange:Se=>j({...k,bookingModification:{...k.bookingModification,enabled:Se.target.checked}})}),label:""})]}),i.jsx(Ft,{fullWidth:!0,size:"small",value:((Xe=k.bookingModification)==null?void 0:Xe.template)||"",onChange:Se=>j({...k,bookingModification:{...k.bookingModification,template:Se.target.value}}),disabled:!((at=k.bookingModification)!=null&&at.enabled),helperText:i.jsxs(i.Fragment,{children:[i.jsx("span",{children:`${(((ct=k.bookingModification)==null?void 0:ct.template)||"").length}/70 символов. Доступны: {time}, {court}`}),i.jsx("br",{}),i.jsx("small",{children:"Отправляется при изменении времени, корта или даты бронирования"})]}),error:(((st=k.bookingModification)==null?void 0:st.template)||"").length>70})]})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(Ue,{sx:{mb:3},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[i.jsx(te,{variant:"subtitle2",children:"Код авторизации"}),i.jsx(As,{control:i.jsx(ni,{size:"small",checked:((me=k.authCode)==null?void 0:me.enabled)??!0,onChange:Se=>j({...k,authCode:{...k.authCode,enabled:Se.target.checked}})}),label:""})]}),i.jsx(Ft,{fullWidth:!0,size:"small",value:((Pe=k.authCode)==null?void 0:Pe.template)||"",onChange:Se=>j({...k,authCode:{...k.authCode,template:Se.target.value}}),disabled:!((oe=k.authCode)!=null&&oe.enabled),helperText:i.jsxs(i.Fragment,{children:[i.jsx("span",{children:`${(((ge=k.authCode)==null?void 0:ge.template)||"").length}/70 символов. Доступны: {code}`}),i.jsx("br",{}),i.jsx("small",{children:"Отправляется при авторизации по SMS в мобильном приложении"})]}),error:(((Ie=k.authCode)==null?void 0:Ie.template)||"").length>70})]})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsxs(Ue,{sx:{mb:3},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[i.jsx(te,{variant:"subtitle2",children:"Ссылка на оплату"}),i.jsx(As,{control:i.jsx(ni,{size:"small",checked:((Ne=k.paymentLink)==null?void 0:Ne.enabled)??!0,onChange:Se=>j({...k,paymentLink:{...k.paymentLink,enabled:Se.target.checked}})}),label:""})]}),i.jsx(Ft,{fullWidth:!0,size:"small",value:((Ee=k.paymentLink)==null?void 0:Ee.template)||"",onChange:Se=>j({...k,paymentLink:{...k.paymentLink,template:Se.target.value}}),disabled:!((qe=k.paymentLink)!=null&&qe.enabled),helperText:i.jsxs(i.Fragment,{children:[i.jsx("span",{children:`${(((Be=k.paymentLink)==null?void 0:Be.template)||"").length}/70 символов. Доступны: {name}, {date}, {time}, {link}`}),i.jsx("br",{}),i.jsx("small",{children:"Отправляется при создании бронирования с онлайн оплатой в админ панели"})]}),error:(((Qe=k.paymentLink)==null?void 0:Qe.template)||"").length>70})]})})]}),i.jsx(Dt,{variant:"contained",fullWidth:!0,onClick:V,disabled:M,startIcon:M?i.jsx(Rr,{size:20}):null,children:M?"Сохранение...":"Сохранить шаблоны"})]})})})]})}),i.jsx(Ad,{value:r,index:2,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[i.jsx(Ux,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Безопасность"})]}),i.jsx(te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),i.jsx(bi,{sx:{my:2}}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),i.jsx(Ad,{value:r,index:3,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[i.jsx(o$,{color:"primary"}),i.jsx(te,{variant:"h6",children:"База данных"})]}),i.jsx(te,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),i.jsx(bi,{sx:{my:2}}),i.jsxs(Ue,{children:[i.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),i.jsx(te,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})}),i.jsx(Ad,{value:r,index:4,children:i.jsx(dt,{container:!0,spacing:3,children:i.jsx(dt,{item:!0,xs:12,children:i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[i.jsx(vc,{color:"primary",fontSize:"large"}),i.jsx(te,{variant:"h5",fontWeight:"bold",children:"Страницы подтверждения бронирования и оплаты"})]}),i.jsxs(Jt,{severity:"info",sx:{mb:3},children:[i.jsx(Vl,{children:"О страницах оплаты"}),"После создания бронирования с онлайн оплатой, клиент перенаправляется на страницу оплаты YooKassa. После оплаты или отмены, он возвращается на страницу подтверждения, которая показывает разное содержимое в зависимости от статуса бронирования и оплаты."]}),i.jsx(te,{variant:"h6",sx:{mt:3,mb:2},children:"Состояния страницы подтверждения"}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#e8f5e9"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(km,{sx:{color:"#4caf50"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"1. Успешная оплата"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Когда появляется:"})," После успешной оплаты через YooKassa"]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Статус в БД:"})," ",i.jsx("code",{children:"paymentStatus: 'paid'"}),", ",i.jsx("code",{children:"status: 'confirmed'"})]}),i.jsxs(te,{variant:"body2",children:[i.jsx("strong",{children:"Что видит клиент:"}),' Зеленый хедер с галочкой ✅, заголовок "Бронирование подтверждено!", детали бронирования, инструкции по отмене']})]}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#fff3cd"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(K9,{sx:{color:"#ff9800"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"2. Ожидание оплаты"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Когда появляется:"}),' Клиент вышел из YooKassa без оплаты (нажал "Отменить" или вернулся назад)']}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Статус в БД:"})," ",i.jsx("code",{children:"paymentStatus: 'awaiting_payment'"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Что видит клиент:"}),' Желтый хедер с часами ⏰, заголовок "Требуется оплата!", большой таймер обратного отсчета (15:00 → 00:00), анимированная кнопка "Оплатить сейчас"']}),i.jsxs(te,{variant:"body2",color:"warning.main",children:[i.jsx("strong",{children:"⚠️ Важно:"})," Бронирование автоматически отменяется через 15 минут без оплаты"]})]}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#ffebee"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(Ga,{sx:{color:"#f44336"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"3. Бронирование отменено"})]}),i.jsx(te,{variant:"body2",paragraph:!0,children:i.jsx("strong",{children:"Когда появляется:"})}),i.jsxs("ul",{style:{margin:"8px 0 8px 24px"},children:[i.jsx("li",{children:i.jsx(te,{variant:"body2",children:"Истекло 15 минут без оплаты"})}),i.jsx("li",{children:i.jsx(te,{variant:"body2",children:"Админ отменил бронирование"})}),i.jsx("li",{children:i.jsx(te,{variant:"body2",children:"Клиент отменил через мобильное приложение"})})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Статус в БД:"})," ",i.jsx("code",{children:"status: 'cancelled'"})," или ",i.jsx("code",{children:"paymentStatus: 'cancelled'/'expired'"})]}),i.jsxs(te,{variant:"body2",children:[i.jsx("strong",{children:"Что видит клиент:"}),' Красный крестик ❌, заголовок "Бронирование отменено", список возможных причин отмены']})]}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#ffebee"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(H9,{sx:{color:"#f44336"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"4. Ошибка оплаты"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Когда появляется:"})," Техническая ошибка при создании платежа в YooKassa/T-Bank"]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Статус в БД:"})," ",i.jsx("code",{children:"paymentStatus: 'error'"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"URL параметр:"})," ",i.jsx("code",{children:"?paymentError=true"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Что видит клиент:"}),' Красный хедер с крестиком ❌, заголовок "Ошибка оплаты", рекомендация связаться с администратором']}),i.jsxs(te,{variant:"body2",color:"warning.main",children:[i.jsx("strong",{children:"⚠️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре и могут быть удалены суперадмином"]})]}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#e8eaf6"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(Ga,{sx:{color:"#8B5CF6"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"5. Возврат средств"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Когда появляется:"})," Администратор выполнил возврат средств клиенту"]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Статус в БД:"})," ",i.jsx("code",{children:"paymentStatus: 'refunded'"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Что видит клиент:"})," Информация о возврате средств"]}),i.jsxs(te,{variant:"body2",color:"info.main",children:[i.jsx("strong",{children:"ℹ️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре"]})]}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#f5f5f5"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(W9,{sx:{color:"#9e9e9e"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"6. Обработка платежа"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Когда появляется:"})," Платеж обрабатывается банком (редкий случай)"]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"URL параметр:"})," ",i.jsx("code",{children:"?processing=true"})]}),i.jsxs(te,{variant:"body2",children:[i.jsx("strong",{children:"Что видит клиент:"}),' Песочные часы ⏳, заголовок "Обработка платежа", анимированный спиннер, автоматическая проверка статуса каждые 3 секунды']})]}),i.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#f5f5f5"},children:[i.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[i.jsx(i$,{sx:{color:"#9e9e9e"}}),i.jsx(te,{variant:"subtitle1",fontWeight:"bold",children:"7. Бронирование не найдено"})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:[i.jsx("strong",{children:"Когда появляется:"})," Неверный ID бронирования или бронирование удалено"]}),i.jsxs(te,{variant:"body2",children:[i.jsx("strong",{children:"Что видит клиент:"}),' Лупа 🔍, заголовок "Бронирование не найдено", кнопка "На главную"']})]}),i.jsx(bi,{sx:{my:3}}),i.jsx(te,{variant:"h6",sx:{mb:2},children:"Технические детали"}),i.jsxs($n,{sx:{p:2,mb:2},children:[i.jsx(te,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Автоматическая отмена неоплаченных бронирований"}),i.jsxs(te,{variant:"body2",paragraph:!0,children:["• ",i.jsx("strong",{children:"Таймер:"})," 15 минут с момента создания"]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:["• ",i.jsx("strong",{children:"Cloud Function:"})," ",i.jsx("code",{children:"cancelExpiredBookings"})," (запускается каждые 5 минут)"]}),i.jsxs(te,{variant:"body2",children:["• ",i.jsx("strong",{children:"Условие отмены:"})," ",i.jsxs("code",{children:["paymentStatus === 'awaiting_payment' && createdAt ",">"," 15 минут назад"]})]})]}),i.jsxs($n,{sx:{p:2,mb:2},children:[i.jsx(te,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"URL структура"}),i.jsxs(te,{variant:"body2",paragraph:!0,children:["• Основной URL: ",i.jsxs("code",{children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})]}),i.jsxs(te,{variant:"body2",paragraph:!0,children:["• Параметр ошибки: ",i.jsx("code",{children:"?paymentError=true"})]}),i.jsxs(te,{variant:"body2",children:["• Параметр обработки: ",i.jsx("code",{children:"?processing=true"})]})]}),i.jsxs($n,{sx:{p:2},children:[i.jsx(te,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Статусы в базе данных"}),i.jsx(Ue,{sx:{mt:1,p:2,backgroundColor:"#f5f5f5",borderRadius:1},children:i.jsx("pre",{style:{margin:0,fontSize:"12px"},children:`// Статус бронирования
status: 'pending' | 'confirmed' | 'cancelled'

// Статус оплаты
paymentStatus: 
  | 'awaiting_payment' // Ожидает оплаты (начальный статус)
  | 'paid'           // Оплачено (наличные/карта на месте)
  | 'online_payment' // Оплачено онлайн (YooKassa/T-Bank)
  | 'cancelled'      // Отменено
  | 'refunded'       // Возвращено
  | 'error'          // Ошибка (не занимает слот)
  | 'expired'        // Истекло время (15 минут)
  | 'not_required'   // Не требуется (редко)`})})]})]})})})})}),i.jsx(hj,{open:h,autoHideDuration:3e3,onClose:()=>m(!1),message:"Настройки сохранены"})]}):null}function eee(){const{user:e}=hr(),[t,n]=b.useState(null),[r,s]=b.useState("");return b.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){s("No user logged in");return}try{const o=zt(Tt($e,"admins"),Ct("email","==",e.email)),l=await Wt(o);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const A=l.docs[0];n({id:A.id,data:A.data(),exists:!0})}}catch(o){s(o.message)}})()},[e]),i.jsxs(Ue,{sx:{p:3},children:[i.jsx(te,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),i.jsx(tn,{sx:{mb:2},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",children:"Current User"}),i.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),i.jsx(tn,{sx:{mb:2},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",children:"Admin Search Result"}),i.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",color:"error",children:"Error"}),i.jsx(te,{children:r})]})})]})}const tee={admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function nee(){const{isSuperAdmin:e}=Kr(),[t,n]=b.useState(!1),[r,s]=b.useState([]),[a,o]=b.useState(null),[l,A]=b.useState(0);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const p=(await Wt(Tt($e,"admins"))).docs.map(h=>({id:h.id,...h.data()}));s(p)}catch(d){console.error("Error loading admins:",d),o({type:"error",text:"Ошибка при загрузке администраторов"})}finally{n(!1)}},u=async()=>{try{n(!0),o(null);let d=0;for(const p of r)if(p.role==="admin"||p.role==="manager"){const h=tee[p.role],m=p.permissions||[],g=h.filter(y=>!m.includes(y));if(g.length>0){const y=[...new Set([...m,...h])];await Nn(bt($e,"admins",p.id),{permissions:y,updatedAt:new Date}),d++,console.log(`Updated ${p.name} (${p.email}): added ${g.join(", ")}`)}}A(d),d>0?o({type:"success",text:`Успешно обновлено ${d} администратор(ов). Обновите страницу и попробуйте войти снова.`}):o({type:"info",text:"Все администраторы уже имеют необходимые права."}),await c()}catch(d){console.error("Error fixing permissions:",d),o({type:"error",text:"Ошибка при обновлении прав доступа"})}finally{n(!1)}};return e?i.jsxs(Ue,{p:3,children:[i.jsx(te,{variant:"h4",gutterBottom:!0,children:"Исправление прав доступа администраторов"}),i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Эта страница позволяет исправить права доступа для существующих администраторов клубов. Нажмите кнопку ниже, чтобы автоматически добавить недостающие права."}),a&&i.jsx(Jt,{severity:a.type,sx:{mb:3},children:a.text}),i.jsx(Dt,{variant:"contained",color:"primary",onClick:u,disabled:t,sx:{mb:3},children:t?i.jsx(Rr,{size:24}):"Исправить права доступа"}),i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Текущие администраторы:"}),t&&!r.length?i.jsx(Rr,{}):i.jsx(Ue,{display:"flex",flexDirection:"column",gap:2,children:r.map(d=>{var p,h;return i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsxs(te,{variant:"h6",children:[d.name," (",d.email,")"]}),i.jsxs(te,{color:"textSecondary",gutterBottom:!0,children:["Роль: ",i.jsx(Di,{label:d.role,size:"small",color:d.role==="admin"?"primary":"default"})]}),i.jsxs(te,{variant:"body2",children:["Текущие права: ",((p=d.permissions)==null?void 0:p.join(", "))||"Нет прав"]}),d.role==="admin"&&!((h=d.permissions)!=null&&h.includes("manage_club"))&&i.jsx(Jt,{severity:"warning",sx:{mt:1},children:'У этого администратора отсутствует право "manage_club" для управления клубом!'})]})},d.id)})})]}):i.jsx(Jt,{severity:"error",children:"Доступ запрещен. Эта страница доступна только суперадминистраторам."})}const ree=({isOpen:e,onClose:t,onSave:n,trainer:r,clubId:s})=>{var Z,le,T;const[a,o]=b.useState({firstName:"",lastName:"",phone:"+7",email:"",specialization:[],experience:0,bio:"",pricePerHour:0,groupPrice:0,commissionType:"percent",commissionValue:20,schedule:{monday:{enabled:!1},tuesday:{enabled:!1},wednesday:{enabled:!1},thursday:{enabled:!1},friday:{enabled:!1},saturday:{enabled:!1},sunday:{enabled:!1}},worksOnHolidays:!1,maxDailyHours:8,minBreakMinutes:0,advanceBookingDays:30,cancellationHours:24,availableCourts:[],color:"#00A86B",status:"active"}),[l,A]=b.useState("basic"),[c,u]=b.useState(!1),[d,p]=b.useState(!1),[h,m]=b.useState(""),[g,y]=b.useState(""),[x,C]=b.useState(!1),[S,w]=b.useState(!1);b.useEffect(()=>{if(r){const H=r.phone?I(r.phone):"+7";o({...r,phone:H}),C(r.hasAccount||!1),y(`${r.firstName} ${r.lastName}`)}else o(H=>({...H,phone:"+7"}))},[r]),b.useEffect(()=>{r!=null&&r.id&&L()},[r==null?void 0:r.id]);const L=async()=>{if(r!=null&&r.id)try{const H=zt(Tt($e,"admins"),Ct("trainerId","==",r.id)),Q=await Wt(H);C(!Q.empty)}catch(H){console.error("Error checking trainer account:",H)}},I=H=>{const Q=H.replace(/\D/g,"");return Q.length<=1?Q:Q.length<=4?`+7 (${Q.slice(1)})`:Q.length<=7?`+7 (${Q.slice(1,4)}) ${Q.slice(4)}`:Q.length<=9?`+7 (${Q.slice(1,4)}) ${Q.slice(4,7)}-${Q.slice(7)}`:`+7 (${Q.slice(1,4)}) ${Q.slice(4,7)}-${Q.slice(7,9)}-${Q.slice(9,11)}`},U=H=>{const Q=I(H.target.value);o(K=>({...K,phone:Q}))},_=H=>{const{name:Q,value:K,type:V}=H.target;if(V==="checkbox"){const X=H.target.checked;o(ie=>({...ie,[Q]:X}))}else o(V==="number"?X=>({...X,[Q]:parseFloat(K)||0}):X=>({...X,[Q]:K}))},F=H=>{o(Q=>{var K;return{...Q,specialization:(K=Q.specialization)!=null&&K.includes(H)?Q.specialization.filter(V=>V!==H):[...Q.specialization||[],H]}})},R=(H,Q,K)=>{o(V=>({...V,schedule:{...V.schedule,[H]:{...V.schedule[H],[Q]:K}}}))},k=()=>{const H={id:Date.now().toString(),startDate:"",endDate:"",reason:""};o(Q=>({...Q,vacations:[...Q.vacations||[],H]}))},j=(H,Q,K)=>{o(V=>{var X;return{...V,vacations:(X=V.vacations)==null?void 0:X.map(ie=>ie.id===H?{...ie,[Q]:K}:ie)}})},M=H=>{o(Q=>{var K;return{...Q,vacations:(K=Q.vacations)==null?void 0:K.filter(V=>V.id!==H)}})},N=H=>{o(Q=>{const K=Q.blockedDates||[];return K.includes(H)?{...Q,blockedDates:K.filter(V=>V!==H)}:{...Q,blockedDates:[...K,H]}})},$=async()=>{const H=a.email;if(!(r!=null&&r.id)||!H||!h||h.length<6){if(!H){alert("Пожалуйста, укажите email тренера в основных данных"),A("basic");return}return}w(!0);try{const Q=Dl();(await es(Q,"createTrainerAccount")({trainerId:r.id,email:H,password:h,name:g||`${r.firstName} ${r.lastName}`})).data.success&&(C(!0),u(!1),m(""),alert("Аккаунт успешно создан! Данные для входа отправлены на email тренера."),await L())}catch(Q){console.error("Error creating trainer account:",Q),Q.code==="functions/already-exists"?alert("Пользователь с таким email уже существует"):Q.code==="functions/invalid-argument"?alert(Q.message||"Некорректные данные"):alert("Ошибка при создании аккаунта: "+(Q.message||"Неизвестная ошибка"))}finally{w(!1)}},P=async()=>{if(r!=null&&r.id&&confirm("Вы уверены, что хотите удалить аккаунт тренера? Тренер больше не сможет войти в систему.")){w(!0);try{const H=Dl();(await es(H,"deleteTrainerAccount")({trainerId:r.id})).data.success&&(C(!1),alert("Аккаунт тренера успешно удален"),await L())}catch(H){console.error("Error deleting trainer account:",H),alert("Ошибка при удалении аккаунта: "+(H.message||"Неизвестная ошибка"))}finally{w(!1)}}},D=async()=>{if(!(!(r!=null&&r.id)||!h||h.length<6)){w(!0);try{const H=Dl();(await es(H,"resetTrainerPassword")({trainerId:r.id,newPassword:h})).data.success&&(p(!1),m(""),alert("Пароль успешно изменен! Новые данные для входа отправлены на email тренера."))}catch(H){console.error("Error resetting trainer password:",H),alert("Ошибка при изменении пароля: "+(H.message||"Неизвестная ошибка"))}finally{w(!1)}}},W=H=>{if(H.preventDefault(),!a.firstName||!a.lastName||!a.phone){alert("Заполните обязательные поля");return}if(!a.specialization||a.specialization.length===0){alert("Выберите хотя бы одну специализацию");return}if(!(a.schedule&&Object.values(a.schedule).some(V=>V.enabled?V.start&&V.end:!1))){alert("Необходимо настроить расписание тренера. Укажите хотя бы один рабочий день с временем начала и окончания работы."),A("schedule");return}if(a.schedule&&Object.entries(a.schedule).some(([V,X])=>{if(X.enabled&&X.start&&X.end){const[ie,ae]=X.start.split(":").map(Number),[Ce,ce]=X.end.split(":").map(Number),fe=ie*60+ae,ue=Ce*60+ce;return fe>=ue}return!1})){alert("Время окончания работы должно быть позже времени начала"),A("schedule");return}n(a)};if(!e)return null;const G={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return i.jsx("div",{className:`modal ${e?"active":""}`,children:i.jsxs("div",{className:"modal-content",style:{maxWidth:"900px",width:"90%"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{className:"modal-title",children:r?"Редактировать тренера":"Добавить тренера"}),i.jsx("button",{className:"modal-close",onClick:t,children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),i.jsxs("form",{onSubmit:W,children:[i.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb"},children:[i.jsx("button",{type:"button",onClick:()=>A("basic"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="basic"?"2px solid var(--primary)":"2px solid transparent",color:l==="basic"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Основные данные"}),i.jsxs("button",{type:"button",onClick:()=>A("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:l==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:["Расписание ",i.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),i.jsx("button",{type:"button",onClick:()=>A("vacations"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="vacations"?"2px solid var(--primary)":"2px solid transparent",color:l==="vacations"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Отпуска"}),i.jsx("button",{type:"button",onClick:()=>A("settings"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="settings"?"2px solid var(--primary)":"2px solid transparent",color:l==="settings"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Настройки"}),r&&i.jsx("button",{type:"button",onClick:()=>A("account"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="account"?"2px solid var(--primary)":"2px solid transparent",color:l==="account"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Аккаунт"})]}),i.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[l==="basic"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Имя *"}),i.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:_,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Фамилия *"}),i.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:_,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Телефон *"}),i.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:U,className:"form-input",placeholder:"+7 (999) 999-99-99",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:a.email,onChange:_,className:"form-input",placeholder:"trainer@example.com"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Специализация *"}),i.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:(Z=a.specialization)==null?void 0:Z.includes("tennis"),onChange:()=>F("tennis"),style:{marginRight:"8px"}}),i.jsx("span",{children:"🎾 Теннис"})]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:(le=a.specialization)==null?void 0:le.includes("padel"),onChange:()=>F("padel"),style:{marginRight:"8px"}}),i.jsx("span",{children:"🏓 Падел"})]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:(T=a.specialization)==null?void 0:T.includes("badminton"),onChange:()=>F("badminton"),style:{marginRight:"8px"}}),i.jsx("span",{children:"🏸 Бадминтон"})]})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),i.jsx("input",{type:"number",name:"experience",value:a.experience,onChange:_,min:"0",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Статус"}),i.jsxs("select",{name:"status",value:a.status,onChange:_,className:"form-select",children:[i.jsx("option",{value:"active",children:"Активен"}),i.jsx("option",{value:"vacation",children:"В отпуске"}),i.jsx("option",{value:"inactive",children:"Неактивен"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"О тренере"}),i.jsx("textarea",{name:"bio",value:a.bio,onChange:_,rows:3,className:"form-input",placeholder:"Краткое описание, достижения, специализация...",style:{resize:"vertical"}})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Стоимость индивидуального занятия"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"number",name:"pricePerHour",value:a.pricePerHour,onChange:_,min:"0",className:"form-input",style:{flex:1}}),i.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Стоимость группового занятия"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"number",name:"groupPrice",value:a.groupPrice,onChange:_,min:"0",className:"form-input",style:{flex:1}}),i.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Тип комиссии клуба"}),i.jsxs("select",{name:"commissionType",value:a.commissionType,onChange:_,className:"form-select",children:[i.jsx("option",{value:"percent",children:"Процент"}),i.jsx("option",{value:"fixed",children:"Фиксированная сумма"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:a.commissionType==="percent"?"Процент комиссии":"Сумма комиссии (₽)"}),i.jsx("input",{type:"number",name:"commissionValue",value:a.commissionValue,onChange:_,min:"0",max:a.commissionType==="percent"?100:void 0,className:"form-input"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Цвет для календаря"}),i.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[i.jsx("input",{type:"color",className:"form-input",name:"color",value:a.color,onChange:_,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),i.jsx("input",{type:"text",className:"form-input",value:a.color,onChange:H=>o(Q=>({...Q,color:H.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),i.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения тренера в календаре"})]})]}),l==="schedule"&&i.jsxs("div",{children:[i.jsx("div",{style:{padding:"12px 16px",background:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",marginBottom:"20px"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#92400E",fontWeight:500},children:[i.jsx("strong",{children:"Важно:"})," Расписание является обязательным для заполнения. Необходимо указать хотя бы один рабочий день с временем начала и окончания работы."]})}),i.jsx("div",{style:{marginBottom:"24px"},children:Object.keys(G).map(H=>{var Q,K,V,X,ie,ae,Ce,ce,fe,ue;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:(K=(Q=a.schedule)==null?void 0:Q[H])!=null&&K.enabled?"#f9fafb":"white"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:(X=(V=a.schedule)==null?void 0:V[H])==null?void 0:X.enabled,onChange:we=>R(H,"enabled",we.target.checked),style:{marginRight:"8px"}}),i.jsx("span",{style:{fontWeight:500},children:G[H]})]}),((ae=(ie=a.schedule)==null?void 0:ie[H])==null?void 0:ae.enabled)&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[i.jsx("input",{type:"time",value:((ce=(Ce=a.schedule)==null?void 0:Ce[H])==null?void 0:ce.start)||"09:00",onChange:we=>R(H,"start",we.target.value),className:"form-input",style:{width:"140px"}}),i.jsx("span",{style:{color:"#6b7280"},children:"—"}),i.jsx("input",{type:"time",value:((ue=(fe=a.schedule)==null?void 0:fe[H])==null?void 0:ue.end)||"18:00",onChange:we=>R(H,"end",we.target.value),className:"form-input",style:{width:"140px"}})]})]},H)})}),i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:a.worksOnHolidays,onChange:_,style:{marginRight:"8px"}}),i.jsx("span",{children:"Работает в праздничные дни"})]})]}),l==="settings"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Максимум часов в день"}),i.jsx("input",{type:"number",name:"maxDailyHours",value:a.maxDailyHours,onChange:_,min:"1",max:"12",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Минимальный перерыв между занятиями"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"number",name:"minBreakMinutes",value:a.minBreakMinutes,onChange:_,min:"0",max:"60",className:"form-input",style:{flex:1}}),i.jsx("span",{style:{color:"#6b7280"},children:"минут"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Бронирование вперед"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"number",name:"advanceBookingDays",value:a.advanceBookingDays,onChange:_,min:"1",max:"365",className:"form-input",style:{flex:1}}),i.jsx("span",{style:{color:"#6b7280"},children:"дней"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Отмена минимум за"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("input",{type:"number",name:"cancellationHours",value:a.cancellationHours,onChange:_,min:"0",max:"72",className:"form-input",style:{flex:1}}),i.jsx("span",{style:{color:"#6b7280"},children:"часов"})]})]})]}),r&&r.id&&s&&i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Персональная ссылка для бронирования"}),i.jsxs("div",{style:{padding:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Клиенты могут использовать эту ссылку для бронирования с тренером:"}),i.jsxs("div",{style:{padding:"8px 12px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontFamily:"monospace",fontSize:"13px",wordBreak:"break-all",userSelect:"all"},children:["https://allcourt.ru/club/",s,"?trainer=",r.id]}),i.jsx("button",{type:"button",onClick:()=>{const H=`https://allcourt.ru/club/${s}?trainer=${r.id}`;navigator.clipboard.writeText(H),alert("Ссылка скопирована в буфер обмена")},style:{marginTop:"8px",padding:"6px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Скопировать ссылку"})]})]}),i.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:i.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[i.jsx("strong",{children:"Примечание:"})," При переходе по персональной ссылке тренер будет автоматически выбран в форме бронирования, и клиент увидит только те слоты, когда тренер доступен."]})})]}),l==="vacations"&&i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Периоды отпусков"}),a.vacations&&a.vacations.length>0?i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.vacations.map(H=>i.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Начало"}),i.jsx("input",{type:"date",className:"form-input",value:H.startDate,onChange:Q=>j(H.id,"startDate",Q.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Окончание"}),i.jsx("input",{type:"date",className:"form-input",value:H.endDate,onChange:Q=>j(H.id,"endDate",Q.target.value),min:H.startDate||new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Причина (необязательно)"}),i.jsx("input",{type:"text",className:"form-input",value:H.reason||"",onChange:Q=>j(H.id,"reason",Q.target.value),placeholder:"Например: Отпуск, болезнь, обучение"})]}),i.jsx("button",{type:"button",onClick:()=>M(H.id),style:{padding:"8px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",color:"#dc2626",cursor:"pointer",alignSelf:"flex-end"},children:i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})},H.id))}):i.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Нет запланированных отпусков"}),i.jsx("button",{type:"button",onClick:k,style:{marginTop:"12px",padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"+ Добавить период отпуска"})]}),i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Заблокированные даты"}),i.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:"Выберите отдельные дни, когда тренер не будет доступен (например, разовые выходные)"}),i.jsx("div",{style:{marginBottom:"12px"},children:i.jsx("input",{type:"date",className:"form-input",onChange:H=>{H.target.value&&(N(H.target.value),H.target.value="")},min:new Date().toISOString().split("T")[0],style:{maxWidth:"200px"}})}),a.blockedDates&&a.blockedDates.length>0&&i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:a.blockedDates.sort().map(H=>i.jsxs("div",{style:{padding:"4px 12px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"16px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[i.jsx("span",{children:new Date(H+"T00:00:00").toLocaleDateString("ru-RU")}),i.jsx("button",{type:"button",onClick:()=>N(H),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:0,display:"flex",alignItems:"center"},children:i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},H))})]}),i.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:i.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[i.jsx("strong",{children:"Примечание:"})," В период отпуска или в заблокированные даты тренер не будет доступен для бронирования. Уже существующие бронирования необходимо отменить или перенести вручную."]})})]}),l==="account"&&r&&i.jsx("div",{children:i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Управление аккаунтом тренера"}),x?i.jsxs("div",{style:{padding:"20px",background:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"#22c55e",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:i.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#15803d"},children:"Аккаунт активен"}),i.jsxs("div",{style:{fontSize:"14px",color:"#16a34a"},children:["Email: ",a.email||(r==null?void 0:r.email)]})]})]}),i.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",marginBottom:"12px"},children:[i.jsx("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"8px"},children:"Тренер может войти в систему используя:"}),i.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:["• Email: ",i.jsx("strong",{children:a.email||(r==null?void 0:r.email)}),i.jsx("br",{}),"• Пароль, который был установлен при создании аккаунта"]})]}),i.jsxs("div",{style:{display:"flex",gap:"12px"},children:[i.jsx("button",{type:"button",onClick:()=>p(!0),style:{padding:"8px 16px",background:"#e0f2fe",color:"#0369a1",border:"1px solid #7dd3fc",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Изменить пароль"}),i.jsx("button",{type:"button",onClick:P,disabled:S,style:{padding:"8px 16px",background:"#fee2e2",color:"#dc2626",border:"1px solid #fca5a5",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:S?"not-allowed":"pointer",opacity:S?.5:1},children:S?"Удаление...":"Удалить аккаунт"})]})]}):i.jsxs("div",{style:{padding:"20px",background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[i.jsx("div",{style:{width:"40px",height:"40px",background:"#f59e0b",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#92400e"},children:"Аккаунт не создан"}),i.jsx("div",{style:{fontSize:"14px",color:"#b45309"},children:"Тренер не может войти в систему"})]})]}),i.jsx("button",{type:"button",onClick:()=>{a.email?u(!0):(alert("Пожалуйста, сначала укажите email тренера в основных данных"),A("basic"))},style:{padding:"10px 20px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Создать аккаунт"})]}),i.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[i.jsx("h4",{style:{fontSize:"14px",fontWeight:600,marginBottom:"8px",color:"#374151"},children:"Права доступа тренера:"}),i.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#6b7280"},children:[i.jsx("li",{children:"Просмотр и редактирование своего профиля (кроме ФИО и телефона)"}),i.jsx("li",{children:"Управление своим расписанием и отпусками"}),i.jsx("li",{children:"Просмотр своих бронирований"}),i.jsx("li",{children:"Доступ только к личному кабинету"})]})]})]})})]}),d&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[i.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"20px"},children:"Изменение пароля тренера"}),i.jsxs("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",marginBottom:"16px"},children:[i.jsxs("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"4px"},children:["Тренер: ",i.jsxs("strong",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})]}),i.jsxs("div",{style:{fontSize:"13px",color:"#0369a1"},children:["Email: ",i.jsx("strong",{children:a.email||(r==null?void 0:r.email)})]})]}),i.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[i.jsx("label",{className:"form-label",children:"Новый пароль"}),i.jsx("input",{type:"password",className:"form-input",value:h,onChange:H=>m(H.target.value),placeholder:"Минимум 6 символов"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"После изменения пароля новые данные будут автоматически отправлены на email тренера."})]}),i.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",onClick:()=>{p(!1),m("")},disabled:S,style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:S?"not-allowed":"pointer",opacity:S?.5:1},children:"Отмена"}),i.jsx("button",{type:"button",onClick:D,disabled:S||!h||h.length<6,style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:S||!h||h.length<6?"not-allowed":"pointer",opacity:S||!h||h.length<6?.5:1},children:S?"Изменение...":"Изменить пароль"})]})]})}),c&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[i.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"20px"},children:"Создание аккаунта для тренера"}),a.email?i.jsxs("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",marginBottom:"16px"},children:[i.jsx("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"4px"},children:"Для входа будет использован email:"}),i.jsx("div",{style:{fontSize:"15px",fontWeight:600,color:"#0c4a6e"},children:a.email})]}):i.jsx("div",{style:{padding:"12px",background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",marginBottom:"16px"},children:i.jsx("div",{style:{fontSize:"14px",color:"#92400e"},children:"⚠️ Email не указан в основных данных тренера. Пожалуйста, сначала укажите email в основных данных."})}),i.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[i.jsx("label",{className:"form-label",children:"Имя для отображения"}),i.jsx("input",{type:"text",className:"form-input",value:g,onChange:H=>y(H.target.value),placeholder:"Имя Фамилия",disabled:!0})]}),i.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[i.jsx("label",{className:"form-label",children:"Пароль"}),i.jsx("input",{type:"password",className:"form-input",value:h,onChange:H=>m(H.target.value),placeholder:"Минимум 6 символов"}),i.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Пароль должен содержать минимум 6 символов. Сообщите этот пароль тренеру для входа в систему."})]}),i.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",onClick:()=>{u(!1),m("")},disabled:S,style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:S?"not-allowed":"pointer",opacity:S?.5:1},children:"Отмена"}),i.jsx("button",{type:"button",onClick:$,disabled:S||!a.email||!h||h.length<6,style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:S||!a.email||!h||h.length<6?"not-allowed":"pointer",opacity:S||!a.email||!h||h.length<6?.5:1},children:S?"Создание...":"Создать аккаунт"})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:r?"Сохранить изменения":"Добавить тренера"})]})]})]})})},see=()=>{const{admin:e,club:t}=hr(),{isSuperAdmin:n}=Kr(),[r,s]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(""),[c,u]=b.useState("all"),[d,p]=b.useState(!1),[h,m]=b.useState(null),[g,y]=b.useState(null),[x,C]=b.useState([]),[S,w]=b.useState(!1);b.useEffect(()=>{if(n){L();const D=localStorage.getItem("selectedVenueId");D?(y(D),U(D)):o(!1)}else e!=null&&e.venueId?U(e.venueId):t!=null&&t.id?U(t.id):o(!1)},[e,t,n]);const L=async()=>{try{const W=(await Wt(Tt($e,"venues"))).docs.map(G=>({id:G.id,...G.data()}));C(W)}catch(D){console.error("Error fetching venues:",D)}},I=D=>{y(D),localStorage.setItem("selectedVenueId",D),U(D)},U=async D=>{if(D){o(!0);try{const W=zt(Tt($e,"trainers"),Ct("clubId","==",D),f5("firstName")),G=await Wt(W),Z=[];G.forEach(le=>{Z.push({id:le.id,...le.data()})}),s(Z)}catch(W){console.error("Error fetching trainers:",W)}finally{o(!1)}}},_=()=>{m(null),p(!0)},F=D=>{m(D),p(!0)},R=async D=>{if(window.confirm("Вы уверены, что хотите удалить этого тренера?"))try{await Vc(bt($e,"trainers",D));const W=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);W&&await U(W),w(!0),setTimeout(()=>w(!1),3e3)}catch(W){console.error("Error deleting trainer:",W),alert("Ошибка при удалении тренера")}},k=async D=>{const W=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);if(W)try{h!=null&&h.id?await Nn(bt($e,"trainers",h.id),{...D,updatedAt:qt.now()}):await va(Tt($e,"trainers"),{...D,clubId:W,createdAt:qt.now(),updatedAt:qt.now()}),await U(W),p(!1),w(!0),setTimeout(()=>w(!1),3e3)}catch(G){console.error("Error saving trainer:",G),alert("Ошибка при сохранении тренера")}},j=r.filter(D=>{const W=D.firstName.toLowerCase().includes(l.toLowerCase())||D.lastName.toLowerCase().includes(l.toLowerCase()),G=c==="all"||D.specialization.includes(c);return W&&G}),M=D=>{switch(D){case"tennis":return"🎾";case"padel":return"🏓";case"badminton":return"🏸";default:return"🎾"}},N=D=>{switch(D){case"active":return i.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#10B981",color:"white",borderRadius:"12px"},children:"Активен"});case"vacation":return i.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#F59E0B",color:"white",borderRadius:"12px"},children:"В отпуске"});case"inactive":return i.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#6B7280",color:"white",borderRadius:"12px"},children:"Неактивен"});default:return null}},$=D=>{var le,T,H,Q;const G=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(K=>{var V,X;return(X=(V=D.schedule)==null?void 0:V[K])==null?void 0:X.enabled});if(G.length===0)return"Не указано";if(G.length===7)return"Ежедневно";if(G.length===5&&!((T=(le=D.schedule)==null?void 0:le.saturday)!=null&&T.enabled)&&!((Q=(H=D.schedule)==null?void 0:H.sunday)!=null&&Q.enabled))return"Пн-Пт";const Z={monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб",sunday:"Вс"};return G.length===1?Z[G[0]]:`${Z[G[0]]}-${Z[G[G.length-1]]}`},P=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);return a?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):i.jsxs("div",{children:[n&&i.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[i.jsx("div",{className:"section-header",children:i.jsx("h2",{className:"section-title",children:"Управление клубом"})}),i.jsx("div",{className:"form-group",children:i.jsxs("select",{value:g||"",onChange:D=>I(D.target.value),className:"form-select",children:[i.jsx("option",{value:"",children:"Выберите клуб"}),x.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})})]}),S&&i.jsxs(Jt,{severity:"success",style:{marginBottom:"24px"},children:[i.jsx(Vl,{children:"Успешно"}),"Операция выполнена успешно"]}),P?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{className:"section-title",children:"Тренеры"}),i.jsxs("button",{onClick:_,className:"btn btn-primary",children:[i.jsx(au,{fontSize:"small"}),"Добавить тренера"]})]}),i.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[i.jsxs("div",{style:{flex:1,minWidth:"200px",position:"relative"},children:[i.jsx(s$,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontSize:"20px"}}),i.jsx("input",{type:"text",placeholder:"Поиск по имени...",value:l,onChange:D=>A(D.target.value),className:"form-input",style:{paddingLeft:"40px"}})]}),i.jsxs("select",{value:c,onChange:D=>u(D.target.value),className:"form-select",style:{width:"auto"},children:[i.jsx("option",{value:"all",children:"Все виды спорта"}),i.jsx("option",{value:"tennis",children:"Теннис"}),i.jsx("option",{value:"padel",children:"Падел"}),i.jsx("option",{value:"badminton",children:"Бадминтон"})]})]})]}),j.length>0?i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginTop:"24px"},children:j.map(D=>{var W,G;return i.jsxs("div",{className:"section-card",style:{padding:"24px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:D.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[D.firstName[0],D.lastName[0]]}),i.jsxs("div",{children:[i.jsxs("h3",{style:{margin:0,fontSize:"18px",fontWeight:600},children:[D.firstName," ",D.lastName]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[D.specialization.map(Z=>i.jsx("span",{style:{fontSize:"18px"},children:M(Z)},Z)),D.hasAccount?i.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",fontSize:"12px",background:"#e0f2fe",color:"#0369a1",borderRadius:"12px",marginLeft:"8px"},children:[i.jsx(Td,{style:{fontSize:"14px"}}),"Аккаунт"]}):i.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",fontSize:"12px",background:"#fef3c7",color:"#92400e",borderRadius:"12px",marginLeft:"8px"},children:[i.jsx(J9,{style:{fontSize:"14px"}}),"Нет аккаунта"]})]})]})]}),N(D.status)]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px",color:"#6B7280",marginBottom:"16px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx(th,{style:{fontSize:"16px"}}),i.jsx("span",{children:$(D)}),D.schedule&&Object.keys(D.schedule).find(Z=>{var le;return(le=D.schedule[Z])==null?void 0:le.enabled})&&i.jsxs("span",{style:{color:"#9CA3AF"},children:[(W=D.schedule[Object.keys(D.schedule).find(Z=>{var le;return(le=D.schedule[Z])==null?void 0:le.enabled})||"monday"])==null?void 0:W.start," -",(G=D.schedule[Object.keys(D.schedule).find(Z=>{var le;return(le=D.schedule[Z])==null?void 0:le.enabled})||"monday"])==null?void 0:G.end]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx(ql,{style:{fontSize:"16px"}}),i.jsxs("span",{children:[D.pricePerHour,"₽/час"]}),D.groupPrice&&i.jsxs("span",{style:{color:"#9CA3AF"},children:["• Группа: ",D.groupPrice,"₽"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx(n$,{style:{fontSize:"16px"}}),i.jsxs("span",{children:[D.experience," лет опыта"]})]})]}),i.jsxs("div",{style:{display:"flex",gap:"8px"},children:[i.jsxs("button",{onClick:()=>F(D),className:"btn btn-secondary",style:{flex:1},children:[i.jsx(Rc,{fontSize:"small"}),"Изменить"]}),i.jsx("button",{onClick:()=>R(D.id),className:"btn btn-danger",children:i.jsx(rA,{fontSize:"small"})})]})]},D.id)})}):i.jsx("div",{className:"section-card",style:{marginTop:"24px"},children:i.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[i.jsx(Y9,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),i.jsx("p",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"8px"},children:"Тренеры не найдены"}),r.length===0&&i.jsx("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"Добавьте первого тренера вашего клуба"})]})})]}):i.jsx("div",{className:"section-card",children:i.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[i.jsx(Bj,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),i.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:n?"Выберите клуб для просмотра тренеров":"Клуб не найден"})]})}),d&&i.jsx(ree,{isOpen:d,onClose:()=>p(!1),onSave:k,trainer:h,clubId:n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id)})]})};function iee(){const{admin:e}=hr(),t=rs(),[n,r]=b.useState(null),[s,a]=b.useState(!0),[o,l]=b.useState(!1),[A,c]=b.useState("info"),[u,d]=b.useState({});b.useEffect(()=>{e!=null&&e.trainerId?p():t("/admin/dashboard")},[e]);const p=async()=>{if(e!=null&&e.trainerId)try{const I=await rn(bt($e,"trainers",e.trainerId));if(I.exists()){const U={id:I.id,...I.data()};r(U),d(U)}}catch(I){console.error("Error fetching trainer data:",I)}finally{a(!1)}},h=I=>{const{name:U,value:_,type:F}=I.target;if(F==="checkbox"){const R=I.target.checked;d(k=>({...k,[U]:R}))}else d(F==="number"?R=>({...R,[U]:parseFloat(_)||0}):R=>({...R,[U]:_}))},m=I=>{d(U=>{var _;return{...U,specialization:(_=U.specialization)!=null&&_.includes(I)?U.specialization.filter(F=>F!==I):[...U.specialization||[],I]}})},g=(I,U,_)=>{d(F=>({...F,schedule:{...F.schedule,[I]:{...F.schedule[I],[U]:_}}}))},y=()=>{const I={id:Date.now().toString(),startDate:"",endDate:"",reason:""};d(U=>({...U,vacations:[...U.vacations||[],I]}))},x=(I,U,_)=>{d(F=>{var R;return{...F,vacations:(R=F.vacations)==null?void 0:R.map(k=>k.id===I?{...k,[U]:_}:k)}})},C=I=>{d(U=>{var _;return{...U,vacations:(_=U.vacations)==null?void 0:_.filter(F=>F.id!==I)}})},S=I=>{d(U=>{const _=U.blockedDates||[];return _.includes(I)?{...U,blockedDates:_.filter(F=>F!==I)}:{...U,blockedDates:[..._,I]}})},w=async()=>{if(!(!(e!=null&&e.trainerId)||!u)){l(!0);try{const{firstName:I,lastName:U,phone:_,...F}=u;await Nn(bt($e,"trainers",e.trainerId),{...F,updatedAt:new Date}),alert("Профиль успешно обновлен"),await p()}catch(I){console.error("Error updating trainer:",I),alert("Ошибка при сохранении профиля")}finally{l(!1)}}},L={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return s?i.jsx("div",{className:"section-card",children:"Загрузка..."}):n?i.jsx("div",{className:"container",children:i.jsxs("div",{className:"section-card",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h1",{className:"section-title",children:"Мой профиль"}),i.jsxs("button",{className:"btn btn-primary",onClick:w,disabled:o,children:[i.jsx(Hc,{style:{fontSize:"20px",marginRight:"8px"}}),o?"Сохранение...":"Сохранить изменения"]})]}),i.jsxs("div",{style:{padding:"16px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Основная информация"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Имя"}),i.jsx("input",{type:"text",className:"form-input",value:n.firstName,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Фамилия"}),i.jsx("input",{type:"text",className:"form-input",value:n.lastName,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:"Телефон"}),i.jsx("input",{type:"text",className:"form-input",value:n.phone,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]})]})]}),i.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",marginBottom:"24px"},children:[i.jsx("button",{type:"button",onClick:()=>c("info"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:A==="info"?"2px solid var(--primary)":"2px solid transparent",color:A==="info"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Профессиональные данные"}),i.jsx("button",{type:"button",onClick:()=>c("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:A==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:A==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Расписание"}),i.jsx("button",{type:"button",onClick:()=>c("vacations"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:A==="vacations"?"2px solid var(--primary)":"2px solid transparent",color:A==="vacations"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Отпуска и выходные"})]}),A==="info"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:h,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),i.jsx("input",{type:"number",name:"experience",value:u.experience||0,onChange:h,min:"0",max:"50",className:"form-input"})]})]}),i.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[i.jsx("label",{className:"form-label",children:"Специализация"}),i.jsx("div",{style:{display:"flex",gap:"12px"},children:["tennis","padel","badminton"].map(I=>{var U;return i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:((U=u.specialization)==null?void 0:U.includes(I))||!1,onChange:()=>m(I),style:{marginRight:"6px"}}),i.jsx("span",{style:{textTransform:"capitalize"},children:I})]},I)})})]}),i.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[i.jsx("label",{className:"form-label",children:"О себе"}),i.jsx("textarea",{name:"bio",value:u.bio||"",onChange:h,className:"form-input",rows:4,placeholder:"Расскажите о своем опыте, достижениях, методике тренировок..."})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Стоимость часа (₽)"}),i.jsx("input",{type:"number",name:"pricePerHour",value:u.pricePerHour||0,onChange:h,min:"0",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Стоимость группового занятия (₽)"}),i.jsx("input",{type:"number",name:"groupPrice",value:u.groupPrice||0,onChange:h,min:"0",className:"form-input"})]})]})]}),A==="schedule"&&i.jsxs("div",{children:[Object.keys(L).map(I=>{var U,_,F,R,k,j,M,N,$,P;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:(_=(U=u.schedule)==null?void 0:U[I])!=null&&_.enabled?"#f9fafb":"white"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:((R=(F=u.schedule)==null?void 0:F[I])==null?void 0:R.enabled)||!1,onChange:D=>g(I,"enabled",D.target.checked),style:{marginRight:"8px"}}),i.jsx("span",{style:{fontWeight:500},children:L[I]})]}),((j=(k=u.schedule)==null?void 0:k[I])==null?void 0:j.enabled)&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx("input",{type:"time",value:((N=(M=u.schedule)==null?void 0:M[I])==null?void 0:N.start)||"09:00",onChange:D=>g(I,"start",D.target.value),className:"form-input",style:{width:"140px"}}),i.jsx("span",{children:"—"}),i.jsx("input",{type:"time",value:((P=($=u.schedule)==null?void 0:$[I])==null?void 0:P.end)||"18:00",onChange:D=>g(I,"end",D.target.value),className:"form-input",style:{width:"140px"}})]})]},I)}),i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginTop:"16px"},children:[i.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:u.worksOnHolidays||!1,onChange:h,style:{marginRight:"8px"}}),i.jsx("span",{children:"Работаю в праздничные дни"})]})]}),A==="vacations"&&i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Периоды отпусков"}),u.vacations&&u.vacations.length>0?i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:u.vacations.map(I=>i.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Начало"}),i.jsx("input",{type:"date",className:"form-input",value:I.startDate,onChange:U=>x(I.id,"startDate",U.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Окончание"}),i.jsx("input",{type:"date",className:"form-input",value:I.endDate,onChange:U=>x(I.id,"endDate",U.target.value),min:I.startDate||new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Причина"}),i.jsx("input",{type:"text",className:"form-input",value:I.reason||"",onChange:U=>x(I.id,"reason",U.target.value),placeholder:"Например: Отпуск, болезнь"})]}),i.jsx("button",{type:"button",onClick:()=>C(I.id),style:{padding:"8px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",color:"#dc2626",cursor:"pointer",alignSelf:"flex-end"},children:"Удалить"})]})},I.id))}):i.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Нет запланированных отпусков"}),i.jsx("button",{type:"button",onClick:y,style:{marginTop:"12px",padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"+ Добавить период отпуска"})]}),i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Заблокированные даты"}),i.jsx("div",{style:{marginBottom:"12px"},children:i.jsx("input",{type:"date",className:"form-input",onChange:I=>{I.target.value&&(S(I.target.value),I.target.value="")},min:new Date().toISOString().split("T")[0],style:{maxWidth:"200px"}})}),u.blockedDates&&u.blockedDates.length>0&&i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:u.blockedDates.sort().map(I=>i.jsxs("div",{style:{padding:"4px 12px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"16px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[i.jsx("span",{children:new Date(I+"T00:00:00").toLocaleDateString("ru-RU")}),i.jsx("button",{type:"button",onClick:()=>S(I),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:0},children:"×"})]},I))})]})]})]})}):i.jsx("div",{className:"section-card",children:"Профиль тренера не найден"})}const aee={companyType:"ИП",fullName:"ИП ТЕН КРИСТИНА ВАДИМОВНА",shortName:"ИП Тен К.В.",inn:"026401027275",ogrn:"313028000082460",legalAddress:{postcode:"420000",region:"Республика Татарстан",city:"г. Казань",street:"ул. Павлюхина",building:"д. 114, кв. 39"},bank:{name:'АО "ТБанк"',bik:"044525974",correspondentAccount:"30101810145250000974",checkingAccount:"40802810800000000779",bankAddress:"Москва, 123060, 1-й Волоколамский проезд, д. 10, стр. 1"},contacts:{phone:"+7 (999) 123-45-67",email:"info@allcourt.ru",website:"https://allcourt.ru",supportEmail:"admin@allcourt.ru"},director:{fullName:"Тен Кристина Вадимовна",position:"Индивидуальный предприниматель",basedOn:"Свидетельства о государственной регистрации"}};function oee(){const{isSuperAdmin:e}=Kr(),[t,n]=b.useState(!0),[r,s]=b.useState(!1),[a,o]=b.useState(aee),[l,A]=b.useState(!1),[c,u]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{const m=bt($e,"settings","company"),g=await rn(m);g.exists()&&o(g.data())}catch(m){console.error("Error loading company details:",m)}finally{n(!1)}},p=async()=>{try{s(!0);const m=bt($e,"settings","company");await by(m,{...a,updatedAt:new Date}),A(!1),u({type:"success",text:"Реквизиты компании сохранены"}),setTimeout(()=>u(null),3e3)}catch(m){console.error("Error saving company details:",m),u({type:"error",text:"Ошибка при сохранении реквизитов"}),setTimeout(()=>u(null),3e3)}finally{s(!1)}},h=()=>{A(!1),d()};return e?t?i.jsx(Ue,{sx:{display:"flex",justifyContent:"center",p:3},children:i.jsx(Rr,{})}):i.jsxs(Ue,{sx:{p:3},children:[i.jsx(te,{variant:"h4",gutterBottom:!0,children:"Реквизиты компании-владельца платформы"}),i.jsx(Jt,{severity:"info",sx:{mb:3},children:"Эти реквизиты используются в публичной оферте, договорах и официальных документах платформы"}),c&&i.jsx(Jt,{severity:c.type,sx:{mb:3},onClose:()=>u(null),children:c.text}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(eh,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Основные реквизиты"})]}),l?i.jsxs(Ue,{children:[i.jsx(Dt,{onClick:h,sx:{mr:1},children:"Отмена"}),i.jsx(Dt,{variant:"contained",startIcon:i.jsx(Hc,{}),onClick:p,disabled:r,children:r?"Сохранение...":"Сохранить"})]}):i.jsx(Dt,{variant:"outlined",onClick:()=>A(!0),children:"Редактировать"})]}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Форма собственности",value:a.companyType,onChange:m=>o({...a,companyType:m.target.value}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Краткое наименование",value:a.shortName,onChange:m=>o({...a,shortName:m.target.value}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(Ft,{label:"Полное наименование",value:a.fullName,onChange:m=>o({...a,fullName:m.target.value}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:4,children:i.jsx(Ft,{label:"ИНН",value:a.inn,onChange:m=>o({...a,inn:m.target.value}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:4,children:i.jsx(Ft,{label:"КПП",value:a.kpp||"—",onChange:m=>o({...a,kpp:m.target.value}),fullWidth:!0,disabled:!l,helperText:"Для ИП не требуется"})}),i.jsx(dt,{item:!0,xs:12,md:4,children:i.jsx(Ft,{label:"ОГРН/ОГРНИП",value:a.ogrn,onChange:m=>o({...a,ogrn:m.target.value}),fullWidth:!0,disabled:!l})})]})]})}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Юридический адрес"}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,md:2,children:i.jsx(Ft,{label:"Индекс",value:a.legalAddress.postcode,onChange:m=>o({...a,legalAddress:{...a.legalAddress,postcode:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:4,children:i.jsx(Ft,{label:"Регион",value:a.legalAddress.region,onChange:m=>o({...a,legalAddress:{...a.legalAddress,region:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:3,children:i.jsx(Ft,{label:"Город",value:a.legalAddress.city,onChange:m=>o({...a,legalAddress:{...a.legalAddress,city:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:3,children:i.jsx(Ft,{label:"Улица",value:a.legalAddress.street,onChange:m=>o({...a,legalAddress:{...a.legalAddress,street:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Дом, корпус, квартира",value:a.legalAddress.building,onChange:m=>o({...a,legalAddress:{...a.legalAddress,building:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Офис/помещение",value:a.legalAddress.office||"",onChange:m=>o({...a,legalAddress:{...a.legalAddress,office:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:2,children:[i.jsx(pj,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Банковские реквизиты"})]}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Наименование банка",value:a.bank.name,onChange:m=>o({...a,bank:{...a.bank,name:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"БИК",value:a.bank.bik,onChange:m=>o({...a,bank:{...a.bank,bik:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Расчетный счет",value:a.bank.checkingAccount,onChange:m=>o({...a,bank:{...a.bank,checkingAccount:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Корреспондентский счет",value:a.bank.correspondentAccount,onChange:m=>o({...a,bank:{...a.bank,correspondentAccount:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(Ft,{label:"Адрес банка",value:a.bank.bankAddress,onChange:m=>o({...a,bank:{...a.bank,bankAddress:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),i.jsx(tn,{sx:{mb:3},children:i.jsxs(nn,{children:[i.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:2,children:[i.jsx(P9,{color:"primary"}),i.jsx(te,{variant:"h6",children:"Контактная информация"})]}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Телефон",value:a.contacts.phone,onChange:m=>o({...a,contacts:{...a.contacts,phone:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Email",value:a.contacts.email,onChange:m=>o({...a,contacts:{...a.contacts,email:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Сайт",value:a.contacts.website,onChange:m=>o({...a,contacts:{...a.contacts,website:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Email поддержки",value:a.contacts.supportEmail,onChange:m=>o({...a,contacts:{...a.contacts,supportEmail:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),i.jsx(tn,{children:i.jsxs(nn,{children:[i.jsx(te,{variant:"h6",gutterBottom:!0,children:"Руководитель"}),i.jsxs(dt,{container:!0,spacing:2,children:[i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"ФИО",value:a.director.fullName,onChange:m=>o({...a,director:{...a.director,fullName:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,md:6,children:i.jsx(Ft,{label:"Должность",value:a.director.position,onChange:m=>o({...a,director:{...a.director,position:m.target.value}}),fullWidth:!0,disabled:!l})}),i.jsx(dt,{item:!0,xs:12,children:i.jsx(Ft,{label:"Действует на основании",value:a.director.basedOn,onChange:m=>o({...a,director:{...a.director,basedOn:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})})]}):i.jsx(Ue,{sx:{p:3},children:i.jsx(Jt,{severity:"error",children:"У вас нет доступа к настройкам компании"})})}class lee extends b.Component{constructor(n){super(n);Ib(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:N1(n)}}componentDidCatch(n,r){const s=N1(n);jj(s,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):i.jsx(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:i.jsxs($n,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[i.jsx(O9,{sx:{fontSize:64,color:"error.main",mb:2}}),i.jsx(te,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),i.jsx(te,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,i.jsx(Dt,{variant:"contained",startIcon:i.jsx(wj,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}const Aee={contentPadding:{padding:"var(--spacing-xl)"}},Wv={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function Kv({src:e,alt:t,className:n,style:r,onClick:s,loading:a="lazy",onMouseOver:o,onMouseOut:l}){const[A,c]=b.useState(a==="eager"),[u,d]=b.useState(!1),p=b.useRef(null);return b.useEffect(()=>{if(a==="eager"||!p.current)return;const h=new IntersectionObserver(m=>{m.forEach(g=>{g.isIntersecting&&(c(!0),h.unobserve(g.target))})},{rootMargin:"50px"});return h.observe(p.current),()=>{p.current&&h.unobserve(p.current)}},[a]),u?i.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:i.jsx("span",{children:"📷"})}):i.jsx("img",{ref:p,src:A?e:void 0,alt:t,className:n,style:r,onClick:s,onMouseOver:o,onMouseOut:l,onError:()=>d(!0),loading:a})}function cee({isOpen:e,onClose:t,court:n,venue:r}){const[s,a]=b.useState("datetime"),[o,l]=b.useState(Yo()),[A,c]=b.useState(""),[u,d]=b.useState(60),[p,h]=b.useState("private"),[m,g]=b.useState([]),[y,x]=b.useState(!1),[C,S]=b.useState(""),[w,L]=b.useState("+7"),[I,U]=b.useState(""),[_,F]=b.useState(null),[R,k]=b.useState(window.innerWidth<=768);b.useEffect(()=>{const Z=()=>{k(window.innerWidth<=768)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),b.useEffect(()=>{if(e){console.log("Modal opened, venue:",r,"bookingDurations:",r.bookingDurations);const Z=r.bookingDurations||{60:!0,90:!0,120:!0},le=[60,90,120].filter(T=>Z[T]!==!1);console.log("Available durations:",le),le.length>0&&!le.includes(u)&&d(le[0]),a("datetime"),c(""),g([]),n&&r&&j()}else _&&(_(),F(null))},[e]),b.useEffect(()=>{if(s==="datetime"&&o&&n&&r){j();const Z=new Date(o);Z.setHours(0,0,0,0);const le=new Date(o);le.setHours(23,59,59,999);const T=zt(Tt($e,"bookings"),Ct("courtId","==",n.id),Ct("date",">=",qt.fromDate(Z)),Ct("date","<=",qt.fromDate(le))),H=Ii(T,K=>{console.log("Real-time update: bookings changed (timestamp date)",K.docs.length,"bookings"),K.docs.forEach(V=>{console.log("Booking:",V.id,V.data())}),j()}),Q=()=>{H()};F(()=>Q)}return()=>{_&&(_(),F(null))}},[s,o,u,n.id,r.id]);const j=async(Z,le)=>{var Q;const T=Z||u,H=le||o;console.log("Loading time slots for:",{date:H,courtId:n.id,courtName:n.name,venue:r.name,duration:T,workingHours:r.workingHours}),x(!0);try{const K=new Date(H);K.setHours(0,0,0,0);const V=new Date(H);V.setHours(23,59,59,999);const X=zt(Tt($e,"bookings"),Ct("courtId","==",n.id),Ct("date",">=",qt.fromDate(K)),Ct("date","<=",qt.fromDate(V))),ae=(await Wt(X)).docs.filter(st=>{const me=st.data();return me.status==="confirmed"||me.paymentStatus==="paid"||me.paymentStatus==="awaiting_payment"}).map(st=>{const me=st.data();let Pe=me.duration||60;return console.log("Processing booking:",st.id,{duration:me.duration,amount:me.amount,price:me.price,startTime:me.startTime,endTime:me.endTime}),{time:me.time||me.startTime,startTime:me.startTime||me.time,endTime:me.endTime,duration:Pe}});console.log("Found bookings:",ae.length,ae);const Ce=H.getDay(),ce=Ce===0||Ce===6,ue=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Ce];console.log("Day of week:",Ce,"Day name:",ue,"Is weekend:",ce,"Working hours:",r.workingHours);const we=[];let he="07:00",re="23:00";if((Q=r.workingHours)!=null&&Q[ue]){const st=r.workingHours[ue];if(console.log("Found day-specific hours:",ue,st),typeof st=="object"&&st.open&&st.close)he=st.open,re=st.close;else if(typeof st=="string"&&st.includes("-")){const[me,Pe]=st.split("-").map(oe=>oe.trim());me&&Pe&&(he=me,re=Pe)}}else if(r.workingHours){const st=r.workingHours[ce?"weekend":"weekday"];if(console.log("Using weekday/weekend format:",ce?"weekend":"weekday",st),typeof st=="string"&&st.includes("-")){const[me,Pe]=st.split("-").map(oe=>oe.trim());me&&Pe&&(he=me,re=Pe)}else typeof st=="object"&&st.open&&st.close&&(he=st.open,re=st.close)}else console.log("No working hours found, using defaults");console.log("Working hours parsed:",{openTime:he,closeTime:re});const[Ve,ye]=he.split(":").map(Number),[pe,Fe]=re.split(":").map(Number),De=new Date,ze=ln(H,"yyyy-MM-dd")===ln(De,"yyyy-MM-dd");let Xe=Ve*60+ye;const at=pe*60+Fe,ct=r.bookingSlotInterval||60;for(ct===60&&Xe%60!==0&&(Xe=Math.ceil(Xe/60)*60);Xe<at;){const st=Math.floor(Xe/60),me=Xe%60,Pe=`${st.toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`,oe=PE(QE(new Date(H),st),me);if(ze&&zr(oe,De)){Xe+=ct;continue}if(Xe+T>at)break;let ge=!0;for(const Ne of ae){const Ee=Ne.startTime.split(":");if(Ee.length!==2)continue;const qe=parseInt(Ee[0]),Be=parseInt(Ee[1]),Qe=qe*60+Be,Se=Qe+Ne.duration,He=Xe+T;if(Xe<Se&&He>Qe){ge=!1;break}}const Ie=$c(H,Pe,T,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend);we.push({time:Pe,available:ge,price:Ie}),Xe+=ct}g(we),console.log("Loaded time slots:",we.length,we)}catch(K){console.error("Error loading time slots:",K),g([])}finally{x(!1)}},M=Z=>{l(Z),c(""),j(u,Z)},N=async Z=>{x(!0);try{const le=new Date(o);le.setHours(0,0,0,0);const T=new Date(o);T.setHours(23,59,59,999);const H=zt(Tt($e,"bookings"),Ct("courtId","==",n.id),Ct("date",">=",qt.fromDate(le)),Ct("date","<=",qt.fromDate(T))),K=(await Wt(H)).docs.filter(ce=>{const fe=ce.data();return fe.status==="confirmed"||fe.paymentStatus==="paid"||fe.paymentStatus==="awaiting_payment"}).map(ce=>{const fe=ce.data();let ue=fe.duration||60;return console.log("Processing booking:",ce.id,{duration:fe.duration,amount:fe.amount,price:fe.price,startTime:fe.startTime,endTime:fe.endTime}),{time:fe.time||fe.startTime,startTime:fe.startTime||fe.time,endTime:fe.endTime,duration:ue}}),[V,X]=Z.split(":").map(Number),ie=V*60+X,ae=ie+u;let Ce=!0;for(const ce of K){const fe=ce.startTime.split(":");if(fe.length!==2)continue;const ue=parseInt(fe[0]),we=parseInt(fe[1]),he=ue*60+we,re=he+ce.duration;if(ie<re&&ae>he){Ce=!1;break}}if(!Ce){alert("К сожалению, это время было только что забронировано. Пожалуйста, выберите другое время."),await j();return}c(Z),a("gameType")}catch(le){console.error("Error checking availability:",le),alert("Ошибка проверки доступности. Попробуйте еще раз.")}finally{x(!1)}},$=Z=>{h(Z)},P=async()=>{if(!C||!w){alert("Пожалуйста, заполните обязательные поля");return}if(!pE(C)){alert("Имя должно быть от 2 до 100 символов");return}if(!fE(w)){alert("Некорректный номер телефона");return}if(I&&!AY(I)){alert("Некорректный email");return}if(!gE(o)){alert("Нельзя забронировать на прошедшую дату");return}x(!0);try{const[Z,le]=A.split(":").map(Number),T=new Date(o);T.setHours(Z,le,0,0);const H=new Date(T.getTime()+u*60*1e3),Q=m.find(Ce=>Ce.time===A),K={courtId:n.id,courtName:n.name,venueId:r.id,venueName:r.name,date:qt.fromDate(o),time:A,startTime:A,endTime:`${H.getHours().toString().padStart(2,"0")}:${H.getMinutes().toString().padStart(2,"0")}`,duration:u,gameType:p,customerName:Pd(C),customerPhone:cc(w),customerEmail:I?I.toLowerCase().trim():"",clientName:Pd(C),clientPhone:cc(w),price:Q?Q.price:0,amount:Q?Q.price:0,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:qt.now(),action:"created",userId:"web-client",userName:C}],createdBy:{userId:"web-client",userName:C,userRole:"client"},createdAt:new Date,source:"web"};if(console.log("Venue payment settings from props:",{paymentEnabled:r.paymentEnabled,paymentProvider:r.paymentProvider,paymentTestMode:r.paymentTestMode,phone:r.phone}),!r.paymentEnabled){const Ce=r.phone||"не указан";alert(`К сожалению, клуб "${r.name}" пока не подключил онлайн оплату.

Пожалуйста, позвоните по телефону клуба для бронирования:
${Ce}`),x(!1);return}console.log("Creating booking with data:",K);const V=await va(Tt($e,"bookings"),K);console.log("Booking created with ID:",V.id);const X=es(Jo,"initBookingPayment");console.log("Calling initBookingPayment with params:",{bookingId:V.id,amount:K.price,description:`Бронирование ${n.name} на ${ln(o,"d MMMM",{locale:si})} ${A}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${V.id}`,userId:"",customerEmail:I,customerPhone:w});const ie=await X({bookingId:V.id,amount:K.price,description:`Бронирование ${n.name} на ${ln(o,"d MMMM",{locale:si})} ${A}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${V.id}`,userId:"",customerEmail:I,customerPhone:w});console.log("Payment result:",ie);const ae=ie.data;if(ae.success&&ae.paymentUrl)window.location.href=ae.paymentUrl;else{try{await Vc(V),console.log("Booking deleted due to payment initialization failure")}catch(Ce){console.error("Failed to delete booking after payment failure:",Ce)}throw new Error(ae.error||"Ошибка инициализации платежа")}}catch(Z){console.error("Error creating booking:",Z),console.error("Error details:",{message:Z.message,code:Z.code,details:Z.details,stack:Z.stack});let le="Ошибка при создании бронирования";Z.code==="functions/not-found"?le="Функция оплаты не найдена. Проверьте настройки.":Z.code==="functions/failed-precondition"?le="Платежи не настроены для этого клуба":Z.message&&(le=`Ошибка: ${Z.message}`),alert(le)}finally{x(!1)}};if(!e)return null;const D=()=>{var H;const Z=[],le=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],T=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];for(let Q=0;Q<14;Q++)Z.push(Za(Yo(),Q));return i.jsxs("div",{style:{display:"flex",flexDirection:"column",height:R?"calc(100vh - var(--spacing-lg) * 2)":"auto",position:"relative"},children:[i.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)",flexShrink:0},children:"Выберите дату и время"}),i.jsxs("div",{style:{display:R?"block":"grid",gridTemplateColumns:R?"1fr":"300px 1fr",gap:"var(--spacing-xl)",flex:1,overflowY:"auto",paddingBottom:R?"140px":"0"},children:[i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Дата бронирования"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-xs)"},children:Z.map((Q,K)=>{const V=ln(Q,"yyyy-MM-dd")===ln(o,"yyyy-MM-dd"),X=K===0,ie=T[Q.getDay()],ae=K===0||Q.getDate()===1,Ce=ln(Q,"yyyy-MM-dd");return i.jsxs("div",{style:{textAlign:"center"},children:[ae&&i.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px",fontSize:"11px"},children:le[Q.getMonth()]}),!ae&&i.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),i.jsxs("button",{onClick:()=>M(Q),style:{width:"100%",aspectRatio:"1",padding:"4px",border:`2px solid ${V||X?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:V?"var(--primary)":"var(--white)",color:V?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:[i.jsx("div",{className:"caption",style:{fontWeight:600,color:V?"white":"var(--gray)"},children:ie}),i.jsx("div",{className:"body-bold",style:{fontSize:"16px",color:V?"white":"var(--dark)"},children:Q.getDate()})]})]},Ce)})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),i.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(Q=>(r.bookingDurations||{60:!0,90:!0,120:!0})[Q]!==!1?(o.getDay(),$c(o,"12:00",Q,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend),i.jsx("button",{onClick:()=>{Q!==u&&(d(Q),c(""),j(Q))},style:{flex:1,padding:R?"var(--spacing-sm) var(--spacing-xs)":"var(--spacing-md)",border:`2px solid ${u===Q?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:u===Q?"var(--primary)":"var(--white)",color:u===Q?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:i.jsx("span",{className:"body-bold",style:{fontSize:R?"14px":"16px"},children:Q===60?"1 час":Q===90?"1.5 часа":"2 часа"})},`duration-${Q}`)):null)})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",ln(o,"d MMMM",{locale:si})]}),y?i.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-3xl)"},children:i.jsx("div",{className:"spinner"})}):m.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{display:"grid",gridTemplateColumns:R?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)",maxHeight:R?"400px":"500px",overflowY:"auto",paddingRight:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:m.map(Q=>{const K=A===Q.time;return i.jsxs("button",{onClick:()=>Q.available&&c(Q.time),disabled:!Q.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",border:`2px solid ${Q.available?K?"var(--primary)":"var(--light-gray)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:Q.available?K?"var(--primary)":"var(--white)":"var(--extra-light-gray)",color:Q.available?K?"white":"var(--dark)":"var(--gray)",cursor:Q.available?"pointer":"not-allowed",transition:"all 0.2s",opacity:Q.available?1:.5,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:"65px",justifyContent:"center"},children:[i.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[Q.time,"-",(()=>{const[V,X]=Q.time.split(":").map(Number),ie=new Date;return ie.setHours(V,X,0,0),ie.setTime(ie.getTime()+u*60*1e3),`${ie.getHours().toString().padStart(2,"0")}:${ie.getMinutes().toString().padStart(2,"0")}`})()]}),Q.available?K?i.jsx("span",{className:"caption",style:{color:"white",fontWeight:600},children:"Выбрано"}):i.jsxs("span",{className:"caption",style:{color:"var(--primary)",fontWeight:600},children:[Q.price,"₽"]}):i.jsx("span",{className:"caption",children:"Занято"})]},`slot-${Q.time}`)})}),i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap",marginTop:"var(--spacing-md)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--light-gray)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Свободно"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--extra-light-gray)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Занято"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Выбрано"})]})]})]}):i.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--gray)"},children:i.jsx("p",{className:"body",children:"Нет доступных слотов на выбранную дату"})})]})]}),i.jsxs("div",{style:{position:R?"fixed":"sticky",bottom:0,left:R?0:"auto",right:R?0:"auto",width:R?"100%":"auto",marginLeft:R?0:"calc(-1 * var(--spacing-xl))",marginRight:R?0:"calc(-1 * var(--spacing-xl))",marginBottom:R?0:"calc(-1 * var(--spacing-xl))",marginTop:R?0:"var(--spacing-xl)",padding:"var(--spacing-lg) var(--spacing-xl)",background:"var(--white)",borderTop:"1px solid var(--extra-light-gray)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.05)",zIndex:10},children:[A&&i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-md)"},children:[i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"center"},children:[i.jsx("span",{className:"body-bold",children:ln(o,"d MMMM",{locale:si})}),i.jsxs("span",{className:"body-bold",children:[A,"-",(()=>{const[Q,K]=A.split(":").map(Number),V=new Date;return V.setHours(Q,K,0,0),V.setTime(V.getTime()+u*60*1e3),`${V.getHours().toString().padStart(2,"0")}:${V.getMinutes().toString().padStart(2,"0")}`})()]})]}),i.jsxs("div",{className:"h3",style:{color:"var(--primary)"},children:[((H=m.find(Q=>Q.time===A))==null?void 0:H.price)||0," ₽"]})]}),i.jsx("button",{className:"flutter-button",onClick:()=>N(A),disabled:!o||!A,style:{width:"100%",padding:"var(--spacing-lg)",fontSize:"16px",fontWeight:"600"},children:"Далее"})]})]})},W=()=>i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите тип игры"}),i.jsxs("div",{style:{display:"grid",gap:"var(--spacing-md)"},children:[i.jsxs("button",{onClick:()=>$("private"),style:{padding:"var(--spacing-lg)",border:`2px solid ${p==="private"?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:p==="private"?"var(--primary-light)":"var(--white)",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[i.jsx("div",{className:"body-bold",children:"Приватная игра"}),i.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Для вас и ваших друзей"})]}),i.jsxs("button",{style:{padding:"var(--spacing-lg)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",background:"var(--extra-light-gray)",cursor:"not-allowed",transition:"all 0.2s",textAlign:"left",opacity:.6},disabled:!0,children:[i.jsx("div",{className:"body-bold",style:{color:"var(--gray)"},children:"Открытая игра"}),i.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Присоединиться к игре (доступно в приложении)"})]})]}),i.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:R?"fixed":"static",bottom:R?"0":"auto",left:R?"0":"auto",right:R?"0":"auto",padding:R?"var(--spacing-lg)":"0",background:R?"var(--white)":"transparent",borderTop:R?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[i.jsx("button",{className:"flutter-button-outlined",onClick:()=>a("datetime"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),i.jsx("button",{className:"flutter-button",onClick:()=>a("payment"),style:{flex:1},children:"Далее"})]})]}),G=()=>{const Z=(()=>{const le=m.find(T=>T.time===A);return(le==null?void 0:le.price)||0})();return i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Оплата бронирования"}),i.jsx("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:i.jsxs("div",{style:{display:"grid",gap:"var(--spacing-sm)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{className:"body",children:"Корт:"}),i.jsx("span",{className:"body-bold",children:n.name})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{className:"body",children:"Дата:"}),i.jsx("span",{className:"body-bold",children:ln(o,"d MMMM yyyy",{locale:si})})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{className:"body",children:"Время:"}),i.jsxs("span",{className:"body-bold",children:[A," - ",(()=>{const[le,T]=A.split(":").map(Number),H=new Date;return H.setHours(le,T,0,0),H.setTime(H.getTime()+u*60*1e3),`${H.getHours().toString().padStart(2,"0")}:${H.getMinutes().toString().padStart(2,"0")}`})()]})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{className:"body",children:"Тип игры:"}),i.jsx("span",{className:"body-bold",children:"Приватная"})]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-sm)",borderTop:"1px solid var(--extra-light-gray)"},children:[i.jsx("span",{className:"body-bold",children:"Итого:"}),i.jsxs("span",{className:"h3",style:{color:"var(--primary)"},children:[Z,"₽"]})]})]})}),i.jsxs("div",{style:{marginBottom:"var(--spacing-lg)"},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Имя"}),i.jsx("input",{type:"text",className:"form-input",value:C,onChange:le=>S(le.target.value),placeholder:"Иван Иванов",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Телефон"}),i.jsx("input",{type:"tel",className:"form-input",value:w,onChange:le=>L(le.target.value),placeholder:"+7 (900) 123-45-67",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Email (необязательно)"}),i.jsx("input",{type:"email",className:"form-input",value:I,onChange:le=>U(le.target.value),placeholder:"email@example.com"}),i.jsx("div",{className:"caption",style:{marginTop:"8px",color:"var(--gray)"},children:I?"Чек будет отправлен на указанный email":"Если не указать email, чек можно будет получить только в клубе"})]}),i.jsxs("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[i.jsx("span",{style:{fontSize:"20px",color:"var(--primary)"},children:"ℹ️"}),i.jsx("p",{className:"caption",style:{color:"var(--primary-dark)"},children:"Бронирование будет подтверждено только после успешной оплаты"})]})]}),i.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:R?"fixed":"static",bottom:R?"0":"auto",left:R?"0":"auto",right:R?"0":"auto",padding:R?"var(--spacing-lg)":"0",background:R?"var(--white)":"transparent",borderTop:R?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[i.jsx("button",{className:"flutter-button-outlined",onClick:()=>a("gameType"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),i.jsx("button",{className:"flutter-button",onClick:P,disabled:y||!C||!w,style:{flex:1},children:y?i.jsx("div",{className:"spinner"}):"Перейти к оплате"})]})]})};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"modal-backdrop",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:e?"block":"none",animation:"fadeIn 0.2s ease"}}),i.jsxs("div",{className:"modal-content",style:{position:"fixed",top:R?"0":"50%",left:R?"0":"50%",transform:R?"none":"translate(-50%, -50%)",background:"var(--white)",borderRadius:R?"0":"var(--radius-xl)",padding:R?"var(--spacing-lg)":"var(--spacing-2xl)",maxWidth:R?"100%":"1000px",width:R?"100%":"90%",height:R?"100vh":"auto",maxHeight:R?"100vh":"85vh",overflowY:"auto",zIndex:1001,display:e?"block":"none",boxShadow:R?"none":"var(--shadow-xl)",animation:R?"slideUp 0.3s ease":"slideIn 0.3s ease"},children:[i.jsx("button",{onClick:t,style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--gray)"},children:"×"}),s==="datetime"&&D(),s==="gameType"&&W(),s==="payment"&&G()]}),i.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -45%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(100%);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--extra-light-gray);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
          .modal-content {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            width: 100% !important;
            height: 100vh !important;
            max-width: 100% !important;
            max-height: 100vh !important;
            border-radius: 0 !important;
            padding: var(--spacing-lg) !important;
          }
        }
      `})]})}const XC={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},Vv={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},JC={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function uee(){const{clubId:e}=Ao();rs();const[t,n]=b.useState(null),[r,s]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(""),[c,u]=b.useState(null),[d,p]=b.useState(!1),[h,m]=b.useState(!1),[g,y]=b.useState(0);b.useEffect(()=>{var j;if((j=t==null?void 0:t.photos)!=null&&j[0]){const M=document.createElement("link");return M.rel="preload",M.as="image",M.href=t.photos[0],document.head.appendChild(M),()=>{document.head.removeChild(M)}}},[t==null?void 0:t.photos]),b.useEffect(()=>{const j=performance.now();if(x().then(()=>{const M=performance.now()-j;console.log(`ClubPage loaded in ${M.toFixed(0)}ms`)}),e){const M=[],N=Ii(bt($e,"venues",e),P=>{if(P.exists()){const D={id:P.id,...P.data()};if(P.data().status!=="active"){A("Клуб временно недоступен"),o(!1);return}console.log("Venue data updated:",D),n(D)}else A("Клуб не найден"),o(!1)},P=>{console.error("Error listening to venue updates:",P),A("Ошибка при загрузке данных клуба"),o(!1)});M.push(N);const $=Ii(zt(Tt($e,"venues",e,"courts"),Ct("status","==","active")),P=>{const D=P.docs.map(W=>({id:W.id,...W.data()}));s(D)},P=>{console.error("Error listening to courts updates:",P)});return M.push($),()=>{M.forEach(P=>P())}}},[e]),b.useEffect(()=>{if(h){const j=M=>{M.key==="Escape"?U():M.key==="ArrowLeft"?_("prev"):M.key==="ArrowRight"&&_("next")};return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}}},[h]);const x=async()=>{if(!e){A("ID клуба не указан"),o(!1);return}try{const[j,M]=await Promise.all([rn(bt($e,"venues",e)),Wt(zt(Tt($e,"venues",e,"courts"),Ct("status","==","active")))]);if(!j.exists()){A("Клуб не найден"),o(!1);return}const N={id:j.id,...j.data()};if(j.data().status!=="active"){A("Клуб временно недоступен"),o(!1);return}console.log("Loaded venue data:",N),console.log("Payment settings:",{paymentEnabled:N.paymentEnabled,paymentProvider:N.paymentProvider,paymentTestMode:N.paymentTestMode});const $=M.docs.map(P=>({id:P.id,...P.data()}));n(N),s($),o(!1)}catch(j){console.error("Error loading venue:",j),A("Ошибка при загрузке данных клуба"),o(!1)}},C=j=>{u(j)},S=[{key:"monday",label:"Понедельник",short:"Пн"},{key:"tuesday",label:"Вторник",short:"Вт"},{key:"wednesday",label:"Среда",short:"Ср"},{key:"thursday",label:"Четверг",short:"Чт"},{key:"friday",label:"Пятница",short:"Пт"},{key:"saturday",label:"Суббота",short:"Сб"},{key:"sunday",label:"Воскресенье",short:"Вс"}],w=j=>{if(j.pricing){const N=[];if(Object.values(j.pricing).forEach($=>{$&&$.basePrice&&(N.push($.basePrice),$.intervals&&Array.isArray($.intervals)&&$.intervals.forEach(P=>{P.price&&N.push(P.price)}))}),N.length>0){const $=Math.min(...N),P=Math.max(...N);return $===P?{min:$,max:P,display:`${$}₽`}:{min:$,max:P,display:`от ${$}₽`}}}const M=j.pricePerHour||j.priceWeekday||0;return{min:M,max:M,display:`${M}₽`}},L=()=>{if(c){if(!k){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",c),p(!0)}},I=j=>{y(j),m(!0)},U=()=>{m(!1)},_=j=>{t!=null&&t.photos&&y(j==="prev"?M=>M===0?t.photos.length-1:M-1:M=>M===t.photos.length-1?0:M+1)},F={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},loadingContent:{textAlign:"center"},spinner:{marginBottom:"16px"},errorContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px"},errorCard:{maxWidth:"400px",textAlign:"center",padding:"40px"},errorIcon:{fontSize:"48px",marginBottom:"16px"},errorTitle:{marginBottom:"12px"},errorText:{color:"var(--gray)"},pageContainer:{minHeight:"100vh",background:"var(--background)"},heroImage:{width:"100%",height:"300px",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"300px",background:"var(--extra-light-gray)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heroPlaceholderIcon:{fontSize:"48px",marginBottom:"8px"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",cursor:"pointer",transition:"transform 0.2s"},clubInfoWrapper:{padding:"20px"},clubTitle:{marginBottom:"16px"},clubInfoItems:{display:"flex",flexDirection:"column",gap:"12px"},infoIcon:{fontSize:"18px"},courtsWrapper:{padding:"20px"},courtsWrapperDesktop:{marginTop:"32px"},courtsTitle:{marginBottom:"16px"},noCourtsCard:{padding:"40px",textAlign:"center"},noCourtsIcon:{fontSize:"48px",marginBottom:"8px",display:"block"},noCourtsText:{color:"var(--gray)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},courtInfo:{flex:1},courtName:{marginBottom:"8px"},courtDetails:{display:"flex",alignItems:"center",gap:"8px"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},courtPricing:{textAlign:"right"},courtPrice:{color:"var(--primary)",marginBottom:"4px"},courtPriceUnit:{color:"var(--gray)"},sidebarBookingCard:{position:"sticky",top:"20px"},selectedCourtSection:{marginBottom:"8px"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}};if(a)return i.jsxs("div",{style:F.loadingContainer,children:[i.jsxs("div",{style:F.loadingContent,children:[i.jsx("div",{className:"spinner",style:F.spinner}),i.jsx("p",{className:"body-small",children:"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return i.jsx("div",{style:F.errorContainer,children:i.jsxs("div",{className:"flutter-card",style:F.errorCard,children:[i.jsx("div",{style:F.errorIcon,children:"❌"}),i.jsx("h2",{className:"h2",style:F.errorTitle,children:"Ошибка"}),i.jsx("p",{className:"body",style:F.errorText,children:l})]})});if(!t)return null;const R=window.innerWidth>768,k=t.status==="active";return i.jsxs("div",{style:F.pageContainer,children:[!k&&i.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:i.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[i.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),i.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),R&&i.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?i.jsx(Kv,{loading:"eager",src:t.photos[0],alt:t.name,style:F.heroImage,onClick:()=>I(0)}):i.jsxs("div",{style:F.heroPlaceholder,children:[i.jsx("span",{style:F.heroPlaceholderIcon,children:"🏸"}),i.jsx("span",{className:"body-small",style:F.heroPlaceholderText,children:"Фото клуба"})]})}),!R&&t.photos&&t.photos.length>0&&i.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginTop:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",paddingLeft:"var(--spacing-xl)",paddingRight:"var(--spacing-xl)",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:t.photos.map((j,M)=>i.jsx(Kv,{loading:"lazy",src:j,alt:`${t.name} - фото ${M+1}`,style:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},onClick:()=>I(M)},M))}),!R&&i.jsxs("div",{style:{...F.clubInfoWrapper,padding:"0 var(--spacing-xl)"},children:[i.jsx("h1",{className:"h1",style:F.clubTitle,children:t.name}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",marginBottom:"var(--spacing-lg)",flexWrap:"nowrap"},children:[t.phone&&i.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",flexShrink:0,transition:"background 0.2s"},onClick:j=>j.stopPropagation(),children:[i.jsx("span",{style:{...F.infoIcon,marginBottom:0},children:"📞"}),i.jsx("span",{className:"body-bold",children:t.phone})]}),i.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flex:1,minWidth:0,textDecoration:"none",color:"inherit"},onClick:j=>j.stopPropagation(),children:[i.jsx("span",{style:F.infoIcon,children:"📍"}),i.jsx("span",{className:"body",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textDecoration:"underline",textDecorationStyle:"dotted",textUnderlineOffset:"2px"},children:t.address})]})]})]}),!R&&i.jsxs("div",{style:{...F.courtsWrapper,padding:"0 var(--spacing-xl)"},children:[i.jsx("h3",{className:"h2",style:F.courtsTitle,children:"Доступные корты"}),r.length===0?i.jsxs("div",{className:"flutter-card",style:F.noCourtsCard,children:[i.jsx("span",{style:F.noCourtsIcon,children:"🎾"}),i.jsx("p",{className:"body",style:F.noCourtsText,children:"Нет доступных кортов"})]}):i.jsx("div",{children:r.map(j=>{const M=(c==null?void 0:c.id)===j.id;return i.jsx("div",{className:`court-card ${M?"selected":""}`,onClick:()=>C(j),children:i.jsxs("div",{style:F.courtCardContent,children:[i.jsxs("div",{style:F.courtInfo,children:[i.jsx("h4",{className:"body-bold",style:F.courtName,children:j.name}),i.jsxs("div",{style:F.courtDetails,children:[i.jsx("span",{className:`sport-chip ${j.type}`,style:{backgroundColor:XC[j.type]},children:Vv[j.type]}),j.indoor&&i.jsx("span",{className:"caption",style:F.courtIndoor,children:"Крытый"}),j.surface&&i.jsxs("span",{className:"caption",style:F.courtSurface,children:["• ",j.surface]})]})]}),i.jsxs("div",{style:F.courtPricing,children:[i.jsx("div",{className:"h3",style:F.courtPrice,children:w(j).display}),i.jsx("div",{className:"caption",style:F.courtPriceUnit,children:"за час"})]})]})},j.id)})})]}),i.jsxs("div",{style:R?Wv.container:Aee.contentPadding,children:[i.jsxs("div",{style:R?Wv.mainContent:{},children:[R&&t.photos&&t.photos.length>0&&i.jsx("div",{style:F.desktopGallery,children:t.photos.map((j,M)=>i.jsx(Kv,{loading:"lazy",src:j,alt:`${t.name} - фото ${M+1}`,className:"gallery-image",style:F.galleryImage,onMouseOver:N=>N.currentTarget.style.transform="scale(1.05)",onMouseOut:N=>N.currentTarget.style.transform="scale(1)",onClick:()=>I(M)},M))}),R&&i.jsxs("div",{style:F.clubInfoWrapper,children:[i.jsx("h1",{className:"h1",style:F.clubTitle,children:t.name}),i.jsxs("div",{style:F.clubInfoItems,children:[t.phone&&i.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:j=>j.stopPropagation(),children:[i.jsx("span",{style:F.infoIcon,children:"📞"}),i.jsx("span",{className:"body",children:t.phone})]}),i.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:j=>j.stopPropagation(),children:[i.jsx("span",{style:F.infoIcon,children:"📍"}),i.jsx("span",{className:"body",children:t.address})]})]})]}),!R&&t.description&&i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{className:"info-section-title",children:"О клубе"}),i.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]}),!R&&i.jsxs(i.Fragment,{children:[t.workingHours&&i.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[i.jsx("h3",{className:"info-section-title",children:"Часы работы"}),i.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:S.map(j=>{const M=t.workingHours[j.key];return M?i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{className:"body",children:j.short}),i.jsx("span",{className:"body",style:{color:"var(--gray)"},children:M})]},j.key):null})})]}),t.amenities&&t.amenities.length>0&&i.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[i.jsx("h3",{className:"info-section-title",children:"Удобства"}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(j=>i.jsxs("div",{className:"amenity-item",children:[i.jsx("span",{className:"check-icon",children:"✓"}),i.jsx("span",{className:"body",children:JC[j]||j})]},j))})]})]}),R&&i.jsxs("div",{style:F.courtsWrapperDesktop,children:[i.jsx("h3",{className:"h2",style:F.courtsTitle,children:"Доступные корты"}),r.length===0?i.jsxs("div",{className:"flutter-card",style:F.noCourtsCard,children:[i.jsx("span",{style:F.noCourtsIcon,children:"🎾"}),i.jsx("p",{className:"body",style:F.noCourtsText,children:"Нет доступных кортов"})]}):i.jsx("div",{className:"courts-grid",children:r.map(j=>{const M=(c==null?void 0:c.id)===j.id;return i.jsx("div",{className:`court-card ${M?"selected":""}`,onClick:()=>C(j),children:i.jsxs("div",{style:F.courtCardContent,children:[i.jsxs("div",{style:F.courtInfo,children:[i.jsx("h4",{className:"body-bold",style:F.courtName,children:j.name}),i.jsxs("div",{style:F.courtDetails,children:[i.jsx("span",{className:`sport-chip ${j.type}`,style:{backgroundColor:XC[j.type]},children:Vv[j.type]}),j.indoor&&i.jsx("span",{className:"caption",style:F.courtIndoor,children:"Крытый"}),j.surface&&i.jsxs("span",{className:"caption",style:F.courtSurface,children:["• ",j.surface]})]})]}),i.jsxs("div",{style:F.courtPricing,children:[i.jsx("div",{className:"h3",style:F.courtPrice,children:w(j).display}),i.jsx("div",{className:"caption",style:F.courtPriceUnit,children:"за час"})]})]})},j.id)})})]}),R&&t.description&&i.jsxs("div",{className:"info-section",style:{marginTop:"var(--spacing-2xl)"},children:[i.jsx("h3",{className:"info-section-title",children:"О клубе"}),i.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]})]}),R&&i.jsxs("div",{style:Wv.sidebar,children:[i.jsxs("div",{className:"sticky-bottom-bar",style:F.sidebarBookingCard,children:[c&&i.jsxs("div",{className:"selected-court-summary",children:[i.jsx("h4",{className:"body-bold",style:F.selectedCourtSection,children:c.name}),i.jsxs("div",{style:F.selectedCourtDetails,children:[i.jsx("span",{className:"body-small",style:F.selectedCourtType,children:Vv[c.type]}),i.jsxs("span",{className:"body-bold",style:F.selectedCourtPrice,children:[w(c).display,"/час"]})]})]}),i.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:L,disabled:!c,children:c?"Выбрать время":"Выберите корт"}),i.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4",color:"var(--gray)",textAlign:"center",marginBottom:"var(--spacing-md)"},children:["Продолжая, соглашаюсь с"," ",i.jsx(wd,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),t.workingHours&&i.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[i.jsx("h3",{className:"info-section-title",children:"Часы работы"}),i.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:S.map(j=>{const M=t.workingHours[j.key];return M?i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{className:"caption",children:j.short}),i.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:M})]},j.key):null})})]}),t.amenities&&t.amenities.length>0&&i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{className:"info-section-title",children:"Удобства"}),i.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(j=>i.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[i.jsx("span",{className:"check-icon",children:"✓"}),i.jsx("span",{className:"caption",children:JC[j]||j})]},j))})]})]})]}),!R&&i.jsxs("div",{className:"sticky-bottom-bar",children:[i.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:L,disabled:!c,children:c?`Выбрать время для ${c.name}`:"Выберите корт"}),i.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.3",color:"var(--gray)",textAlign:"center"},children:["Продолжая, соглашаюсь с"," ",i.jsx(wd,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),c&&t&&i.jsx(cee,{isOpen:d,onClose:()=>p(!1),court:c,venue:t}),h&&(t==null?void 0:t.photos)&&i.jsx("div",{className:"modal-backdrop",onClick:U,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:i.jsxs("div",{onClick:j=>j.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("button",{onClick:U,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&i.jsx("button",{onClick:()=>_("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),i.jsx("img",{src:t.photos[g],alt:`${t.name} - фото ${g+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&i.jsx("button",{onClick:()=>_("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&i.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[g+1," / ",t.photos.length]})]})}),i.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:R?"40px":"20px",paddingBottom:R?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[i.jsx(wd,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:j=>{j.currentTarget.style.color="var(--primary)",j.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:j=>{j.currentTarget.style.color="var(--text-secondary)",j.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:"Пользовательское соглашение"}),(t==null?void 0:t.legalName)&&i.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:["© ",new Date().getFullYear()," ",t.legalName]})]})]})}var vy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(A,c){switch(A){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(A,c){switch(A){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},s=function(A,c){var u=A.match(/(P+)(p+)?/)||[],d=u[1],p=u[2];if(!p)return n(A,c);var h;switch(d){case"P":h=c.dateTime({width:"short"});break;case"PP":h=c.dateTime({width:"medium"});break;case"PPP":h=c.dateTime({width:"long"});break;case"PPPP":default:h=c.dateTime({width:"full"});break}return h.replace("{{date}}",n(d,c)).replace("{{time}}",r(p,c))},a={p:r,P:s},o=a;t.default=o,e.exports=t.default})(vy,vy.exports);var dee=vy.exports;const hee=DI(dee),fee={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},pee={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class gee{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=fee,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=a=>typeof a>"u"?new Date:a===null?null:new Date(a),this.dateWithTimezone=a=>this.date(a),this.getTimezone=()=>"default",this.setTimezone=a=>a,this.toJsDate=a=>a,this.getCurrentLocaleCode=()=>{var a;return((a=this.locale)==null?void 0:a.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=a=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return a.match(o).map(l=>{const A=l[0];if(A==="p"||A==="P"){const c=this.longFormatters[A];return c(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=a=>this.expandFormat(a).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=a=>a===null,this.formatNumber=a=>a,this.getMeridiemText=a=>a==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:s}=t;this.locale=n,this.formats=z({},pee,r),this.longFormatters=s}}class mee extends gee{constructor({locale:t,formats:n}={}){if(typeof Za!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??Gx,formats:n,longFormatters:hee}),this.parseISO=r=>eZ(r),this.toISO=r=>HX(r,{format:"extended"}),this.parse=(r,s)=>r===""?null:ts(r,s,new Date,{locale:this.locale}),this.isValid=r=>yE(this.date(r)),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>ln(r,s,{locale:this.locale}),this.getDiff=(r,s,a)=>{switch(a){case"years":return WY(r,this.date(s));case"quarters":return OY(r,this.date(s));case"months":return bE(r,this.date(s));case"weeks":return zY(r,this.date(s));case"days":return xE(r,this.date(s));case"hours":return PY(r,this.date(s));case"minutes":return RY(r,this.date(s));case"seconds":return $Y(r,this.date(s));default:return Vm(r,this.date(s))}},this.isEqual=(r,s)=>r===null&&s===null?!0:ZX(r,s),this.isSameYear=(r,s)=>JJ(r,s),this.isSameMonth=(r,s)=>XJ(r,s),this.isSameDay=(r,s)=>vE(r,s),this.isSameHour=(r,s)=>YJ(r,s),this.isAfter=(r,s)=>zs(r,s),this.isAfterYear=(r,s)=>zs(r,Ov(s)),this.isAfterDay=(r,s)=>zs(r,py(s)),this.isBefore=(r,s)=>zr(r,s),this.isBeforeYear=(r,s)=>zr(r,mp(s)),this.isBeforeDay=(r,s)=>zr(r,Jl(s)),this.isWithinRange=(r,[s,a])=>ZJ(r,{start:s,end:a}),this.startOfYear=r=>mp(r),this.startOfMonth=r=>OC(r),this.startOfWeek=r=>Hl(r,{locale:this.locale}),this.startOfDay=r=>Jl(r),this.endOfYear=r=>Ov(r),this.endOfMonth=r=>gy(r),this.endOfWeek=r=>$v(r,{locale:this.locale}),this.endOfDay=r=>py(r),this.addYears=(r,s)=>PC(r,s),this.addMonths=(r,s)=>Rp(r,s),this.addWeeks=(r,s)=>_Y(r,s),this.addDays=(r,s)=>Za(r,s),this.addHours=(r,s)=>EY(r,s),this.addMinutes=(r,s)=>Xi(r,s),this.addSeconds=(r,s)=>TY(r,s),this.getYear=r=>JX(r),this.getMonth=r=>KX(r),this.getDate=r=>OX(r),this.getHours=r=>$X(r),this.getMinutes=r=>WX(r),this.getSeconds=r=>VX(r),this.getMilliseconds=r=>zX(r),this.setYear=(r,s)=>xZ(r,s),this.setMonth=(r,s)=>gZ(r,s),this.setDate=(r,s)=>mZ(r,s),this.setHours=(r,s)=>QE(r,s),this.setMinutes=(r,s)=>PE(r,s),this.setSeconds=(r,s)=>yZ(r,s),this.setMilliseconds=(r,s)=>vZ(r,s),this.getDaysInMonth=r=>FE(r),this.getNextMonth=r=>Rp(r,1),this.getPreviousMonth=r=>Rp(r,-1),this.getMonthArray=r=>{const a=[mp(r)];for(;a.length<12;){const o=a[a.length-1];a.push(this.getNextMonth(o))}return a},this.mergeDateAndTime=(r,s)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const r=new Date;return KY({start:Hl(r,{locale:this.locale}),end:$v(r,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=r=>{const s=Hl(OC(r),{locale:this.locale}),a=$v(gy(r),{locale:this.locale});let o=0,l=s;const A=[];for(;zr(l,a);){const c=Math.floor(o/7);A[c]=A[c]||[],A[c].push(l),l=Za(l,1),o+=1}return A},this.getWeekNumber=r=>XX(r,{locale:this.locale}),this.getYearRange=(r,s)=>{const a=mp(r),o=Ov(s),l=[];let A=a;for(;zr(A,o);)l.push(A),A=PC(A,1);return l}}}const vee=["localeText"],yy=b.createContext(null),yee=function(t){var n;const{localeText:r}=t,s=Je(t,vee),{utils:a,localeText:o}=(n=b.useContext(yy))!=null?n:{utils:void 0,localeText:void 0},l=Pi({props:s,name:"MuiLocalizationProvider"}),{children:A,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:p,localeText:h}=l,m=b.useMemo(()=>z({},h,o,r),[h,o,r]),g=b.useMemo(()=>{if(!c)return a||null;const C=new c({locale:p,formats:u,instance:d});if(!C.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return C},[c,p,u,d,a]),y=b.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),x=b.useMemo(()=>({utils:g,defaultDates:y,localeText:m}),[y,g,m]);return i.jsx(yy.Provider,{value:x,children:A})};function xee(e){return typeof e=="string"}function bee(e,t,n){return e===void 0||xee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function wee(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Bee(e,t,n){return typeof e=="function"?e(t,n):e}function Cee(...e){const t=b.useRef(void 0),n=b.useCallback(r=>{const s=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},e);return b.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function ZC(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function See(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=e;if(!t){const h=et(n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},g={...n,...s,...r};return h.length>0&&(g.className=h),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=wee({...s,...r}),l=ZC(r),A=ZC(s),c=t(o),u=et(c==null?void 0:c.className,n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},p={...c,...n,...A,...l};return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}function Ko(e){var d;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=e,o=s?{}:Bee(n,r),{props:l,internalRef:A}=See({...a,externalSlotProps:o}),c=Cee(A,o==null?void 0:o.ref,(d=e.additionalProps)==null?void 0:d.ref);return bee(t,{...l,ref:c},r)}const Tg=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},Hd=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:s,isDateDisabled:a,utils:o,timezone:l})=>{const A=Tg(o,o.dateWithTimezone(void 0,l),e);n&&o.isBefore(s,A)&&(s=A),t&&o.isAfter(r,A)&&(r=A);let c=e,u=e;for(o.isBefore(e,s)&&(c=s,u=null),o.isAfter(e,r)&&(u&&(u=r),c=null);c||u;){if(c&&o.isAfter(c,r)&&(c=null),u&&o.isBefore(u,s)&&(u=null),c){if(!a(c))return c;c=o.addDays(c,1)}if(u){if(!a(u))return u;u=o.addDays(u,-1)}}return null},jee=(e,t)=>t==null||!e.isValid(t)?null:t,il=(e,t,n)=>t==null||!e.isValid(t)?n:t,Eee=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),Iee=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},RE=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),kee=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},Fee=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:s,shouldDisableYear:a,disablePast:o,disableFuture:l,timezone:A}=e,c=n.utils.dateWithTimezone(void 0,A),u=il(n.utils,e.minDate,n.defaultDates.minDate),d=il(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(a&&a(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,c)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(t,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(d&&n.utils.isAfterDay(t,d)):return"maxDate";default:return null}},Nee=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:z({},e)}}}}),HE={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Tee=HE;Nee(HE);const Gm=()=>{const e=b.useContext(yy);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=b.useMemo(()=>z({},Tee,e.localeText),[e.localeText]);return b.useMemo(()=>z({},e,{localeText:t}),[e,t])},Ls=()=>Gm().utils,Jx=()=>Gm().defaultDates,OE=()=>Gm().localeText,qm=e=>{const t=Ls(),n=b.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},$E=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:a,disablePast:o,timezone:l})=>{const A=Gm();return b.useCallback(c=>Fee({adapter:A,value:c,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:a,disablePast:o,timezone:l}})!==null,[A,e,t,n,r,s,a,o,l])},e5=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),_ee=(e,t)=>(n,r)=>e?t.isAfter(n,r):e5(n,t)>e5(r,t),$a={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},cd=(e,t,n)=>{if(t===$a.year)return e.startOfYear(n);if(t===$a.month)return e.startOfMonth(n);if(t===$a.day)return e.startOfDay(n);let r=n;return t<$a.minutes&&(r=e.setMinutes(r,0)),t<$a.seconds&&(r=e.setSeconds(r,0)),t<$a.milliseconds&&(r=e.setMilliseconds(r,0)),r},Uee=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:s})=>{var a;let o=s?s():cd(t,n,RE(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=cd(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=cd(t,n,e.maxDate));const l=_ee((a=e.disableIgnoringDatePartForTimeValidation)!=null?a:!1,t);return e.minTime!=null&&l(e.minTime,o)&&(o=cd(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:Tg(t,o,e.minTime))),e.maxTime!=null&&l(o,e.maxTime)&&(o=cd(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Tg(t,o,e.maxTime))),o},Dee=["value","referenceDate"],Wc={emptyValue:null,getTodayValue:RE,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Je(e,Dee);return t!=null&&r.utils.isValid(t)?t:n??Uee(r)},cleanValue:jee,areValuesEqual:Eee,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},Lee=(e,t,n)=>(r,s)=>{switch(s.type){case"changeMonth":return z({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return z({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const a=s.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,s.focusedDay);return z({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:a&&!e&&!s.withoutMonthSwitchingAnimation,currentMonth:a?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Mee=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:s,disablePast:a,disableSwitchToMonthOnDayFocus:o=!1,maxDate:l,minDate:A,onMonthChange:c,reduceAnimations:u,shouldDisableDate:d,timezone:p}=e,h=Ls(),m=b.useRef(Lee(!!u,o,h)).current,g=b.useMemo(()=>{let U=null;return n?U=n:r&&(U=h.startOfMonth(r)),Wc.getInitialReferenceValue({value:t,utils:h,timezone:p,props:e,referenceDate:U,granularity:$a.day})},[]),[y,x]=b.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:h.startOfMonth(g),slideDirection:"left"}),C=b.useCallback(U=>{x(z({type:"changeMonth"},U)),c&&c(U.newMonth)},[c]),S=b.useCallback(U=>{const _=U;h.isSameMonth(_,y.currentMonth)||C({newMonth:h.startOfMonth(_),direction:h.isAfterDay(_,y.currentMonth)?"left":"right"})},[y.currentMonth,C,h]),w=$E({shouldDisableDate:d,minDate:A,maxDate:l,disableFuture:s,disablePast:a,timezone:p}),L=b.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),I=en((U,_)=>{w(U)||x({type:"changeFocusedDay",focusedDay:U,withoutMonthSwitchingAnimation:_})});return{referenceDate:g,calendarState:y,changeMonth:S,changeFocusedDay:I,isDateDisabled:w,onMonthSwitchingAnimationEnd:L,handleChangeMonth:C}},Qee=e=>ht("MuiPickersFadeTransitionGroup",e);ft("MuiPickersFadeTransitionGroup",["root"]);const Pee=e=>{const{classes:t}=e;return gt({root:["root"]},Qee,t)},Ree=Re(Sh,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function zE(e){const t=Pi({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:s,transKey:a}=t,o=Pee(t),l=Qi();return s?n:i.jsx(Ree,{className:et(o.root,r),children:i.jsx(Ih,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},a)})}const lh=36,Ym=2,Zx=320,Hee=280,WE=334;function Oee(e){return ht("MuiPickersDay",e)}const bl=ft("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),$ee=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],zee=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:s,disabled:a,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:l,classes:A}=e,c=o&&!l;return gt({root:["root",t&&!c&&"selected",a&&"disabled",!n&&"dayWithMargin",!r&&s&&"today",o&&l&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Oee,A)},KE=({theme:e,ownerState:t})=>z({},e.typography.caption,{width:lh,height:lh,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ic(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ic(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${bl.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${bl.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${bl.disabled}:not(.${bl.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${bl.disabled}&.${bl.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Ym}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${bl.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),VE=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Wee=Re(Ba,{name:"MuiPickersDay",slot:"Root",overridesResolver:VE})(KE),Kee=Re("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:VE})(({theme:e,ownerState:t})=>z({},KE({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),ud=()=>{},Vee=b.forwardRef(function(t,n){const r=Pi({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:a,day:o,disabled:l=!1,disableHighlightToday:A=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:p,onFocus:h=ud,onBlur:m=ud,onKeyDown:g=ud,onMouseDown:y=ud,onMouseEnter:x=ud,outsideCurrentMonth:C,selected:S=!1,showDaysOutsideCurrentMonth:w=!1,children:L,today:I=!1}=r,U=Je(r,$ee),_=z({},r,{autoFocus:s,disabled:l,disableHighlightToday:A,disableMargin:c,selected:S,showDaysOutsideCurrentMonth:w,today:I}),F=zee(_),R=Ls(),k=b.useRef(null),j=sr(k,n);js(()=>{s&&!l&&!u&&!C&&k.current.focus()},[s,l,u,C]);const M=$=>{y($),C&&$.preventDefault()},N=$=>{l||p(o),C&&$.currentTarget.focus(),d&&d($)};return C&&!w?i.jsx(Kee,{className:et(F.root,F.hiddenDaySpacingFiller,a),ownerState:_,role:U.role}):i.jsx(Wee,z({className:et(F.root,a),ref:j,centerRipple:!0,disabled:l,tabIndex:S?0:-1,onKeyDown:$=>g($,o),onFocus:$=>h($,o),onBlur:$=>m($,o),onMouseEnter:$=>x($,o),onClick:N,onMouseDown:M},U,{ownerState:_,children:L||R.format(o,"dayOfMonth")}))}),Gee=b.memo(Vee),qee=e=>ht("MuiPickersSlideTransition",e),vi=ft("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Yee=["children","className","reduceAnimations","slideDirection","transKey","classes"],Xee=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return gt(r,qee,t)},Jee=Re(Sh,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${vi["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${vi["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${vi.slideEnterActive}`]:t.slideEnterActive},{[`.${vi.slideExit}`]:t.slideExit},{[`.${vi["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${vi["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${vi["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${vi["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${vi.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${vi.slideExit}`]:{transform:"translate(0%)"},[`& .${vi["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${vi["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Zee(e){const t=Pi({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:s,transKey:a}=t,o=Je(t,Yee),l=Xee(t),A=Qi();if(s)return i.jsx("div",{className:et(l.root,r),children:n});const c={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return i.jsx(Jee,{className:et(l.root,r),childFactory:u=>b.cloneElement(u,{classNames:c}),role:"presentation",children:i.jsx(fx,z({mountOnEnter:!0,unmountOnExit:!0,timeout:A.transitions.duration.complex,classNames:c},o,{children:n}),a)})}const ete=e=>ht("MuiDayCalendar",e);ft("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const tte=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],nte=["ownerState"],rte=e=>{const{classes:t}=e;return gt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},ete,t)},GE=(lh+Ym*2)*6,ste=Re("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ite=Re("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),ate=Re(te,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),ote=Re(te,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),lte=Re(te,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>z({},e.typography.caption,{width:lh,height:lh,padding:0,margin:`0 ${Ym}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Ate=Re("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:GE}),cte=Re(Zee,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:GE}),ute=Re("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),dte=Re("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Ym}px 0`,display:"flex",justifyContent:"center"});function hte(e){var t,n,r;let{parentProps:s,day:a,focusableDay:o,selectedDays:l,isDateDisabled:A,currentMonthNumber:c,isViewFocused:u}=e,d=Je(e,tte);const{disabled:p,disableHighlightToday:h,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,components:y,componentsProps:x,slots:C,slotProps:S,timezone:w}=s,L=Ls(),I=qm(w),U=o!==null&&L.isSameDay(a,o),_=l.some(D=>L.isSameDay(D,a)),F=L.isSameDay(a,I),R=(t=(n=C==null?void 0:C.day)!=null?n:y==null?void 0:y.Day)!=null?t:Gee,k=Ko({elementType:R,externalSlotProps:(r=S==null?void 0:S.day)!=null?r:x==null?void 0:x.day,additionalProps:z({disableHighlightToday:h,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":L.toJsDate(a).valueOf()},d),ownerState:z({},s,{day:a,selected:_})}),j=Je(k,nte),M=b.useMemo(()=>p||A(a),[p,A,a]),N=b.useMemo(()=>L.getMonth(a)!==c,[L,a,c]),$=b.useMemo(()=>{const D=L.startOfMonth(L.setMonth(a,c));return g?L.isSameDay(a,L.startOfWeek(D)):L.isSameDay(a,D)},[c,a,g,L]),P=b.useMemo(()=>{const D=L.endOfMonth(L.setMonth(a,c));return g?L.isSameDay(a,L.endOfWeek(D)):L.isSameDay(a,D)},[c,a,g,L]);return i.jsx(R,z({},j,{day:a,disabled:M,autoFocus:u&&U,today:F,outsideCurrentMonth:N,isFirstVisibleCell:$,isLastVisibleCell:P,selected:_,tabIndex:U?0:-1,"aria-selected":_,"aria-current":F?"date":void 0}))}function fte(e){const t=Pi({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:s,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:A,onMonthSwitchingAnimationEnd:c,readOnly:u,reduceAnimations:d,renderLoading:p=()=>i.jsx("span",{children:"..."}),slideDirection:h,TransitionProps:m,disablePast:g,disableFuture:y,minDate:x,maxDate:C,shouldDisableDate:S,shouldDisableMonth:w,shouldDisableYear:L,dayOfWeekFormatter:I,hasFocus:U,onFocusedViewChange:_,gridLabelId:F,displayWeekNumber:R,fixedWeekNumber:k,autoFocus:j,timezone:M}=t,N=qm(M),$=Ls(),P=rte(t),W=Qi().direction==="rtl",G=I||((ye,pe)=>$.format(pe,"weekdayShort").charAt(0).toUpperCase()),Z=$E({shouldDisableDate:S,shouldDisableMonth:w,shouldDisableYear:L,minDate:x,maxDate:C,disablePast:g,disableFuture:y,timezone:M}),le=OE(),[T,H]=wa({name:"DayCalendar",state:"hasFocus",controlled:U,default:j??!1}),[Q,K]=b.useState(()=>o||N),V=en(ye=>{u||A(ye)}),X=ye=>{Z(ye)||(n(ye),K(ye),_==null||_(!0),H(!0))},ie=en((ye,pe)=>{switch(ye.key){case"ArrowUp":X($.addDays(pe,-7)),ye.preventDefault();break;case"ArrowDown":X($.addDays(pe,7)),ye.preventDefault();break;case"ArrowLeft":{const Fe=$.addDays(pe,W?1:-1),De=$.addMonths(pe,W?1:-1),ze=Hd({utils:$,date:Fe,minDate:W?Fe:$.startOfMonth(De),maxDate:W?$.endOfMonth(De):Fe,isDateDisabled:Z,timezone:M});X(ze||Fe),ye.preventDefault();break}case"ArrowRight":{const Fe=$.addDays(pe,W?-1:1),De=$.addMonths(pe,W?-1:1),ze=Hd({utils:$,date:Fe,minDate:W?$.startOfMonth(De):Fe,maxDate:W?Fe:$.endOfMonth(De),isDateDisabled:Z,timezone:M});X(ze||Fe),ye.preventDefault();break}case"Home":X($.startOfWeek(pe)),ye.preventDefault();break;case"End":X($.endOfWeek(pe)),ye.preventDefault();break;case"PageUp":X($.addMonths(pe,1)),ye.preventDefault();break;case"PageDown":X($.addMonths(pe,-1)),ye.preventDefault();break}}),ae=en((ye,pe)=>X(pe)),Ce=en((ye,pe)=>{T&&$.isSameDay(Q,pe)&&(_==null||_(!1))}),ce=$.getMonth(s),fe=b.useMemo(()=>a.filter(ye=>!!ye).map(ye=>$.startOfDay(ye)),[$,a]),ue=ce,we=b.useMemo(()=>b.createRef(),[ue]),he=$.startOfWeek(N),re=b.useMemo(()=>{const ye=$.startOfMonth(s),pe=$.endOfMonth(s);return Z(Q)||$.isAfterDay(Q,pe)||$.isBeforeDay(Q,ye)?Hd({utils:$,date:Q,minDate:ye,maxDate:pe,disablePast:g,disableFuture:y,isDateDisabled:Z,timezone:M}):Q},[s,y,g,Q,Z,$,M]),Ve=b.useMemo(()=>{const ye=$.setTimezone(s,M),pe=$.getWeekArray(ye);let Fe=$.addMonths(ye,1);for(;k&&pe.length<k;){const De=$.getWeekArray(Fe),ze=$.isSameDay(pe[pe.length-1][0],De[0][0]);De.slice(ze?1:0).forEach(Xe=>{pe.length<k&&pe.push(Xe)}),Fe=$.addMonths(Fe,1)}return pe},[s,k,$,M]);return i.jsxs(ste,{role:"grid","aria-labelledby":F,className:P.root,children:[i.jsxs(ite,{role:"row",className:P.header,children:[R&&i.jsx(ote,{variant:"caption",role:"columnheader","aria-label":le.calendarWeekNumberHeaderLabel,className:P.weekNumberLabel,children:le.calendarWeekNumberHeaderText}),kee($,N).map((ye,pe)=>{var Fe;const De=$.format(ye,"weekdayShort");return i.jsx(ate,{variant:"caption",role:"columnheader","aria-label":$.format($.addDays(he,pe),"weekday"),className:P.weekDayLabel,children:(Fe=G==null?void 0:G(De,ye))!=null?Fe:De},De+pe.toString())})]}),l?i.jsx(Ate,{className:P.loadingContainer,children:p()}):i.jsx(cte,z({transKey:ue,onExited:c,reduceAnimations:d,slideDirection:h,className:et(r,P.slideTransition)},m,{nodeRef:we,children:i.jsx(ute,{ref:we,role:"rowgroup",className:P.monthContainer,children:Ve.map((ye,pe)=>i.jsxs(dte,{role:"row",className:P.weekContainer,"aria-rowindex":pe+1,children:[R&&i.jsx(lte,{className:P.weekNumber,role:"rowheader","aria-label":le.calendarWeekNumberAriaLabelText($.getWeekNumber(ye[0])),children:le.calendarWeekNumberText($.getWeekNumber(ye[0]))}),ye.map((Fe,De)=>i.jsx(hte,{parentProps:t,day:Fe,selectedDays:fe,focusableDay:re,onKeyDown:ie,onFocus:ae,onBlur:Ce,onDaySelect:V,isDateDisabled:Z,currentMonthNumber:ce,isViewFocused:T,"aria-colindex":De+1},Fe.toString()))]},`week-${ye[0]}`))})}))]})}function pte(e){return ht("MuiPickersMonth",e)}const yp=ft("MuiPickersMonth",["root","monthButton","disabled","selected"]),gte=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],mte=e=>{const{disabled:t,selected:n,classes:r}=e;return gt({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},pte,r)},vte=Re("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),yte=Re("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${yp.disabled}`]:t.disabled},{[`&.${yp.selected}`]:t.selected}]})(({theme:e})=>z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ic(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ic(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${yp.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${yp.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),xte=b.memo(function(t){const n=Pi({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:s,disabled:a,selected:o,value:l,tabIndex:A,onClick:c,onKeyDown:u,onFocus:d,onBlur:p,"aria-current":h,"aria-label":m}=n,g=Je(n,gte),y=b.useRef(null),x=mte(n);return js(()=>{if(r){var C;(C=y.current)==null||C.focus()}},[r]),i.jsx(vte,z({className:x.root,ownerState:n},g,{children:i.jsx(yte,{ref:y,disabled:a,type:"button",role:"radio",tabIndex:a?-1:A,"aria-current":h,"aria-checked":o,"aria-label":m,onClick:C=>c(C,l),onKeyDown:C=>u(C,l),onFocus:C=>d(C,l),onBlur:C=>p(C,l),className:x.monthButton,ownerState:n,children:s})}))});function bte(e){return ht("MuiMonthCalendar",e)}ft("MuiMonthCalendar",["root"]);const wte=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:s})=>{var a,o;const l=Ls(),A=b.useRef(n),c=(a=t??A.current)!=null?a:s.emptyValue,u=b.useMemo(()=>s.getTimezone(l,c),[l,s,c]),d=en(g=>u==null?g:s.setTimezone(l,u,g)),p=(o=e??u)!=null?o:"default",h=b.useMemo(()=>s.setTimezone(l,p,c),[s,l,p,c]),m=en((g,...y)=>{const x=d(g);r==null||r(x,...y)});return{value:h,handleValueChange:m,timezone:p}},eb=({name:e,timezone:t,value:n,defaultValue:r,onChange:s,valueManager:a})=>{const[o,l]=wa({name:e,state:"value",controlled:n,default:r??a.emptyValue}),A=en((c,...u)=>{l(c),s==null||s(c,...u)});return wte({timezone:t,value:o,defaultValue:void 0,onChange:A,valueManager:a})},Bte=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Cte=e=>{const{classes:t}=e;return gt({root:["root"]},bte,t)};function Ste(e,t){const n=Ls(),r=Jx(),s=Pi({props:e,name:t});return z({disableFuture:!1,disablePast:!1},s,{minDate:il(n,s.minDate,r.minDate),maxDate:il(n,s.maxDate,r.maxDate)})}const jte=Re("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Zx,boxSizing:"border-box"}),Ete=b.forwardRef(function(t,n){const r=Ste(t,"MuiMonthCalendar"),{className:s,value:a,defaultValue:o,referenceDate:l,disabled:A,disableFuture:c,disablePast:u,maxDate:d,minDate:p,onChange:h,shouldDisableMonth:m,readOnly:g,disableHighlightToday:y,autoFocus:x=!1,onMonthFocus:C,hasFocus:S,onFocusedViewChange:w,monthsPerRow:L=3,timezone:I,gridLabelId:U}=r,_=Je(r,Bte),{value:F,handleValueChange:R,timezone:k}=eb({name:"MonthCalendar",timezone:I,value:a,defaultValue:o,onChange:h,valueManager:Wc}),j=qm(k),M=Jc(),N=Ls(),$=b.useMemo(()=>Wc.getInitialReferenceValue({value:F,utils:N,props:r,timezone:k,referenceDate:l,granularity:$a.month}),[]),P=r,D=Cte(P),W=b.useMemo(()=>N.getMonth(j),[N,j]),G=b.useMemo(()=>F!=null?N.getMonth(F):y?null:N.getMonth($),[F,N,y,$]),[Z,le]=b.useState(()=>G||W),[T,H]=wa({name:"MonthCalendar",state:"hasFocus",controlled:S,default:x??!1}),Q=en(ce=>{H(ce),w&&w(ce)}),K=b.useCallback(ce=>{const fe=N.startOfMonth(u&&N.isAfter(j,p)?j:p),ue=N.startOfMonth(c&&N.isBefore(j,d)?j:d),we=N.startOfMonth(ce);return N.isBefore(we,fe)||N.isAfter(we,ue)?!0:m?m(we):!1},[c,u,d,p,j,m,N]),V=en((ce,fe)=>{if(g)return;const ue=N.setMonth(F??$,fe);R(ue)}),X=en(ce=>{K(N.setMonth(F??$,ce))||(le(ce),Q(!0),C&&C(ce))});b.useEffect(()=>{le(ce=>G!==null&&ce!==G?G:ce)},[G]);const ie=en((ce,fe)=>{switch(ce.key){case"ArrowUp":X((12+fe-3)%12),ce.preventDefault();break;case"ArrowDown":X((12+fe+3)%12),ce.preventDefault();break;case"ArrowLeft":X((12+fe+(M.direction==="ltr"?-1:1))%12),ce.preventDefault();break;case"ArrowRight":X((12+fe+(M.direction==="ltr"?1:-1))%12),ce.preventDefault();break}}),ae=en((ce,fe)=>{X(fe)}),Ce=en((ce,fe)=>{Z===fe&&Q(!1)});return i.jsx(jte,z({ref:n,className:et(D.root,s),ownerState:P,role:"radiogroup","aria-labelledby":U},_,{children:Iee(N,F??$).map(ce=>{const fe=N.getMonth(ce),ue=N.format(ce,"monthShort"),we=N.format(ce,"month"),he=fe===G,re=A||K(ce);return i.jsx(xte,{selected:he,value:fe,onClick:V,onKeyDown:ie,autoFocus:T&&fe===Z,disabled:re,tabIndex:fe===Z?0:-1,onFocus:ae,onBlur:Ce,"aria-current":W===fe?"date":void 0,"aria-label":we,monthsPerRow:L,children:ue},ue)})}))});function Ite(e){return ht("MuiPickersYear",e)}const xp=ft("MuiPickersYear",["root","yearButton","selected","disabled"]),kte=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Fte=e=>{const{disabled:t,selected:n,classes:r}=e;return gt({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},Ite,r)},Nte=Re("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Tte=Re("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${xp.disabled}`]:t.disabled},{[`&.${xp.selected}`]:t.selected}]})(({theme:e})=>z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Ic(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ic(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${xp.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${xp.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),_te=b.memo(function(t){const n=Pi({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:s,children:a,disabled:o,selected:l,value:A,tabIndex:c,onClick:u,onKeyDown:d,onFocus:p,onBlur:h,"aria-current":m}=n,g=Je(n,kte),y=b.useRef(null),x=Fte(n);return b.useEffect(()=>{r&&y.current.focus()},[r]),i.jsx(Nte,z({className:et(x.root,s),ownerState:n},g,{children:i.jsx(Tte,{ref:y,disabled:o,type:"button",role:"radio",tabIndex:o?-1:c,"aria-current":m,"aria-checked":l,onClick:C=>u(C,A),onKeyDown:C=>d(C,A),onFocus:C=>p(C,A),onBlur:C=>h(C,A),className:x.yearButton,ownerState:n,children:a})}))});function Ute(e){return ht("MuiYearCalendar",e)}ft("MuiYearCalendar",["root"]);const Dte=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Lte=e=>{const{classes:t}=e;return gt({root:["root"]},Ute,t)};function Mte(e,t){var n;const r=Ls(),s=Jx(),a=Pi({props:e,name:t});return z({disablePast:!1,disableFuture:!1},a,{yearsPerRow:(n=a.yearsPerRow)!=null?n:3,minDate:il(r,a.minDate,s.minDate),maxDate:il(r,a.maxDate,s.maxDate)})}const Qte=Re("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Zx,maxHeight:Hee,boxSizing:"border-box",position:"relative"}),Pte=b.forwardRef(function(t,n){const r=Mte(t,"MuiYearCalendar"),{autoFocus:s,className:a,value:o,defaultValue:l,referenceDate:A,disabled:c,disableFuture:u,disablePast:d,maxDate:p,minDate:h,onChange:m,readOnly:g,shouldDisableYear:y,disableHighlightToday:x,onYearFocus:C,hasFocus:S,onFocusedViewChange:w,yearsPerRow:L,timezone:I,gridLabelId:U}=r,_=Je(r,Dte),{value:F,handleValueChange:R,timezone:k}=eb({name:"YearCalendar",timezone:I,value:o,defaultValue:l,onChange:m,valueManager:Wc}),j=qm(k),M=Jc(),N=Ls(),$=b.useMemo(()=>Wc.getInitialReferenceValue({value:F,utils:N,props:r,timezone:k,referenceDate:A,granularity:$a.year}),[]),P=r,D=Lte(P),W=b.useMemo(()=>N.getYear(j),[N,j]),G=b.useMemo(()=>F!=null?N.getYear(F):x?null:N.getYear($),[F,N,x,$]),[Z,le]=b.useState(()=>G||W),[T,H]=wa({name:"YearCalendar",state:"hasFocus",controlled:S,default:s??!1}),Q=en(ue=>{H(ue),w&&w(ue)}),K=b.useCallback(ue=>{if(d&&N.isBeforeYear(ue,j)||u&&N.isAfterYear(ue,j)||h&&N.isBeforeYear(ue,h)||p&&N.isAfterYear(ue,p))return!0;if(!y)return!1;const we=N.startOfYear(ue);return y(we)},[u,d,p,h,j,y,N]),V=en((ue,we)=>{if(g)return;const he=N.setYear(F??$,we);R(he)}),X=en(ue=>{K(N.setYear(F??$,ue))||(le(ue),Q(!0),C==null||C(ue))});b.useEffect(()=>{le(ue=>G!==null&&ue!==G?G:ue)},[G]);const ie=en((ue,we)=>{switch(ue.key){case"ArrowUp":X(we-L),ue.preventDefault();break;case"ArrowDown":X(we+L),ue.preventDefault();break;case"ArrowLeft":X(we+(M.direction==="ltr"?-1:1)),ue.preventDefault();break;case"ArrowRight":X(we+(M.direction==="ltr"?1:-1)),ue.preventDefault();break}}),ae=en((ue,we)=>{X(we)}),Ce=en((ue,we)=>{Z===we&&Q(!1)}),ce=b.useRef(null),fe=sr(n,ce);return b.useEffect(()=>{if(s||ce.current===null)return;const ue=ce.current.querySelector('[tabindex="0"]');if(!ue)return;const we=ue.offsetHeight,he=ue.offsetTop,re=ce.current.clientHeight,Ve=ce.current.scrollTop,ye=he+we;we>re||he<Ve||(ce.current.scrollTop=ye-re/2-we/2)},[s]),i.jsx(Qte,z({ref:fe,className:et(D.root,a),ownerState:P,role:"radiogroup","aria-labelledby":U},_,{children:N.getYearRange(h,p).map(ue=>{const we=N.getYear(ue),he=we===G,re=c||K(ue);return i.jsx(_te,{selected:he,value:we,onClick:V,onKeyDown:ie,autoFocus:T&&we===Z,disabled:re,tabIndex:we===Z?0:-1,onFocus:ae,onBlur:Ce,"aria-current":W===we?"date":void 0,yearsPerRow:L,children:N.format(ue,"year")},N.format(ue,"year"))})}))});function Rte({onChange:e,onViewChange:t,openTo:n,view:r,views:s,autoFocus:a,focusedView:o,onFocusedViewChange:l}){var A,c;const u=b.useRef(n),d=b.useRef(s),p=b.useRef(s.includes(n)?n:s[0]),[h,m]=wa({name:"useViews",state:"view",controlled:r,default:p.current}),g=b.useRef(a?h:null),[y,x]=wa({name:"useViews",state:"focusedView",controlled:o,default:g.current});b.useEffect(()=>{(u.current&&u.current!==n||d.current&&d.current.some(F=>!s.includes(F)))&&(m(s.includes(n)?n:s[0]),d.current=s,u.current=n)},[n,m,h,s]);const C=s.indexOf(h),S=(A=s[C-1])!=null?A:null,w=(c=s[C+1])!=null?c:null,L=en((F,R)=>{x(R?F:k=>F===k?null:k),l==null||l(F,R)}),I=en(F=>{L(F,!0),F!==h&&(m(F),t&&t(F))}),U=en(()=>{w&&I(w)}),_=en((F,R,k)=>{const j=R==="finish",M=k?s.indexOf(k)<s.length-1:!!w;if(e(F,j&&M?"partial":R,k),k&&k!==h){const $=s[s.indexOf(k)+1];$&&I($)}else j&&U()});return{view:h,setView:I,focusedView:y,setFocusedView:L,nextView:w,previousView:S,defaultView:s.includes(n)?n:s[0],goToNextView:U,setValueAndGoToNextView:_}}const Hte=e=>ht("MuiPickersCalendarHeader",e),Ote=ft("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),$te=At(i.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zte=At(i.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Wte=At(i.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");At(i.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");At(i.jsxs(b.Fragment,{children:[i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");At(i.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");At(i.jsxs(b.Fragment,{children:[i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");At(i.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Kte(e){return ht("MuiPickersArrowSwitcher",e)}ft("MuiPickersArrowSwitcher",["root","spacer","button"]);const Vte=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Gte=["ownerState"],qte=["ownerState"],Yte=Re("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),Xte=Re("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),t5=Re(Ds,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>z({},e.hidden&&{visibility:"hidden"})),Jte=e=>{const{classes:t}=e;return gt({root:["root"],spacer:["spacer"],button:["button"]},Kte,t)},Zte=b.forwardRef(function(t,n){var r,s,a,o;const A=Qi().direction==="rtl",c=Pi({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:p,slotProps:h,isNextDisabled:m,isNextHidden:g,onGoToNext:y,nextLabel:x,isPreviousDisabled:C,isPreviousHidden:S,onGoToPrevious:w,previousLabel:L}=c,I=Je(c,Vte),U=c,_=Jte(U),F={isDisabled:m,isHidden:g,goTo:y,label:x},R={isDisabled:C,isHidden:S,goTo:w,label:L},k=(r=p==null?void 0:p.previousIconButton)!=null?r:t5,j=Ko({elementType:k,externalSlotProps:h==null?void 0:h.previousIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"end",onClick:R.goTo},ownerState:z({},U,{hidden:R.isHidden}),className:_.button}),M=(s=p==null?void 0:p.nextIconButton)!=null?s:t5,N=Ko({elementType:M,externalSlotProps:h==null?void 0:h.nextIconButton,additionalProps:{size:"medium",title:F.label,"aria-label":F.label,disabled:F.isDisabled,edge:"start",onClick:F.goTo},ownerState:z({},U,{hidden:F.isHidden}),className:_.button}),$=(a=p==null?void 0:p.leftArrowIcon)!=null?a:zte,P=Ko({elementType:$,externalSlotProps:h==null?void 0:h.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),D=Je(P,Gte),W=(o=p==null?void 0:p.rightArrowIcon)!=null?o:Wte,G=Ko({elementType:W,externalSlotProps:h==null?void 0:h.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Z=Je(G,qte);return i.jsxs(Yte,z({ref:n,className:et(_.root,d),ownerState:U},I,{children:[i.jsx(k,z({},j,{children:A?i.jsx(W,z({},Z)):i.jsx($,z({},D))})),u?i.jsx(te,{variant:"subtitle1",component:"span",children:u}):i.jsx(Xte,{className:_.spacer,ownerState:U}),i.jsx(M,z({},N,{children:A?i.jsx($,z({},D)):i.jsx(W,z({},Z))}))]}))});function ene(e,{disableFuture:t,maxDate:n,timezone:r}){const s=Ls();return b.useMemo(()=>{const a=s.dateWithTimezone(void 0,r),o=s.startOfMonth(t&&s.isBefore(a,n)?a:n);return!s.isAfter(o,e)},[t,n,e,s,r])}function tne(e,{disablePast:t,minDate:n,timezone:r}){const s=Ls();return b.useMemo(()=>{const a=s.dateWithTimezone(void 0,r),o=s.startOfMonth(t&&s.isAfter(a,n)?a:n);return!s.isBefore(o,e)},[t,n,e,s,r])}const nne=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],rne=["ownerState"],sne=e=>{const{classes:t}=e;return gt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Hte,t)},ine=Re("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),ane=Re("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>z({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),one=Re("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),lne=Re(Ds,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>z({marginRight:"auto"},e.view==="year"&&{[`.${Ote.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Ane=Re($te,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),cne=b.forwardRef(function(t,n){var r,s,a,o;const l=OE(),A=Ls(),c=Pi({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:d,components:p,currentMonth:h,disabled:m,disableFuture:g,disablePast:y,maxDate:x,minDate:C,onMonthChange:S,onViewChange:w,view:L,reduceAnimations:I,views:U,labelId:_,className:F,timezone:R}=c,k=Je(c,nne),j=c,M=sne(c),N=(r=(s=u==null?void 0:u.switchViewButton)!=null?s:p==null?void 0:p.SwitchViewButton)!=null?r:lne,$=Ko({elementType:N,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(L)},ownerState:j,className:M.switchViewButton}),P=(a=(o=u==null?void 0:u.switchViewIcon)!=null?o:p==null?void 0:p.SwitchViewIcon)!=null?a:Ane,D=Ko({elementType:P,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:void 0,className:M.switchViewIcon}),W=Je(D,rne),G=()=>S(A.addMonths(h,1),"left"),Z=()=>S(A.addMonths(h,-1),"right"),le=ene(h,{disableFuture:g,maxDate:x,timezone:R}),T=tne(h,{disablePast:y,minDate:C,timezone:R}),H=()=>{if(!(U.length===1||!w||m))if(U.length===2)w(U.find(Q=>Q!==L)||U[0]);else{const Q=U.indexOf(L)!==0?0:1;w(U[Q])}};return U.length===1&&U[0]==="year"?null:i.jsxs(ine,z({},k,{ownerState:j,className:et(F,M.root),ref:n,children:[i.jsxs(ane,{role:"presentation",onClick:H,ownerState:j,"aria-live":"polite",className:M.labelContainer,children:[i.jsx(zE,{reduceAnimations:I,transKey:A.format(h,"monthAndYear"),children:i.jsx(one,{id:_,ownerState:j,className:M.label,children:A.format(h,"monthAndYear")})}),U.length>1&&!m&&i.jsx(N,z({},$,{children:i.jsx(P,z({},W))}))]}),i.jsx(Ih,{in:L==="day",children:i.jsx(Zte,{slots:u,slotProps:d,onGoToPrevious:Z,isPreviousDisabled:T,previousLabel:l.previousMonth,onGoToNext:G,isNextDisabled:le,nextLabel:l.nextMonth})})]}))}),une=Re("div")({overflow:"hidden",width:Zx,maxHeight:WE,display:"flex",flexDirection:"column",margin:"0 auto"}),dne="@media (prefers-reduced-motion: reduce)",Sc=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),n5=Sc&&Sc[1]?parseInt(Sc[1],10):null,r5=Sc&&Sc[2]?parseInt(Sc[2],10):null,hne=n5&&n5<10||r5&&r5<13||!1,fne=()=>HN(dne,{defaultMatches:!1})||hne,pne=e=>ht("MuiDateCalendar",e);ft("MuiDateCalendar",["root","viewTransitionContainer"]);const gne=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],mne=e=>{const{classes:t}=e;return gt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},pne,t)};function vne(e,t){var n,r,s,a,o,l,A;const c=Ls(),u=Jx(),d=fne(),p=Pi({props:e,name:t});return z({},p,{loading:(n=p.loading)!=null?n:!1,disablePast:(r=p.disablePast)!=null?r:!1,disableFuture:(s=p.disableFuture)!=null?s:!1,openTo:(a=p.openTo)!=null?a:"day",views:(o=p.views)!=null?o:["year","day"],reduceAnimations:(l=p.reduceAnimations)!=null?l:d,renderLoading:(A=p.renderLoading)!=null?A:()=>i.jsx("span",{children:"..."}),minDate:il(c,p.minDate,u.minDate),maxDate:il(c,p.maxDate,u.maxDate)})}const yne=Re(une,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:WE}),xne=Re(zE,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),bne=b.forwardRef(function(t,n){var r,s,a;const o=Ls(),l=Zc(),A=vne(t,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:p,referenceDate:h,disableFuture:m,disablePast:g,defaultCalendarMonth:y,onChange:x,onYearChange:C,onMonthChange:S,reduceAnimations:w,shouldDisableDate:L,shouldDisableMonth:I,shouldDisableYear:U,view:_,views:F,openTo:R,className:k,disabled:j,readOnly:M,minDate:N,maxDate:$,disableHighlightToday:P,focusedView:D,onFocusedViewChange:W,showDaysOutsideCurrentMonth:G,fixedWeekNumber:Z,dayOfWeekFormatter:le,components:T,componentsProps:H,slots:Q,slotProps:K,loading:V,renderLoading:X,displayWeekNumber:ie,yearsPerRow:ae,monthsPerRow:Ce,timezone:ce}=A,fe=Je(A,gne),{value:ue,handleValueChange:we,timezone:he}=eb({name:"DateCalendar",timezone:ce,value:d,defaultValue:p,onChange:x,valueManager:Wc}),{view:re,setView:Ve,focusedView:ye,setFocusedView:pe,goToNextView:Fe,setValueAndGoToNextView:De}=Rte({view:_,views:F,openTo:R,onChange:we,onViewChange:u,autoFocus:c,focusedView:D,onFocusedViewChange:W}),{referenceDate:ze,calendarState:Xe,changeFocusedDay:at,changeMonth:ct,handleChangeMonth:st,isDateDisabled:me,onMonthSwitchingAnimationEnd:Pe}=Mee({value:ue,defaultCalendarMonth:y,referenceDate:h,reduceAnimations:w,onMonthChange:S,minDate:N,maxDate:$,shouldDisableDate:L,disablePast:g,disableFuture:m,timezone:he}),oe=j&&ue||N,ge=j&&ue||$,Ie=`${l}-grid-label`,Ne=ye!==null,Ee=(r=(s=Q==null?void 0:Q.calendarHeader)!=null?s:T==null?void 0:T.CalendarHeader)!=null?r:cne,qe=Ko({elementType:Ee,externalSlotProps:(a=K==null?void 0:K.calendarHeader)!=null?a:H==null?void 0:H.calendarHeader,additionalProps:{views:F,view:re,currentMonth:Xe.currentMonth,onViewChange:Ve,onMonthChange:(nt,xt)=>st({newMonth:nt,direction:xt}),minDate:oe,maxDate:ge,disabled:j,disablePast:g,disableFuture:m,reduceAnimations:w,timezone:he,labelId:Ie,slots:Q,slotProps:K},ownerState:A}),Be=en(nt=>{const xt=o.startOfMonth(nt),hn=o.endOfMonth(nt),Qt=me(nt)?Hd({utils:o,date:nt,minDate:o.isBefore(N,xt)?xt:N,maxDate:o.isAfter($,hn)?hn:$,disablePast:g,disableFuture:m,isDateDisabled:me,timezone:he}):nt;Qt?(De(Qt,"finish"),S==null||S(xt)):(Fe(),ct(xt)),at(Qt,!0)}),Qe=en(nt=>{const xt=o.startOfYear(nt),hn=o.endOfYear(nt),Qt=me(nt)?Hd({utils:o,date:nt,minDate:o.isBefore(N,xt)?xt:N,maxDate:o.isAfter($,hn)?hn:$,disablePast:g,disableFuture:m,isDateDisabled:me,timezone:he}):nt;Qt?(De(Qt,"finish"),C==null||C(Qt)):(Fe(),ct(xt)),at(Qt,!0)}),Se=en(nt=>we(nt&&Tg(o,nt,ue??ze),"finish",re));b.useEffect(()=>{ue!=null&&o.isValid(ue)&&ct(ue)},[ue]);const He=A,Oe=mne(He),_e={disablePast:g,disableFuture:m,maxDate:$,minDate:N},Ke={disableHighlightToday:P,readOnly:M,disabled:j,timezone:he,gridLabelId:Ie},lt=b.useRef(re);b.useEffect(()=>{lt.current!==re&&(ye===lt.current&&pe(re,!0),lt.current=re)},[ye,pe,re]);const ut=b.useMemo(()=>[ue],[ue]);return i.jsxs(yne,z({ref:n,className:et(Oe.root,k),ownerState:He},fe,{children:[i.jsx(Ee,z({},qe)),i.jsx(xne,{reduceAnimations:w,className:Oe.viewTransitionContainer,transKey:re,ownerState:He,children:i.jsxs("div",{children:[re==="year"&&i.jsx(Pte,z({},_e,Ke,{value:ue,onChange:Qe,shouldDisableYear:U,hasFocus:Ne,onFocusedViewChange:nt=>pe("year",nt),yearsPerRow:ae,referenceDate:ze})),re==="month"&&i.jsx(Ete,z({},_e,Ke,{hasFocus:Ne,className:k,value:ue,onChange:Be,shouldDisableMonth:I,onFocusedViewChange:nt=>pe("month",nt),monthsPerRow:Ce,referenceDate:ze})),re==="day"&&i.jsx(fte,z({},Xe,_e,Ke,{onMonthSwitchingAnimationEnd:Pe,onFocusedDayChange:at,reduceAnimations:w,selectedDays:ut,onSelectedDaysChange:Se,shouldDisableDate:L,shouldDisableMonth:I,shouldDisableYear:U,hasFocus:Ne,onFocusedViewChange:nt=>pe("day",nt),showDaysOutsideCurrentMonth:G,fixedWeekNumber:Z,dayOfWeekFormatter:le,displayWeekNumber:ie,components:T,componentsProps:H,slots:Q,slotProps:K,loading:V,renderLoading:X}))]})})]}))});function wne(){const{clubId:e,courtId:t}=Ao(),n=rs(),[r,s]=b.useState(Yo()),[a,o]=b.useState(null),[l,A]=b.useState(null),[c,u]=b.useState(!0),[d,p]=b.useState("");b.useEffect(()=>{h()},[e,t]);const h=async()=>{if(!e||!t){p("Некорректные параметры"),u(!1);return}try{const y=await rn(bt($e,"courts",t));if(!y.exists()){p("Корт не найден"),u(!1);return}const x={id:y.id,...y.data()};if(x.venueId!==e){p("Корт не принадлежит указанному клубу"),u(!1);return}o(x);const C=await rn(bt($e,"venues",e));C.exists()&&A({id:C.id,...C.data()}),u(!1)}catch(y){console.error("Error loading data:",y),p("Ошибка при загрузке данных"),u(!1)}},m=()=>{r&&n(`/club/${e}/court/${t}/time?date=${ln(r,"yyyy-MM-dd")}`)},g=y=>{const x=Yo();if(y<x)return!0;const C=Za(x,30);if(y>C)return!0;if(l!=null&&l.workingHours){const w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()],L=l.workingHours[w];if(!L||!L.open&&!L.close)return!0}return!1};return c?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):d?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:d})]})}):i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:i.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:y=>y.currentTarget.style.background="none",children:"←"})}),i.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[i.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),a&&l&&i.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",a.name]}),i.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:i.jsx(yee,{dateAdapter:mee,adapterLocale:si,children:i.jsx(bne,{value:r,onChange:y=>s(y),shouldDisableDate:g,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&i.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),i.jsx("h3",{className:"h3",children:ln(r,"d MMMM yyyy",{locale:si})})]}),i.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:i.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),i.jsx("div",{className:"sticky-bottom-bar",children:i.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:m,disabled:!r,children:"Выбрать время →"})})]})}function Bne(){var D,W;const{clubId:e,courtId:t}=Ao(),n=rs(),[r]=Kc(),s=r.get("date"),a=s?ts(s,"yyyy-MM-dd",new Date):new Date,[o,l]=b.useState(null),[A,c]=b.useState(null),[u,d]=b.useState([]),[p,h]=b.useState(null),[m,g]=b.useState(60),[y,x]=b.useState([60,90,120]),[C,S]=b.useState(!0),[w,L]=b.useState(""),[I,U]=b.useState([]),[_,F]=b.useState([]),[R,k]=b.useState(0);b.useEffect(()=>{j()},[]),b.useEffect(()=>{M()},[e,t,R]),b.useEffect(()=>{A&&o&&N()},[A,o,u,m,R]);const j=()=>{const G=[],Z=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let le=-1;for(let T=0;T<7;T++){const H=Za(Yo(),T);G.push({date:H,day:Z[H.getDay()],dayNumber:ln(H,"d")}),ln(H,"yyyy-MM-dd")===s&&(le=T)}F(G),k(le>=0?le:0)},M=async()=>{var G;if(!e||!t){L("Некорректные параметры"),S(!1);return}try{const Z=await rn(bt($e,"courts",t));if(!Z.exists()){L("Корт не найден"),S(!1);return}const le={id:Z.id,...Z.data()};l(le);const T=await rn(bt($e,"venues",e));if(T.exists()){const ce={id:T.id,...T.data()};if(c(ce),ce.bookingDurations){const fe=[60,90,120].filter(ue=>ce.bookingDurations[ue]!==!1);x(fe),fe.includes(m)||g(fe[0]||60)}}const H=((G=_[R])==null?void 0:G.date)||a,Q=ln(H,"yyyy-MM-dd"),K=new Date(H);K.setHours(0,0,0,0);const V=new Date(H);V.setHours(23,59,59,999);const X=zt(Tt($e,"bookings"),Ct("courtId","==",t),Ct("date",">=",qt.fromDate(K)),Ct("date","<=",qt.fromDate(V))),Ce=(await Wt(X)).docs.map(ce=>({id:ce.id,...ce.data()})).filter(ce=>{const fe=ce.status||"pending",ue=ce.paymentStatus||"awaiting_payment";return fe!=="cancelled"&&ue!=="cancelled"&&ue!=="refunded"&&ue!=="error"&&(fe==="confirmed"||fe==="pending"||ue==="paid"||ue==="awaiting_payment")});d(Ce),S(!1)}catch(Z){console.error("Error loading data:",Z),L("Ошибка при загрузке данных"),S(!1)}},N=()=>{var ce;if(!(A!=null&&A.workingHours)||!o)return;const G=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Z=((ce=_[R])==null?void 0:ce.date)||a,le=G[Z.getDay()],T=A.workingHours[le];if(!T)return;let H="08:00",Q="22:00";if(typeof T=="string"&&T.includes("-")){const[fe,ue]=T.split("-").map(we=>we.trim());H=fe||"08:00",Q=ue||"22:00"}else T.open&&T.close&&(H=T.open,Q=T.close);const K=[],V=ts(H,"HH:mm",Z),X=ts(Q,"HH:mm",Z),ie=A.bookingSlotInterval||60;let ae=V;const Ce=new Date;for(ie===60&&ae.getMinutes()!==0&&(ae.getMinutes()<30?ae=new Date(ae.setMinutes(0)):ae=Xi(new Date(ae.setMinutes(0)),60));zr(ae,X);){const fe=ln(ae,"HH:mm"),ue=Xi(ae,m);let we=!0;if(LE(Z)&&zr(ae,Ce)&&(we=!1),zs(ue,X)&&(we=!1),we)for(const Ve of u){const ye=ts(Ve.startTime,"HH:mm",Z),pe=ts(Ve.endTime,"HH:mm",Z);if(zs(ae,ye)&&zr(ae,pe)||zs(ue,ye)&&zr(ue,pe)||zr(ae,ye)&&zs(ue,pe)||ln(ae,"HH:mm")===Ve.startTime){we=!1;break}}const re=$c(a||new Date,fe,m,o.pricing,o.holidayPricing,o.priceWeekday,o.priceWeekend||o.pricePerHour);K.push({time:fe,available:we,price:Math.round(re)}),ae=Xi(ae,ie)}U(K)},$=()=>{var le;if(!p)return;const G=((le=_[R])==null?void 0:le.date)||a,Z=ln(G,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${Z}&time=${p}&duration=${m}`)},P=G=>{k(G),h(null)};return C?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):w?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:w})]})}):i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[i.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),i.jsxs("div",{children:[i.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),o&&A&&i.jsxs("p",{className:"caption",children:[A.name," • ",o.name]})]})]})}),i.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:i.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:_.map((G,Z)=>{const le=R===Z;return i.jsxs("button",{onClick:()=>P(Z),style:{minWidth:"60px",height:"60px",backgroundColor:le?"var(--primary)":"var(--white)",color:le?"white":"var(--dark)",border:`2px solid ${le?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[i.jsx("span",{className:"caption-bold",children:G.day}),i.jsx("span",{className:"body-bold",children:G.dayNumber})]},Z)})})}),i.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),i.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(G=>{const Z=y.includes(G);return i.jsx("button",{onClick:()=>{Z&&(g(G),h(null))},disabled:!Z,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:m===G?"var(--primary)":Z?"var(--white)":"var(--extra-light-gray)",color:m===G?"white":Z?"var(--dark)":"var(--gray)",border:`2px solid ${m===G?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:Z?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:Z?1:.5},children:G===60?"1 час":G===90?"1.5 часа":"2 часа"},G)})})]}),i.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),I.length===0?i.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:i.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:I.map(G=>{const Z=p===G.time;return i.jsxs("button",{onClick:()=>G.available&&h(G.time),disabled:!G.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:G.available?Z?"var(--primary)":"var(--primary-light)":"var(--busy)",color:G.available?Z?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${G.available?Z?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:G.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[i.jsx("span",{className:"body-bold",children:G.time}),G.available?i.jsx("span",{className:"caption",style:{color:Z?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:Z?"Выбрано":`${G.price}₽`}):i.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},G.time)})})]}),i.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Свободно"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Занято"})]})]}),i.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[i.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&_[R]&&`${ln(_[R].date,"d MMMM",{locale:si})}, ${p}-${ln(Xi(ts(p,"HH:mm",new Date),m),"HH:mm")}`}),p&&((D=I.find(G=>G.time===p))==null?void 0:D.available)&&i.jsxs("span",{className:"h2",children:[(W=I.find(G=>G.time===p))==null?void 0:W.price," ₽"]})]}),i.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:$,disabled:!p,children:"Далее"})]})]})}function Cne(){const{clubId:e,courtId:t}=Ao(),n=rs(),[r]=Kc(),s=r.get("date"),a=r.get("time"),o=r.get("duration"),l=r.get("trainer"),[A,c]=b.useState("open"),[u,d]=b.useState(!1),[p,h]=b.useState(null),[m,g]=b.useState(!0);b.useEffect(()=>{y()},[t]);const y=async()=>{if(t)try{const F=await rn(bt($e,"venues",e,"courts",t));F.exists()&&h({id:F.id,...F.data()})}catch(F){console.error("Error loading court:",F)}finally{g(!1)}},[x,C]=b.useState({name:"",phone:"+7",email:"",comment:""}),[S,w]=b.useState({}),[L,I]=b.useState(!1),U=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--primary)",tags:["Только для вас","Без посторонних"],available:!0},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--success)",tags:["Найти партнёров","Разделить оплату"],available:!1},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],_=F=>{if(F.available){const R=s?ts(s,"yyyy-MM-dd",new Date):new Date,k=p?Math.round($c(R,a||"09:00",parseInt(o||"60"),p.pricing,p.holidayPricing,p.priceWeekday,p.priceWeekend||p.pricePerHour)):0,j=new URLSearchParams({date:s||"",time:a||"",duration:o||"60",gameType:F.id,playersCount:(F.playersCount||1).toString(),price:k.toString(),pricePerPlayer:(F.pricePerPlayer||k).toString()});l&&j.append("trainer",l),n(`/club/${e}/court/${t}/payment?${j.toString()}`)}else if(window.confirm(`Функция "${F.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)){let k=`allcourts://club/${e}/court/${t}?date=${s}&time=${a}&duration=${o}`;l&&(k+=`&trainer=${l}`),window.location.href=k}};return i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[i.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),i.jsx("div",{children:i.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),i.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[U.map(F=>i.jsxs("div",{onClick:()=>_(F),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${A===F.id&&F.available?"var(--primary)":"transparent"}`,boxShadow:A===F.id&&F.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:F.available?1:.7,position:"relative"},onMouseEnter:R=>{F.available&&(R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:R=>{R.currentTarget.style.transform="none",R.currentTarget.style.boxShadow="none"},children:[!F.available&&i.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[i.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:A===F.id&&F.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:i.jsx("span",{style:{filter:A===F.id&&F.available?"brightness(0) invert(1)":"none"},children:F.icon})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:F.title}),i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:F.subtitle}),i.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:F.tags.map((R,k)=>i.jsx("span",{style:{padding:"4px 16px",backgroundColor:A===F.id&&F.available?"var(--primary-light)":"var(--divider)",color:A===F.id&&F.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:R},k))})]})]})]},F.id)),i.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:i.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function Sne(){const{clubId:e,courtId:t}=Ao(),n=rs(),[r]=Kc(),s=r.get("date")||"",a=r.get("time")||"",o=parseInt(r.get("duration")||"60"),l=r.get("gameType")||"simple",A=parseInt(r.get("playersCount")||"1"),c=parseInt(r.get("price")||"0"),u=parseInt(r.get("pricePerPlayer")||"0"),d=r.get("customerName")||"",p=r.get("customerPhone")||"",h=r.get("customerEmail")||"",[m,g]=b.useState(null),[y,x]=b.useState(null),[C,S]=b.useState(!0),[w,L]=b.useState(!1),[I,U]=b.useState(""),[_,F]=b.useState(!1),[R,k]=b.useState(d),[j,M]=b.useState(p),[N,$]=b.useState(h),[P,D]=b.useState(window.innerWidth<=768);b.useEffect(()=>{const K=()=>D(window.innerWidth<=768);return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),b.useEffect(()=>{W()},[e,t]),b.useEffect(()=>{!C&&m&&y&&d&&p&&!w&&!_&&(F(!0),setTimeout(()=>{Q()},500))},[C,m,y,d,p,w,_]);const W=async()=>{if(!e||!t){U("Некорректные параметры"),S(!1);return}try{const K=await rn(bt($e,"venues",e,"courts",t));if(!K.exists()){U("Корт не найден"),S(!1);return}const V={id:K.id,...K.data(),venueId:e};g(V);const X=await rn(bt($e,"venues",e));if(X.exists()){const ie={id:X.id,...X.data()};x(ie)}S(!1)}catch(K){console.error("Error loading data:",K),U("Ошибка при загрузке данных"),S(!1)}},G=K=>{const V=ts(K,"yyyy-MM-dd",new Date);return ln(V,"d MMMM",{locale:si})},Z=(K,V)=>{const[X,ie]=K.split(":").map(Number),ae=X*60+ie+V,Ce=Math.floor(ae/60),ce=ae%60;return`${Ce.toString().padStart(2,"0")}:${ce.toString().padStart(2,"0")}`},le=K=>{const V=K.replace(/\D/g,"");return V.length<=1?V:V.length<=4?`+7 (${V.slice(1)})`:V.length<=7?`+7 (${V.slice(1,4)}) ${V.slice(4)}`:V.length<=9?`+7 (${V.slice(1,4)}) ${V.slice(4,7)}-${V.slice(7)}`:`+7 (${V.slice(1,4)}) ${V.slice(4,7)}-${V.slice(7,9)}-${V.slice(9,11)}`},T=K=>{const V=le(K.target.value);M(V)},H=()=>R.trim()?!j||j.replace(/\D/g,"").length<11?(alert("Пожалуйста, введите корректный номер телефона"),!1):N&&!N.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(alert("Пожалуйста, введите корректный email"),!1):!0:(alert("Пожалуйста, введите ваше имя"),!1),Q=async()=>{if(!(!H()||!m||!y)){L(!0);try{const K=new Date(s+"T00:00:00"),V=new Date(K);V.setHours(0,0,0,0);const X=new Date(K);X.setHours(23,59,59,999);const ie=zt(Tt($e,"bookings"),Ct("courtId","==",t),Ct("date",">=",qt.fromDate(V)),Ct("date","<=",qt.fromDate(X))),Ce=(await Wt(ie)).docs.map(Ve=>({id:Ve.id,...Ve.data()})).filter(Ve=>{const ye=Ve.status||"pending",pe=Ve.paymentStatus||"awaiting_payment";return ye!=="cancelled"&&pe!=="cancelled"&&pe!=="refunded"&&pe!=="error"&&(ye==="confirmed"||ye==="pending"||pe==="paid"||pe==="awaiting_payment")}),ce=ts(a,"HH:mm",new Date),fe=Xi(ce,o);for(const Ve of Ce){const ye=ts(Ve.startTime,"HH:mm",new Date),pe=ts(Ve.endTime,"HH:mm",new Date);if(zs(ce,ye)&&zr(ce,pe)||zs(fe,ye)&&zr(fe,pe)||zr(ce,ye)&&zs(fe,pe)||ln(ce,"HH:mm")===Ve.startTime){L(!1),alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),n(`/club/${e}/court/${t}/time?date=${s}`);return}}try{await es(Jo,"validateBookingRequest")({phoneNumber:j,venueId:e,source:"web"})}catch(Ve){L(!1),alert(Ve.message||"Не удалось создать бронирование. Попробуйте позже.");return}const ue=new Date(s+"T00:00:00"),we=qt.fromDate(ue),he={courtId:t,courtName:m.name,venueId:e,venueName:y.name,date:we,startTime:a,endTime:Z(a,o),duration:o,gameType:l,playersCount:l==="open"||l==="open_join"?A:1,totalPrice:c,pricePerPlayer:l==="open"||l==="open_join"?u:c,customerName:R,customerPhone:j,customerEmail:N||null,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:qt.now(),action:"created",userId:"web-booking",userName:R||"Клиент",note:"Бронирование создано через веб-сайт"}],createdAt:qt.now(),updatedAt:qt.now()},re=await va(Tt($e,"bookings"),he);if(y.paymentEnabled&&y.paymentProvider)try{const pe=(await es(Jo,"initBookingPayment")({bookingId:re.id,amount:c,description:`Бронирование ${m.name} на ${G(s)} ${a}`,returnUrl:`${window.location.origin}/club/${e}/booking-confirmation/${re.id}`,userId:"",customerEmail:N||void 0,customerPhone:j})).data;if(console.log("Payment initialization result:",pe),pe.success&&pe.paymentUrl)console.log("Updating booking with payment info:",{bookingId:re.id,paymentId:pe.paymentId,paymentUrl:pe.paymentUrl,paymentProvider:y.paymentProvider}),await Nn(re,{paymentId:pe.paymentId,paymentUrl:pe.paymentUrl,paymentProvider:y.paymentProvider}),console.log("Booking updated successfully, redirecting to payment page"),window.location.href=pe.paymentUrl;else throw new Error(pe.error||"Ошибка инициализации платежа")}catch(Ve){console.error("Payment initialization error:",Ve),await Nn(re,{paymentStatus:"error",paymentError:Ve.message}),alert("Ошибка при создании платежа. Пожалуйста, свяжитесь с администратором клуба."),n(`/club/${e}/booking-confirmation/${re.id}?paymentError=true`)}else await Nn(re,{status:"confirmed",paymentStatus:"not_required"}),n(`/club/${e}/booking-confirmation/${re.id}`)}catch(K){console.error("Error creating booking:",K),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{L(!1)}}};return C||d&&p&&w?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:w?"Создание бронирования...":"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):I?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:I})]})}):i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[i.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),i.jsx("div",{children:i.jsx("h1",{className:"h3",children:"Оплата бронирования"})})]})}),i.jsxs("div",{style:{padding:P?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:"calc(100px + var(--spacing-xl))",maxWidth:"800px",margin:"0 auto"},children:[i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),i.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:i.jsxs("div",{children:[i.jsx("p",{className:"body",children:y==null?void 0:y.name}),i.jsx("p",{className:"body-small",style:{color:"var(--gray)"},children:m==null?void 0:m.name})]})}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[i.jsxs("div",{children:[i.jsx("p",{className:"body",children:G(s)}),i.jsxs("p",{className:"body-small",style:{color:"var(--gray)"},children:[a,"-",Z(a,o)]})]}),i.jsxs("div",{style:{textAlign:"right"},children:[i.jsx("p",{className:"h3",style:{color:"var(--primary)"},children:(l==="open"||l==="open_join")&&A>1?`${u} ₽/чел`:`${c} ₽`}),(l==="open"||l==="open_join")&&A>1&&i.jsxs("p",{className:"caption",style:{color:"var(--gray)"},children:["Всего: ",c," ₽"]})]})]}),(l==="open"||l==="open_join")&&i.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("span",{style:{fontSize:"16px"},children:"👥"}),i.jsx("span",{className:"caption",style:{color:"var(--primary-dark)"},children:l==="open_join"?"Присоединение к открытой игре":`Открытая игра • ${A} игрока`})]})]}),i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),i.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:i.jsx("input",{type:"text",value:R,onChange:K=>k(K.target.value),placeholder:"Ваше имя",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),i.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:i.jsx("input",{type:"tel",value:j,onChange:T,placeholder:"Номер телефона",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),i.jsx("div",{children:i.jsx("input",{type:"email",value:N,onChange:K=>$(K.target.value),placeholder:"Email (необязательно)",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})})]}),i.jsxs("div",{style:{padding:"var(--spacing-md)",backgroundColor:y!=null&&y.paymentEnabled?"rgba(255, 152, 0, 0.08)":"var(--chip-background)",borderRadius:"var(--radius-md)",border:y!=null&&y.paymentEnabled?"1px solid rgba(255, 152, 0, 0.3)":"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[i.jsx("span",{style:{fontSize:"20px",color:y!=null&&y.paymentEnabled?"#ff9800":"var(--primary)"},children:y!=null&&y.paymentEnabled?"⏱️":"ℹ️"}),i.jsxs("div",{style:{flex:1},children:[i.jsx("p",{className:"caption",style:{color:y!=null&&y.paymentEnabled?"#e65100":"var(--primary-dark)",fontWeight:y!=null&&y.paymentEnabled?"500":"400",marginBottom:y!=null&&y.paymentEnabled?"8px":"0"},children:y!=null&&y.paymentEnabled?"Бронирование будет подтверждено только после успешной оплаты. Возврат по бронированию осуществляется не позже 12 часов до игры в мобильном приложении":"Оплата производится на месте при посещении клуба"}),(y==null?void 0:y.paymentEnabled)&&i.jsx("p",{className:"caption",style:{color:"#e65100",fontWeight:"600",fontSize:"14px"},children:"⚠️ На оплату дается 10 минут. После этого бронирование будет автоматически отменено."})]})]})]}),i.jsx("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:i.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:Q,disabled:w,children:w?"Создание бронирования...":y!=null&&y.paymentEnabled?"Перейти к оплате":"Забронировать"})})]})}function jne(){const{clubId:e,bookingId:t}=Ao(),n=rs(),[r]=Kc(),[s,a]=b.useState(null),[o,l]=b.useState(null),[A,c]=b.useState(null),[u,d]=b.useState(!0),[p,h]=b.useState(""),[m,g]=b.useState(null),y=r.get("paymentError")==="true",x=r.get("processing")==="true";b.useEffect(()=>{console.log("BookingConfirmationPage loaded with params:",{bookingId:t,clubId:e,searchParams:Array.from(r.entries())}),C()},[t]),b.useEffect(()=>{if(s&&s.paymentStatus==="awaiting_payment"&&s.createdAt){const w=()=>{const I=s.createdAt.toDate?s.createdAt.toDate():new Date(s.createdAt),_=Math.floor((new Date().getTime()-I.getTime())/1e3),F=Math.max(0,15*60-_);return F===0&&window.location.reload(),F};g(w());const L=setInterval(()=>{g(w())},1e3);return()=>clearInterval(L)}},[s]),b.useEffect(()=>{if(x&&s&&s.paymentStatus!=="paid"){const w=setInterval(async()=>{try{const L=await rn(bt($e,"bookings",t));L.exists()&&L.data().paymentStatus==="paid"&&window.location.reload()}catch(L){console.error("Error checking payment status:",L)}},3e3);return()=>clearInterval(w)}},[x,s,t]);const C=async()=>{var w;if(!t){h("ID бронирования не указан"),d(!1);return}try{const L=await rn(bt($e,"bookings",t));if(!L.exists()){h("cancelled"),d(!1);return}const I={id:L.id,...L.data()};if(console.log("Booking data loaded:",{id:I.id,paymentStatus:I.paymentStatus,paymentUrl:I.paymentUrl,paymentMethod:I.paymentMethod,status:I.status}),I.paymentStatus!=="paid")if(I.status==="cancelled"||I.paymentStatus==="cancelled"||I.paymentStatus==="expired"){h("cancelled"),d(!1);return}else!I.paymentStatus&&I.status==="pending"&&(I.paymentStatus="awaiting_payment");a(I);const U=await rn(bt($e,"venues",I.venueId));U.exists()&&l(U.data());const _=await rn(bt($e,"venues",I.venueId,"courts",I.courtId));_.exists()&&c(_.data()),d(!1)}catch(L){console.error("Error loading booking:",L),(L==null?void 0:L.code)==="permission-denied"||(L==null?void 0:L.code)==="not-found"||(w=L==null?void 0:L.message)!=null&&w.includes("Missing or insufficient permissions")?h("not-found"):h("Ошибка при загрузке данных бронирования"),d(!1)}};if(u)return i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(x&&!s)return i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"⏳"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Обработка платежа"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)"},children:"Ваш платеж обрабатывается. Пожалуйста, подождите несколько секунд..."}),i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})});if(p)return p==="not-found"?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"🔍"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование не найдено"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)",lineHeight:"1.6"},children:"Бронирование с таким ID не существует или было удалено."}),i.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n("/"),children:"На главную"})]})}):p==="cancelled"?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование отменено"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-lg)",lineHeight:"1.6"},children:"Данное бронирование было отменено. Возможные причины:"}),i.jsxs("ul",{style:{textAlign:"left",marginBottom:"var(--spacing-xl)",paddingLeft:"var(--spacing-xl)",color:"var(--text-secondary)",lineHeight:"1.8"},children:[i.jsx("li",{children:"Истекло время оплаты (15 минут)"}),i.jsx("li",{children:"Бронирование было отменено администратором"}),i.jsx("li",{children:"Вы отменили бронирование в приложении"})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)",marginTop:"var(--spacing-xl)"},children:[i.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),i.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>n("/"),children:"На главную"})]}),i.jsxs("div",{style:{marginTop:"var(--spacing-2xl)",padding:"var(--spacing-lg)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Или позвоните в клуб для бронирования по телефону"}),i.jsx("p",{className:"body-bold",style:{color:"var(--primary)"},children:"📞 Контакты клуба доступны на странице клуба"})]})]})}):i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p}),i.jsx("button",{className:"flutter-button",style:{width:"100%",marginTop:"var(--spacing-xl)"},onClick:()=>n("/"),children:"На главную"})]})});if(!s||!o||!A)return null;const S=s.date.toDate?s.date.toDate():new Date(s.date);return i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{backgroundColor:s.paymentStatus==="awaiting_payment"?"var(--warning)":y?"var(--error)":"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[i.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:s.paymentStatus==="awaiting_payment"?"⏰":y?"❌":"✅"}),i.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:s.paymentStatus==="paid"||s.status==="confirmed"?"Бронирование подтверждено!":s.paymentStatus==="awaiting_payment"?"Требуется оплата!":y?"Ошибка оплаты":"Заявка отправлена!"}),i.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:s.paymentStatus==="paid"||s.status==="confirmed"?"Ваше бронирование успешно оплачено и подтверждено":s.paymentStatus==="awaiting_payment"?"Бронирование будет автоматически отменено, если не будет оплачено в течение 15 минут":y?"Произошла ошибка при оплате. Пожалуйста, свяжитесь с администратором":"Ваша заявка на бронирование успешно отправлена"}),s.paymentStatus==="awaiting_payment"&&m!==null&&i.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"white",marginTop:"var(--spacing-lg)",padding:"var(--spacing-md)",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"var(--radius-md)",display:"inline-block"},children:["⏳ Осталось: ",Math.floor(m/60),":",String(m%60).padStart(2,"0")]})]}),i.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[console.log("Button display check:",{paymentStatus:s.paymentStatus,hasPaymentUrl:!!s.paymentUrl,paymentUrl:s.paymentUrl,shouldShowButton:s.paymentStatus==="awaiting_payment"&&s.paymentUrl}),s.paymentStatus==="awaiting_payment"&&s.paymentUrl&&i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)",backgroundColor:"#FFF3CD",border:"3px solid var(--warning)",boxShadow:"0 4px 20px rgba(255, 193, 7, 0.3)"},children:[i.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-md)",color:"#856404",fontSize:"20px",textAlign:"center"},children:"⚠️ Завершите оплату, чтобы подтвердить бронирование"}),i.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-lg)",color:"#856404",textAlign:"center",fontSize:"16px"},children:"Без оплаты бронирование будет автоматически отменено"}),i.jsx("button",{className:"flutter-button",style:{width:"100%",backgroundColor:"var(--success)",fontSize:"18px",padding:"var(--spacing-lg) var(--spacing-xl)",fontWeight:"bold",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",animation:"pulse 2s infinite"},onClick:()=>{s.paymentUrl&&(window.location.href=s.paymentUrl)},children:"💳 Оплатить сейчас"}),i.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",marginTop:"var(--spacing-md)",backgroundColor:"transparent",color:"#856404",border:"2px solid #856404",fontSize:"16px",padding:"var(--spacing-md) var(--spacing-lg)"},onClick:async()=>{if(window.confirm("Вы уверены, что хотите отменить бронирование? Это действие нельзя отменить."))try{await Nn(bt($e,"bookings",t),{status:"cancelled",paymentStatus:"cancelled",cancelledAt:qt.now(),cancelledBy:"customer",cancelReason:"Отменено клиентом на странице ожидания оплаты"}),alert("Бронирование успешно отменено"),window.location.reload()}catch(w){console.error("Error cancelling booking:",w),alert("Ошибка при отмене бронирования. Попробуйте еще раз.")}},children:"Отменить бронирование"}),i.jsx("style",{children:`
                @keyframes pulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.02); }
                  100% { transform: scale(1); }
                }
              `})]}),s.paymentStatus!=="awaiting_payment"&&i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[i.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"⚠️"}),i.jsxs("div",{children:[i.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Отмена бронирования"}),i.jsx("p",{className:"caption",children:"Отменить можно за 24 часа до игры через мобильное приложение или позвонив администратору в рабочее время"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[i.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#25D366",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"white",fontSize:"18px"},children:"💬"}),i.jsxs("div",{children:[i.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Нужен тренер?"}),o&&o.phone&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Напишите на WhatsApp"}),i.jsxs("a",{href:`https://wa.me/${o.phone.replace(/[^0-9]/g,"").replace(/^8/,"7")}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#25D366",color:"white",borderRadius:"8px",textDecoration:"none",fontSize:"14px",fontWeight:"600",transition:"transform 0.2s"},onMouseEnter:w=>w.currentTarget.style.transform="scale(1.05)",onMouseLeave:w=>w.currentTarget.style.transform="scale(1)",children:[i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),i.jsx("span",{children:"WhatsApp"})]})]})]})]})]})]}),i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[i.jsxs("div",{children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),i.jsx("p",{className:"body-bold",children:o.name}),i.jsx("p",{className:"caption",children:o.address})]}),i.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),i.jsxs("div",{children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),i.jsx("p",{className:"body-bold",children:A.name})]}),i.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[i.jsxs("div",{style:{flex:1},children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),i.jsx("p",{className:"body-bold",children:ln(S,"d MMMM",{locale:si})})]}),i.jsxs("div",{style:{flex:1},children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),i.jsxs("p",{className:"body-bold",children:[s.startTime," - ",s.endTime]})]})]})]})]}),i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),i.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:s.customerName}),i.jsx("p",{className:"caption",children:s.customerPhone}),s.customerEmail&&i.jsx("p",{className:"caption",children:s.customerEmail})]}),i.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),i.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),i.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[i.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),i.jsxs("a",{href:`tel:${o.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",o.phone]})]})]})]})}function Ene(){const[e]=Kc(),t=rs(),[n,r]=b.useState(!0),[s,a]=b.useState("");b.useEffect(()=>{o()},[e]);const o=async()=>{e.get("paymentId");const l=e.get("orderId")||e.get("OrderId"),A=e.get("status")||e.get("Status");if(!l){a("Неверные параметры платежа"),r(!1);return}try{const c=await rn(bt($e,"bookings",l));if(!c.exists()){a("Бронирование не найдено"),r(!1);return}const d=c.data().venueId;if(A==="success"||A==="CONFIRMED"||A==="succeeded"){const h=c.data();h.paymentStatus==="paid"||h.status==="confirmed"?t(`/club/${d}/booking-confirmation/${l}`,{replace:!0}):setTimeout(async()=>{const m=await rn(bt($e,"bookings",l));if(m.exists()){const g=m.data();g.paymentStatus==="paid"||g.status==="confirmed"?t(`/club/${d}/booking-confirmation/${l}`,{replace:!0}):t(`/club/${d}/booking-confirmation/${l}?processing=true`,{replace:!0})}},2e3)}else t(`/club/${d}/payment-error?paymentError=true&bookingId=${l}`,{replace:!0})}catch(c){console.error("Error processing payment result:",c),a("Ошибка при обработке результата платежа"),r(!1)}};return n?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:"Обработка платежа..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):s?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:s}),i.jsx("button",{className:"flutter-button",style:{marginTop:"var(--spacing-lg)"},onClick:()=>t("/"),children:"На главную"})]})}):null}function Ine(){const{clubId:e}=Ao(),t=rs(),[n]=Kc(),[r,s]=b.useState(null),[a,o]=b.useState(!0);n.get("paymentError"),b.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){o(!1);return}try{const c=await rn(bt($e,"venues",e));c.exists()&&s(c.data()),o(!1)}catch(c){console.error("Error loading venue:",c),o(!1)}},A=c=>{if(c.startsWith("+7")){const u=c.replace(/\D/g,"");if(u.length===11)return`+7 (${u.slice(1,4)}) ${u.slice(4,7)}-${u.slice(7,9)}-${u.slice(9,11)}`}return c};return a?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{backgroundColor:"var(--error)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[i.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"❌"}),i.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Ошибка оплаты"}),i.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Платеж не был завершен успешно"})]}),i.jsxs("div",{style:{padding:"var(--spacing-xl)",maxWidth:"600px",margin:"0 auto"},children:[i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что произошло?"}),i.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-md)",color:"var(--text-secondary)"},children:"Без успешной оплаты бронирование не может быть подтверждено. Это может произойти по следующим причинам:"}),i.jsxs("ul",{style:{marginLeft:"var(--spacing-lg)",color:"var(--text-secondary)",marginBottom:"var(--spacing-md)"},children:[i.jsx("li",{children:"Недостаточно средств на карте"}),i.jsx("li",{children:"Превышен лимит по карте"}),i.jsx("li",{children:"Платеж был отменен"}),i.jsx("li",{children:"Технические проблемы с платежной системой"})]})]}),i.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что делать дальше?"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[i.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),i.jsxs("div",{children:[i.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Попробуйте забронировать снова"}),i.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Проверьте баланс карты и повторите попытку бронирования"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[i.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),i.jsxs("div",{children:[i.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Свяжитесь с администратором"}),i.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:"Позвоните в клуб для бронирования по телефону"}),(r==null?void 0:r.phone)&&i.jsxs("a",{href:`tel:${r.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-sm) var(--spacing-md)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",fontWeight:600,fontSize:"var(--text-body)"},children:["📞 ",A(r.phone)]})]})]})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[i.jsx("button",{className:"flutter-button",onClick:()=>t(`/club/${e}`),style:{width:"100%"},children:"Попробовать снова"}),(r==null?void 0:r.phone)&&i.jsxs("a",{href:`tel:${r.phone}`,className:"flutter-button-secondary",style:{width:"100%",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:[i.jsx("span",{children:"📞"}),"Позвонить в клуб"]})]})]})]})}function kne(){var T,H;const{clubId:e,courtId:t}=Ao(),n=rs(),s=new URLSearchParams(window.location.search).get("trainer"),[a,o]=b.useState(null),[l,A]=b.useState(null),[c,u]=b.useState([]),[d,p]=b.useState(Yo()),[h,m]=b.useState(null),[g,y]=b.useState(60),[x,C]=b.useState([60,90,120]),[S,w]=b.useState(!0),[L,I]=b.useState(""),[U,_]=b.useState([]),[F,R]=b.useState([]),[k,j]=b.useState(window.innerWidth<=768),[M,N]=b.useState(null);b.useEffect(()=>{const Q=()=>j(window.innerWidth<=768);return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),b.useEffect(()=>{$()},[]),b.useEffect(()=>{P()},[e,t]),b.useEffect(()=>{s&&e&&D(s)},[s,e]),b.useEffect(()=>{l&&a&&W()},[l,a,d,g]);const $=()=>{const Q=[],K=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],V=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let X=0;X<14;X++){const ie=Za(Yo(),X);Q.push({date:ie,day:K[ie.getDay()],dayNumber:ln(ie,"d"),month:X===0||ie.getDate()===1?V[ie.getMonth()]:void 0})}R(Q)},P=async()=>{if(!e||!t){I("Некорректные параметры"),w(!1);return}try{const Q=await rn(bt($e,"courts",t));if(!Q.exists()){I("Корт не найден"),w(!1);return}const K={id:Q.id,...Q.data()};o(K);const V=await rn(bt($e,"venues",e));if(V.exists()){const X={id:V.id,...V.data()};if(A(X),X.bookingDurations){const ie=[60,90,120].filter(ae=>X.bookingDurations[ae]!==!1);C(ie),ie.includes(g)||y(ie[0]||60)}}w(!1)}catch(Q){console.error("Error loading data:",Q),I("Ошибка при загрузке данных"),w(!1)}},D=async Q=>{try{const K=await rn(bt($e,"trainers",Q));if(K.exists()){const V={id:K.id,...K.data()};N(V),console.log("Загружен тренер:",V)}}catch(K){console.error("Error loading trainer:",K)}},W=async()=>{if(!(!(l!=null&&l.workingHours)||!a))try{const Q=ln(d,"yyyy-MM-dd"),K=new Date(d);K.setHours(0,0,0,0);const V=new Date(d);V.setHours(23,59,59,999);const X=zt(Tt($e,"bookings"),Ct("courtId","==",t),Ct("date",">=",qt.fromDate(K)),Ct("date","<=",qt.fromDate(V))),Ce=(await Wt(X)).docs.map(ce=>({id:ce.id,...ce.data()})).filter(ce=>{const fe=ce.status||"pending",ue=ce.paymentStatus||"awaiting_payment";return fe!=="cancelled"&&ue!=="cancelled"&&ue!=="refunded"&&ue!=="error"&&(fe==="confirmed"||fe==="pending"||ue==="paid"||ue==="awaiting_payment")});u(Ce),G(Ce)}catch(Q){console.error("Error loading bookings:",Q)}},G=Q=>{if(!(l!=null&&l.workingHours)||!a)return;const V=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],X=l.workingHours[V];if(!X)return;const ie=[],ae=ts(X.open,"HH:mm",d),Ce=ts(X.close,"HH:mm",d),ce=l.bookingSlotInterval||60;let fe=ae;const ue=new Date;for(ce===60&&fe.getMinutes()!==0&&(fe.getMinutes()<30?fe=new Date(fe.setMinutes(0)):fe=Xi(new Date(fe.setMinutes(0)),60));zr(fe,Ce);){const we=ln(fe,"HH:mm"),he=Xi(fe,g);let re=!0;if(LE(d)&&zr(fe,ue)&&(re=!1),zs(he,Ce)&&(re=!1),re)for(const pe of Q){const Fe=ts(pe.startTime,"HH:mm",d),De=ts(pe.endTime,"HH:mm",d);if(zs(fe,Fe)&&zr(fe,De)||zs(he,Fe)&&zr(he,De)||zr(fe,Fe)&&zs(he,De)||ln(fe,"HH:mm")===pe.startTime){re=!1;break}}const ye=$c(d,we,g,a.pricing,a.holidayPricing,a.priceWeekday,a.priceWeekend||a.pricePerHour);ie.push({time:we,available:re,price:Math.round(ye)}),fe=Xi(fe,ce)}_(ie)},Z=()=>{if(!h)return;const Q=ln(d,"yyyy-MM-dd");let K=`/club/${e}/court/${t}/game-type?date=${Q}&time=${h}&duration=${g}`;s&&(K+=`&trainer=${s}`),n(K)},le=Q=>{const K=Yo();if(Q<K)return!0;const V=Za(K,30);if(Q>V)return!0;if(l!=null&&l.workingHours){const ie=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Q.getDay()],ae=l.workingHours[ie];if(!ae||!ae.open&&!ae.close)return!0}return!1};return S?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),i.jsx("p",{className:"body-small",children:"Загрузка..."})]}),i.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):L?i.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:i.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),i.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),i.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:L})]})}):i.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[i.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[i.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),i.jsxs("div",{children:[i.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),a&&l&&i.jsxs("p",{className:"caption",children:[l.name," • ",a.name,M&&` • Тренер: ${M.firstName} ${M.lastName}`]})]})]})}),i.jsx("div",{style:{padding:k?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:k?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:i.jsxs("div",{style:{display:k?"block":"grid",gridTemplateColumns:k?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:F.map((Q,K)=>{const V=ln(d,"yyyy-MM-dd")===ln(Q.date,"yyyy-MM-dd"),X=le(Q.date),ie=K===0;return i.jsxs("div",{style:{textAlign:"center"},children:[Q.month&&i.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:Q.month}),!Q.month&&i.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),i.jsxs("button",{onClick:()=>!X&&p(Q.date),disabled:X,style:{width:"100%",aspectRatio:"1",backgroundColor:V?"var(--primary)":X?"var(--extra-light-gray)":"var(--white)",color:V?"white":X?"var(--gray)":"var(--dark)",border:`2px solid ${V||ie&&!X?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:X?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:X?.5:1,fontSize:"var(--text-caption)"},children:[i.jsx("span",{className:"caption-bold",children:Q.day}),i.jsx("span",{className:"body-bold",children:Q.dayNumber})]})]},K)})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),i.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(Q=>{const K=x.includes(Q);return i.jsx("button",{onClick:()=>{K&&(y(Q),m(null))},disabled:!K,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:g===Q?"var(--primary)":K?"var(--white)":"var(--extra-light-gray)",color:g===Q?"white":K?"var(--dark)":"var(--gray)",border:`2px solid ${g===Q?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:K?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:K?1:.5},children:Q===60?"1 час":Q===90?"1.5 часа":"2 часа"},Q)})})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",ln(d,"d MMMM",{locale:si})]}),U.length===0?i.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:i.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):i.jsx("div",{style:{display:"grid",gridTemplateColumns:k?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:U.map(Q=>{const K=h===Q.time;return i.jsxs("button",{onClick:()=>Q.available&&m(Q.time),disabled:!Q.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:Q.available?K?"var(--primary)":"var(--primary-light)":"var(--busy)",color:Q.available?K?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${Q.available?K?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:Q.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:k?"60px":"70px",justifyContent:"center"},children:[i.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[Q.time,"-",(()=>{const[V,X]=Q.time.split(":").map(Number),ie=Xi(ts(Q.time,"HH:mm",new Date),g);return ln(ie,"HH:mm")})()]}),Q.available?K&&i.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):i.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},Q.time)})}),i.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Свободно"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[i.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),i.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),i.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[i.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:h&&`${ln(d,"d MMMM",{locale:si})}, ${h}-${ln(Xi(ts(h,"HH:mm",new Date),g),"HH:mm")}`}),h&&((T=U.find(Q=>Q.time===h))==null?void 0:T.available)&&i.jsxs("span",{className:"h2",children:[(H=U.find(Q=>Q.time===h))==null?void 0:H.price," ₽"]})]}),i.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:Z,disabled:!h,children:"Далее"})]})]})}function Fne(){const{clubId:e}=Ao(),[t,n]=b.useState(null),[r,s]=b.useState(!0),[a,o]=b.useState("");b.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const u=bt($e,"venues",e),d=await rn(u);d.exists()?n(d.data()):o("Клуб не найден")}catch(u){console.error("Error loading club data:",u),o("Ошибка загрузки данных")}finally{s(!1)}},A=()=>{window.print()},c=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?i.jsx(Ml,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:i.jsx(Rr,{})}):a||!t?i.jsxs(Ml,{maxWidth:"md",sx:{py:4},children:[i.jsx(te,{color:"error",children:a||"Данные не найдены"}),i.jsx(Dt,{component:wd,to:"/",startIcon:i.jsx(oB,{}),sx:{mt:2},children:"Вернуться на главную"})]}):i.jsxs(Ml,{maxWidth:"md",sx:{py:4},children:[i.jsxs(Ue,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[i.jsx(Dt,{component:wd,to:`/club/${e}`,startIcon:i.jsx(oB,{}),children:"Вернуться к клубу"}),i.jsx(Dt,{variant:"outlined",startIcon:i.jsx(e$,{}),onClick:A,children:"Печать"})]}),i.jsxs($n,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[i.jsx(te,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ"}),i.jsx(te,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"об оказании услуг по предоставлению спортивных площадок"}),i.jsxs(te,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:["Дата публикации: ",c()]}),i.jsxs(Ue,{sx:{mt:4},children:[i.jsxs(te,{paragraph:!0,children:["Настоящее Пользовательское соглашение (далее – «Соглашение») регулирует отношения между ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,", именуемым в дальнейшем «Исполнитель», с одной стороны, и физическим лицом, именуемым в дальнейшем «Заказчик», с другой стороны, совместно именуемые «Стороны», по поводу оказания услуг по предоставлению спортивных площадок для занятий спортом."]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ"}),i.jsxs(te,{paragraph:!0,children:["1.1. ",i.jsx("strong",{children:"Клуб"})," — спортивный комплекс, расположенный по адресу: ",t.address,", управляемый Исполнителем."]}),i.jsxs(te,{paragraph:!0,children:["1.2. ",i.jsx("strong",{children:"Корт/Площадка"})," — специально оборудованная спортивная площадка для занятий теннисом, паделом, бадминтоном или иными видами спорта."]}),i.jsxs(te,{paragraph:!0,children:["1.3. ",i.jsx("strong",{children:"Бронирование"})," — резервирование Корта на определенную дату и время через мобильное приложение «Все Корты» или иным способом, предусмотренным Исполнителем."]}),i.jsxs(te,{paragraph:!0,children:["1.4. ",i.jsx("strong",{children:"Услуги"})," — предоставление Корта во временное пользование Заказчику для занятий спортом."]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2. ПРЕДМЕТ СОГЛАШЕНИЯ"}),i.jsx(te,{paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику во временное пользование Корт для занятий спортом, а Заказчик обязуется оплатить Услуги в соответствии с условиями настоящего Соглашения."}),i.jsx(te,{paragraph:!0,children:"2.2. Конкретные условия предоставления Услуг (дата, время, продолжительность, стоимость) определяются при Бронировании."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3. ПОРЯДОК БРОНИРОВАНИЯ И ОПЛАТЫ"}),i.jsxs(te,{paragraph:!0,children:["3.1. Бронирование осуществляется через мобильное приложение «Все Корты», по телефону ",t.phone,"или иным доступным способом."]}),i.jsx(te,{paragraph:!0,children:"3.2. Оплата Услуг производится в соответствии с действующими тарифами Исполнителя одним из следующих способов:"}),i.jsxs(te,{component:"div",paragraph:!0,sx:{pl:2},children:["• Онлайн-оплата банковской картой через приложение",i.jsx("br",{}),"• Оплата наличными в кассе Клуба",i.jsx("br",{}),"• Оплата банковской картой на месте",i.jsx("br",{}),"• Безналичный перевод по реквизитам Исполнителя"]}),i.jsx(te,{paragraph:!0,children:"3.3. Бронирование считается подтвержденным после получения оплаты или подтверждения от администратора Клуба."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),i.jsx(te,{paragraph:!0,children:i.jsx("strong",{children:"4.1. Исполнитель обязуется:"})}),i.jsxs(te,{component:"div",paragraph:!0,sx:{pl:2},children:["• Предоставить Корт в соответствии с Бронированием",i.jsx("br",{}),"• Обеспечить надлежащее состояние Корта и оборудования",i.jsx("br",{}),"• Предоставить раздевалки и душевые (при наличии)",i.jsx("br",{}),"• Обеспечить безопасность на территории Клуба"]}),i.jsx(te,{paragraph:!0,children:i.jsx("strong",{children:"4.2. Заказчик обязуется:"})}),i.jsxs(te,{component:"div",paragraph:!0,sx:{pl:2},children:["• Своевременно оплатить Услуги",i.jsx("br",{}),"• Соблюдать правила поведения в Клубе",i.jsx("br",{}),"• Бережно относиться к имуществу Клуба",i.jsx("br",{}),"• Использовать спортивную обувь и форму",i.jsx("br",{}),"• Освободить Корт по истечении оплаченного времени"]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5. ОТМЕНА И ПЕРЕНОС БРОНИРОВАНИЯ"}),i.jsx(te,{paragraph:!0,children:"5.1. Заказчик вправе отменить или перенести Бронирование не позднее чем за 24 часа до начала оказания Услуг."}),i.jsx(te,{paragraph:!0,children:"5.2. При отмене Бронирования менее чем за 24 часа, внесенная предоплата не возвращается."}),i.jsx(te,{paragraph:!0,children:"5.3. Исполнитель вправе отменить Бронирование по техническим причинам с полным возвратом предоплаты."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6. ОТВЕТСТВЕННОСТЬ СТОРОН"}),i.jsx(te,{paragraph:!0,children:"6.1. Исполнитель не несет ответственности за вред, причиненный жизни и здоровью Заказчика в результате нарушения им правил техники безопасности и правил поведения в Клубе."}),i.jsx(te,{paragraph:!0,children:"6.2. Заказчик несет материальную ответственность за ущерб, причиненный имуществу Клуба."}),i.jsx(te,{paragraph:!0,children:"6.3. Исполнитель не несет ответственности за сохранность личных вещей Заказчика."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7. ПЕРСОНАЛЬНЫЕ ДАННЫЕ"}),i.jsx(te,{paragraph:!0,children:"7.1. Заказчик дает согласие на обработку своих персональных данных в соответствии с Федеральным законом «О персональных данных» №152-ФЗ."}),i.jsx(te,{paragraph:!0,children:"7.2. Исполнитель обязуется использовать персональные данные Заказчика исключительно для оказания Услуг и не передавать их третьим лицам без согласия Заказчика."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ"}),i.jsx(te,{paragraph:!0,children:"8.1. Настоящее Соглашение вступает в силу с момента акцепта Заказчиком его условий путем оформления Бронирования и действует до полного исполнения Сторонами своих обязательств."}),i.jsx(te,{paragraph:!0,children:"8.2. Все споры и разногласия решаются путем переговоров, а при невозможности достижения соглашения — в судебном порядке."}),i.jsx(te,{paragraph:!0,children:"8.3. Исполнитель вправе в одностороннем порядке изменять условия настоящего Соглашения, публикуя изменения на сайте и в приложении."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),i.jsx(Ue,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:i.jsxs(te,{variant:"body2",component:"div",children:[i.jsx("strong",{children:t.legalName||t.name}),i.jsx("br",{}),t.legalAddress&&i.jsxs(i.Fragment,{children:["Юридический адрес: ",t.legalAddress,i.jsx("br",{})]}),t.inn&&i.jsxs(i.Fragment,{children:["ИНН: ",t.inn,i.jsx("br",{})]}),t.kpp&&i.jsxs(i.Fragment,{children:["КПП: ",t.kpp,i.jsx("br",{})]}),t.ogrn&&i.jsxs(i.Fragment,{children:["ОГРН: ",t.ogrn,i.jsx("br",{})]}),t.bankAccount&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:"Банковские реквизиты:"}),i.jsx("br",{}),"Расчетный счет: ",t.bankAccount,i.jsx("br",{}),t.bankName&&i.jsxs(i.Fragment,{children:["Банк: ",t.bankName,i.jsx("br",{})]}),t.bankBik&&i.jsxs(i.Fragment,{children:["БИК: ",t.bankBik,i.jsx("br",{})]}),t.bankCorrespondentAccount&&i.jsxs(i.Fragment,{children:["Корр. счет: ",t.bankCorrespondentAccount,i.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:"Руководитель:"}),i.jsx("br",{}),t.directorPosition&&i.jsxs(i.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:"Контакты:"}),i.jsx("br",{}),t.phone&&i.jsxs(i.Fragment,{children:["Телефон: ",t.phone,i.jsx("br",{})]}),t.email&&i.jsxs(i.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}function Nne(){return rs(),i.jsx(Ml,{maxWidth:"md",sx:{py:4},children:i.jsxs($n,{sx:{p:4},children:[i.jsx(te,{variant:"h4",gutterBottom:!0,align:"center",children:"ПУБЛИЧНАЯ ОФЕРТА"}),i.jsx(te,{variant:"subtitle1",gutterBottom:!0,align:"center",color:"text.secondary",children:"о заключении договора на оказание услуг системы бронирования"}),i.jsx(te,{variant:"body2",sx:{mt:2,mb:4},align:"center",color:"text.secondary",children:"Дата публикации: 01 января 2025 года"}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"1. ОБЩИЕ ПОЛОЖЕНИЯ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"1.1. Настоящая публичная оферта (далее – «Оферта») является официальным предложением ИП ТЕН КРИСТИНА ВАДИМОВНА (ОГРНИП 313028000082460, ИНН 026401027275), именуемого в дальнейшем «Исполнитель», заключить договор на оказание услуг системы бронирования «Все Корты» (далее – «Система») на условиях, изложенных в настоящей Оферте."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"1.2. Акцептом настоящей Оферты является регистрация в Системе и/или оплата услуг Исполнителя."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"1.3. Акцепт Оферты означает полное и безоговорочное согласие Заказчика с условиями настоящей Оферты."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"2. ПРЕДМЕТ ДОГОВОРА"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику доступ к Системе бронирования спортивных площадок, а Заказчик обязуется оплатить услуги в соответствии с выбранным тарифным планом."}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["2.2. Система предоставляет следующие основные функции:",i.jsx("br",{}),"• Онлайн-бронирование спортивных площадок",i.jsx("br",{}),"• Управление расписанием и загрузкой кортов",i.jsx("br",{}),"• Прием онлайн-платежей от клиентов",i.jsx("br",{}),"• Система уведомлений (SMS/Email)",i.jsx("br",{}),"• Аналитика и отчетность",i.jsx("br",{}),"• Мобильное приложение для клиентов"]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"3. ТАРИФНЫЕ ПЛАНЫ И СТОИМОСТЬ УСЛУГ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["3.1. Стоимость услуг определяется в соответствии с выбранным тарифным планом:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"СТАРТ"})," - бесплатно (до 2 кортов)",i.jsx("br",{}),"• ",i.jsx("strong",{children:"СТАНДАРТ"})," - 990 рублей за корт в месяц (первые 3 месяца бесплатно)",i.jsx("br",{}),"• ",i.jsx("strong",{children:"ПРОФИ"})," - 1990 рублей за корт в месяц"]}),i.jsx(te,{variant:"body1",paragraph:!0,children:"3.2. SMS-уведомления тарифицируются отдельно: 6 рублей за сообщение для всех тарифов."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"3.3. Оплата производится ежемесячно путем списания с привязанной банковской карты или по выставленному счету."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["4.1. Исполнитель обязуется:",i.jsx("br",{}),"• Обеспечить круглосуточный доступ к Системе (за исключением времени технического обслуживания)",i.jsx("br",{}),"• Обеспечить сохранность данных Заказчика",i.jsx("br",{}),"• Предоставлять техническую поддержку в соответствии с тарифным планом",i.jsx("br",{}),"• Не взимать комиссию с платежей клиентов Заказчика"]}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["4.2. Заказчик обязуется:",i.jsx("br",{}),"• Своевременно оплачивать услуги",i.jsx("br",{}),"• Не использовать Систему в противоправных целях",i.jsx("br",{}),"• Соблюдать авторские права Исполнителя",i.jsx("br",{}),"• Предоставлять достоверную информацию при регистрации"]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"5. ОТВЕТСТВЕННОСТЬ СТОРОН"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"5.1. Исполнитель не несет ответственности за упущенную выгоду и иные косвенные убытки Заказчика."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"5.2. Исполнитель не несет ответственности за качество услуг связи, предоставляемых третьими лицами."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"5.3. Совокупная ответственность Исполнителя ограничена суммой, уплаченной Заказчиком за последний месяц использования Системы."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"6. КОНФИДЕНЦИАЛЬНОСТЬ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"6.1. Стороны обязуются соблюдать конфиденциальность информации, полученной в рамках исполнения настоящего Договора."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"6.2. Обработка персональных данных осуществляется в соответствии с Политикой конфиденциальности, размещенной на сайте Системы."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"7. СРОК ДЕЙСТВИЯ И ПОРЯДОК РАСТОРЖЕНИЯ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"7.1. Договор вступает в силу с момента акцепта Оферты и действует до его расторжения любой из Сторон."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"7.2. Заказчик может расторгнуть Договор в любое время через личный кабинет в Системе."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"7.3. Исполнитель вправе расторгнуть Договор в одностороннем порядке при нарушении Заказчиком условий настоящей Оферты."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"8. РАЗРЕШЕНИЕ СПОРОВ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"8.1. Все споры решаются путем переговоров. При недостижении согласия споры передаются на рассмотрение в Арбитражный суд Республики Татарстан."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:[i.jsx("strong",{children:"ИП ТЕН КРИСТИНА ВАДИМОВНА"}),i.jsx("br",{}),"ИНН: 026401027275",i.jsx("br",{}),"ОГРНИП: 313028000082460",i.jsx("br",{}),"Юридический адрес: 420000, Республика Татарстан, г. Казань, ул. Павлюхина, д. 114, кв. 39",i.jsx("br",{}),i.jsx("br",{}),"Банковские реквизиты:",i.jsx("br",{}),"Расчетный счет: 40802810800000000779",i.jsx("br",{}),'Банк: АО "ТБанк"',i.jsx("br",{}),"БИК: 044525974",i.jsx("br",{}),"Корр. счет: 30101810145250000974",i.jsx("br",{}),i.jsx("br",{}),"Email: admin@allcourt.ru",i.jsx("br",{}),"Телефон: +7 (999) 123-45-67"]}),i.jsx(Ue,{sx:{mt:4,pt:2,borderTop:1,borderColor:"divider"},children:i.jsx(te,{variant:"body2",color:"text.secondary",align:"center",children:'Нажимая кнопку "Зарегистрироваться" или оплачивая услуги, вы принимаете условия настоящей Оферты'})})]})})}function Tne(){return i.jsx(Ml,{maxWidth:"md",sx:{py:4},children:i.jsxs($n,{sx:{p:4},children:[i.jsx(te,{variant:"h4",gutterBottom:!0,align:"center",children:"ПОЛИТИКА КОНФИДЕНЦИАЛЬНОСТИ"}),i.jsx(te,{variant:"body2",sx:{mt:2,mb:4},align:"center",color:"text.secondary",children:"Дата вступления в силу: 01 января 2025 года"}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"1. ОБЩИЕ ПОЛОЖЕНИЯ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"1.1. Настоящая Политика конфиденциальности (далее – «Политика») определяет порядок обработки и защиты ИП ТЕН КРИСТИНА ВАДИМОВНА (ИНН 026401027275, ОГРНИП 313028000082460) информации о физических лицах (далее – «Пользователи»), которая может быть получена при использовании системы бронирования «Все Корты» (далее – «Система»)."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"1.2. Целью настоящей Политики является обеспечение надлежащей защиты информации о Пользователях, в том числе их персональных данных, от несанкционированного доступа и разглашения."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"2. СОБИРАЕМАЯ ИНФОРМАЦИЯ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["2.1. В рамках использования Системы могут быть собраны следующие данные:",i.jsx("br",{}),"• Имя, фамилия, отчество",i.jsx("br",{}),"• Номер телефона",i.jsx("br",{}),"• Адрес электронной почты",i.jsx("br",{}),"• Данные о местоположении (при использовании функций геолокации)",i.jsx("br",{}),"• История бронирований",i.jsx("br",{}),"• Платежная информация (обрабатывается платежными системами)",i.jsx("br",{}),"• IP-адрес и данные об устройстве"]}),i.jsx(te,{variant:"body1",paragraph:!0,children:"2.2. Система не собирает и не хранит данные банковских карт. Вся платежная информация обрабатывается напрямую сертифицированными платежными системами (ЮКасса, Сбербанк, Тинькофф)."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"3. ЦЕЛИ ОБРАБОТКИ ДАННЫХ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["3.1. Персональные данные Пользователей обрабатываются в следующих целях:",i.jsx("br",{}),"• Предоставление доступа к функциям Системы",i.jsx("br",{}),"• Обработка бронирований спортивных площадок",i.jsx("br",{}),"• Отправка уведомлений о статусе бронирований",i.jsx("br",{}),"• Проведение платежей за услуги",i.jsx("br",{}),"• Улучшение качества обслуживания",i.jsx("br",{}),"• Соблюдение требований законодательства РФ"]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"4. ПРАВОВЫЕ ОСНОВАНИЯ ОБРАБОТКИ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["4.1. Обработка персональных данных осуществляется на основании:",i.jsx("br",{}),"• Согласия Пользователя на обработку персональных данных",i.jsx("br",{}),"• Необходимости исполнения договора, стороной которого является Пользователь",i.jsx("br",{}),"• Необходимости соблюдения требований законодательства РФ"]}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"5. ЗАЩИТА ПЕРСОНАЛЬНЫХ ДАННЫХ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"5.1. Мы принимаем необходимые и достаточные организационные и технические меры для защиты персональных данных Пользователей от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"5.2. Доступ к персональным данным имеют только уполномоченные сотрудники, подписавшие соглашение о неразглашении конфиденциальной информации."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"5.3. Все данные передаются по защищенному протоколу HTTPS с использованием SSL-шифрования."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"6. ПЕРЕДАЧА ДАННЫХ ТРЕТЬИМ ЛИЦАМ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["6.1. Персональные данные Пользователей не передаются третьим лицам, за исключением случаев:",i.jsx("br",{}),"• Пользователь выразил согласие на такие действия",i.jsx("br",{}),"• Передача необходима для оказания услуги Пользователю",i.jsx("br",{}),"• Передача предусмотрена российским законодательством"]}),i.jsx(te,{variant:"body1",paragraph:!0,children:"6.2. При обработке платежей данные могут передаваться платежным системам в объеме, необходимом для проведения платежа."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"7. ПРАВА ПОЛЬЗОВАТЕЛЕЙ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["7.1. Пользователи имеют право:",i.jsx("br",{}),"• Получать информацию об обработке своих персональных данных",i.jsx("br",{}),"• Требовать уточнения, блокирования или уничтожения персональных данных",i.jsx("br",{}),"• Отозвать согласие на обработку персональных данных",i.jsx("br",{}),"• Обжаловать действия или бездействие в Роскомнадзор"]}),i.jsx(te,{variant:"body1",paragraph:!0,children:"7.2. Для реализации своих прав Пользователь может обратиться по email: admin@allcourt.ru"}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"8. ИСПОЛЬЗОВАНИЕ COOKIES"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["8.1. Система использует файлы cookies для:",i.jsx("br",{}),"• Аутентификации пользователей",i.jsx("br",{}),"• Сохранения настроек и предпочтений",i.jsx("br",{}),"• Сбора статистики использования",i.jsx("br",{}),"• Улучшения пользовательского опыта"]}),i.jsx(te,{variant:"body1",paragraph:!0,children:"8.2. Пользователь может отключить использование cookies в настройках браузера, однако это может повлиять на доступность некоторых функций Системы."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"9. ХРАНЕНИЕ ДАННЫХ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"9.1. Персональные данные хранятся в течение срока, необходимого для достижения целей их обработки, но не менее срока, установленного законодательством РФ."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"9.2. При удалении аккаунта персональные данные удаляются в течение 30 дней, за исключением данных, хранение которых требуется по закону."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"10. ОБРАБОТКА ДАННЫХ НЕСОВЕРШЕННОЛЕТНИХ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"10.1. Система не предназначена для использования лицами младше 18 лет без согласия родителей или законных представителей."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"10.2. Если нам станет известно, что мы собрали персональные данные несовершеннолетнего без соответствующего согласия, мы предпримем меры для удаления такой информации."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"11. ИЗМЕНЕНИЯ В ПОЛИТИКЕ"}),i.jsx(te,{variant:"body1",paragraph:!0,children:"11.1. Мы оставляем за собой право вносить изменения в настоящую Политику. Новая версия Политики вступает в силу с момента ее размещения в Системе."}),i.jsx(te,{variant:"body1",paragraph:!0,children:"11.2. Продолжение использования Системы после внесения изменений означает согласие Пользователя с новой версией Политики."}),i.jsx(te,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"12. КОНТАКТНАЯ ИНФОРМАЦИЯ"}),i.jsxs(te,{variant:"body1",paragraph:!0,children:["По всем вопросам, связанным с обработкой персональных данных, вы можете обратиться:",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"ИП ТЕН КРИСТИНА ВАДИМОВНА"}),i.jsx("br",{}),"Email: admin@allcourt.ru",i.jsx("br",{}),"Телефон: +7 (999) 123-45-67",i.jsx("br",{}),"Адрес: 420000, Республика Татарстан, г. Казань, ул. Павлюхина, д. 114, кв. 39"]}),i.jsx(Ue,{sx:{mt:4,pt:2,borderTop:1,borderColor:"divider"},children:i.jsx(te,{variant:"body2",color:"text.secondary",align:"center",children:"Используя Систему «Все Корты», вы подтверждаете, что ознакомились с настоящей Политикой конфиденциальности и согласны с ее условиями"})})]})})}const _ne=zy({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function Une(){return i.jsxs(D_,{theme:_ne,children:[i.jsx(P_,{}),i.jsx(lee,{children:i.jsx(KD,{children:i.jsx(LI,{children:i.jsxs(MI,{children:[i.jsx(sn,{path:"/",element:i.jsx(dd,{to:"/admin/dashboard",replace:!0})}),i.jsx(sn,{path:"/info",element:i.jsx(fY,{})}),i.jsx(sn,{path:"/club/:clubId",element:i.jsx(uee,{})}),i.jsx(sn,{path:"/club/:clubId/court/:courtId/booking",element:i.jsx(kne,{})}),i.jsx(sn,{path:"/club/:clubId/court/:courtId/date",element:i.jsx(wne,{})}),i.jsx(sn,{path:"/club/:clubId/court/:courtId/time",element:i.jsx(Bne,{})}),i.jsx(sn,{path:"/club/:clubId/court/:courtId/game-type",element:i.jsx(Cne,{})}),i.jsx(sn,{path:"/club/:clubId/court/:courtId/payment",element:i.jsx(Sne,{})}),i.jsx(sn,{path:"/club/:clubId/booking-confirmation/:bookingId",element:i.jsx(jne,{})}),i.jsx(sn,{path:"/payment-result",element:i.jsx(Ene,{})}),i.jsx(sn,{path:"/club/:clubId/payment-error",element:i.jsx(Ine,{})}),i.jsx(sn,{path:"/club/:clubId/user-agreement",element:i.jsx(Fne,{})}),i.jsx(sn,{path:"/offer",element:i.jsx(Nne,{})}),i.jsx(sn,{path:"/privacy",element:i.jsx(Tne,{})}),i.jsx(sn,{path:"/login",element:i.jsx(p$,{})}),i.jsx(sn,{path:"/register",element:i.jsx(g$,{})}),i.jsx(sn,{path:"/admin/login",element:i.jsx(dd,{to:"/login",replace:!0})}),i.jsx(sn,{path:"/admin/register",element:i.jsx(dd,{to:"/register",replace:!0})}),i.jsxs(sn,{path:"/admin",element:i.jsx(N9,{children:i.jsx(h$,{})}),children:[i.jsx(sn,{index:!0,element:i.jsx(dd,{to:"/admin/dashboard",replace:!0})}),i.jsx(sn,{path:"dashboard",element:i.jsx(Yq,{})}),i.jsx(sn,{path:"venues",element:i.jsx(vY,{})}),i.jsx(sn,{path:"billing-settings",element:i.jsx(wY,{})}),i.jsx(sn,{path:"admins",element:i.jsx(mY,{})}),i.jsx(sn,{path:"club",element:i.jsx(Xq,{})}),i.jsx(sn,{path:"subscription",element:i.jsx(xY,{})}),i.jsx(sn,{path:"payment-settings",element:i.jsx(bY,{})}),i.jsx(sn,{path:"courts",element:i.jsx(Jq,{})}),i.jsx(sn,{path:"trainers",element:i.jsx(see,{})}),i.jsx(sn,{path:"trainer-profile",element:i.jsx(iee,{})}),i.jsx(sn,{path:"bookings",element:i.jsx(dY,{})}),i.jsx(sn,{path:"finance",element:i.jsx(BY,{})}),i.jsx(sn,{path:"customers",element:i.jsx(hY,{})}),i.jsx(sn,{path:"marketing",element:i.jsx(CY,{})}),i.jsx(sn,{path:"settings",element:i.jsx(ZZ,{})}),i.jsx(sn,{path:"company-settings",element:i.jsx(oee,{})}),i.jsx(sn,{path:"debug",element:i.jsx(eee,{})}),i.jsx(sn,{path:"fix-permissions",element:i.jsx(nee,{})})]})]})})})})]})}Yv.createRoot(document.getElementById("root")).render(i.jsx(fn.StrictMode,{children:i.jsx(Une,{})}));export{jt as _};
