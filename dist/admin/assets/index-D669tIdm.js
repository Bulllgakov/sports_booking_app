const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-D8rrpjOe.js","assets/vendor-CpG-gi6k.js","assets/firebase-nei4A-gO.js"])))=>i.map(i=>d[i]);
var gQ=Object.defineProperty;var mQ=(e,t,n)=>t in e?gQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nm=(e,t,n)=>mQ(e,typeof t!="symbol"?t+"":t,n);import{r as y,a as _y,R as s0,g as Yc,b as wn,c as Fm,u as mF,N as hd,d as $r,O as f4,e as iu,f as zl,h as el,L as up,B as vQ,i as yQ,j as cn}from"./vendor-CpG-gi6k.js";import{L as xQ,a as Pt,_ as vF,C as yF,r as o0,s as zi,j as dB,c as Wl,b as Rd,m as l0,d as bQ,S as wQ,e as CQ,f as sg,g as BQ,h as SQ,D as xF,q as jQ,i as EQ,k as kQ,l as h4,n as bF,o as IQ,p as og,t as TQ,u as Dy,v as NQ,w as FQ,x as wF,y as CF,z as BF,A as PQ,B as _Q,F as SF,E as DQ,G as MQ,H as UQ,I as LQ,J as OQ,K as RQ,M as QQ,N as qt,O as Ct,P as vt,Q as Mt,R as fn,T as wt,U as nw,V as en,W as HQ,X as jF,Y as p4,Z as g4,$ as m4,a0 as $Q,a1 as Ma,a2 as Xc,a3 as Do,a4 as Ot,a5 as Lv,a6 as Rc,a7 as zQ,a8 as fB,a9 as hB,aa as WQ}from"./firebase-nei4A-gO.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var EF={exports:{}},My={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KQ=y,VQ=Symbol.for("react.element"),GQ=Symbol.for("react.fragment"),qQ=Object.prototype.hasOwnProperty,YQ=KQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XQ={key:!0,ref:!0,__self:!0,__source:!0};function kF(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qQ.call(t,r)&&!XQ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:VQ,type:e,key:a,ref:o,props:i,_owner:YQ.current}}My.Fragment=GQ;My.jsx=kF;My.jsxs=kF;EF.exports=My;var s=EF.exports,rw={},v4=_y;rw.createRoot=v4.createRoot,rw.hydrateRoot=v4.hydrateRoot;function Fl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const JQ=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"})),VA="$$material";function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(null,arguments)}function ot(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZQ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function eH(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var tH=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ZQ(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ea="-ms-",c0="-moz-",$n="-webkit-",IF="comm",pB="rule",gB="decl",nH="@import",TF="@keyframes",rH="@layer",iH=Math.abs,Uy=String.fromCharCode,aH=Object.assign;function sH(e,t){return Hi(e,0)^45?(((t<<2^Hi(e,0))<<2^Hi(e,1))<<2^Hi(e,2))<<2^Hi(e,3):0}function NF(e){return e.trim()}function oH(e,t){return(e=t.exec(e))?e[0]:e}function zn(e,t,n){return e.replace(t,n)}function iw(e,t){return e.indexOf(t)}function Hi(e,t){return e.charCodeAt(t)|0}function Fp(e,t,n){return e.slice(t,n)}function Io(e){return e.length}function mB(e){return e.length}function Pm(e,t){return t.push(e),e}function lH(e,t){return e.map(t).join("")}var Ly=1,Qd=1,FF=0,Qa=0,ci=0,mf="";function Oy(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Ly,column:Qd,length:o,return:""}}function xh(e,t){return aH(Oy("",null,null,"",null,null,0),e,{length:-e.length},t)}function cH(){return ci}function AH(){return ci=Qa>0?Hi(mf,--Qa):0,Qd--,ci===10&&(Qd=1,Ly--),ci}function rs(){return ci=Qa<FF?Hi(mf,Qa++):0,Qd++,ci===10&&(Qd=1,Ly++),ci}function $o(){return Hi(mf,Qa)}function Ov(){return Qa}function lg(e,t){return Fp(mf,e,t)}function Pp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PF(e){return Ly=Qd=1,FF=Io(mf=e),Qa=0,[]}function _F(e){return mf="",e}function Rv(e){return NF(lg(Qa-1,aw(e===91?e+2:e===40?e+1:e)))}function uH(e){for(;(ci=$o())&&ci<33;)rs();return Pp(e)>2||Pp(ci)>3?"":" "}function dH(e,t){for(;--t&&rs()&&!(ci<48||ci>102||ci>57&&ci<65||ci>70&&ci<97););return lg(e,Ov()+(t<6&&$o()==32&&rs()==32))}function aw(e){for(;rs();)switch(ci){case e:return Qa;case 34:case 39:e!==34&&e!==39&&aw(ci);break;case 40:e===41&&aw(e);break;case 92:rs();break}return Qa}function fH(e,t){for(;rs()&&e+ci!==57;)if(e+ci===84&&$o()===47)break;return"/*"+lg(t,Qa-1)+"*"+Uy(e===47?e:rs())}function hH(e){for(;!Pp($o());)rs();return lg(e,Qa)}function pH(e){return _F(Qv("",null,null,null,[""],e=PF(e),0,[0],e))}function Qv(e,t,n,r,i,a,o,l,c){for(var A=0,u=0,d=o,h=0,f=0,p=0,g=1,v=1,x=1,C=0,b="",w=i,E=a,S=r,F=b;v;)switch(p=C,C=rs()){case 40:if(p!=108&&Hi(F,d-1)==58){iw(F+=zn(Rv(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:F+=Rv(C);break;case 9:case 10:case 13:case 32:F+=uH(p);break;case 92:F+=dH(Ov()-1,7);continue;case 47:switch($o()){case 42:case 47:Pm(gH(fH(rs(),Ov()),t,n),c);break;default:F+="/"}break;case 123*g:l[A++]=Io(F)*x;case 125*g:case 59:case 0:switch(C){case 0:case 125:v=0;case 59+u:x==-1&&(F=zn(F,/\f/g,"")),f>0&&Io(F)-d&&Pm(f>32?x4(F+";",r,n,d-1):x4(zn(F," ","")+";",r,n,d-2),c);break;case 59:F+=";";default:if(Pm(S=y4(F,t,n,A,u,i,l,b,w=[],E=[],d),a),C===123)if(u===0)Qv(F,t,S,S,w,a,d,l,E);else switch(h===99&&Hi(F,3)===110?100:h){case 100:case 108:case 109:case 115:Qv(e,S,S,r&&Pm(y4(e,S,S,0,0,i,l,b,i,w=[],d),E),i,E,d,l,r?w:E);break;default:Qv(F,S,S,S,[""],E,0,l,E)}}A=u=f=0,g=x=1,b=F="",d=o;break;case 58:d=1+Io(F),f=p;default:if(g<1){if(C==123)--g;else if(C==125&&g++==0&&AH()==125)continue}switch(F+=Uy(C),C*g){case 38:x=u>0?1:(F+="\f",-1);break;case 44:l[A++]=(Io(F)-1)*x,x=1;break;case 64:$o()===45&&(F+=Rv(rs())),h=$o(),u=d=Io(b=F+=hH(Ov())),C++;break;case 45:p===45&&Io(F)==2&&(g=0)}}return a}function y4(e,t,n,r,i,a,o,l,c,A,u){for(var d=i-1,h=i===0?a:[""],f=mB(h),p=0,g=0,v=0;p<r;++p)for(var x=0,C=Fp(e,d+1,d=iH(g=o[p])),b=e;x<f;++x)(b=NF(g>0?h[x]+" "+C:zn(C,/&\f/g,h[x])))&&(c[v++]=b);return Oy(e,t,n,i===0?pB:l,c,A,u)}function gH(e,t,n){return Oy(e,t,n,IF,Uy(cH()),Fp(e,2,-2),0)}function x4(e,t,n,r){return Oy(e,t,n,gB,Fp(e,0,r),Fp(e,r+1,-1),r)}function Cd(e,t){for(var n="",r=mB(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function mH(e,t,n,r){switch(e.type){case rH:if(e.children.length)break;case nH:case gB:return e.return=e.return||e.value;case IF:return"";case TF:return e.return=e.value+"{"+Cd(e.children,r)+"}";case pB:e.value=e.props.join(",")}return Io(n=Cd(e.children,r))?e.return=e.value+"{"+n+"}":""}function vH(e){var t=mB(e);return function(n,r,i,a){for(var o="",l=0;l<t;l++)o+=e[l](n,r,i,a)||"";return o}}function yH(e){return function(t){t.root||(t=t.return)&&e(t)}}function DF(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var xH=function(t,n,r){for(var i=0,a=0;i=a,a=$o(),i===38&&a===12&&(n[r]=1),!Pp(a);)rs();return lg(t,Qa)},bH=function(t,n){var r=-1,i=44;do switch(Pp(i)){case 0:i===38&&$o()===12&&(n[r]=1),t[r]+=xH(Qa-1,n,r);break;case 2:t[r]+=Rv(i);break;case 4:if(i===44){t[++r]=$o()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Uy(i)}while(i=rs());return t},wH=function(t,n){return _F(bH(PF(t),n))},b4=new WeakMap,CH=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!b4.get(r))&&!i){b4.set(t,!0);for(var a=[],o=wH(n,a),l=r.props,c=0,A=0;c<o.length;c++)for(var u=0;u<l.length;u++,A++)t.props[A]=a[c]?o[c].replace(/&\f/g,l[u]):l[u]+" "+o[c]}}},BH=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function MF(e,t){switch(sH(e,t)){case 5103:return $n+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $n+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $n+e+c0+e+ea+e+e;case 6828:case 4268:return $n+e+ea+e+e;case 6165:return $n+e+ea+"flex-"+e+e;case 5187:return $n+e+zn(e,/(\w+).+(:[^]+)/,$n+"box-$1$2"+ea+"flex-$1$2")+e;case 5443:return $n+e+ea+"flex-item-"+zn(e,/flex-|-self/,"")+e;case 4675:return $n+e+ea+"flex-line-pack"+zn(e,/align-content|flex-|-self/,"")+e;case 5548:return $n+e+ea+zn(e,"shrink","negative")+e;case 5292:return $n+e+ea+zn(e,"basis","preferred-size")+e;case 6060:return $n+"box-"+zn(e,"-grow","")+$n+e+ea+zn(e,"grow","positive")+e;case 4554:return $n+zn(e,/([^-])(transform)/g,"$1"+$n+"$2")+e;case 6187:return zn(zn(zn(e,/(zoom-|grab)/,$n+"$1"),/(image-set)/,$n+"$1"),e,"")+e;case 5495:case 3959:return zn(e,/(image-set\([^]*)/,$n+"$1$`$1");case 4968:return zn(zn(e,/(.+:)(flex-)?(.*)/,$n+"box-pack:$3"+ea+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$n+e+e;case 4095:case 3583:case 4068:case 2532:return zn(e,/(.+)-inline(.+)/,$n+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Io(e)-1-t>6)switch(Hi(e,t+1)){case 109:if(Hi(e,t+4)!==45)break;case 102:return zn(e,/(.+:)(.+)-([^]+)/,"$1"+$n+"$2-$3$1"+c0+(Hi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~iw(e,"stretch")?MF(zn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Hi(e,t+1)!==115)break;case 6444:switch(Hi(e,Io(e)-3-(~iw(e,"!important")&&10))){case 107:return zn(e,":",":"+$n)+e;case 101:return zn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$n+(Hi(e,14)===45?"inline-":"")+"box$3$1"+$n+"$2$3$1"+ea+"$2box$3")+e}break;case 5936:switch(Hi(e,t+11)){case 114:return $n+e+ea+zn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $n+e+ea+zn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $n+e+ea+zn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $n+e+ea+e+e}return e}var SH=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case gB:t.return=MF(t.value,t.length);break;case TF:return Cd([xh(t,{value:zn(t.value,"@","@"+$n)})],i);case pB:if(t.length)return lH(t.props,function(a){switch(oH(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cd([xh(t,{props:[zn(a,/:(read-\w+)/,":"+c0+"$1")]})],i);case"::placeholder":return Cd([xh(t,{props:[zn(a,/:(plac\w+)/,":"+$n+"input-$1")]}),xh(t,{props:[zn(a,/:(plac\w+)/,":"+c0+"$1")]}),xh(t,{props:[zn(a,/:(plac\w+)/,ea+"input-$1")]})],i)}return""})}},jH=[SH],UF=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||jH,a={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),x=1;x<v.length;x++)a[v[x]]=!0;l.push(g)});var c,A=[CH,BH];{var u,d=[mH,yH(function(g){u.insert(g)})],h=vH(A.concat(i,d)),f=function(v){return Cd(pH(v),h)};c=function(v,x,C,b){u=C,f(v?v+"{"+x.styles+"}":x.styles),b&&(p.inserted[x.name]=!0)}}var p={key:n,sheet:new tH({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return p.sheet.hydrate(l),p},LF={exports:{}},Zn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=typeof Symbol=="function"&&Symbol.for,vB=_i?Symbol.for("react.element"):60103,yB=_i?Symbol.for("react.portal"):60106,Ry=_i?Symbol.for("react.fragment"):60107,Qy=_i?Symbol.for("react.strict_mode"):60108,Hy=_i?Symbol.for("react.profiler"):60114,$y=_i?Symbol.for("react.provider"):60109,zy=_i?Symbol.for("react.context"):60110,xB=_i?Symbol.for("react.async_mode"):60111,Wy=_i?Symbol.for("react.concurrent_mode"):60111,Ky=_i?Symbol.for("react.forward_ref"):60112,Vy=_i?Symbol.for("react.suspense"):60113,EH=_i?Symbol.for("react.suspense_list"):60120,Gy=_i?Symbol.for("react.memo"):60115,qy=_i?Symbol.for("react.lazy"):60116,kH=_i?Symbol.for("react.block"):60121,IH=_i?Symbol.for("react.fundamental"):60117,TH=_i?Symbol.for("react.responder"):60118,NH=_i?Symbol.for("react.scope"):60119;function us(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vB:switch(e=e.type,e){case xB:case Wy:case Ry:case Hy:case Qy:case Vy:return e;default:switch(e=e&&e.$$typeof,e){case zy:case Ky:case qy:case Gy:case $y:return e;default:return t}}case yB:return t}}}function OF(e){return us(e)===Wy}Zn.AsyncMode=xB;Zn.ConcurrentMode=Wy;Zn.ContextConsumer=zy;Zn.ContextProvider=$y;Zn.Element=vB;Zn.ForwardRef=Ky;Zn.Fragment=Ry;Zn.Lazy=qy;Zn.Memo=Gy;Zn.Portal=yB;Zn.Profiler=Hy;Zn.StrictMode=Qy;Zn.Suspense=Vy;Zn.isAsyncMode=function(e){return OF(e)||us(e)===xB};Zn.isConcurrentMode=OF;Zn.isContextConsumer=function(e){return us(e)===zy};Zn.isContextProvider=function(e){return us(e)===$y};Zn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vB};Zn.isForwardRef=function(e){return us(e)===Ky};Zn.isFragment=function(e){return us(e)===Ry};Zn.isLazy=function(e){return us(e)===qy};Zn.isMemo=function(e){return us(e)===Gy};Zn.isPortal=function(e){return us(e)===yB};Zn.isProfiler=function(e){return us(e)===Hy};Zn.isStrictMode=function(e){return us(e)===Qy};Zn.isSuspense=function(e){return us(e)===Vy};Zn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ry||e===Wy||e===Hy||e===Qy||e===Vy||e===EH||typeof e=="object"&&e!==null&&(e.$$typeof===qy||e.$$typeof===Gy||e.$$typeof===$y||e.$$typeof===zy||e.$$typeof===Ky||e.$$typeof===IH||e.$$typeof===TH||e.$$typeof===NH||e.$$typeof===kH)};Zn.typeOf=us;LF.exports=Zn;var FH=LF.exports,RF=FH,PH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_H={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QF={};QF[RF.ForwardRef]=PH;QF[RF.Memo]=_H;var DH=!0;function HF(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var bB=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||DH===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},wB=function(t,n,r){bB(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function MH(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var UH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},LH=/[A-Z]|^ms/g,OH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$F=function(t){return t.charCodeAt(1)===45},w4=function(t){return t!=null&&typeof t!="boolean"},xb=DF(function(e){return $F(e)?e:e.replace(LH,"-$&").toLowerCase()}),C4=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(OH,function(r,i,a){return To={name:i,styles:a,next:To},i})}return UH[t]!==1&&!$F(t)&&typeof n=="number"&&n!==0?n+"px":n};function _p(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return To={name:i.name,styles:i.styles,next:To},i.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)To={name:o.name,styles:o.styles,next:To},o=o.next;var l=a.styles+";";return l}return RH(e,t,n)}case"function":{if(e!==void 0){var c=To,A=n(e);return To=c,_p(e,t,A)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function RH(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_p(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?r+=a+"{"+t[l]+"}":w4(l)&&(r+=xb(a)+":"+C4(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var c=0;c<o.length;c++)w4(o[c])&&(r+=xb(a)+":"+C4(a,o[c])+";");else{var A=_p(e,t,o);switch(a){case"animation":case"animationName":{r+=xb(a)+":"+A+";";break}default:r+=a+"{"+A+"}"}}}return r}var B4=/label:\s*([^\s;{]+)\s*(;|$)/g,To;function cg(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";To=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=_p(n,t,a);else{var o=a;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=_p(n,t,e[l]),r){var c=a;i+=c[l]}B4.lastIndex=0;for(var A="",u;(u=B4.exec(i))!==null;)A+="-"+u[1];var d=MH(i)+A;return{name:d,styles:i,next:To}}var QH=function(t){return t()},zF=s0.useInsertionEffect?s0.useInsertionEffect:!1,WF=zF||QH,S4=zF||y.useLayoutEffect,KF=y.createContext(typeof HTMLElement<"u"?UF({key:"css"}):null),HH=KF.Provider,CB=function(t){return y.forwardRef(function(n,r){var i=y.useContext(KF);return t(n,i,r)})},vf=y.createContext({}),BB={}.hasOwnProperty,sw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$H=function(t,n){var r={};for(var i in n)BB.call(n,i)&&(r[i]=n[i]);return r[sw]=t,r},zH=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return bB(n,r,i),WF(function(){return wB(n,r,i)}),null},WH=CB(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[sw],a=[r],o="";typeof e.className=="string"?o=HF(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var l=cg(a,void 0,y.useContext(vf));o+=t.key+"-"+l.name;var c={};for(var A in e)BB.call(e,A)&&A!=="css"&&A!==sw&&(c[A]=e[A]);return c.className=o,n&&(c.ref=n),y.createElement(y.Fragment,null,y.createElement(zH,{cache:t,serialized:l,isStringTag:typeof i=="string"}),y.createElement(i,c))}),KH=WH,bb={exports:{}},j4;function VF(){return j4||(j4=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(bb)),bb.exports}VF();var E4=function(t,n){var r=arguments;if(n==null||!BB.call(n,"css"))return y.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=KH,a[1]=$H(t,n);for(var o=2;o<i;o++)a[o]=r[o];return y.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(E4||(E4={}));var VH=CB(function(e,t){var n=e.styles,r=cg([n],void 0,y.useContext(vf)),i=y.useRef();return S4(function(){var a=t.key+"-global",o=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",a),o.hydrate([c])),i.current=[o,l],function(){o.flush()}},[t]),S4(function(){var a=i.current,o=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&wB(t,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function au(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cg(t)}function Kl(){var e=au.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var GH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qH=DF(function(e){return GH.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),YH=qH,XH=function(t){return t!=="theme"},k4=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?YH:XH},I4=function(t,n,r){var i;if(n){var a=n.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(o){return t.__emotion_forwardProp(o)&&a(o)}:a}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},JH=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return bB(n,r,i),WF(function(){return wB(n,r,i)}),null},ZH=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,a,o;n!==void 0&&(a=n.label,o=n.target);var l=I4(t,n,r),c=l||k4(i),A=!c("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&d.push("label:"+a+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var h=u[0];d.push(h[0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],h[p])}var g=CB(function(v,x,C){var b=A&&v.as||i,w="",E=[],S=v;if(v.theme==null){S={};for(var F in v)S[F]=v[F];S.theme=y.useContext(vf)}typeof v.className=="string"?w=HF(x.registered,E,v.className):v.className!=null&&(w=v.className+" ");var N=cg(d.concat(E),x.registered,S);w+=x.key+"-"+N.name,o!==void 0&&(w+=" "+o);var P=A&&l===void 0?k4(b):c,Q={};for(var j in v)A&&j==="as"||P(j)&&(Q[j]=v[j]);return Q.className=w,C&&(Q.ref=C),y.createElement(y.Fragment,null,y.createElement(JH,{cache:x,serialized:N,isStringTag:typeof b=="string"}),y.createElement(b,Q))});return g.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,x){var C=e(v,K({},n,x,{shouldForwardProp:I4(g,x,!0)}));return C.apply(void 0,d)},g}},e7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ow=ZH.bind(null);e7.forEach(function(e){ow[e]=ow(e)});function t7(e,t){const n=UF({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const wb=new Map;function n7(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,i=y.useMemo(()=>{const a=`${t}-${n}`;if(typeof document=="object"&&wb.has(a))return wb.get(a);const o=t7(t,n);return wb.set(a,o),o},[t,n]);return t||n?s.jsx(HH,{value:i,children:r}):r}function r7(e){return e==null||Object.keys(e).length===0}function GF(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(r7(i)?n:i):t;return s.jsx(VH,{styles:r})}function SB(e,t){return ow(e,t)}const qF=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},T4=[];function A0(e){return T4[0]=e,cg(T4)}const i7=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GF,StyledEngineProvider:n7,ThemeContext:vf,css:au,default:SB,internal_processStyles:qF,internal_serializeStyles:A0,keyframes:Kl},Symbol.toStringTag,{value:"Module"}));function bl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function YF(e){if(y.isValidElement(e)||!bl(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=YF(e[n])}),t}function Ca(e,t,n={clone:!0}){const r=n.clone?K({},e):e;return bl(e)&&bl(t)&&Object.keys(t).forEach(i=>{y.isValidElement(t[i])?r[i]=t[i]:bl(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&bl(e[i])?r[i]=Ca(e[i],t[i],n):n.clone?r[i]=bl(t[i])?YF(t[i]):t[i]:r[i]=t[i]}),r}const a7=Object.freeze(Object.defineProperty({__proto__:null,default:Ca,isPlainObject:bl},Symbol.toStringTag,{value:"Module"})),s7=["values","unit","step"],o7=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>K({},n,{[r.key]:r.val}),{})};function XF(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=ot(e,s7),a=o7(t),o=Object.keys(a);function l(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function c(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function A(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(p!==-1&&typeof t[o[p]]=="number"?t[o[p]]:f)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?A(h,o[o.indexOf(h)+1]):l(h)}function d(h){const f=o.indexOf(h);return f===0?l(o[1]):f===o.length-1?c(o[f]):A(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return K({keys:o,values:a,up:l,down:c,between:A,only:u,not:d,unit:n},i)}const l7={borderRadius:4};function dp(e,t){return t?Ca(e,t,{clone:!1}):e}const jB={xs:0,sm:600,md:900,lg:1200,xl:1536},N4={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${jB[e]}px)`};function Ha(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||N4;return t.reduce((o,l,c)=>(o[a.up(a.keys[c])]=n(t[c]),o),{})}if(typeof t=="object"){const a=r.breakpoints||N4;return Object.keys(t).reduce((o,l)=>{if(Object.keys(a.values||jB).indexOf(l)!==-1){const c=a.up(l);o[c]=n(t[l],l)}else{const c=l;o[c]=t[c]}return o},{})}return n(t)}function JF(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const a=e.up(i);return r[a]={},r},{}))||{}}function lw(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function c7(e,...t){const n=JF(e),r=[n,...t].reduce((i,a)=>Ca(i,a),{});return lw(Object.keys(n),r)}function A7(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,a)=>{a<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function DA({values:e,breakpoints:t,base:n}){const r=n||A7(e,t),i=Object.keys(r);if(i.length===0)return e;let a;return i.reduce((o,l,c)=>(Array.isArray(e)?(o[l]=e[c]!=null?e[c]:e[a],a=c):typeof e=="object"?(o[l]=e[l]!=null?e[l]:e[a],a=l):o[l]=e,o),{})}function st(e){if(typeof e!="string")throw new Error(Fl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const u7=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));function Yy(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function u0(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Yy(e,n)||r,t&&(i=t(i,r,e)),i}function ti(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,a=o=>{if(o[t]==null)return null;const l=o[t],c=o.theme,A=Yy(c,r)||{};return Ha(o,l,d=>{let h=u0(A,i,d);return d===h&&typeof d=="string"&&(h=u0(A,i,`${t}${d==="default"?"":st(d)}`,d)),n===!1?h:{[n]:h}})};return a.propTypes={},a.filterProps=[t],a}function d7(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const f7={m:"margin",p:"padding"},h7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F4={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},p7=d7(e=>{if(e.length>2)if(F4[e])e=F4[e];else return[e];const[t,n]=e.split(""),r=f7[t],i=h7[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),EB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],kB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EB,...kB];function Ag(e,t,n,r){var i;const a=(i=Yy(e,t,!1))!=null?i:n;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function IB(e){return Ag(e,"spacing",8)}function GA(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function g7(e,t){return n=>e.reduce((r,i)=>(r[i]=GA(t,n),r),{})}function m7(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=p7(n),a=g7(i,r),o=e[n];return Ha(e,o,a)}function ZF(e,t){const n=IB(e.theme);return Object.keys(e).map(r=>m7(e,t,r,n)).reduce(dp,{})}function Lr(e){return ZF(e,EB)}Lr.propTypes={};Lr.filterProps=EB;function Or(e){return ZF(e,kB)}Or.propTypes={};Or.filterProps=kB;function v7(e=8){if(e.mui)return e;const t=IB({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(a=>{const o=t(a);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Xy(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>t[a]?dp(i,t[a](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ns(e){return typeof e!="number"?e:`${e}px solid`}function Vs(e,t){return ti({prop:e,themeKey:"borders",transform:t})}const y7=Vs("border",Ns),x7=Vs("borderTop",Ns),b7=Vs("borderRight",Ns),w7=Vs("borderBottom",Ns),C7=Vs("borderLeft",Ns),B7=Vs("borderColor"),S7=Vs("borderTopColor"),j7=Vs("borderRightColor"),E7=Vs("borderBottomColor"),k7=Vs("borderLeftColor"),I7=Vs("outline",Ns),T7=Vs("outlineColor"),Jy=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ag(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:GA(t,r)});return Ha(e,e.borderRadius,n)}return null};Jy.propTypes={};Jy.filterProps=["borderRadius"];Xy(y7,x7,b7,w7,C7,B7,S7,j7,E7,k7,Jy,I7,T7);const Zy=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ag(e.theme,"spacing",8),n=r=>({gap:GA(t,r)});return Ha(e,e.gap,n)}return null};Zy.propTypes={};Zy.filterProps=["gap"];const ex=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ag(e.theme,"spacing",8),n=r=>({columnGap:GA(t,r)});return Ha(e,e.columnGap,n)}return null};ex.propTypes={};ex.filterProps=["columnGap"];const tx=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ag(e.theme,"spacing",8),n=r=>({rowGap:GA(t,r)});return Ha(e,e.rowGap,n)}return null};tx.propTypes={};tx.filterProps=["rowGap"];const N7=ti({prop:"gridColumn"}),F7=ti({prop:"gridRow"}),P7=ti({prop:"gridAutoFlow"}),_7=ti({prop:"gridAutoColumns"}),D7=ti({prop:"gridAutoRows"}),M7=ti({prop:"gridTemplateColumns"}),U7=ti({prop:"gridTemplateRows"}),L7=ti({prop:"gridTemplateAreas"}),O7=ti({prop:"gridArea"});Xy(Zy,ex,tx,N7,F7,P7,_7,D7,M7,U7,L7,O7);function Bd(e,t){return t==="grey"?t:e}const R7=ti({prop:"color",themeKey:"palette",transform:Bd}),Q7=ti({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Bd}),H7=ti({prop:"backgroundColor",themeKey:"palette",transform:Bd});Xy(R7,Q7,H7);function Ja(e){return e<=1&&e!==0?`${e*100}%`:e}const $7=ti({prop:"width",transform:Ja}),TB=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||jB[n];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Ja(n)}};return Ha(e,e.maxWidth,t)}return null};TB.filterProps=["maxWidth"];const z7=ti({prop:"minWidth",transform:Ja}),W7=ti({prop:"height",transform:Ja}),K7=ti({prop:"maxHeight",transform:Ja}),V7=ti({prop:"minHeight",transform:Ja});ti({prop:"size",cssProperty:"width",transform:Ja});ti({prop:"size",cssProperty:"height",transform:Ja});const G7=ti({prop:"boxSizing"});Xy($7,TB,z7,W7,K7,V7,G7);const ug={border:{themeKey:"borders",transform:Ns},borderTop:{themeKey:"borders",transform:Ns},borderRight:{themeKey:"borders",transform:Ns},borderBottom:{themeKey:"borders",transform:Ns},borderLeft:{themeKey:"borders",transform:Ns},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ns},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jy},color:{themeKey:"palette",transform:Bd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Bd},backgroundColor:{themeKey:"palette",transform:Bd},p:{style:Or},pt:{style:Or},pr:{style:Or},pb:{style:Or},pl:{style:Or},px:{style:Or},py:{style:Or},padding:{style:Or},paddingTop:{style:Or},paddingRight:{style:Or},paddingBottom:{style:Or},paddingLeft:{style:Or},paddingX:{style:Or},paddingY:{style:Or},paddingInline:{style:Or},paddingInlineStart:{style:Or},paddingInlineEnd:{style:Or},paddingBlock:{style:Or},paddingBlockStart:{style:Or},paddingBlockEnd:{style:Or},m:{style:Lr},mt:{style:Lr},mr:{style:Lr},mb:{style:Lr},ml:{style:Lr},mx:{style:Lr},my:{style:Lr},margin:{style:Lr},marginTop:{style:Lr},marginRight:{style:Lr},marginBottom:{style:Lr},marginLeft:{style:Lr},marginX:{style:Lr},marginY:{style:Lr},marginInline:{style:Lr},marginInlineStart:{style:Lr},marginInlineEnd:{style:Lr},marginBlock:{style:Lr},marginBlockStart:{style:Lr},marginBlockEnd:{style:Lr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zy},rowGap:{style:tx},columnGap:{style:ex},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ja},maxWidth:{style:TB},minWidth:{transform:Ja},height:{transform:Ja},maxHeight:{transform:Ja},minHeight:{transform:Ja},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function q7(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Y7(e,t){return typeof e=="function"?e(t):e}function eP(){function e(n,r,i,a){const o={[n]:r,theme:i},l=a[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:A,transform:u,style:d}=l;if(r==null)return null;if(A==="typography"&&r==="inherit")return{[n]:r};const h=Yy(i,A)||{};return d?d(o):Ha(o,r,p=>{let g=u0(h,u,p);return p===g&&typeof p=="string"&&(g=u0(h,u,`${n}${p==="default"?"":st(p)}`,p)),c===!1?g:{[c]:g}})}function t(n){var r;const{sx:i,theme:a={},nested:o}=n||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:ug;function c(A){let u=A;if(typeof A=="function")u=A(a);else if(typeof A!="object")return A;if(!u)return null;const d=JF(a.breakpoints),h=Object.keys(d);let f=d;return Object.keys(u).forEach(p=>{const g=Y7(u[p],a);if(g!=null)if(typeof g=="object")if(l[p])f=dp(f,e(p,g,a,l));else{const v=Ha({theme:a},g,x=>({[p]:x}));q7(v,g)?f[p]=t({sx:g,theme:a,nested:!0}):f=dp(f,v)}else f=dp(f,e(p,g,a,l))}),!o&&a.modularCssLayers?{"@layer sx":lw(h,f)}:lw(h,f)}return Array.isArray(i)?i.map(c):c(i)}return t}const yf=eP();yf.filterProps=["sx"];function tP(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const X7=["breakpoints","palette","spacing","shape"];function xf(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:a={}}=e,o=ot(e,X7),l=XF(n),c=v7(i);let A=Ca({breakpoints:l,direction:"ltr",components:{},palette:K({mode:"light"},r),spacing:c,shape:K({},l7,a)},o);return A.applyStyles=tP,A=t.reduce((u,d)=>Ca(u,d),A),A.unstable_sxConfig=K({},ug,o==null?void 0:o.unstable_sxConfig),A.unstable_sx=function(d){return yf({sx:d,theme:this})},A}const J7=Object.freeze(Object.defineProperty({__proto__:null,default:xf,private_createBreakpoints:XF,unstable_applyStyles:tP},Symbol.toStringTag,{value:"Module"}));function Z7(e){return Object.keys(e).length===0}function nx(e=null){const t=y.useContext(vf);return!t||Z7(t)?e:t}const e9=xf();function bf(e=e9){return nx(e)}function Cb(e){const t=A0(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function nP({styles:e,themeId:t,defaultTheme:n={}}){const r=bf(n),i=t&&r[t]||r;let a=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(a)?a=a.map(o=>Cb(typeof o=="function"?o(i):o)):a=Cb(a)),s.jsx(GF,{styles:a})}const t9=["sx"],n9=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:ug;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function dg(e){const{sx:t}=e,n=ot(e,t9),{systemProps:r,otherProps:i}=n9(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...o)=>{const l=t(...o);return bl(l)?K({},r,l):r}:a=K({},r,t),K({},i,{sx:a})}const r9=Object.freeze(Object.defineProperty({__proto__:null,default:yf,extendSxProp:dg,unstable_createStyleFunctionSx:eP,unstable_defaultSxConfig:ug},Symbol.toStringTag,{value:"Module"})),P4=e=>e,i9=()=>{let e=P4;return{configure(t){e=t},generate(t){return e(t)},reset(){e=P4}}},rP=i9();function iP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iP(e))&&(r&&(r+=" "),r+=t);return r}const a9=["className","component"];function s9(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,a=SB("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(yf);return y.forwardRef(function(c,A){const u=bf(n),d=dg(c),{className:h,component:f="div"}=d,p=ot(d,a9);return s.jsx(a,K({as:f,ref:A,className:et(h,i?i(r):r),theme:t&&u[t]||u},p))})}const o9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jt(e,t,n="Mui"){const r=o9[t];return r?`${n}-${r}`:`${rP.generate(e)}-${t}`}function Et(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=jt(e,i,n)}),r}var aP={exports:{}},lr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NB=Symbol.for("react.transitional.element"),FB=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),sx=Symbol.for("react.consumer"),ox=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),cx=Symbol.for("react.suspense"),Ax=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),dx=Symbol.for("react.lazy"),l9=Symbol.for("react.view_transition"),c9=Symbol.for("react.client.reference");function Gs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case NB:switch(e=e.type,e){case rx:case ax:case ix:case cx:case Ax:case l9:return e;default:switch(e=e&&e.$$typeof,e){case ox:case lx:case dx:case ux:return e;case sx:return e;default:return t}}case FB:return t}}}lr.ContextConsumer=sx;lr.ContextProvider=ox;lr.Element=NB;lr.ForwardRef=lx;lr.Fragment=rx;lr.Lazy=dx;lr.Memo=ux;lr.Portal=FB;lr.Profiler=ax;lr.StrictMode=ix;lr.Suspense=cx;lr.SuspenseList=Ax;lr.isContextConsumer=function(e){return Gs(e)===sx};lr.isContextProvider=function(e){return Gs(e)===ox};lr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===NB};lr.isForwardRef=function(e){return Gs(e)===lx};lr.isFragment=function(e){return Gs(e)===rx};lr.isLazy=function(e){return Gs(e)===dx};lr.isMemo=function(e){return Gs(e)===ux};lr.isPortal=function(e){return Gs(e)===FB};lr.isProfiler=function(e){return Gs(e)===ax};lr.isStrictMode=function(e){return Gs(e)===ix};lr.isSuspense=function(e){return Gs(e)===cx};lr.isSuspenseList=function(e){return Gs(e)===Ax};lr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rx||e===ax||e===ix||e===cx||e===Ax||typeof e=="object"&&e!==null&&(e.$$typeof===dx||e.$$typeof===ux||e.$$typeof===ox||e.$$typeof===sx||e.$$typeof===lx||e.$$typeof===c9||e.getModuleId!==void 0)};lr.typeOf=Gs;aP.exports=lr;var cw=aP.exports;const A9=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function sP(e){const t=`${e}`.match(A9);return t&&t[1]||""}function oP(e,t=""){return e.displayName||e.name||sP(e)||t}function _4(e,t,n){const r=oP(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function u9(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return oP(e,"Component");if(typeof e=="object")switch(e.$$typeof){case cw.ForwardRef:return _4(e,e.render,"ForwardRef");case cw.Memo:return _4(e,e.type,"memo");default:return}}}const d9=Object.freeze(Object.defineProperty({__proto__:null,default:u9,getFunctionName:sP},Symbol.toStringTag,{value:"Module"})),f9=["ownerState"],h9=["variants"],p9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function g9(e){return Object.keys(e).length===0}function m9(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Bb(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function D4(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const v9=xf(),y9=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function _m({defaultTheme:e,theme:t,themeId:n}){return g9(t)?e:t[n]||t}function x9(e){return e?(t,n)=>n[e]:null}function Hv(e,t,n){let{ownerState:r}=t,i=ot(t,f9);const a=typeof e=="function"?e(K({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(o=>Hv(o,K({ownerState:r},i),n));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let c=ot(a,h9);return o.forEach(A=>{let u=!0;if(typeof A.props=="function"?u=A.props(K({ownerState:r},i,r)):Object.keys(A.props).forEach(d=>{(r==null?void 0:r[d])!==A.props[d]&&i[d]!==A.props[d]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const d=typeof A.style=="function"?A.style(K({ownerState:r},i,r)):A.style;c.push(n?D4(A0(d),n):d)}}),c}return n?D4(A0(a),n):a}function b9(e={}){const{themeId:t,defaultTheme:n=v9,rootShouldForwardProp:r=Bb,slotShouldForwardProp:i=Bb}=e,a=o=>yf(K({},o,{theme:_m(K({},o,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(o,l={})=>{qF(o,S=>S.filter(F=>!(F!=null&&F.__mui_systemSx)));const{name:c,slot:A,skipVariantsResolver:u,skipSx:d,overridesResolver:h=x9(y9(A))}=l,f=ot(l,p9),p=c&&c.startsWith("Mui")||A?"components":"custom",g=u!==void 0?u:A&&A!=="Root"&&A!=="root"||!1,v=d||!1;let x,C=Bb;A==="Root"||A==="root"?C=r:A?C=i:m9(o)&&(C=void 0);const b=SB(o,K({shouldForwardProp:C,label:x},f)),w=S=>typeof S=="function"&&S.__emotion_real!==S||bl(S)?F=>{const N=_m({theme:F.theme,defaultTheme:n,themeId:t});return Hv(S,K({},F,{theme:N}),N.modularCssLayers?p:void 0)}:S,E=(S,...F)=>{let N=w(S);const P=F?F.map(w):[];c&&h&&P.push(k=>{const T=_m(K({},k,{defaultTheme:n,themeId:t}));if(!T.components||!T.components[c]||!T.components[c].styleOverrides)return null;const D=T.components[c].styleOverrides,R={};return Object.entries(D).forEach(([H,z])=>{R[H]=Hv(z,K({},k,{theme:T}),T.modularCssLayers?"theme":void 0)}),h(k,R)}),c&&!g&&P.push(k=>{var T;const D=_m(K({},k,{defaultTheme:n,themeId:t})),R=D==null||(T=D.components)==null||(T=T[c])==null?void 0:T.variants;return Hv({variants:R},K({},k,{theme:D}),D.modularCssLayers?"theme":void 0)}),v||P.push(a);const Q=P.length-F.length;if(Array.isArray(S)&&Q>0){const k=new Array(Q).fill("");N=[...S,...k],N.raw=[...S.raw,...k]}const j=b(N,...P);return o.muiName&&(j.muiName=o.muiName),j};return b.withConfig&&(E.withConfig=b.withConfig),E}}const lP=b9();function Dp(e,t){const n=K({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=K({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=t[r];n[r]={},!a||!Object.keys(a)?n[r]=i:!i||!Object.keys(i)?n[r]=a:(n[r]=K({},a),Object.keys(i).forEach(o=>{n[r][o]=Dp(i[o],a[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function cP(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Dp(t.components[n].defaultProps,r)}function PB({props:e,name:t,defaultTheme:n,themeId:r}){let i=bf(n);return r&&(i=i[r]||i),cP({theme:i,name:t,props:e})}const la=typeof window<"u"?y.useLayoutEffect:y.useEffect;function w9(e,t,n,r,i){const[a,o]=y.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return la(()=>{let l=!0;if(!n)return;const c=n(e),A=()=>{l&&o(c.matches)};return A(),c.addListener(A),()=>{l=!1,c.removeListener(A)}},[e,n]),a}const AP=y.useSyncExternalStore;function C9(e,t,n,r,i){const a=y.useCallback(()=>t,[t]),o=y.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return a},[a,e,r,i,n]),[l,c]=y.useMemo(()=>{if(n===null)return[a,()=>()=>{}];const u=n(e);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[a,n,e]);return AP(c,l,o)}function B9(e,t={}){const n=nx(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:a=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:l=!1}=cP({name:"MuiUseMediaQuery",props:t,theme:n});let c=e;return c=c.replace(/^@media( ?)/m,""),(AP!==void 0?C9:w9)(c,i,a,o,l)}function uP(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const S9=Object.freeze(Object.defineProperty({__proto__:null,default:uP},Symbol.toStringTag,{value:"Module"}));function j9(e,t=0,n=1){return uP(e,t,n)}function E9(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function dP(e){if(e.type)return e;if(e.charAt(0)==="#")return dP(E9(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Fl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Fl(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}function k9(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,a)=>a<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Hd(e,t){return e=dP(e),t=j9(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,k9(e)}function M4(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function fx(e,t=166){let n;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function $v(e,t){var n,r;return y.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function xi(e){return e&&e.ownerDocument||document}function Pl(e){return xi(e).defaultView||window}function Aw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let U4=0;function I9(e){const[t,n]=y.useState(e),r=e||t;return y.useEffect(()=>{t==null&&(U4+=1,n(`mui-${U4}`))},[t]),r}const L4=s0.useId;function wf(e){if(L4!==void 0){const t=L4();return e??t}return I9(e)}function Go({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=y.useRef(e!==void 0),[a,o]=y.useState(t),l=i?e:a,c=y.useCallback(A=>{i||o(A)},[]);return[l,c]}function pn(e){const t=y.useRef(e);return la(()=>{t.current=e}),y.useRef((...n)=>(0,t.current)(...n)).current}function br(...e){return y.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Aw(n,t)})},e)}const O4={};function T9(e,t){const n=y.useRef(O4);return n.current===O4&&(n.current=e(t)),n}const N9=[];function F9(e){y.useEffect(e,N9)}class fg{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new fg}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function jc(){const e=T9(fg.create).current;return F9(e.disposeEffect),e}let hx=!0,uw=!1;const P9=new fg,_9={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function D9(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&_9[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function M9(e){e.metaKey||e.altKey||e.ctrlKey||(hx=!0)}function Sb(){hx=!1}function U9(){this.visibilityState==="hidden"&&uw&&(hx=!0)}function L9(e){e.addEventListener("keydown",M9,!0),e.addEventListener("mousedown",Sb,!0),e.addEventListener("pointerdown",Sb,!0),e.addEventListener("touchstart",Sb,!0),e.addEventListener("visibilitychange",U9,!0)}function O9(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return hx||D9(t)}function fP(){const e=y.useCallback(i=>{i!=null&&L9(i.ownerDocument)},[]),t=y.useRef(!1);function n(){return t.current?(uw=!0,P9.start(100,()=>{uw=!1}),t.current=!1,!0):!1}function r(i){return O9(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function hP(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let $u;function pP(){if($u)return $u;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),$u="reverse",e.scrollLeft>0?$u="default":(e.scrollLeft=1,e.scrollLeft===0&&($u="negative")),document.body.removeChild(e),$u}function R9(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(pP()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function It(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,o)=>{if(o){const l=t(o);l!==""&&a.push(l),n&&n[o]&&a.push(n[o])}return a},[]).join(" ")}),r}function $d(e){return typeof e=="string"}function pd(e,t,n){return e===void 0||$d(e)?t:K({},t,{ownerState:K({},t.ownerState,n)})}function d0(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function R4(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function gP(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const f=et(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),p=K({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=K({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=d0(K({},i,r)),l=R4(r),c=R4(i),A=t(o),u=et(A==null?void 0:A.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),d=K({},A==null?void 0:A.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=K({},A,n,c,l);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:A.ref}}function mP(e,t,n){return typeof e=="function"?e(t,n):e}const Q9=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Rs(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:a=!1}=e,o=ot(e,Q9),l=a?{}:mP(r,i),{props:c,internalRef:A}=gP(K({},o,{externalSlotProps:l})),u=br(A,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return pd(n,K({},c,{ref:u}),i)}function su(e){if(parseInt(y.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const vP=y.createContext(null);function yP(){return y.useContext(vP)}const H9=typeof Symbol=="function"&&Symbol.for,$9=H9?Symbol.for("mui.nested"):"__THEME_NESTED__";function z9(e,t){return typeof t=="function"?t(e):K({},e,t)}function W9(e){const{children:t,theme:n}=e,r=yP(),i=y.useMemo(()=>{const a=r===null?n:z9(r,n);return a!=null&&(a[$9]=r!==null),a},[n,r]);return s.jsx(vP.Provider,{value:i,children:t})}const K9=["value"],xP=y.createContext();function V9(e){let{value:t}=e,n=ot(e,K9);return s.jsx(xP.Provider,K({value:t??!0},n))}const hg=()=>{const e=y.useContext(xP);return e??!1},bP=y.createContext(void 0);function G9({value:e,children:t}){return s.jsx(bP.Provider,{value:e,children:t})}function q9(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Dp(i.defaultProps,r):!i.styleOverrides&&!i.variants?Dp(i,r):r}function Y9({props:e,name:t}){const n=y.useContext(bP);return q9({props:e,name:t,theme:{components:n}})}function X9(e){const t=nx(),n=wf()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,la(()=>{const a=document.querySelector("head");if(!a)return;const o=a.firstChild;if(i){var l;if(o&&(l=o.hasAttribute)!=null&&l.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const A=document.createElement("style");A.setAttribute("data-mui-layer-order",n),A.textContent=i,a.prepend(A)}else{var c;(c=a.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[i,n]),i?s.jsx(nP,{styles:i}):null}const Q4={};function H4(e,t,n,r=!1){return y.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const a=n(i),o=e?K({},t,{[e]:a}):a;return r?()=>o:o}return e?K({},t,{[e]:n}):K({},t,n)},[e,t,n,r])}function J9(e){const{children:t,theme:n,themeId:r}=e,i=nx(Q4),a=yP()||Q4,o=H4(r,i,n),l=H4(r,a,n,!0),c=o.direction==="rtl",A=X9(o);return s.jsx(W9,{theme:l,children:s.jsx(vf.Provider,{value:o,children:s.jsx(V9,{value:c,children:s.jsxs(G9,{value:o==null?void 0:o.components,children:[A,t]})})})})}function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function Z9(e,t){if(En(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(En(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wP(e){var t=Z9(e,"string");return En(t)=="symbol"?t:t+""}const e$=["className","component","disableGutters","fixed","maxWidth","classes"],t$=xf(),n$=lP("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${st(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),r$=e=>PB({props:e,name:"MuiContainer",defaultTheme:t$}),i$=(e,t)=>{const n=c=>jt(t,c),{classes:r,fixed:i,disableGutters:a,maxWidth:o}=e,l={root:["root",o&&`maxWidth${st(String(o))}`,i&&"fixed",a&&"disableGutters"]};return It(l,n,r)};function a$(e={}){const{createStyledComponent:t=n$,useThemeProps:n=r$,componentName:r="MuiContainer"}=e,i=t(({theme:o,ownerState:l})=>K({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:l})=>l.fixed&&Object.keys(o.breakpoints.values).reduce((c,A)=>{const u=A,d=o.breakpoints.values[u];return d!==0&&(c[o.breakpoints.up(u)]={maxWidth:`${d}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:l})=>K({},l.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[o.breakpoints.up(l.maxWidth)]:{maxWidth:`${o.breakpoints.values[l.maxWidth]}${o.breakpoints.unit}`}}));return y.forwardRef(function(l,c){const A=n(l),{className:u,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:p="lg"}=A,g=ot(A,e$),v=K({},A,{component:d,disableGutters:h,fixed:f,maxWidth:p}),x=i$(v,r);return s.jsx(i,K({as:d,ownerState:v,className:et(x.root,u),ref:c},g))})}const s$=["component","direction","spacing","divider","children","className","useFlexGap"],o$=xf(),l$=lP("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function c$(e){return PB({props:e,name:"MuiStack",defaultTheme:o$})}function A$(e,t){const n=y.Children.toArray(e).filter(Boolean);return n.reduce((r,i,a)=>(r.push(i),a<n.length-1&&r.push(y.cloneElement(t,{key:`separator-${a}`})),r),[])}const u$=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],d$=({ownerState:e,theme:t})=>{let n=K({display:"flex",flexDirection:"column"},Ha({theme:t},DA({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=IB(t),i=Object.keys(t.breakpoints.values).reduce((c,A)=>((typeof e.spacing=="object"&&e.spacing[A]!=null||typeof e.direction=="object"&&e.direction[A]!=null)&&(c[A]=!0),c),{}),a=DA({values:e.direction,base:i}),o=DA({values:e.spacing,base:i});typeof a=="object"&&Object.keys(a).forEach((c,A,u)=>{if(!a[c]){const h=A>0?a[u[A-1]]:"column";a[c]=h}}),n=Ca(n,Ha({theme:t},o,(c,A)=>e.useFlexGap?{gap:GA(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${u$(A?a[A]:e.direction)}`]:GA(r,c)}}))}return n=c7(t.breakpoints,n),n};function f$(e={}){const{createStyledComponent:t=l$,useThemeProps:n=c$,componentName:r="MuiStack"}=e,i=()=>It({root:["root"]},c=>jt(r,c),{}),a=t(d$);return y.forwardRef(function(c,A){const u=n(c),d=dg(u),{component:h="div",direction:f="column",spacing:p=0,divider:g,children:v,className:x,useFlexGap:C=!1}=d,b=ot(d,s$),w={direction:f,spacing:p,useFlexGap:C},E=i();return s.jsx(a,K({as:h,ownerState:w,ref:A,className:et(E.root,x)},b,{children:g?A$(v,g):v}))})}function h$(e,t){return K({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var ni={},CP={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(CP);var BP=CP.exports;const p$=Yc(JQ),g$=Yc(S9);var SP=BP;Object.defineProperty(ni,"__esModule",{value:!0});var Sn=ni.alpha=IP;ni.blend=k$;ni.colorChannel=void 0;var zd=ni.darken=DB;ni.decomposeColor=Qs;var m$=ni.emphasize=TP,v$=ni.getContrastRatio=C$;ni.getLuminance=f0;ni.hexToRgb=jP;ni.hslToRgb=kP;var Wd=ni.lighten=MB;ni.private_safeAlpha=B$;ni.private_safeColorChannel=void 0;ni.private_safeDarken=S$;ni.private_safeEmphasize=E$;ni.private_safeLighten=j$;ni.recomposeColor=Cf;ni.rgbToHex=w$;var $4=SP(p$),y$=SP(g$);function _B(e,t=0,n=1){return(0,y$.default)(e,t,n)}function jP(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function x$(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Qs(e){if(e.type)return e;if(e.charAt(0)==="#")return Qs(jP(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,$4.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,$4.default)(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const EP=e=>{const t=Qs(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};ni.colorChannel=EP;const b$=(e,t)=>{try{return EP(e)}catch{return e}};ni.private_safeColorChannel=b$;function Cf(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,a)=>a<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function w$(e){if(e.indexOf("#")===0)return e;const{values:t}=Qs(e);return`#${t.map((n,r)=>x$(r===3?Math.round(255*n):n)).join("")}`}function kP(e){e=Qs(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=(A,u=(A+n/30)%12)=>i-a*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Cf({type:l,values:c})}function f0(e){e=Qs(e);let t=e.type==="hsl"||e.type==="hsla"?Qs(kP(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function C$(e,t){const n=f0(e),r=f0(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function IP(e,t){return e=Qs(e),t=_B(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Cf(e)}function B$(e,t,n){try{return IP(e,t)}catch{return e}}function DB(e,t){if(e=Qs(e),t=_B(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Cf(e)}function S$(e,t,n){try{return DB(e,t)}catch{return e}}function MB(e,t){if(e=Qs(e),t=_B(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Cf(e)}function j$(e,t,n){try{return MB(e,t)}catch{return e}}function TP(e,t=.15){return f0(e)>.5?DB(e,t):MB(e,t)}function E$(e,t,n){try{return TP(e,t)}catch{return e}}function k$(e,t,n,r=1){const i=(c,A)=>Math.round((c**(1/r)*(1-n)+A**(1/r)*n)**r),a=Qs(e),o=Qs(t),l=[i(a.values[0],o.values[0]),i(a.values[1],o.values[1]),i(a.values[2],o.values[2])];return Cf({type:"rgb",values:l})}const Mp={black:"#000",white:"#fff"},I$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},zu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Wu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},bh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ku={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Vu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Gu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},T$=["mode","contrastThreshold","tonalOffset"],z4={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mp.white,default:Mp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jb={text:{primary:Mp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function W4(e,t,n,r){const i=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Wd(e.main,i):t==="dark"&&(e.dark=zd(e.main,a)))}function N$(e="light"){return e==="dark"?{main:Ku[200],light:Ku[50],dark:Ku[400]}:{main:Ku[700],light:Ku[400],dark:Ku[800]}}function F$(e="light"){return e==="dark"?{main:zu[200],light:zu[50],dark:zu[400]}:{main:zu[500],light:zu[300],dark:zu[700]}}function P$(e="light"){return e==="dark"?{main:Wu[500],light:Wu[300],dark:Wu[700]}:{main:Wu[700],light:Wu[400],dark:Wu[800]}}function _$(e="light"){return e==="dark"?{main:Vu[400],light:Vu[300],dark:Vu[700]}:{main:Vu[700],light:Vu[500],dark:Vu[900]}}function D$(e="light"){return e==="dark"?{main:Gu[400],light:Gu[300],dark:Gu[700]}:{main:Gu[800],light:Gu[500],dark:Gu[900]}}function M$(e="light"){return e==="dark"?{main:bh[400],light:bh[300],dark:bh[700]}:{main:"#ed6c02",light:bh[500],dark:bh[900]}}function U$(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=ot(e,T$),a=e.primary||N$(t),o=e.secondary||F$(t),l=e.error||P$(t),c=e.info||_$(t),A=e.success||D$(t),u=e.warning||M$(t);function d(g){return v$(g,jb.text.primary)>=n?jb.text.primary:z4.text.primary}const h=({color:g,name:v,mainShade:x=500,lightShade:C=300,darkShade:b=700})=>{if(g=K({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(Fl(11,v?` (${v})`:"",x));if(typeof g.main!="string")throw new Error(Fl(12,v?` (${v})`:"",JSON.stringify(g.main)));return W4(g,"light",C,r),W4(g,"dark",b,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:jb,light:z4};return Ca(K({common:K({},Mp),mode:t,primary:h({color:a,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:l,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:A,name:"success"}),grey:I$,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[t]),i)}const L$=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function O$(e){return Math.round(e*1e5)/1e5}const K4={textTransform:"uppercase"},V4='"Roboto", "Helvetica", "Arial", sans-serif';function R$(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=V4,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:A=16,allVariants:u,pxToRem:d}=n,h=ot(n,L$),f=i/14,p=d||(x=>`${x/A*f}rem`),g=(x,C,b,w,E)=>K({fontFamily:r,fontWeight:x,fontSize:p(C),lineHeight:b},r===V4?{letterSpacing:`${O$(w/C)}em`}:{},E,u),v={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(l,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(l,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(l,14,1.75,.4,K4),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,K4),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ca(K({htmlFontSize:A,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c},v),h,{clone:!1})}const Q$=.2,H$=.14,$$=.12;function Cr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Q$})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${H$})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${$$})`].join(",")}const z$=["none",Cr(0,2,1,-1,0,1,1,0,0,1,3,0),Cr(0,3,1,-2,0,2,2,0,0,1,5,0),Cr(0,3,3,-2,0,3,4,0,0,1,8,0),Cr(0,2,4,-1,0,4,5,0,0,1,10,0),Cr(0,3,5,-1,0,5,8,0,0,1,14,0),Cr(0,3,5,-1,0,6,10,0,0,1,18,0),Cr(0,4,5,-2,0,7,10,1,0,2,16,1),Cr(0,5,5,-3,0,8,10,1,0,3,14,2),Cr(0,5,6,-3,0,9,12,1,0,3,16,2),Cr(0,6,6,-3,0,10,14,1,0,4,18,3),Cr(0,6,7,-4,0,11,15,1,0,4,20,3),Cr(0,7,8,-4,0,12,17,2,0,5,22,4),Cr(0,7,8,-4,0,13,19,2,0,5,24,4),Cr(0,7,9,-4,0,14,21,2,0,5,26,4),Cr(0,8,9,-5,0,15,22,2,0,6,28,5),Cr(0,8,10,-5,0,16,24,2,0,6,30,5),Cr(0,8,11,-5,0,17,26,2,0,6,32,5),Cr(0,9,11,-5,0,18,28,2,0,7,34,6),Cr(0,9,12,-6,0,19,29,2,0,7,36,6),Cr(0,10,13,-6,0,20,31,3,0,8,38,7),Cr(0,10,13,-6,0,21,33,3,0,8,40,7),Cr(0,10,14,-6,0,22,35,3,0,8,42,7),Cr(0,11,14,-7,0,23,36,3,0,9,44,8),Cr(0,11,15,-7,0,24,38,3,0,9,46,8)],W$=["duration","easing","delay"],K$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},NP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function G4(e){return`${Math.round(e)}ms`}function V$(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function G$(e){const t=K({},K$,e.easing),n=K({},NP,e.duration);return K({getAutoHeightDuration:V$,create:(i=["all"],a={})=>{const{duration:o=n.standard,easing:l=t.easeInOut,delay:c=0}=a;return ot(a,W$),(Array.isArray(i)?i:[i]).map(A=>`${A} ${typeof o=="string"?o:G4(o)} ${l} ${typeof c=="string"?c:G4(c)}`).join(",")}},e,{easing:t,duration:n})}const q$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Y$=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function UB(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:a={}}=e,o=ot(e,Y$);if(e.vars&&e.generateCssVars===void 0)throw new Error(Fl(18));const l=U$(r),c=xf(e);let A=Ca(c,{mixins:h$(c.breakpoints,n),palette:l,shadows:z$.slice(),typography:R$(l,a),transitions:G$(i),zIndex:K({},q$)});return A=Ca(A,o),A=t.reduce((u,d)=>Ca(u,d),A),A.unstable_sxConfig=K({},ug,o==null?void 0:o.unstable_sxConfig),A.unstable_sx=function(d){return yf({sx:d,theme:this})},A}const px=UB();function qs(){const e=bf(px);return e[VA]||e}function Ys({props:e,name:t}){return PB({props:e,name:t,defaultTheme:px,themeId:VA})}var pg={},Eb={exports:{}},q4;function X$(){return q4||(q4=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(r.indexOf(a)!==-1)continue;i[a]=n[a]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Eb)),Eb.exports}const FP=Yc(i7),J$=Yc(a7),Z$=Yc(u7),ez=Yc(d9),tz=Yc(J7),nz=Yc(r9);var Bf=BP;Object.defineProperty(pg,"__esModule",{value:!0});var rz=pg.default=gz;pg.shouldForwardProp=zv;pg.systemDefaultTheme=void 0;var Es=Bf(VF()),dw=Bf(X$()),h0=Az(FP),iz=J$;Bf(Z$);Bf(ez);var az=Bf(tz),sz=Bf(nz);const oz=["ownerState"],lz=["variants"],cz=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function PP(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(PP=function(r){return r?n:t})(e)}function Az(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=PP(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function uz(e){return Object.keys(e).length===0}function dz(e){return typeof e=="string"&&e.charCodeAt(0)>96}function zv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Y4(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const fz=pg.systemDefaultTheme=(0,az.default)(),hz=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Dm({defaultTheme:e,theme:t,themeId:n}){return uz(t)?e:t[n]||t}function pz(e){return e?(t,n)=>n[e]:null}function Wv(e,t,n){let{ownerState:r}=t,i=(0,dw.default)(t,oz);const a=typeof e=="function"?e((0,Es.default)({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(o=>Wv(o,(0,Es.default)({ownerState:r},i),n));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let c=(0,dw.default)(a,lz);return o.forEach(A=>{let u=!0;if(typeof A.props=="function"?u=A.props((0,Es.default)({ownerState:r},i,r)):Object.keys(A.props).forEach(d=>{(r==null?void 0:r[d])!==A.props[d]&&i[d]!==A.props[d]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const d=typeof A.style=="function"?A.style((0,Es.default)({ownerState:r},i,r)):A.style;c.push(n?Y4((0,h0.internal_serializeStyles)(d),n):d)}}),c}return n?Y4((0,h0.internal_serializeStyles)(a),n):a}function gz(e={}){const{themeId:t,defaultTheme:n=fz,rootShouldForwardProp:r=zv,slotShouldForwardProp:i=zv}=e,a=o=>(0,sz.default)((0,Es.default)({},o,{theme:Dm((0,Es.default)({},o,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(o,l={})=>{(0,h0.internal_processStyles)(o,S=>S.filter(F=>!(F!=null&&F.__mui_systemSx)));const{name:c,slot:A,skipVariantsResolver:u,skipSx:d,overridesResolver:h=pz(hz(A))}=l,f=(0,dw.default)(l,cz),p=c&&c.startsWith("Mui")||A?"components":"custom",g=u!==void 0?u:A&&A!=="Root"&&A!=="root"||!1,v=d||!1;let x,C=zv;A==="Root"||A==="root"?C=r:A?C=i:dz(o)&&(C=void 0);const b=(0,h0.default)(o,(0,Es.default)({shouldForwardProp:C,label:x},f)),w=S=>typeof S=="function"&&S.__emotion_real!==S||(0,iz.isPlainObject)(S)?F=>{const N=Dm({theme:F.theme,defaultTheme:n,themeId:t});return Wv(S,(0,Es.default)({},F,{theme:N}),N.modularCssLayers?p:void 0)}:S,E=(S,...F)=>{let N=w(S);const P=F?F.map(w):[];c&&h&&P.push(k=>{const T=Dm((0,Es.default)({},k,{defaultTheme:n,themeId:t}));if(!T.components||!T.components[c]||!T.components[c].styleOverrides)return null;const D=T.components[c].styleOverrides,R={};return Object.entries(D).forEach(([H,z])=>{R[H]=Wv(z,(0,Es.default)({},k,{theme:T}),T.modularCssLayers?"theme":void 0)}),h(k,R)}),c&&!g&&P.push(k=>{var T;const D=Dm((0,Es.default)({},k,{defaultTheme:n,themeId:t})),R=D==null||(T=D.components)==null||(T=T[c])==null?void 0:T.variants;return Wv({variants:R},(0,Es.default)({},k,{theme:D}),D.modularCssLayers?"theme":void 0)}),v||P.push(a);const Q=P.length-F.length;if(Array.isArray(S)&&Q>0){const k=new Array(Q).fill("");N=[...S,...k],N.raw=[...S.raw,...k]}const j=b(N,...P);return o.muiName&&(j.muiName=o.muiName),j};return b.withConfig&&(E.withConfig=b.withConfig),E}}function _P(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const $a=e=>_P(e)&&e!=="classes",Ke=rz({themeId:VA,defaultTheme:px,rootShouldForwardProp:$a}),mz=["theme"];function vz(e){let{theme:t}=e,n=ot(e,mz);const r=t[VA];let i=r||t;return typeof t!="function"&&(r&&!r.vars?i=K({},r,{vars:null}):t&&!t.vars&&(i=K({},t,{vars:null}))),s.jsx(J9,K({},n,{themeId:r?VA:void 0,theme:i}))}const X4=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Wt(e){return Y9(e)}function DP(e){return s.jsx(nP,K({},e,{defaultTheme:px,themeId:VA}))}const yz=(e,t)=>K({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),xz=e=>K({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),bz=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([o,l])=>{var c;r[e.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let i=K({html:yz(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:K({margin:0},xz(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const a=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return a&&(i=[i,a]),i};function wz(e){const t=Wt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return s.jsxs(y.Fragment,{children:[s.jsx(DP,{styles:i=>bz(i,r)}),n]})}var J4={};const Z4="@firebase/database",eE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MP="";function Cz(e){MP=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),zi(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:dB(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Wl(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Bz(t)}}catch{}return new Sz},kA=UP("localStorage"),jz=UP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new xQ("@firebase/database"),Ez=function(){let e=1;return function(){return e++}}(),LP=function(e){const t=bQ(e),n=new wQ;n.update(t);const r=n.digest();return CQ.encodeByteArray(r)},gg=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=gg.apply(null,r):typeof r=="object"?t+=zi(r):t+=r,t+=" "}return t};let fp=null,tE=!0;const kz=function(e,t){Pt(!0,"Can't turn on custom loggers persistently."),Sd.logLevel=SQ.VERBOSE,fp=Sd.log.bind(Sd)},ra=function(...e){if(tE===!0&&(tE=!1,fp===null&&jz.get("logging_enabled")===!0&&kz()),fp){const t=gg.apply(null,e);fp(t)}},mg=function(e){return function(...t){ra(e,...t)}},fw=function(...e){const t="FIREBASE INTERNAL ERROR: "+gg(...e);Sd.error(t)},_l=function(...e){const t=`FIREBASE FATAL ERROR: ${gg(...e)}`;throw Sd.error(t),new Error(t)},is=function(...e){const t="FIREBASE WARNING: "+gg(...e);Sd.warn(t)},Iz=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&is("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},OP=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Tz=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Kd="[MIN_NAME]",qA="[MAX_NAME]",Sf=function(e,t){if(e===t)return 0;if(e===Kd||t===qA)return-1;if(t===Kd||e===qA)return 1;{const n=nE(e),r=nE(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Nz=function(e,t){return e===t?0:e<t?-1:1},wh=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+zi(t))},LB=function(e){if(typeof e!="object"||e===null)return zi(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=zi(t[r]),n+=":",n+=LB(e[t[r]]);return n+="}",n},RP=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Hs(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const QP=function(e){Pt(!OP(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,a,o,l,c;e===0?(a=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),a=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-r-n))));const A=[];for(c=n;c;c-=1)A.push(o%2?1:0),o=Math.floor(o/2);for(c=t;c;c-=1)A.push(a%2?1:0),a=Math.floor(a/2);A.push(i?1:0),A.reverse();const u=A.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Fz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Pz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},_z=new RegExp("^-?(0*)\\d{1,10}$"),Dz=-2147483648,Mz=2147483647,nE=function(e){if(_z.test(e)){const t=Number(e);if(t>=Dz&&t<=Mz)return t}return null},vg=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw is("Exception was thrown by user callback.",n),t},Math.floor(0))}},Uz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hp=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){is(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ra("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',is(t)}}class Kv{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Kv.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="5",HP="v",$P="s",zP="r",WP="f",KP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VP="ls",GP="p",hw="ac",qP="websocket",YP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t,n,r,i,a=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kA.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&kA.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Rz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function JP(e,t,n){Pt(typeof t=="string","typeof type must == string"),Pt(typeof n=="object","typeof params must == object");let r;if(t===qP)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===YP)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Rz(e)&&(n.ns=e.namespace);const i=[];return Hs(n,(a,o)=>{i.push(a+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.counters_={}}incrementCounter(t,n=1){Wl(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return TQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={},Ib={};function RB(e){const t=e.toString();return kb[t]||(kb[t]=new Qz),kb[t]}function Hz(e,t){const n=e.toString();return Ib[n]||(Ib[n]=t()),Ib[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vg(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="start",zz="close",Wz="pLPCommand",Kz="pRTLPCB",ZP="id",e_="pw",t_="ser",Vz="cb",Gz="seg",qz="ts",Yz="d",Xz="dframe",n_=1870,r_=30,Jz=n_-r_,Zz=25e3,eW=3e4;class gd{constructor(t,n,r,i,a,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mg(t),this.stats_=RB(n),this.urlFn=c=>(this.appCheckToken&&(c[hw]=this.appCheckToken),JP(n,YP,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eW)),Tz(()=>{if(this.isClosed_)return;this.scriptTagHolder=new QB((...a)=>{const[o,l,c,A,u]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rE)this.id=l,this.password=c;else if(o===zz)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[rE]="t",r[t_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[HP]=OB,this.transportSessionId&&(r[$P]=this.transportSessionId),this.lastSessionId&&(r[VP]=this.lastSessionId),this.applicationId&&(r[GP]=this.applicationId),this.appCheckToken&&(r[hw]=this.appCheckToken),typeof location<"u"&&location.hostname&&KP.test(location.hostname)&&(r[zP]=WP);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gd.forceAllow_=!0}static forceDisallow(){gd.forceDisallow_=!0}static isAvailable(){return gd.forceAllow_?!0:!gd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fz()&&!Pz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=zi(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NQ(n),i=RP(r,Jz);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Xz]="t",r[ZP]=t,r[e_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=zi(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class QB{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ez(),window[Wz+this.uniqueCallbackIdentifier]=t,window[Kz+this.uniqueCallbackIdentifier]=n,this.myIFrame=QB.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ra("frame writing exception"),l.stack&&ra(l.stack),ra(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ra("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[ZP]=this.myID,t[e_]=this.myPW,t[t_]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+r_+r.length<=n_;){const o=this.pendingSegs.shift();r=r+"&"+Gz+i+"="+o.seg+"&"+qz+i+"="+o.ts+"&"+Yz+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Zz)),a=()=>{clearTimeout(i),r()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ra("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=16384,nW=45e3;let p0=null;typeof MozWebSocket<"u"?p0=MozWebSocket:typeof WebSocket<"u"&&(p0=WebSocket);class co{constructor(t,n,r,i,a,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mg(this.connId),this.stats_=RB(n),this.connURL=co.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,a){const o={};return o[HP]=OB,typeof location<"u"&&location.hostname&&KP.test(location.hostname)&&(o[zP]=WP),n&&(o[$P]=n),r&&(o[VP]=r),i&&(o[hw]=i),a&&(o[GP]=a),JP(t,qP,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kA.set("previous_websocket_failure",!0);try{let r;FQ(),this.mySock=new p0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){co.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&p0!==null&&!co.forceDisallow_}static previouslyFailed(){return kA.isInMemoryStorage||kA.get("previous_websocket_failure")===!0}markConnectionHealthy(){kA.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=dB(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Pt(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=zi(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RP(n,tW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nW))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}co.responsesRequiredToBeHealthy=2;co.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gd,co]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=co&&co.isAvailable();let r=n&&!co.previouslyFailed();if(t.webSocketOnly&&(n||is("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[co];else{const i=this.transports_=[];for(const a of Up.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Up.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Up.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=6e4,iW=5e3,aW=10*1024,sW=100*1024,Tb="t",iE="d",oW="s",aE="r",lW="e",sE="o",oE="a",lE="n",cE="p",cW="h";class AW{constructor(t,n,r,i,a,o,l,c,A,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=A,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mg("c:"+this.id+":"),this.transportManager_=new Up(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=hp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Tb in t){const n=t[Tb];n===oE?this.upgradeIfSecondaryHealthy_():n===aE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=wh("t",t),r=wh("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=wh("t",t),r=wh("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=wh(Tb,t);if(iE in t){const r=t[iE];if(n===cW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===lE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===oW?this.onConnectionShutdown_(r):n===aE?this.onReset_(r):n===lW?fw("Server Error: "+r):n===sE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fw("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),OB!==r&&is("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rW))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cE,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a_=class{constructor(t){this.allowedEvents_=t,this.listeners_={},Pt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(t){Pt(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends a_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bF()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new g0}getInitialEvent(t){return Pt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=32,uE=768;let wr=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function rr(){return new wr("")}function _n(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qc(e){return e.pieces_.length-e.pieceNum_}function vr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new wr(e.pieces_,t)}function s_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function uW(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function o_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function l_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new wr(t,0)}function Fi(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof wr)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new wr(n,0)}function kn(e){return e.pieceNum_>=e.pieces_.length}function _s(e,t){const n=_n(e),r=_n(t);if(n===null)return t;if(n===r)return _s(vr(e),vr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function c_(e,t){if(Qc(e)!==Qc(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fo(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Qc(e)>Qc(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class dW{constructor(t,n){this.errorPrefix_=n,this.parts_=o_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Dy(this.parts_[r]);A_(this)}}function fW(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Dy(t),A_(e)}function hW(e){const t=e.parts_.pop();e.byteLength_-=Dy(t),e.parts_.length>0&&(e.byteLength_-=1)}function A_(e){if(e.byteLength_>uE)throw new Error(e.errorPrefix_+"has a key path longer than "+uE+" bytes ("+e.byteLength_+").");if(e.parts_.length>AE)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+AE+") or object contains a cycle "+mA(e))}function mA(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB extends a_{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new HB}getInitialEvent(t){return Pt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=1e3,pW=60*5*1e3,dE=30*1e3,gW=1.3,mW=3e4,vW="server_kill",fE=3;class jl extends i_{constructor(t,n,r,i,a,o,l,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=jl.nextPersistentConnectionId_++,this.log_=mg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ch,this.maxReconnectDelay_=pW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HB.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&g0.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,a={r:i,a:t,b:n};this.log_(zi(a)),Pt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new xF,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,r,i){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),Pt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pt(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,l=>{const c=l.d,A=l.s;jl.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),A!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(A,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Wl(t,"w")){const r=Rd(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();is(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||EQ(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dE)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=kQ(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,o=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Pt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";i&&(a.q=r,a.t=i),this.sendRequest(o,a)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,a){this.initConnection_();const o={p:n,d:r};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+zi(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):fw("Unrecognized action received from server: "+zi(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Pt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ch,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ch,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mW&&(this.reconnectDelay_=Ch),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+jl.nextConnectionId_++,a=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},A=function(d){Pt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:c,sendRequest:A};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ra("getToken() completed but was canceled"):(ra("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new AW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,f=>{is(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(vW)},a))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&is(d),c())}}}interrupt(t){ra("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ra("Resuming connection for reason: "+t),delete this.interruptReasons_[t],h4(this.interruptReasons_)&&(this.reconnectDelay_=Ch,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(a=>LB(a)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new wr(t).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){ra("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fE&&(this.reconnectDelay_=dE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ra("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+MP.replace(/\./g,"-")]=1,bF()?t["framework.cordova"]=1:IQ()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=g0.getInstance().currentlyOnline();return h4(this.interruptReasons_)&&t}}jl.nextPersistentConnectionId_=0;jl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Dn(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Dn(Kd,t),i=new Dn(Kd,n);return this.compare(r,i)!==0}minPost(){return Dn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm;class u_ extends gx{static get __EMPTY_NODE(){return Mm}static set __EMPTY_NODE(t){Mm=t}compare(t,n){return Sf(t.name,n.name)}isDefinedOn(t){throw sg("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Dn.MIN}maxPost(){return new Dn(qA,Mm)}makePost(t,n){return Pt(typeof t=="string","KeyIndex indexValue must always be a string."),new Dn(t,Mm)}toString(){return".key"}}const jd=new u_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ti{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??Ti.RED,this.left=i??_a.EMPTY_NODE,this.right=a??_a.EMPTY_NODE}copy(t,n,r,i,a){return new Ti(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return _a.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return _a.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ti.RED=!0;Ti.BLACK=!1;class yW{copy(t,n,r,i,a){return this}insert(t,n,r){return new Ti(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _a{constructor(t,n=_a.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new _a(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ti.BLACK,null,null))}remove(t){return new _a(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ti.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Um(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Um(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Um(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Um(this.root_,null,this.comparator_,!0,t)}}_a.EMPTY_NODE=new yW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(e,t){return Sf(e.name,t.name)}function $B(e,t){return Sf(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pw;function bW(e){pw=e}const d_=function(e){return typeof e=="number"?"number:"+QP(e):"string:"+e},f_=function(e){if(e.isLeafNode()){const t=e.val();Pt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Wl(t,".sv"),"Priority must be a string or number.")}else Pt(e===pw||e.isEmpty(),"priority of unexpected type.");Pt(e===pw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE;class ki{constructor(t,n=ki.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Pt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),f_(this.priorityNode_)}static set __childrenNodeConstructor(t){hE=t}static get __childrenNodeConstructor(){return hE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ki(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ki.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kn(t)?this:_n(t)===".priority"?this.priorityNode_:ki.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ki.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=_n(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Pt(r!==".priority"||Qc(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ki.__childrenNodeConstructor.EMPTY_NODE.updateChild(vr(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+d_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=QP(this.value_):t+=this.value_,this.lazyHash_=LP(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ki.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ki.__childrenNodeConstructor?-1:(Pt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=ki.VALUE_TYPE_ORDER.indexOf(n),a=ki.VALUE_TYPE_ORDER.indexOf(r);return Pt(i>=0,"Unknown leaf type: "+n),Pt(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ki.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h_,p_;function wW(e){h_=e}function CW(e){p_=e}class BW extends gx{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?Sf(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Dn.MIN}maxPost(){return new Dn(qA,new ki("[PRIORITY-POST]",p_))}makePost(t,n){const r=h_(t);return new Dn(n,new ki("[PRIORITY-POST]",r))}toString(){return".priority"}}const sa=new BW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=Math.log(2);class jW{constructor(t){const n=a=>parseInt(Math.log(a)/SW,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const m0=function(e,t,n,r){e.sort(t);const i=function(c,A){const u=A-c;let d,h;if(u===0)return null;if(u===1)return d=e[c],h=n?n(d):d,new Ti(h,d.node,Ti.BLACK,null,null);{const f=parseInt(u/2,10)+c,p=i(c,f),g=i(f+1,A);return d=e[f],h=n?n(d):d,new Ti(h,d.node,Ti.BLACK,p,g)}},a=function(c){let A=null,u=null,d=e.length;const h=function(p,g){const v=d-p,x=d;d-=p;const C=i(v+1,x),b=e[v],w=n?n(b):b;f(new Ti(w,b.node,g,null,C))},f=function(p){A?(A.left=p,A=p):(u=p,A=p)};for(let p=0;p<c.count;++p){const g=c.nextBitIsOne(),v=Math.pow(2,c.count-(p+1));g?h(v,Ti.BLACK):(h(v,Ti.BLACK),h(v,Ti.RED))}return u},o=new jW(e.length),l=a(o);return new _a(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nb;const qu={};class Cl{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Pt(qu&&sa,"ChildrenNode.ts has not been loaded"),Nb=Nb||new Cl({".priority":qu},{".priority":sa}),Nb}get(t){const n=Rd(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof _a?n:null}hasIndex(t){return Wl(this.indexSet_,t.toString())}addIndex(t,n){Pt(t!==jd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(Dn.Wrap);let o=a.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=a.getNext();let l;i?l=m0(r,t.getCompare()):l=qu;const c=t.toString(),A=Object.assign({},this.indexSet_);A[c]=t;const u=Object.assign({},this.indexes_);return u[c]=l,new Cl(u,A)}addToIndexes(t,n){const r=l0(this.indexes_,(i,a)=>{const o=Rd(this.indexSet_,a);if(Pt(o,"Missing index implementation for "+a),i===qu)if(o.isDefinedOn(t.node)){const l=[],c=n.getIterator(Dn.Wrap);let A=c.getNext();for(;A;)A.name!==t.name&&l.push(A),A=c.getNext();return l.push(t),m0(l,o.getCompare())}else return qu;else{const l=n.get(t.name);let c=i;return l&&(c=c.remove(new Dn(t.name,l))),c.insert(t,t.node)}});return new Cl(r,this.indexSet_)}removeFromIndexes(t,n){const r=l0(this.indexes_,i=>{if(i===qu)return i;{const a=n.get(t.name);return a?i.remove(new Dn(t.name,a)):i}});return new Cl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh;class qn{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&f_(this.priorityNode_),this.children_.isEmpty()&&Pt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bh||(Bh=new qn(new _a($B),null,Cl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bh}updatePriority(t){return this.children_.isEmpty()?this:new qn(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Bh:n}}getChild(t){const n=_n(t);return n===null?this:this.getImmediateChild(n).getChild(vr(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Pt(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Dn(t,n);let i,a;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Bh:this.priorityNode_;return new qn(i,o,a)}}updateChild(t,n){const r=_n(t);if(r===null)return n;{Pt(_n(t)!==".priority"||Qc(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(vr(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(sa,(o,l)=>{n[o]=l.val(t),r++,a&&qn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+d_(this.getPriority().val())+":"),this.forEachChild(sa,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":LP(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new Dn(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Dn(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Dn(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Dn.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Dn.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===yg?-1:0}withIndex(t){if(t===jd||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new qn(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===jd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(sa),i=n.getIterator(sa);let a=r.getNext(),o=i.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=r.getNext(),o=i.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===jd?null:this.indexMap_.get(t.toString())}}qn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class EW extends qn{constructor(){super(new _a($B),qn.EMPTY_NODE,Cl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qn.EMPTY_NODE}isEmpty(){return!1}}const yg=new EW;Object.defineProperties(Dn,{MIN:{value:new Dn(Kd,qn.EMPTY_NODE)},MAX:{value:new Dn(qA,yg)}});u_.__EMPTY_NODE=qn.EMPTY_NODE;ki.__childrenNodeConstructor=qn;bW(yg);CW(yg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=!0;function ia(e,t=null){if(e===null)return qn.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Pt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ki(n,ia(t))}if(!(e instanceof Array)&&kW){const n=[];let r=!1;if(Hs(e,(o,l)=>{if(o.substring(0,1)!=="."){const c=ia(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Dn(o,c)))}}),n.length===0)return qn.EMPTY_NODE;const a=m0(n,xW,o=>o.name,$B);if(r){const o=m0(n,sa.getCompare());return new qn(a,ia(t),new Cl({".priority":o},{".priority":sa}))}else return new qn(a,ia(t),Cl.Default)}else{let n=qn.EMPTY_NODE;return Hs(e,(r,i)=>{if(Wl(e,r)&&r.substring(0,1)!=="."){const a=ia(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(ia(t))}}wW(ia);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW extends gx{constructor(t){super(),this.indexPath_=t,Pt(!kn(t)&&_n(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?Sf(t.name,n.name):a}makePost(t,n){const r=ia(t),i=qn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Dn(n,i)}maxPost(){const t=qn.EMPTY_NODE.updateChild(this.indexPath_,yg);return new Dn(qA,t)}toString(){return o_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW extends gx{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Sf(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Dn.MIN}maxPost(){return Dn.MAX}makePost(t,n){const r=ia(t);return new Dn(n,r)}toString(){return".value"}}const NW=new TW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(e){return{type:"value",snapshotNode:e}}function PW(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _W(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function pE(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function DW(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sa}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Pt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kd}hasEnd(){return this.endSet_}getIndexEndValue(){return Pt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qA}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Pt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sa}copy(){const t=new zB;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gE(e){const t={};if(e.isDefault())return t;let n;if(e.index_===sa?n="$priority":e.index_===NW?n="$value":e.index_===jd?n="$key":(Pt(e.index_ instanceof IW,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=zi(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=zi(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+zi(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=zi(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+zi(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function mE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==sa&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends i_{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mg("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Pt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=v0.getListenId_(t,r),l={};this.listens_[o]=l;const c=gE(t._queryParams);this.restRequest_(a+".json",c,(A,u)=>{let d=u;if(A===404&&(d=null,A=null),A===null&&this.onDataUpdate_(a,d,!1,r),Rd(this.listens_,o)===l){let h;A?A===401?h="permission_denied":h="rest_error:"+A:h="ok",i(h,null)}})}unlisten(t,n){const r=v0.getListenId_(t,n);delete this.listens_[r]}get(t){const n=gE(t._queryParams),r=t._path.toString(),i=new xF;return this.restRequest_(r+".json",n,(a,o)=>{let l=o;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+jQ(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=dB(l.responseText)}catch{is("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&is("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(){this.rootNode_=qn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){return{value:null,children:new Map}}function g_(e,t,n){if(kn(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=_n(t);e.children.has(r)||e.children.set(r,y0());const i=e.children.get(r);t=vr(t),g_(i,t,n)}}function gw(e,t,n){e.value!==null?n(t,e.value):UW(e,(r,i)=>{const a=new wr(t.toString()+"/"+r);gw(i,a,n)})}function UW(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Hs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=10*1e3,OW=30*1e3,RW=5*60*1e3;class QW{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LW(t);const r=vE+(OW-vE)*Math.random();hp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Hs(t,(i,a)=>{a>0&&Wl(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),hp(this.reportStats_.bind(this),Math.floor(Math.random()*2*RW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mo||(Mo={}));function m_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function v_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Mo.ACK_USER_WRITE,this.source=m_()}operationForChild(t){if(kn(this.path)){if(this.affectedTree.value!=null)return Pt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new wr(t));return new x0(rr(),n,this.revert)}}else return Pt(_n(this.path)===t,"operationForChild called for unrelated child."),new x0(vr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Mo.OVERWRITE}operationForChild(t){return kn(this.path)?new YA(this.source,rr(),this.snap.getImmediateChild(t)):new YA(this.source,vr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Mo.MERGE}operationForChild(t){if(kn(this.path)){const n=this.children.subtree(new wr(t));return n.isEmpty()?null:n.value?new YA(this.source,rr(),n.value):new Lp(this.source,rr(),n)}else return Pt(_n(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Lp(this.source,vr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kn(t))return this.isFullyInitialized()&&!this.filtered_;const n=_n(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function HW(e,t,n,r){const i=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(DW(o.childName,o.snapshotNode))}),Sh(e,i,"child_removed",t,r,n),Sh(e,i,"child_added",t,r,n),Sh(e,i,"child_moved",a,r,n),Sh(e,i,"child_changed",t,r,n),Sh(e,i,"value",t,r,n),i}function Sh(e,t,n,r,i,a){const o=r.filter(l=>l.type===n);o.sort((l,c)=>zW(e,l,c)),o.forEach(l=>{const c=$W(e,l,a);i.forEach(A=>{A.respondsTo(l.type)&&t.push(A.createEvent(c,e.query_))})})}function $W(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function zW(e,t,n){if(t.childName==null||n.childName==null)throw sg("Should only compare child_ events.");const r=new Dn(t.childName,t.snapshotNode),i=new Dn(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(e,t){return{eventCache:e,serverCache:t}}function pp(e,t,n,r){return x_(new WB(t,n,r),e.serverCache)}function b_(e,t,n,r){return x_(e.eventCache,new WB(t,n,r))}function mw(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function XA(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb;const WW=()=>(Fb||(Fb=new _a(Nz)),Fb);class pr{constructor(t,n=WW()){this.value=t,this.children=n}static fromObject(t){let n=new pr(null);return Hs(t,(r,i)=>{n=n.set(new wr(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:rr(),value:this.value};if(kn(t))return null;{const r=_n(t),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(vr(t),n);return a!=null?{path:Fi(new wr(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kn(t))return this;{const n=_n(t),r=this.children.get(n);return r!==null?r.subtree(vr(t)):new pr(null)}}set(t,n){if(kn(t))return new pr(n,this.children);{const r=_n(t),a=(this.children.get(r)||new pr(null)).set(vr(t),n),o=this.children.insert(r,a);return new pr(this.value,o)}}remove(t){if(kn(t))return this.children.isEmpty()?new pr(null):new pr(null,this.children);{const n=_n(t),r=this.children.get(n);if(r){const i=r.remove(vr(t));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new pr(null):new pr(this.value,a)}else return this}}get(t){if(kn(t))return this.value;{const n=_n(t),r=this.children.get(n);return r?r.get(vr(t)):null}}setTree(t,n){if(kn(t))return n;{const r=_n(t),a=(this.children.get(r)||new pr(null)).setTree(vr(t),n);let o;return a.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,a),new pr(this.value,o)}}fold(t){return this.fold_(rr(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Fi(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,rr(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(kn(t))return null;{const a=_n(t),o=this.children.get(a);return o?o.findOnPath_(vr(t),Fi(n,a),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,rr(),n)}foreachOnPath_(t,n,r){if(kn(t))return this;{this.value&&r(n,this.value);const i=_n(t),a=this.children.get(i);return a?a.foreachOnPath_(vr(t),Fi(n,i),r):new pr(null)}}foreach(t){this.foreach_(rr(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fi(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.writeTree_=t}static empty(){return new ho(new pr(null))}}function gp(e,t,n){if(kn(t))return new ho(new pr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let a=r.value;const o=_s(i,t);return a=a.updateChild(o,n),new ho(e.writeTree_.set(i,a))}else{const i=new pr(n),a=e.writeTree_.setTree(t,i);return new ho(a)}}}function yE(e,t,n){let r=e;return Hs(n,(i,a)=>{r=gp(r,Fi(t,i),a)}),r}function xE(e,t){if(kn(t))return ho.empty();{const n=e.writeTree_.setTree(t,new pr(null));return new ho(n)}}function vw(e,t){return ou(e,t)!=null}function ou(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(_s(n.path,t)):null}function bE(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sa,(r,i)=>{t.push(new Dn(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Dn(r,i.value))}),t}function _c(e,t){if(kn(t))return e;{const n=ou(e,t);return n!=null?new ho(new pr(n)):new ho(e.writeTree_.subtree(t))}}function yw(e){return e.writeTree_.isEmpty()}function Vd(e,t){return w_(rr(),e.writeTree_,t)}function w_(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(Pt(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=w_(Fi(e,i),a,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Fi(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e,t){return k_(t,e)}function KW(e,t,n,r,i){Pt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gp(e.visibleWrites,t,n)),e.lastWriteId=r}function VW(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function GW(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);Pt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&qW(l,r.path)?i=!1:fo(r.path,l.path)&&(a=!0)),o--}if(i){if(a)return YW(e),!0;if(r.snap)e.visibleWrites=xE(e.visibleWrites,r.path);else{const l=r.children;Hs(l,c=>{e.visibleWrites=xE(e.visibleWrites,Fi(r.path,c))})}return!0}else return!1}function qW(e,t){if(e.snap)return fo(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&fo(Fi(e.path,n),t))return!0;return!1}function YW(e){e.visibleWrites=B_(e.allWrites,XW,rr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function XW(e){return e.visible}function B_(e,t,n){let r=ho.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const o=a.path;let l;if(a.snap)fo(n,o)?(l=_s(n,o),r=gp(r,l,a.snap)):fo(o,n)&&(l=_s(o,n),r=gp(r,rr(),a.snap.getChild(l)));else if(a.children){if(fo(n,o))l=_s(n,o),r=yE(r,l,a.children);else if(fo(o,n))if(l=_s(o,n),kn(l))r=yE(r,rr(),a.children);else{const c=Rd(a.children,_n(l));if(c){const A=c.getChild(vr(l));r=gp(r,rr(),A)}}}else throw sg("WriteRecord should have .snap or .children")}}return r}function S_(e,t,n,r,i){if(!r&&!i){const a=ou(e.visibleWrites,t);if(a!=null)return a;{const o=_c(e.visibleWrites,t);if(yw(o))return n;if(n==null&&!vw(o,rr()))return null;{const l=n||qn.EMPTY_NODE;return Vd(o,l)}}}else{const a=_c(e.visibleWrites,t);if(!i&&yw(a))return n;if(!i&&n==null&&!vw(a,rr()))return null;{const o=function(A){return(A.visible||i)&&(!r||!~r.indexOf(A.writeId))&&(fo(A.path,t)||fo(t,A.path))},l=B_(e.allWrites,o,t),c=n||qn.EMPTY_NODE;return Vd(l,c)}}}function JW(e,t,n){let r=qn.EMPTY_NODE;const i=ou(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(sa,(a,o)=>{r=r.updateImmediateChild(a,o)}),r;if(n){const a=_c(e.visibleWrites,t);return n.forEachChild(sa,(o,l)=>{const c=Vd(_c(a,new wr(o)),l);r=r.updateImmediateChild(o,c)}),bE(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const a=_c(e.visibleWrites,t);return bE(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function ZW(e,t,n,r,i){Pt(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Fi(t,n);if(vw(e.visibleWrites,a))return null;{const o=_c(e.visibleWrites,a);return yw(o)?i.getChild(n):Vd(o,i.getChild(n))}}function eK(e,t,n,r){const i=Fi(t,n),a=ou(e.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const o=_c(e.visibleWrites,i);return Vd(o,r.getNode().getImmediateChild(n))}else return null}function tK(e,t){return ou(e.visibleWrites,t)}function nK(e,t,n,r,i,a,o){let l;const c=_c(e.visibleWrites,t),A=ou(c,rr());if(A!=null)l=A;else if(n!=null)l=Vd(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],d=o.getCompare(),h=a?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function rK(){return{visibleWrites:ho.empty(),allWrites:[],lastWriteId:-1}}function xw(e,t,n,r){return S_(e.writeTree,e.treePath,t,n,r)}function j_(e,t){return JW(e.writeTree,e.treePath,t)}function wE(e,t,n,r){return ZW(e.writeTree,e.treePath,t,n,r)}function b0(e,t){return tK(e.writeTree,Fi(e.treePath,t))}function iK(e,t,n,r,i,a){return nK(e.writeTree,e.treePath,t,n,r,i,a)}function KB(e,t,n){return eK(e.writeTree,e.treePath,t,n)}function E_(e,t){return k_(Fi(e.treePath,t),e.writeTree)}function k_(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Pt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Pt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,pE(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,_W(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,PW(r,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,pE(r,t.snapshotNode,i.oldSnap));else throw sg("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const I_=new sK;class VB{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new WB(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return KB(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:XA(this.viewCache_),a=iK(this.writes_,i,n,1,r,t);return a.length===0?null:a[0]}}function oK(e,t){Pt(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Pt(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function lK(e,t,n,r,i){const a=new aK;let o,l;if(n.type===Mo.OVERWRITE){const A=n;A.source.fromUser?o=bw(e,t,A.path,A.snap,r,i,a):(Pt(A.source.fromServer,"Unknown source."),l=A.source.tagged||t.serverCache.isFiltered()&&!kn(A.path),o=w0(e,t,A.path,A.snap,r,i,l,a))}else if(n.type===Mo.MERGE){const A=n;A.source.fromUser?o=AK(e,t,A.path,A.children,r,i,a):(Pt(A.source.fromServer,"Unknown source."),l=A.source.tagged||t.serverCache.isFiltered(),o=ww(e,t,A.path,A.children,r,i,l,a))}else if(n.type===Mo.ACK_USER_WRITE){const A=n;A.revert?o=fK(e,t,A.path,r,i,a):o=uK(e,t,A.path,A.affectedTree,r,i,a)}else if(n.type===Mo.LISTEN_COMPLETE)o=dK(e,t,n.path,r,a);else throw sg("Unknown operation type: "+n.type);const c=a.getChanges();return cK(t,o,c),{viewCache:o,changes:c}}function cK(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=mw(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(FW(mw(t)))}}function T_(e,t,n,r,i,a){const o=t.eventCache;if(b0(r,n)!=null)return t;{let l,c;if(kn(n))if(Pt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=XA(t),u=A instanceof qn?A:qn.EMPTY_NODE,d=j_(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{const A=xw(r,XA(t));l=e.filter.updateFullNode(t.eventCache.getNode(),A,a)}else{const A=_n(n);if(A===".priority"){Pt(Qc(n)===1,"Can't have a priority with additional path components");const u=o.getNode();c=t.serverCache.getNode();const d=wE(r,n,u,c);d!=null?l=e.filter.updatePriority(u,d):l=o.getNode()}else{const u=vr(n);let d;if(o.isCompleteForChild(A)){c=t.serverCache.getNode();const h=wE(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(A).updateChild(u,h):d=o.getNode().getImmediateChild(A)}else d=KB(r,A,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),A,d,u,i,a):l=o.getNode()}}return pp(t,l,o.isFullyInitialized()||kn(n),e.filter.filtersNodes())}}function w0(e,t,n,r,i,a,o,l){const c=t.serverCache;let A;const u=o?e.filter:e.filter.getIndexedFilter();if(kn(n))A=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);A=u.updateFullNode(c.getNode(),f,null)}else{const f=_n(n);if(!c.isCompleteForPath(n)&&Qc(n)>1)return t;const p=vr(n),v=c.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?A=u.updatePriority(c.getNode(),v):A=u.updateChild(c.getNode(),f,v,p,I_,null)}const d=b_(t,A,c.isFullyInitialized()||kn(n),u.filtersNodes()),h=new VB(i,d,a);return T_(e,d,n,i,h,l)}function bw(e,t,n,r,i,a,o){const l=t.eventCache;let c,A;const u=new VB(i,t,a);if(kn(n))A=e.filter.updateFullNode(t.eventCache.getNode(),r,o),c=pp(t,A,!0,e.filter.filtersNodes());else{const d=_n(n);if(d===".priority")A=e.filter.updatePriority(t.eventCache.getNode(),r),c=pp(t,A,l.isFullyInitialized(),l.isFiltered());else{const h=vr(n),f=l.getNode().getImmediateChild(d);let p;if(kn(h))p=r;else{const g=u.getCompleteChild(d);g!=null?s_(h)===".priority"&&g.getChild(l_(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=qn.EMPTY_NODE}if(f.equals(p))c=t;else{const g=e.filter.updateChild(l.getNode(),d,p,h,u,o);c=pp(t,g,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function CE(e,t){return e.eventCache.isCompleteForChild(t)}function AK(e,t,n,r,i,a,o){let l=t;return r.foreach((c,A)=>{const u=Fi(n,c);CE(t,_n(u))&&(l=bw(e,l,u,A,i,a,o))}),r.foreach((c,A)=>{const u=Fi(n,c);CE(t,_n(u))||(l=bw(e,l,u,A,i,a,o))}),l}function BE(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function ww(e,t,n,r,i,a,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,A;kn(n)?A=r:A=new pr(null).setTree(n,r);const u=t.serverCache.getNode();return A.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=t.serverCache.getNode().getImmediateChild(d),p=BE(e,f,h);c=w0(e,c,new wr(d),p,i,a,o,l)}}),A.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=t.serverCache.getNode().getImmediateChild(d),g=BE(e,p,h);c=w0(e,c,new wr(d),g,i,a,o,l)}}),c}function uK(e,t,n,r,i,a,o){if(b0(i,n)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(kn(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return w0(e,t,n,c.getNode().getChild(n),i,a,l,o);if(kn(n)){let A=new pr(null);return c.getNode().forEachChild(jd,(u,d)=>{A=A.set(new wr(u),d)}),ww(e,t,n,A,i,a,l,o)}else return t}else{let A=new pr(null);return r.foreach((u,d)=>{const h=Fi(n,u);c.isCompleteForPath(h)&&(A=A.set(u,c.getNode().getChild(h)))}),ww(e,t,n,A,i,a,l,o)}}function dK(e,t,n,r,i){const a=t.serverCache,o=b_(t,a.getNode(),a.isFullyInitialized()||kn(n),a.isFiltered());return T_(e,o,n,r,I_,i)}function fK(e,t,n,r,i,a){let o;if(b0(r,n)!=null)return t;{const l=new VB(r,t,i),c=t.eventCache.getNode();let A;if(kn(n)||_n(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=xw(r,XA(t));else{const d=t.serverCache.getNode();Pt(d instanceof qn,"serverChildren would be complete if leaf node"),u=j_(r,d)}u=u,A=e.filter.updateFullNode(c,u,a)}else{const u=_n(n);let d=KB(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?A=e.filter.updateChild(c,u,d,vr(n),l,a):t.eventCache.getNode().hasChild(u)?A=e.filter.updateChild(c,u,qn.EMPTY_NODE,vr(n),l,a):A=c,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=xw(r,XA(t)),o.isLeafNode()&&(A=e.filter.updateFullNode(A,o,a)))}return o=t.serverCache.isFullyInitialized()||b0(r,rr())!=null,pp(t,A,o,e.filter.filtersNodes())}}function hK(e,t){const n=XA(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!kn(t)&&!n.getImmediateChild(_n(t)).isEmpty())?n.getChild(t):null}function SE(e,t,n,r){t.type===Mo.MERGE&&t.source.queryId!==null&&(Pt(XA(e.viewCache_),"We should always have a full cache before handling merges"),Pt(mw(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=lK(e.processor_,i,t,n,r);return oK(e.processor_,a.viewCache),Pt(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,pK(e,a.changes,a.viewCache.eventCache.getNode())}function pK(e,t,n,r){const i=e.eventRegistrations_;return HW(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jE;function gK(e){Pt(!jE,"__referenceConstructor has already been defined"),jE=e}function GB(e,t,n,r){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return Pt(a!=null,"SyncTree gave us an op for an invalid query."),SE(a,t,n,r)}else{let a=[];for(const o of e.views.values())a=a.concat(SE(o,t,n,r));return a}}function qB(e,t){let n=null;for(const r of e.views.values())n=n||hK(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE;function mK(e){Pt(!EE,"__referenceConstructor has already been defined"),EE=e}class kE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pr(null),this.pendingWriteTree_=rK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vK(e,t,n,r,i){return KW(e.pendingWriteTree_,t,n,r,i),i?vx(e,new YA(m_(),t,n)):[]}function md(e,t,n=!1){const r=VW(e.pendingWriteTree_,t);if(GW(e.pendingWriteTree_,t)){let a=new pr(null);return r.snap!=null?a=a.set(rr(),!0):Hs(r.children,o=>{a=a.set(new wr(o),!0)}),vx(e,new x0(r.path,a,n))}else return[]}function mx(e,t,n){return vx(e,new YA(v_(),t,n))}function yK(e,t,n){const r=pr.fromObject(n);return vx(e,new Lp(v_(),t,r))}function xK(e,t,n,r){const i=__(e,r);if(i!=null){const a=D_(i),o=a.path,l=a.queryId,c=_s(o,t),A=new YA(y_(l),c,n);return M_(e,o,A)}else return[]}function bK(e,t,n,r){const i=__(e,r);if(i){const a=D_(i),o=a.path,l=a.queryId,c=_s(o,t),A=pr.fromObject(n),u=new Lp(y_(l),c,A);return M_(e,o,u)}else return[]}function N_(e,t,n){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,l)=>{const c=_s(o,t),A=qB(l,c);if(A)return A});return S_(i,t,a,n,!0)}function vx(e,t){return F_(t,e.syncPointTree_,null,C_(e.pendingWriteTree_,rr()))}function F_(e,t,n,r){if(kn(e.path))return P_(e,t,n,r);{const i=t.get(rr());n==null&&i!=null&&(n=qB(i,rr()));let a=[];const o=_n(e.path),l=e.operationForChild(o),c=t.children.get(o);if(c&&l){const A=n?n.getImmediateChild(o):null,u=E_(r,o);a=a.concat(F_(l,c,A,u))}return i&&(a=a.concat(GB(i,e,r,n))),a}}function P_(e,t,n,r){const i=t.get(rr());n==null&&i!=null&&(n=qB(i,rr()));let a=[];return t.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,A=E_(r,o),u=e.operationForChild(o);u&&(a=a.concat(P_(u,l,c,A)))}),i&&(a=a.concat(GB(i,e,r,n))),a}function __(e,t){return e.tagToQueryMap.get(t)}function D_(e){const t=e.indexOf("$");return Pt(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new wr(e.substr(0,t))}}function M_(e,t,n){const r=e.syncPointTree_.get(t);Pt(r,"Missing sync point for query tag that we're tracking");const i=C_(e.pendingWriteTree_,t);return GB(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new YB(n)}node(){return this.node_}}class XB{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Fi(this.path_,t);return new XB(this.syncTree_,n)}node(){return N_(this.syncTree_,this.path_)}}const wK=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},IE=function(e,t,n){if(!e||typeof e!="object")return e;if(Pt(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return CK(e[".sv"],t,n);if(typeof e[".sv"]=="object")return BK(e[".sv"],t);Pt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},CK=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Pt(!1,"Unexpected server value: "+e)}},BK=function(e,t,n){e.hasOwnProperty("increment")||Pt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Pt(!1,"Unexpected increment value: "+r);const i=t.node();if(Pt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},SK=function(e,t,n,r){return JB(t,new XB(n,e),r)},jK=function(e,t,n){return JB(e,new YB(t),n)};function JB(e,t,n){const r=e.getPriority().val(),i=IE(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,l=IE(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new ki(l,ia(i)):e}else{const o=e;return a=o,i!==o.getPriority().val()&&(a=a.updatePriority(new ki(i))),o.forEachChild(sa,(l,c)=>{const A=JB(c,t.getImmediateChild(l),n);A!==c&&(a=a.updateImmediateChild(l,A))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function e5(e,t){let n=t instanceof wr?t:new wr(t),r=e,i=_n(n);for(;i!==null;){const a=Rd(r.node.children,i)||{children:{},childCount:0};r=new ZB(i,r,a),n=vr(n),i=_n(n)}return r}function jf(e){return e.node.value}function U_(e,t){e.node.value=t,Cw(e)}function L_(e){return e.node.childCount>0}function EK(e){return jf(e)===void 0&&!L_(e)}function yx(e,t){Hs(e.node.children,(n,r)=>{t(new ZB(n,e,r))})}function O_(e,t,n,r){n&&t(e),yx(e,i=>{O_(i,t,!0)})}function kK(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function xg(e){return new wr(e.parent===null?e.name:xg(e.parent)+"/"+e.name)}function Cw(e){e.parent!==null&&IK(e.parent,e.name,e)}function IK(e,t,n){const r=EK(n),i=Wl(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Cw(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Cw(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=/[\[\].#$\/\u0000-\u001F\u007F]/,NK=/[\[\].#$\u0000-\u001F\u007F]/,Pb=10*1024*1024,R_=function(e){return typeof e=="string"&&e.length!==0&&!TK.test(e)},FK=function(e){return typeof e=="string"&&e.length!==0&&!NK.test(e)},PK=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),FK(e)},Q_=function(e,t,n){const r=n instanceof wr?new dW(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+mA(r));if(typeof t=="function")throw new Error(e+"contains a function "+mA(r)+" with contents = "+t.toString());if(OP(t))throw new Error(e+"contains "+t.toString()+" "+mA(r));if(typeof t=="string"&&t.length>Pb/3&&Dy(t)>Pb)throw new Error(e+"contains a string greater than "+Pb+" utf8 bytes "+mA(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(Hs(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!R_(o)))throw new Error(e+" contains an invalid key ("+o+") "+mA(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fW(r,o),Q_(e,l,r),hW(r)}),i&&a)throw new Error(e+' contains ".value" child '+mA(r)+" in addition to actual children.")}},_K=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!R_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PK(n))throw new Error(BQ(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function MK(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();n!==null&&!c_(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function lu(e,t,n){MK(e,n),UK(e,r=>fo(r,t)||fo(t,r))}function UK(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const a=i.path;t(a)?(LK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function LK(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();fp&&ra("event: "+n.toString()),vg(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK="repo_interrupt",RK=25;class QK{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=y0(),this.transactionQueueTree_=new ZB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HK(e,t,n){if(e.stats_=RB(e.repoInfo_),e.forceRestClient_||Uz())e.server_=new v0(e.repoInfo_,(r,i,a,o)=>{TE(e,r,i,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>NE(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new jl(e.repoInfo_,t,(r,i,a,o)=>{TE(e,r,i,a,o)},r=>{NE(e,r)},r=>{zK(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Hz(e.repoInfo_,()=>new QW(e.stats_,e.server_)),e.infoData_=new MW,e.infoSyncTree_=new kE({startListening:(r,i,a,o)=>{let l=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=mx(e.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),t5(e,"connected",!1),e.serverSyncTree_=new kE({startListening:(r,i,a,o)=>(e.server_.listen(r,a,i,(l,c)=>{const A=o(l,c);lu(e.eventQueue_,r._path,A)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function $K(e){const n=e.infoData_.getNode(new wr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function H_(e){return wK({timestamp:$K(e)})}function TE(e,t,n,r,i){e.dataUpdateCount++;const a=new wr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const c=l0(n,A=>ia(A));o=bK(e.serverSyncTree_,a,c,i)}else{const c=ia(n);o=xK(e.serverSyncTree_,a,c,i)}else if(r){const c=l0(n,A=>ia(A));o=yK(e.serverSyncTree_,a,c)}else{const c=ia(n);o=mx(e.serverSyncTree_,a,c)}let l=a;o.length>0&&(l=r5(e,a)),lu(e.eventQueue_,l,o)}function NE(e,t){t5(e,"connected",t),t===!1&&KK(e)}function zK(e,t){Hs(t,(n,r)=>{t5(e,n,r)})}function t5(e,t,n){const r=new wr("/.info/"+t),i=ia(n);e.infoData_.updateSnapshot(r,i);const a=mx(e.infoSyncTree_,r,i);lu(e.eventQueue_,r,a)}function WK(e){return e.nextWriteId_++}function KK(e){$_(e,"onDisconnectEvents");const t=H_(e),n=y0();gw(e.onDisconnect_,rr(),(i,a)=>{const o=SK(i,a,e.serverSyncTree_,t);g_(n,i,o)});let r=[];gw(n,rr(),(i,a)=>{r=r.concat(mx(e.serverSyncTree_,i,a));const o=YK(e,i);r5(e,o)}),e.onDisconnect_=y0(),lu(e.eventQueue_,rr(),r)}function VK(e){e.persistentConnection_&&e.persistentConnection_.interrupt(OK)}function $_(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ra(n,...t)}function z_(e,t,n){return N_(e.serverSyncTree_,t,n)||qn.EMPTY_NODE}function n5(e,t=e.transactionQueueTree_){if(t||xx(e,t),jf(t)){const n=K_(e,t);Pt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&GK(e,xg(t),n)}else L_(t)&&yx(t,n=>{n5(e,n)})}function GK(e,t,n){const r=n.map(A=>A.currentWriteId),i=z_(e,t,r);let a=i;const o=i.hash();for(let A=0;A<n.length;A++){const u=n[A];Pt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=_s(t,u.path);a=a.updateChild(d,u.currentOutputSnapshotRaw)}const l=a.val(!0),c=t;e.server_.put(c.toString(),l,A=>{$_(e,"transaction put response",{path:c.toString(),status:A});let u=[];if(A==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(md(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();xx(e,e5(e.transactionQueueTree_,t)),n5(e,e.transactionQueueTree_),lu(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)vg(d[h])}else{if(A==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{is("transaction at "+c.toString()+" failed: "+A);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=A}r5(e,t)}},o)}function r5(e,t){const n=W_(e,t),r=xg(n),i=K_(e,n);return qK(e,i,r),r}function qK(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],A=_s(n,c.path);let u=!1,d;if(Pt(A!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(md(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=RK)u=!0,d="maxretry",i=i.concat(md(e.serverSyncTree_,c.currentWriteId,!0));else{const h=z_(e,c.path,o);c.currentInputSnapshot=h;const f=t[l].update(h.val());if(f!==void 0){Q_("transaction failed: Data returned ",f,c.path);let p=ia(f);typeof f=="object"&&f!=null&&Wl(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=c.currentWriteId,x=H_(e),C=jK(p,h,x);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=C,c.currentWriteId=WK(e),o.splice(o.indexOf(v),1),i=i.concat(vK(e.serverSyncTree_,c.path,C,c.currentWriteId,c.applyLocally)),i=i.concat(md(e.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(md(e.serverSyncTree_,c.currentWriteId,!0))}lu(e.eventQueue_,n,i),i=[],u&&(t[l].status=2,function(h){setTimeout(h,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}xx(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)vg(r[l]);n5(e,e.transactionQueueTree_)}function W_(e,t){let n,r=e.transactionQueueTree_;for(n=_n(t);n!==null&&jf(r)===void 0;)r=e5(r,n),t=vr(t),n=_n(t);return r}function K_(e,t){const n=[];return V_(e,t,n),n.sort((r,i)=>r.order-i.order),n}function V_(e,t,n){const r=jf(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);yx(t,i=>{V_(e,i,n)})}function xx(e,t){const n=jf(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,U_(t,n.length>0?n:void 0)}yx(t,r=>{xx(e,r)})}function YK(e,t){const n=xg(W_(e,t)),r=e5(e.transactionQueueTree_,t);return kK(r,i=>{_b(e,i)}),_b(e,r),O_(r,i=>{_b(e,i)}),n}function _b(e,t){const n=jf(t);if(n){const r=[];let i=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Pt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Pt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(md(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?U_(t,void 0):n.length=a+1,lu(e.eventQueue_,xg(t),i);for(let o=0;o<r.length;o++)vg(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function JK(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):is(`Invalid query segment '${n}' in query '${e}'`)}return t}const FE=function(e,t){const n=ZK(e),r=n.namespace;n.domain==="firebase.com"&&_l(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_l("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Iz();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new XP(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new wr(n.pathString)}},ZK=function(e){let t="",n="",r="",i="",a="",o=!0,l="https",c=443;if(typeof e=="string"){let A=e.indexOf("//");A>=0&&(l=e.substring(0,A-1),e=e.substring(A+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=XK(e.substring(u,d)));const h=JK(e.substring(Math.min(e.length,d)));A=t.indexOf(":"),A>=0?(o=l==="https"||l==="wss",c=parseInt(t.substring(A+1),10)):A=t.length;const f=t.slice(0,A);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return kn(this._path)?null:s_(this._path)}get ref(){return new Ef(this._repo,this._path)}get _queryIdentifier(){const t=mE(this._queryParams),n=LB(t);return n==="{}"?"default":n}get _queryObject(){return mE(this._queryParams)}isEqual(t){if(t=og(t),!(t instanceof i5))return!1;const n=this._repo===t._repo,r=c_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+uW(this._path)}}class Ef extends i5{constructor(t,n){super(t,n,new zB,!1)}get parent(){const t=l_(this._path);return t===null?null:new Ef(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}gK(Ef);mK(Ef);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="FIREBASE_DATABASE_EMULATOR_HOST",Bw={};let tV=!1;function nV(e,t,n,r){e.repoInfo_=new XP(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function rV(e,t,n,r,i){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||_l("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ra("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=FE(a,i),l=o.repoInfo,c;typeof process<"u"&&J4&&(c=J4[eV]),c?(a=`http://${c}?ns=${l.namespace}`,o=FE(a,i),l=o.repoInfo):o.repoInfo.secure;const A=new Oz(e.name,e.options,t);_K("Invalid Firebase Database URL",o),kn(o.path)||_l("Database URL must point to the root of a Firebase Database (not including a child path).");const u=aV(l,e,A,new Lz(e.name,n));return new sV(u,e)}function iV(e,t){const n=Bw[t];(!n||n[e.key]!==e)&&_l(`Database ${t}(${e.repoInfo_}) has already been deleted.`),VK(e),delete n[e.key]}function aV(e,t,n,r){let i=Bw[t.name];i||(i={},Bw[t.name]=i);let a=i[e.toURLString()];return a&&_l("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new QK(e,tV,n,r),i[e.toURLString()]=a,a}class sV{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ef(this._repo,rr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&_l("Cannot call "+t+" on a deleted database.")}}function oV(e=wF(),t){const n=CF(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=BF("database");r&&lV(n,...r)}return n}function lV(e,t,n,r={}){e=og(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&_l("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_l('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Kv(Kv.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:PQ(r.mockUserToken,e.app.options.projectId);a=new Kv(o)}nV(i,t,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e){Cz(_Q),vF(new yF("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return rV(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),o0(Z4,eE,e),o0(Z4,eE,"esm2017")}jl.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};jl.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};cV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="type.googleapis.com/google.protobuf.Int64Value",uV="type.googleapis.com/google.protobuf.UInt64Value";function G_(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Sw(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Sw(t));if(typeof e=="function"||typeof e=="object")return G_(e,t=>Sw(t));throw new Error("Data cannot be encoded in JSON: "+e)}function C0(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case AV:case uV:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>C0(t)):typeof e=="function"||typeof e=="object"?G_(e,t=>C0(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ed extends SF{constructor(t,n,r){super(`${a5}/${t}`,n||""),this.details=r}}function dV(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fV(e,t){let n=dV(e),r=n,i;try{const a=t&&t.error;if(a){const o=a.status;if(typeof o=="string"){if(!PE[o])return new Ed("internal","internal");n=PE[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=C0(i))}}catch{}return n==="ok"?null:new Ed(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="us-central1";function pV(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Ed("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class gV{constructor(t,n,r,i,a=jw,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new hV(n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=jw}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function mV(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function vV(e,t,n){return r=>xV(e,t,r,{})}async function yV(e,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function xV(e,t,n,r){const i=e._url(t);return bV(e,i,n,r)}async function bV(e,t,n,r){n=Sw(n);const i={data:n},a={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(a.Authorization="Bearer "+o.authToken),o.messagingToken&&(a["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=o.appCheckToken);const l=r.timeout||7e4,c=pV(l),A=await Promise.race([yV(t,i,a,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!A)throw new Ed("cancelled","Firebase Functions instance was deleted.");const u=fV(A.status,A.json);if(u)throw u;if(!A.json)throw new Ed("internal","Response is not valid JSON object.");let d=A.json.data;if(typeof d>"u"&&(d=A.json.result),typeof d>"u")throw new Ed("internal","Response is missing data field.");return{data:C0(d)}}const _E="@firebase/functions",DE="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="auth-internal",CV="app-check-internal",BV="messaging-internal";function SV(e,t){const n=(r,{instanceIdentifier:i})=>{const a=r.getProvider("app").getImmediate(),o=r.getProvider(wV),l=r.getProvider(BV),c=r.getProvider(CV);return new gV(a,o,l,c,i,e)};vF(new yF(a5,n,"PUBLIC").setMultipleInstances(!0)),o0(_E,DE,t),o0(_E,DE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(e=wF(),t=jw){const r=CF(og(e),a5).getImmediate({identifier:t}),i=BF("functions");return i&&jV(r,...i),r}function jV(e,t,n){mV(og(e),t,n)}function Ai(e,t,n){return vV(og(e),t)}SV(fetch.bind(self));const EV={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},bg=DQ(EV),_e=MQ(bg,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),va=UQ(bg);LQ(va,RQ).catch(e=>{console.error("Error setting persistence:",e)});const ME=OQ(bg);oV(bg);const qo=kd(bg,"europe-west1"),q_=y.createContext(void 0),er=()=>{const e=y.useContext(q_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},kV=({children:e})=>{const[t,n]=y.useState(null),[r,i]=y.useState(null),[a,o]=y.useState(null),[l,c]=y.useState(!0);y.useEffect(()=>QQ(va,async f=>{if(console.log("🔄 Auth state changed:",(f==null?void 0:f.email)||"no user","at",new Date().toLocaleTimeString()),f)console.log("🔐 User authenticated:",{uid:f.uid,email:f.email,emailVerified:f.emailVerified,providerId:f.providerId,metadata:f.metadata});else{console.log("🚪 User signed out or session expired");const p=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",p?"exists":"not found")}if(f)try{console.log("🔍 Searching for admin with email:",f.email);const p=qt(Ct(_e,"admins"),vt("email","==",f.email)),g=await Mt(p);if(console.log("📊 Admin search result:",g.empty?"not found":"found"),g.empty)console.warn("Admin not found for user:",f.email),n(f),i(null),o(null);else{const v=g.docs[0],x={id:v.id,...v.data()};if(console.log("✅ Admin data loaded:",x),n(f),i(x),x.venueId){const C=await fn(wt(_e,"venues",x.venueId));if(C.exists()){const b=C.data();o({id:C.id,...b,timezone:b.timezone||"Europe/Moscow"})}}else x.role==="superadmin"&&o(null)}}catch(p){console.error("Error fetching admin data:",p),n(null),i(null),o(null)}else n(null),i(null),o(null);c(!1)}),[]);const d={user:t,admin:r,club:a,loading:l,logout:async()=>{try{await nw(va),n(null),i(null),o(null)}catch(h){console.error("Logout error:",h)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{console.log("Refreshing club data for venue:",r.venueId);const h=await fn(wt(_e,"venues",r.venueId));if(h.exists()){const f=h.data();console.log("Loaded venue data:",f),o({id:h.id,name:f.name||"",address:f.address||"",phone:f.phone||"",email:f.email||"",city:f.city||"",location:f.location,description:f.description,logoUrl:f.logoUrl,photos:f.photos||[],amenities:f.amenities,organizationType:f.organizationType,inn:f.inn,bankAccount:f.bankAccount,legalName:f.legalName,ogrn:f.ogrn,kpp:f.kpp,legalAddress:f.legalAddress,bankName:f.bankName,bankBik:f.bankBik,bankCorrespondentAccount:f.bankCorrespondentAccount,directorName:f.directorName,directorPosition:f.directorPosition,workingHours:f.workingHours,bookingDurations:f.bookingDurations,bookingSlotInterval:f.bookingSlotInterval,timezone:f.timezone||"Europe/Moscow"})}}catch(h){console.error("Error refreshing club data:",h)}}};return s.jsx(q_.Provider,{value:d,children:e})};function IV(e){return jt("MuiSvgIcon",e)}Et("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const TV=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],NV=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${st(t)}`,`fontSize${st(n)}`]};return It(i,IV,r)},FV=Ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${st(n.color)}`],t[`fontSize${st(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,a,o,l,c,A,u,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(o=a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((A=e.typography)==null||(u=A.pxToRem)==null?void 0:u.call(A,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(f=(e.vars||e).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[t.color]}}),B0=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:A,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=ot(r,TV),p=y.isValidElement(i)&&i.type==="svg",g=K({},r,{color:o,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:p}),v={};u||(v.viewBox=h);const x=NV(g);return s.jsxs(FV,K({as:l,className:et(x.root,a),focusable:"false",color:A,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?s.jsx("title",{children:d}):null]}))});B0.muiName="SvgIcon";function ht(e,t){function n(r,i){return s.jsx(B0,K({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=B0.muiName,y.memo(y.forwardRef(n))}function S0(e,t){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},S0(e,t)}function s5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S0(e,t)}function PV(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function _V(e,t){e.classList?e.classList.add(t):PV(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function UE(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function DV(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=UE(e.className,t):e.setAttribute("class",UE(e.className&&e.className.baseVal||"",t))}const LE={disabled:!1},j0=wn.createContext(null);var Y_=function(t){return t.scrollTop},Zh="unmounted",vA="exited",yA="entering",ld="entered",Ew="exiting",Xs=function(e){s5(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?l?(c=vA,a.appearStatus=yA):c=ld:r.unmountOnExit||r.mountOnEnter?c=Zh:c=vA,a.state={status:c},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===Zh?{status:vA}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==yA&&o!==ld&&(a=yA):(o===yA||o===ld)&&(a=Ew)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,o,l;return a=o=l=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:l}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===yA){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Fm.findDOMNode(this);o&&Y_(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vA&&this.setState({status:Zh})},n.performEnter=function(i){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Fm.findDOMNode(this),l],A=c[0],u=c[1],d=this.getTimeouts(),h=l?d.appear:d.enter;if(!i&&!o||LE.disabled){this.safeSetState({status:ld},function(){a.props.onEntered(A)});return}this.props.onEnter(A,u),this.safeSetState({status:yA},function(){a.props.onEntering(A,u),a.onTransitionEnd(h,function(){a.safeSetState({status:ld},function(){a.props.onEntered(A,u)})})})},n.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Fm.findDOMNode(this);if(!a||LE.disabled){this.safeSetState({status:vA},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ew},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:vA},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:Fm.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],A=c[0],u=c[1];this.props.addEndListener(A,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Zh)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=ot(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(j0.Provider,{value:null},typeof o=="function"?o(i,l):wn.cloneElement(wn.Children.only(o),l))},t}(wn.Component);Xs.contextType=j0;Xs.propTypes={};function Yu(){}Xs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yu,onEntering:Yu,onEntered:Yu,onExit:Yu,onExiting:Yu,onExited:Yu};Xs.UNMOUNTED=Zh;Xs.EXITED=vA;Xs.ENTERING=yA;Xs.ENTERED=ld;Xs.EXITING=Ew;var MV=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return _V(t,r)})},Db=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return DV(t,r)})},o5=function(e){s5(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var A=r.resolveArguments(l,c),u=A[0],d=A[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var A=r.resolveArguments(l,c),u=A[0],d=A[1],h=d?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var A=r.resolveArguments(l,c),u=A[0],d=A[1],h=d?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),A=c[0];r.removeClasses(A,"appear"),r.removeClasses(A,"enter"),r.addClass(A,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),A=c[0];r.addClass(A,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),A=c[0];r.removeClasses(A,"exit"),r.addClass(A,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,A=typeof c=="string",u=A&&c?c+"-":"",d=A?""+u+l:c[l],h=A?d+"-active":c[l+"Active"],f=A?d+"-done":c[l+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:f}},r}var n=t.prototype;return n.addClass=function(i,a,o){var l=this.getClassNames(a)[o+"ClassName"],c=this.getClassNames("enter"),A=c.doneClassName;a==="appear"&&o==="done"&&A&&(l+=" "+A),o==="active"&&i&&Y_(i),l&&(this.appliedClasses[a][o]=l,MV(i,l))},n.removeClasses=function(i,a){var o=this.appliedClasses[a],l=o.base,c=o.active,A=o.done;this.appliedClasses[a]={},l&&Db(i,l),c&&Db(i,c),A&&Db(i,A)},n.render=function(){var i=this.props;i.classNames;var a=ot(i,["classNames"]);return wn.createElement(Xs,K({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(wn.Component);o5.defaultProps={classNames:""};o5.propTypes={};function zt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l5(e,t){var n=function(a){return t&&y.isValidElement(a)?t(a):a},r=Object.create(null);return e&&y.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function UV(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var o,l={};for(var c in t){if(r[c])for(o=0;o<r[c].length;o++){var A=r[c][o];l[r[c][o]]=n(A)}l[c]=n(c)}for(o=0;o<i.length;o++)l[i[o]]=n(i[o]);return l}function IA(e,t,n){return n[t]!=null?n[t]:e.props[t]}function LV(e,t){return l5(e.children,function(n){return y.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:IA(n,"appear",e),enter:IA(n,"enter",e),exit:IA(n,"exit",e)})})}function OV(e,t,n){var r=l5(e.children),i=UV(t,r);return Object.keys(i).forEach(function(a){var o=i[a];if(y.isValidElement(o)){var l=a in t,c=a in r,A=t[a],u=y.isValidElement(A)&&!A.props.in;c&&(!l||u)?i[a]=y.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:IA(o,"exit",e),enter:IA(o,"enter",e)}):!c&&l&&!u?i[a]=y.cloneElement(o,{in:!1}):c&&l&&y.isValidElement(A)&&(i[a]=y.cloneElement(o,{onExited:n.bind(null,o),in:A.props.in,exit:IA(o,"exit",e),enter:IA(o,"enter",e)}))}}),i}var RV=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},QV={component:"div",childFactory:function(t){return t}},wg=function(e){s5(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=a.handleExited.bind(zt(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var o=a.children,l=a.handleExited,c=a.firstRender;return{children:c?LV(i,l):OV(i,o,l),firstRender:!1}},n.handleExited=function(i,a){var o=l5(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(l){var c=K({},l.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,a=i.component,o=i.childFactory,l=ot(i,["component","childFactory"]),c=this.state.contextValue,A=RV(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?wn.createElement(j0.Provider,{value:c},A):wn.createElement(j0.Provider,{value:c},wn.createElement(a,l,A))},t}(wn.Component);wg.propTypes={};wg.defaultProps=QV;const X_=e=>e.scrollTop;function Gd(e,t){var n,r;const{timeout:i,easing:a,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof a=="object"?a[t.mode]:a,delay:o.transitionDelay}}function HV(e){return jt("MuiCollapse",e)}Et("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const $V=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],zV=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return It(r,HV,n)},WV=Ke("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>K({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&K({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),KV=Ke("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>K({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),VV=Ke("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>K({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),bx=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiCollapse"}),{addEndListener:i,children:a,className:o,collapsedSize:l="0px",component:c,easing:A,in:u,onEnter:d,onEntered:h,onEntering:f,onExit:p,onExited:g,onExiting:v,orientation:x="vertical",style:C,timeout:b=NP.standard,TransitionComponent:w=Xs}=r,E=ot(r,$V),S=K({},r,{orientation:x,collapsedSize:l}),F=zV(S),N=qs(),P=jc(),Q=y.useRef(null),j=y.useRef(),k=typeof l=="number"?`${l}px`:l,T=x==="horizontal",D=T?"width":"height",R=y.useRef(null),H=br(n,R),z=W=>G=>{if(W){const se=R.current;G===void 0?W(se):W(se,G)}},V=()=>Q.current?Q.current[T?"clientWidth":"clientHeight"]:0,J=z((W,G)=>{Q.current&&T&&(Q.current.style.position="absolute"),W.style[D]=k,d&&d(W,G)}),te=z((W,G)=>{const se=V();Q.current&&T&&(Q.current.style.position="");const{duration:X,easing:ge}=Gd({style:C,timeout:b,easing:A},{mode:"enter"});if(b==="auto"){const ce=N.transitions.getAutoHeightDuration(se);W.style.transitionDuration=`${ce}ms`,j.current=ce}else W.style.transitionDuration=typeof X=="string"?X:`${X}ms`;W.style[D]=`${se}px`,W.style.transitionTimingFunction=ge,f&&f(W,G)}),Ae=z((W,G)=>{W.style[D]="auto",h&&h(W,G)}),U=z(W=>{W.style[D]=`${V()}px`,p&&p(W)}),O=z(g),M=z(W=>{const G=V(),{duration:se,easing:X}=Gd({style:C,timeout:b,easing:A},{mode:"exit"});if(b==="auto"){const ge=N.transitions.getAutoHeightDuration(G);W.style.transitionDuration=`${ge}ms`,j.current=ge}else W.style.transitionDuration=typeof se=="string"?se:`${se}ms`;W.style[D]=k,W.style.transitionTimingFunction=X,v&&v(W)}),L=W=>{b==="auto"&&P.start(j.current||0,W),i&&i(R.current,W)};return s.jsx(w,K({in:u,onEnter:J,onEntered:Ae,onEntering:te,onExit:U,onExited:O,onExiting:M,addEndListener:L,nodeRef:R,timeout:b==="auto"?null:b},E,{children:(W,G)=>s.jsx(WV,K({as:c,className:et(F.root,o,{entered:F.entered,exited:!u&&k==="0px"&&F.hidden}[W]),style:K({[T?"minWidth":"minHeight"]:k},C),ref:H},G,{ownerState:K({},S,{state:W}),children:s.jsx(KV,{ownerState:K({},S,{state:W}),className:F.wrapper,ref:Q,children:s.jsx(VV,{ownerState:K({},S,{state:W}),className:F.wrapperInner,children:a})})}))}))});bx.muiSupportAuto=!0;function GV(e){return jt("MuiPaper",e)}Et("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qV=["className","component","elevation","square","variant"],YV=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return It(a,GV,i)},XV=Ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return K({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&K({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Sn("#fff",X4(t.elevation))}, ${Sn("#fff",X4(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Pn=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiPaper"}),{className:i,component:a="div",elevation:o=1,square:l=!1,variant:c="elevation"}=r,A=ot(r,qV),u=K({},r,{component:a,elevation:o,square:l,variant:c}),d=YV(u);return s.jsx(XV,K({as:a,ownerState:u,className:et(d.root,i),ref:n},A))}),JV=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ZV=["component","slots","slotProps"],eG=["component"];function OE(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:a,getSlotOwnerState:o,internalForwardedProps:l}=t,c=ot(t,JV),{component:A,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=a,h=ot(a,ZV),f=u[e]||r,p=mP(d[e],i),g=gP(K({className:n},c,{externalForwardedProps:e==="root"?h:void 0,externalSlotProps:p})),{props:{component:v},internalRef:x}=g,C=ot(g.props,eG),b=br(x,p==null?void 0:p.ref,t.ref),w=o?o(C):{},E=K({},i,w),S=e==="root"?v||A:v,F=pd(f,K({},e==="root"&&!A&&!u[e]&&l,e!=="root"&&!u[e]&&l,C,S&&{as:S},{ref:b}),E);return Object.keys(w).forEach(N=>{delete F[N]}),[f,F]}function tG(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:o,in:l,onExited:c,timeout:A}=e,[u,d]=y.useState(!1),h=et(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+a,left:-(o/2)+i},p=et(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&d(!0),y.useEffect(()=>{if(!l&&c!=null){const g=setTimeout(c,A);return()=>{clearTimeout(g)}}},[c,l,A]),s.jsx("span",{className:h,style:f,children:s.jsx("span",{className:p})})}const Is=Et("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),nG=["center","classes","className"];let wx=e=>e,RE,QE,HE,$E;const kw=550,rG=80,iG=Kl(RE||(RE=wx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),aG=Kl(QE||(QE=wx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),sG=Kl(HE||(HE=wx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),oG=Ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),lG=Ke(tG,{name:"MuiTouchRipple",slot:"Ripple"})($E||($E=wx`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Is.rippleVisible,iG,kw,({theme:e})=>e.transitions.easing.easeInOut,Is.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Is.child,Is.childLeaving,aG,kw,({theme:e})=>e.transitions.easing.easeInOut,Is.childPulsate,sG,({theme:e})=>e.transitions.easing.easeInOut),cG=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:o}=r,l=ot(r,nG),[c,A]=y.useState([]),u=y.useRef(0),d=y.useRef(null);y.useEffect(()=>{d.current&&(d.current(),d.current=null)},[c]);const h=y.useRef(!1),f=jc(),p=y.useRef(null),g=y.useRef(null),v=y.useCallback(w=>{const{pulsate:E,rippleX:S,rippleY:F,rippleSize:N,cb:P}=w;A(Q=>[...Q,s.jsx(lG,{classes:{ripple:et(a.ripple,Is.ripple),rippleVisible:et(a.rippleVisible,Is.rippleVisible),ripplePulsate:et(a.ripplePulsate,Is.ripplePulsate),child:et(a.child,Is.child),childLeaving:et(a.childLeaving,Is.childLeaving),childPulsate:et(a.childPulsate,Is.childPulsate)},timeout:kw,pulsate:E,rippleX:S,rippleY:F,rippleSize:N},u.current)]),u.current+=1,d.current=P},[a]),x=y.useCallback((w={},E={},S=()=>{})=>{const{pulsate:F=!1,center:N=i||E.pulsate,fakeElement:P=!1}=E;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const Q=P?null:g.current,j=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let k,T,D;if(N||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)k=Math.round(j.width/2),T=Math.round(j.height/2);else{const{clientX:R,clientY:H}=w.touches&&w.touches.length>0?w.touches[0]:w;k=Math.round(R-j.left),T=Math.round(H-j.top)}if(N)D=Math.sqrt((2*j.width**2+j.height**2)/3),D%2===0&&(D+=1);else{const R=Math.max(Math.abs((Q?Q.clientWidth:0)-k),k)*2+2,H=Math.max(Math.abs((Q?Q.clientHeight:0)-T),T)*2+2;D=Math.sqrt(R**2+H**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{v({pulsate:F,rippleX:k,rippleY:T,rippleSize:D,cb:S})},f.start(rG,()=>{p.current&&(p.current(),p.current=null)})):v({pulsate:F,rippleX:k,rippleY:T,rippleSize:D,cb:S})},[i,v,f]),C=y.useCallback(()=>{x({},{pulsate:!0})},[x]),b=y.useCallback((w,E)=>{if(f.clear(),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{b(w,E)});return}p.current=null,A(S=>S.length>0?S.slice(1):S),d.current=E},[f]);return y.useImperativeHandle(n,()=>({pulsate:C,start:x,stop:b}),[C,x,b]),s.jsx(oG,K({className:et(Is.root,a.root,o),ref:g},l,{children:s.jsx(wg,{component:null,exit:!0,children:c})}))});function AG(e){return jt("MuiButtonBase",e)}const uG=Et("MuiButtonBase",["root","disabled","focusVisible"]),dG=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],fG=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=It({root:["root",t&&"disabled",n&&"focusVisible"]},AG,i);return n&&r&&(o.root+=` ${r}`),o},hG=Ke("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${uG.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yo=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:o,className:l,component:c="button",disabled:A=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:v,onDragLeave:x,onFocus:C,onFocusVisible:b,onKeyDown:w,onKeyUp:E,onMouseDown:S,onMouseLeave:F,onMouseUp:N,onTouchEnd:P,onTouchMove:Q,onTouchStart:j,tabIndex:k=0,TouchRippleProps:T,touchRippleRef:D,type:R}=r,H=ot(r,dG),z=y.useRef(null),V=y.useRef(null),J=br(V,D),{isFocusVisibleRef:te,onFocus:Ae,onBlur:U,ref:O}=fP(),[M,L]=y.useState(!1);A&&M&&L(!1),y.useImperativeHandle(i,()=>({focusVisible:()=>{L(!0),z.current.focus()}}),[]);const[W,G]=y.useState(!1);y.useEffect(()=>{G(!0)},[]);const se=W&&!u&&!A;y.useEffect(()=>{M&&h&&!u&&W&&V.current.pulsate()},[u,h,M,W]);function X(ke,rt,Ie=d){return pn(_t=>(rt&&rt(_t),!Ie&&V.current&&V.current[ke](_t),!0))}const ge=X("start",S),ce=X("stop",v),Y=X("stop",x),ne=X("stop",N),oe=X("stop",ke=>{M&&ke.preventDefault(),F&&F(ke)}),fe=X("start",j),ie=X("stop",P),Te=X("stop",Q),be=X("stop",ke=>{U(ke),te.current===!1&&L(!1),p&&p(ke)},!1),xe=pn(ke=>{z.current||(z.current=ke.currentTarget),Ae(ke),te.current===!0&&(L(!0),b&&b(ke)),C&&C(ke)}),Ne=()=>{const ke=z.current;return c&&c!=="button"&&!(ke.tagName==="A"&&ke.href)},Fe=y.useRef(!1),He=pn(ke=>{h&&!Fe.current&&M&&V.current&&ke.key===" "&&(Fe.current=!0,V.current.stop(ke,()=>{V.current.start(ke)})),ke.target===ke.currentTarget&&Ne()&&ke.key===" "&&ke.preventDefault(),w&&w(ke),ke.target===ke.currentTarget&&Ne()&&ke.key==="Enter"&&!A&&(ke.preventDefault(),g&&g(ke))}),Ge=pn(ke=>{h&&ke.key===" "&&V.current&&M&&!ke.defaultPrevented&&(Fe.current=!1,V.current.stop(ke,()=>{V.current.pulsate(ke)})),E&&E(ke),g&&ke.target===ke.currentTarget&&Ne()&&ke.key===" "&&!ke.defaultPrevented&&g(ke)});let lt=c;lt==="button"&&(H.href||H.to)&&(lt=f);const bt={};lt==="button"?(bt.type=R===void 0?"button":R,bt.disabled=A):(!H.href&&!H.to&&(bt.role="button"),A&&(bt["aria-disabled"]=A));const Ze=br(n,O,z),ye=K({},r,{centerRipple:a,component:c,disabled:A,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:k,focusVisible:M}),Ue=fG(ye);return s.jsxs(hG,K({as:lt,className:et(Ue.root,l),ownerState:ye,onBlur:be,onClick:g,onContextMenu:ce,onFocus:xe,onKeyDown:He,onKeyUp:Ge,onMouseDown:ge,onMouseLeave:oe,onMouseUp:ne,onDragLeave:Y,onTouchEnd:ie,onTouchMove:Te,onTouchStart:fe,ref:Ze,tabIndex:A?-1:k,type:R},bt,H,{children:[o,se?s.jsx(cG,K({ref:J,center:a},T)):null]}))});function pG(e){return jt("MuiAlert",e)}const zE=Et("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function gG(e){return jt("MuiIconButton",e)}const mG=Et("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),vG=["edge","children","className","color","disabled","disableFocusRipple","size"],yG=e=>{const{classes:t,disabled:n,color:r,edge:i,size:a}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${st(r)}`,i&&`edge${st(i)}`,`size${st(a)}`]};return It(o,gG,t)},xG=Ke(Yo,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${st(n.color)}`],n.edge&&t[`edge${st(n.edge)}`],t[`size${st(n.size)}`]]}})(({theme:e,ownerState:t})=>K({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return K({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&K({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":K({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${mG.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Pi=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiIconButton"}),{edge:i=!1,children:a,className:o,color:l="default",disabled:c=!1,disableFocusRipple:A=!1,size:u="medium"}=r,d=ot(r,vG),h=K({},r,{edge:i,color:l,disabled:c,disableFocusRipple:A,size:u}),f=yG(h);return s.jsx(xG,K({className:et(f.root,o),centerRipple:!0,focusRipple:!A,disabled:c,ref:n},d,{ownerState:h,children:a}))}),bG=ht(s.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),wG=ht(s.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),CG=ht(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),BG=ht(s.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),SG=ht(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),jG=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],EG=e=>{const{variant:t,color:n,severity:r,classes:i}=e,a={root:["root",`color${st(n||r)}`,`${t}${st(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return It(a,pG,i)},kG=Ke(Pn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${st(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?zd:Wd,n=e.palette.mode==="light"?Wd:zd;return K({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${zE.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${zE.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:K({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),IG=Ke("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),TG=Ke("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),WE=Ke("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),KE={success:s.jsx(bG,{fontSize:"inherit"}),warning:s.jsx(wG,{fontSize:"inherit"}),error:s.jsx(CG,{fontSize:"inherit"}),info:s.jsx(BG,{fontSize:"inherit"})},Kt=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiAlert"}),{action:i,children:a,className:o,closeText:l="Close",color:c,components:A={},componentsProps:u={},icon:d,iconMapping:h=KE,onClose:f,role:p="alert",severity:g="success",slotProps:v={},slots:x={},variant:C="standard"}=r,b=ot(r,jG),w=K({},r,{color:c,severity:g,variant:C,colorSeverity:c||g}),E=EG(w),S={slots:K({closeButton:A.CloseButton,closeIcon:A.CloseIcon},x),slotProps:K({},u,v)},[F,N]=OE("closeButton",{elementType:Pi,externalForwardedProps:S,ownerState:w}),[P,Q]=OE("closeIcon",{elementType:SG,externalForwardedProps:S,ownerState:w});return s.jsxs(kG,K({role:p,elevation:0,ownerState:w,className:et(E.root,o),ref:n},b,{children:[d!==!1?s.jsx(IG,{ownerState:w,className:E.icon,children:d||h[g]||KE[g]}):null,s.jsx(TG,{ownerState:w,className:E.message,children:a}),i!=null?s.jsx(WE,{ownerState:w,className:E.action,children:i}):null,i==null&&f?s.jsx(WE,{ownerState:w,className:E.action,children:s.jsx(F,K({size:"small","aria-label":l,title:l,color:"inherit",onClick:f},N,{children:s.jsx(P,K({fontSize:"small"},Q))}))}):null]}))});function NG(e){return jt("MuiTypography",e)}Et("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const FG=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],PG=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:o}=e,l={root:["root",a,e.align!=="inherit"&&`align${st(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return It(l,NG,o)},_G=Ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${st(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>K({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),VE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},DG={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},MG=e=>DG[e]||e,q=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTypography"}),i=MG(r.color),a=dg(K({},r,{color:i})),{align:o="inherit",className:l,component:c,gutterBottom:A=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=VE}=a,p=ot(a,FG),g=K({},a,{align:o,color:i,className:l,component:c,gutterBottom:A,noWrap:u,paragraph:d,variant:h,variantMapping:f}),v=c||(d?"p":f[h]||VE[h])||"span",x=PG(g);return s.jsx(_G,K({as:v,ref:n,ownerState:g,className:et(x.root,l)},p))});function UG(e){return jt("MuiAlertTitle",e)}Et("MuiAlertTitle",["root"]);const LG=["className"],OG=e=>{const{classes:t}=e;return It({root:["root"]},UG,t)},RG=Ke(q,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),qd=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiAlertTitle"}),{className:i}=r,a=ot(r,LG),o=r,l=OG(o);return s.jsx(RG,K({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:et(l.root,i)},a))});var c5={};Object.defineProperty(c5,"__esModule",{value:!0});var J_=c5.default=void 0,QG=$G(y),HG=FP;function Z_(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Z_=function(r){return r?n:t})(e)}function $G(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Z_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function zG(e){return Object.keys(e).length===0}function WG(e=null){const t=QG.useContext(HG.ThemeContext);return!t||zG(t)?e:t}J_=c5.default=WG;var Ua="top",$s="bottom",zs="right",La="left",A5="auto",Cg=[Ua,$s,zs,La],Yd="start",Op="end",KG="clippingParents",eD="viewport",jh="popper",VG="reference",GE=Cg.reduce(function(e,t){return e.concat([t+"-"+Yd,t+"-"+Op])},[]),tD=[].concat(Cg,[A5]).reduce(function(e,t){return e.concat([t,t+"-"+Yd,t+"-"+Op])},[]),GG="beforeRead",qG="read",YG="afterRead",XG="beforeMain",JG="main",ZG="afterMain",eq="beforeWrite",tq="write",nq="afterWrite",rq=[GG,qG,YG,XG,JG,ZG,eq,tq,nq];function Xo(e){return e?(e.nodeName||"").toLowerCase():null}function ls(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function JA(e){var t=ls(e).Element;return e instanceof t||e instanceof Element}function Os(e){var t=ls(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function u5(e){if(typeof ShadowRoot>"u")return!1;var t=ls(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function iq(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Os(a)||!Xo(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(o){var l=i[o];l===!1?a.removeAttribute(o):a.setAttribute(o,l===!0?"":l)}))})}function aq(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=o.reduce(function(c,A){return c[A]="",c},{});!Os(i)||!Xo(i)||(Object.assign(i.style,l),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}const sq={name:"applyStyles",enabled:!0,phase:"write",fn:iq,effect:aq,requires:["computeStyles"]};function zo(e){return e.split("-")[0]}var MA=Math.max,E0=Math.min,Xd=Math.round;function Iw(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nD(){return!/^((?!chrome|android).)*safari/i.test(Iw())}function Jd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Os(e)&&(i=e.offsetWidth>0&&Xd(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Xd(r.height)/e.offsetHeight||1);var o=JA(e)?ls(e):window,l=o.visualViewport,c=!nD()&&n,A=(r.left+(c&&l?l.offsetLeft:0))/i,u=(r.top+(c&&l?l.offsetTop:0))/a,d=r.width/i,h=r.height/a;return{width:d,height:h,top:u,right:A+d,bottom:u+h,left:A,x:A,y:u}}function d5(e){var t=Jd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rD(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&u5(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dl(e){return ls(e).getComputedStyle(e)}function oq(e){return["table","td","th"].indexOf(Xo(e))>=0}function Jc(e){return((JA(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cx(e){return Xo(e)==="html"?e:e.assignedSlot||e.parentNode||(u5(e)?e.host:null)||Jc(e)}function qE(e){return!Os(e)||Dl(e).position==="fixed"?null:e.offsetParent}function lq(e){var t=/firefox/i.test(Iw()),n=/Trident/i.test(Iw());if(n&&Os(e)){var r=Dl(e);if(r.position==="fixed")return null}var i=Cx(e);for(u5(i)&&(i=i.host);Os(i)&&["html","body"].indexOf(Xo(i))<0;){var a=Dl(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Bg(e){for(var t=ls(e),n=qE(e);n&&oq(n)&&Dl(n).position==="static";)n=qE(n);return n&&(Xo(n)==="html"||Xo(n)==="body"&&Dl(n).position==="static")?t:n||lq(e)||t}function f5(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mp(e,t,n){return MA(e,E0(t,n))}function cq(e,t,n){var r=mp(e,t,n);return r>n?n:r}function iD(){return{top:0,right:0,bottom:0,left:0}}function aD(e){return Object.assign({},iD(),e)}function sD(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Aq=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,aD(typeof t!="number"?t:sD(t,Cg))};function uq(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,l=zo(n.placement),c=f5(l),A=[La,zs].indexOf(l)>=0,u=A?"height":"width";if(!(!a||!o)){var d=Aq(i.padding,n),h=d5(a),f=c==="y"?Ua:La,p=c==="y"?$s:zs,g=n.rects.reference[u]+n.rects.reference[c]-o[c]-n.rects.popper[u],v=o[c]-n.rects.reference[c],x=Bg(a),C=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,b=g/2-v/2,w=d[f],E=C-h[u]-d[p],S=C/2-h[u]/2+b,F=mp(w,S,E),N=c;n.modifiersData[r]=(t={},t[N]=F,t.centerOffset=F-S,t)}}function dq(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||rD(t.elements.popper,i)&&(t.elements.arrow=i))}const fq={name:"arrow",enabled:!0,phase:"main",fn:uq,effect:dq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zd(e){return e.split("-")[1]}var hq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pq(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Xd(n*i)/i||0,y:Xd(r*i)/i||0}}function YE(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,A=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,v=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var x=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),b=La,w=Ua,E=window;if(A){var S=Bg(n),F="clientHeight",N="clientWidth";if(S===ls(n)&&(S=Jc(n),Dl(S).position!=="static"&&l==="absolute"&&(F="scrollHeight",N="scrollWidth")),S=S,i===Ua||(i===La||i===zs)&&a===Op){w=$s;var P=d&&S===E&&E.visualViewport?E.visualViewport.height:S[F];g-=P-r.height,g*=c?1:-1}if(i===La||(i===Ua||i===$s)&&a===Op){b=zs;var Q=d&&S===E&&E.visualViewport?E.visualViewport.width:S[N];f-=Q-r.width,f*=c?1:-1}}var j=Object.assign({position:l},A&&hq),k=u===!0?pq({x:f,y:g},ls(n)):{x:f,y:g};if(f=k.x,g=k.y,c){var T;return Object.assign({},j,(T={},T[w]=C?"0":"",T[b]=x?"0":"",T.transform=(E.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",T))}return Object.assign({},j,(t={},t[w]=C?g+"px":"",t[b]=x?f+"px":"",t.transform="",t))}function gq(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,l=n.roundOffsets,c=l===void 0?!0:l,A={placement:zo(t.placement),variation:Zd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,YE(Object.assign({},A,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,YE(Object.assign({},A,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const mq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gq,data:{}};var Lm={passive:!0};function vq(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,c=ls(t.elements.popper),A=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&A.forEach(function(u){u.addEventListener("scroll",n.update,Lm)}),l&&c.addEventListener("resize",n.update,Lm),function(){a&&A.forEach(function(u){u.removeEventListener("scroll",n.update,Lm)}),l&&c.removeEventListener("resize",n.update,Lm)}}const yq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vq,data:{}};var xq={left:"right",right:"left",bottom:"top",top:"bottom"};function Vv(e){return e.replace(/left|right|bottom|top/g,function(t){return xq[t]})}var bq={start:"end",end:"start"};function XE(e){return e.replace(/start|end/g,function(t){return bq[t]})}function h5(e){var t=ls(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function p5(e){return Jd(Jc(e)).left+h5(e).scrollLeft}function wq(e,t){var n=ls(e),r=Jc(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;var A=nD();(A||!A&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l+p5(e),y:c}}function Cq(e){var t,n=Jc(e),r=h5(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=MA(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=MA(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+p5(e),c=-r.scrollTop;return Dl(i||n).direction==="rtl"&&(l+=MA(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:l,y:c}}function g5(e){var t=Dl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function oD(e){return["html","body","#document"].indexOf(Xo(e))>=0?e.ownerDocument.body:Os(e)&&g5(e)?e:oD(Cx(e))}function vp(e,t){var n;t===void 0&&(t=[]);var r=oD(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=ls(r),o=i?[a].concat(a.visualViewport||[],g5(r)?r:[]):r,l=t.concat(o);return i?l:l.concat(vp(Cx(o)))}function Tw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Bq(e,t){var n=Jd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function JE(e,t,n){return t===eD?Tw(wq(e,n)):JA(t)?Bq(t,n):Tw(Cq(Jc(e)))}function Sq(e){var t=vp(Cx(e)),n=["absolute","fixed"].indexOf(Dl(e).position)>=0,r=n&&Os(e)?Bg(e):e;return JA(r)?t.filter(function(i){return JA(i)&&rD(i,r)&&Xo(i)!=="body"}):[]}function jq(e,t,n,r){var i=t==="clippingParents"?Sq(e):[].concat(t),a=[].concat(i,[n]),o=a[0],l=a.reduce(function(c,A){var u=JE(e,A,r);return c.top=MA(u.top,c.top),c.right=E0(u.right,c.right),c.bottom=E0(u.bottom,c.bottom),c.left=MA(u.left,c.left),c},JE(e,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function lD(e){var t=e.reference,n=e.element,r=e.placement,i=r?zo(r):null,a=r?Zd(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(i){case Ua:c={x:o,y:t.y-n.height};break;case $s:c={x:o,y:t.y+t.height};break;case zs:c={x:t.x+t.width,y:l};break;case La:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var A=i?f5(i):null;if(A!=null){var u=A==="y"?"height":"width";switch(a){case Yd:c[A]=c[A]-(t[u]/2-n[u]/2);break;case Op:c[A]=c[A]+(t[u]/2-n[u]/2);break}}return c}function Rp(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.strategy,o=a===void 0?e.strategy:a,l=n.boundary,c=l===void 0?KG:l,A=n.rootBoundary,u=A===void 0?eD:A,d=n.elementContext,h=d===void 0?jh:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,v=g===void 0?0:g,x=aD(typeof v!="number"?v:sD(v,Cg)),C=h===jh?VG:jh,b=e.rects.popper,w=e.elements[p?C:h],E=jq(JA(w)?w:w.contextElement||Jc(e.elements.popper),c,u,o),S=Jd(e.elements.reference),F=lD({reference:S,element:b,placement:i}),N=Tw(Object.assign({},b,F)),P=h===jh?N:S,Q={top:E.top-P.top+x.top,bottom:P.bottom-E.bottom+x.bottom,left:E.left-P.left+x.left,right:P.right-E.right+x.right},j=e.modifiersData.offset;if(h===jh&&j){var k=j[i];Object.keys(Q).forEach(function(T){var D=[zs,$s].indexOf(T)>=0?1:-1,R=[Ua,$s].indexOf(T)>=0?"y":"x";Q[T]+=k[R]*D})}return Q}function Eq(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,A=c===void 0?tD:c,u=Zd(r),d=u?l?GE:GE.filter(function(p){return Zd(p)===u}):Cg,h=d.filter(function(p){return A.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=Rp(e,{placement:g,boundary:i,rootBoundary:a,padding:o})[zo(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function kq(e){if(zo(e)===A5)return[];var t=Vv(e);return[XE(e),t,XE(t)]}function Iq(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,A=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,v=t.options.placement,x=zo(v),C=x===v,b=c||(C||!p?[Vv(v)]:kq(v)),w=[v].concat(b).reduce(function(M,L){return M.concat(zo(L)===A5?Eq(t,{placement:L,boundary:u,rootBoundary:d,padding:A,flipVariations:p,allowedAutoPlacements:g}):L)},[]),E=t.rects.reference,S=t.rects.popper,F=new Map,N=!0,P=w[0],Q=0;Q<w.length;Q++){var j=w[Q],k=zo(j),T=Zd(j)===Yd,D=[Ua,$s].indexOf(k)>=0,R=D?"width":"height",H=Rp(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:h,padding:A}),z=D?T?zs:La:T?$s:Ua;E[R]>S[R]&&(z=Vv(z));var V=Vv(z),J=[];if(a&&J.push(H[k]<=0),l&&J.push(H[z]<=0,H[V]<=0),J.every(function(M){return M})){P=j,N=!1;break}F.set(j,J)}if(N)for(var te=p?3:1,Ae=function(L){var W=w.find(function(G){var se=F.get(G);if(se)return se.slice(0,L).every(function(X){return X})});if(W)return P=W,"break"},U=te;U>0;U--){var O=Ae(U);if(O==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}const Tq={name:"flip",enabled:!0,phase:"main",fn:Iq,requiresIfExists:["offset"],data:{_skip:!1}};function ZE(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ek(e){return[Ua,zs,$s,La].some(function(t){return e[t]>=0})}function Nq(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Rp(t,{elementContext:"reference"}),l=Rp(t,{altBoundary:!0}),c=ZE(o,r),A=ZE(l,i,a),u=ek(c),d=ek(A);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:A,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Fq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nq};function Pq(e,t,n){var r=zo(e),i=[La,Ua].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=a[0],l=a[1];return o=o||0,l=(l||0)*i,[La,zs].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function _q(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=tD.reduce(function(u,d){return u[d]=Pq(d,t.rects,a),u},{}),l=o[t.placement],c=l.x,A=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=A),t.modifiersData[r]=o}const Dq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_q};function Mq(e){var t=e.state,n=e.name;t.modifiersData[n]=lD({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Uq={name:"popperOffsets",enabled:!0,phase:"read",fn:Mq,data:{}};function Lq(e){return e==="x"?"y":"x"}function Oq(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,A=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,v=Rp(t,{boundary:c,rootBoundary:A,padding:d,altBoundary:u}),x=zo(t.placement),C=Zd(t.placement),b=!C,w=f5(x),E=Lq(w),S=t.modifiersData.popperOffsets,F=t.rects.reference,N=t.rects.popper,P=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,Q=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(S){if(a){var T,D=w==="y"?Ua:La,R=w==="y"?$s:zs,H=w==="y"?"height":"width",z=S[w],V=z+v[D],J=z-v[R],te=f?-N[H]/2:0,Ae=C===Yd?F[H]:N[H],U=C===Yd?-N[H]:-F[H],O=t.elements.arrow,M=f&&O?d5(O):{width:0,height:0},L=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:iD(),W=L[D],G=L[R],se=mp(0,F[H],M[H]),X=b?F[H]/2-te-se-W-Q.mainAxis:Ae-se-W-Q.mainAxis,ge=b?-F[H]/2+te+se+G+Q.mainAxis:U+se+G+Q.mainAxis,ce=t.elements.arrow&&Bg(t.elements.arrow),Y=ce?w==="y"?ce.clientTop||0:ce.clientLeft||0:0,ne=(T=j==null?void 0:j[w])!=null?T:0,oe=z+X-ne-Y,fe=z+ge-ne,ie=mp(f?E0(V,oe):V,z,f?MA(J,fe):J);S[w]=ie,k[w]=ie-z}if(l){var Te,be=w==="x"?Ua:La,xe=w==="x"?$s:zs,Ne=S[E],Fe=E==="y"?"height":"width",He=Ne+v[be],Ge=Ne-v[xe],lt=[Ua,La].indexOf(x)!==-1,bt=(Te=j==null?void 0:j[E])!=null?Te:0,Ze=lt?He:Ne-F[Fe]-N[Fe]-bt+Q.altAxis,ye=lt?Ne+F[Fe]+N[Fe]-bt-Q.altAxis:Ge,Ue=f&&lt?cq(Ze,Ne,ye):mp(f?Ze:He,Ne,f?ye:Ge);S[E]=Ue,k[E]=Ue-Ne}t.modifiersData[r]=k}}const Rq={name:"preventOverflow",enabled:!0,phase:"main",fn:Oq,requiresIfExists:["offset"]};function Qq(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Hq(e){return e===ls(e)||!Os(e)?h5(e):Qq(e)}function $q(e){var t=e.getBoundingClientRect(),n=Xd(t.width)/e.offsetWidth||1,r=Xd(t.height)/e.offsetHeight||1;return n!==1||r!==1}function zq(e,t,n){n===void 0&&(n=!1);var r=Os(t),i=Os(t)&&$q(t),a=Jc(t),o=Jd(e,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Xo(t)!=="body"||g5(a))&&(l=Hq(t)),Os(t)?(c=Jd(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=p5(a))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function Wq(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&i(c)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function Kq(e){var t=Wq(e);return rq.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Vq(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Gq(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var tk={placement:"bottom",modifiers:[],strategy:"absolute"};function nk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function qq(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?tk:i;return function(l,c,A){A===void 0&&(A=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},tk,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(x){var C=typeof x=="function"?x(u.options):x;g(),u.options=Object.assign({},a,u.options,C),u.scrollParents={reference:JA(l)?vp(l):l.contextElement?vp(l.contextElement):[],popper:vp(c)};var b=Kq(Gq([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(w){return w.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var x=u.elements,C=x.reference,b=x.popper;if(nk(C,b)){u.rects={reference:zq(C,Bg(b),u.options.strategy==="fixed"),popper:d5(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Q){return u.modifiersData[Q.name]=Object.assign({},Q.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var E=u.orderedModifiers[w],S=E.fn,F=E.options,N=F===void 0?{}:F,P=E.name;typeof S=="function"&&(u=S({state:u,options:N,name:P,instance:f})||u)}}}},update:Vq(function(){return new Promise(function(v){f.forceUpdate(),v(u)})}),destroy:function(){g(),h=!0}};if(!nk(l,c))return f;f.setOptions(A).then(function(v){!h&&A.onFirstUpdate&&A.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var x=v.name,C=v.options,b=C===void 0?{}:C,w=v.effect;if(typeof w=="function"){var E=w({state:u,name:x,instance:f,options:b}),S=function(){};d.push(E||S)}})}function g(){d.forEach(function(v){return v()}),d=[]}return f}}var Yq=[yq,Uq,mq,sq,Dq,Tq,Rq,fq,Fq],Xq=qq({defaultModifiers:Yq});function Jq(e){return typeof e=="function"?e():e}const cD=y.forwardRef(function(t,n){const{children:r,container:i,disablePortal:a=!1}=t,[o,l]=y.useState(null),c=br(y.isValidElement(r)?su(r):null,n);if(la(()=>{a||l(Jq(i)||document.body)},[i,a]),la(()=>{if(o&&!a)return Aw(n,o),()=>{Aw(n,null)}},[n,o,a]),a){if(y.isValidElement(r)){const A={ref:c};return y.cloneElement(r,A)}return s.jsx(y.Fragment,{children:r})}return s.jsx(y.Fragment,{children:o&&_y.createPortal(r,o)})});function Zq(e){return jt("MuiPopper",e)}Et("MuiPopper",["root"]);const eY=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],tY=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function nY(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Nw(e){return typeof e=="function"?e():e}function rY(e){return e.nodeType!==void 0}const iY=e=>{const{classes:t}=e;return It({root:["root"]},Zq,t)},aY={},sY=y.forwardRef(function(t,n){var r;const{anchorEl:i,children:a,direction:o,disablePortal:l,modifiers:c,open:A,placement:u,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:g}=t,v=ot(t,eY),x=y.useRef(null),C=br(x,n),b=y.useRef(null),w=br(b,h),E=y.useRef(w);la(()=>{E.current=w},[w]),y.useImperativeHandle(h,()=>b.current,[]);const S=nY(u,o),[F,N]=y.useState(S),[P,Q]=y.useState(Nw(i));y.useEffect(()=>{b.current&&b.current.forceUpdate()}),y.useEffect(()=>{i&&Q(Nw(i))},[i]),la(()=>{if(!P||!A)return;const R=V=>{N(V.placement)};let H=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{R(V)}}];c!=null&&(H=H.concat(c)),d&&d.modifiers!=null&&(H=H.concat(d.modifiers));const z=Xq(P,x.current,K({placement:S},d,{modifiers:H}));return E.current(z),()=>{z.destroy(),E.current(null)}},[P,l,c,A,d,S]);const j={placement:F};g!==null&&(j.TransitionProps=g);const k=iY(t),T=(r=p.root)!=null?r:"div",D=Rs({elementType:T,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:C},ownerState:t,className:k.root});return s.jsx(T,K({},D,{children:typeof a=="function"?a(j):a}))}),oY=y.forwardRef(function(t,n){const{anchorEl:r,children:i,container:a,direction:o="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:A,open:u,placement:d="bottom",popperOptions:h=aY,popperRef:f,style:p,transition:g=!1,slotProps:v={},slots:x={}}=t,C=ot(t,tY),[b,w]=y.useState(!0),E=()=>{w(!1)},S=()=>{w(!0)};if(!c&&!u&&(!g||b))return null;let F;if(a)F=a;else if(r){const Q=Nw(r);F=Q&&rY(Q)?xi(Q).body:xi(null).body}const N=!u&&c&&(!g||b)?"none":void 0,P=g?{in:u,onEnter:E,onExited:S}:void 0;return s.jsx(cD,{disablePortal:l,container:F,children:s.jsx(sY,K({anchorEl:r,direction:o,disablePortal:l,modifiers:A,ref:n,open:g?!b:u,placement:d,popperOptions:h,popperRef:f,slotProps:v,slots:x},C,{style:K({position:"fixed",top:0,left:0,display:N},p),TransitionProps:P,children:i}))})}),lY=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],cY=Ke(oY,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),AD=y.forwardRef(function(t,n){var r;const i=J_(),a=Wt({props:t,name:"MuiPopper"}),{anchorEl:o,component:l,components:c,componentsProps:A,container:u,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:v,popperRef:x,transition:C,slots:b,slotProps:w}=a,E=ot(a,lY),S=(r=b==null?void 0:b.root)!=null?r:c==null?void 0:c.Root,F=K({anchorEl:o,container:u,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:v,popperRef:x,transition:C},E);return s.jsx(cY,K({as:l,direction:i==null?void 0:i.direction,slots:{root:S},slotProps:w??A},F,{ref:n}))}),AY=ht(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function uY(e){return jt("MuiChip",e)}const Rn=Et("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),dY=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],fY=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:a,onDelete:o,clickable:l,variant:c}=e,A={root:["root",c,n&&"disabled",`size${st(r)}`,`color${st(i)}`,l&&"clickable",l&&`clickableColor${st(i)}`,o&&"deletable",o&&`deletableColor${st(i)}`,`${c}${st(i)}`],label:["label",`label${st(r)}`],avatar:["avatar",`avatar${st(r)}`,`avatarColor${st(i)}`],icon:["icon",`icon${st(r)}`,`iconColor${st(a)}`],deleteIcon:["deleteIcon",`deleteIcon${st(r)}`,`deleteIconColor${st(i)}`,`deleteIcon${st(c)}Color${st(i)}`]};return It(A,uY,t)},hY=Ke("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:a,onDelete:o,size:l,variant:c}=n;return[{[`& .${Rn.avatar}`]:t.avatar},{[`& .${Rn.avatar}`]:t[`avatar${st(l)}`]},{[`& .${Rn.avatar}`]:t[`avatarColor${st(r)}`]},{[`& .${Rn.icon}`]:t.icon},{[`& .${Rn.icon}`]:t[`icon${st(l)}`]},{[`& .${Rn.icon}`]:t[`iconColor${st(i)}`]},{[`& .${Rn.deleteIcon}`]:t.deleteIcon},{[`& .${Rn.deleteIcon}`]:t[`deleteIcon${st(l)}`]},{[`& .${Rn.deleteIcon}`]:t[`deleteIconColor${st(r)}`]},{[`& .${Rn.deleteIcon}`]:t[`deleteIcon${st(c)}Color${st(r)}`]},t.root,t[`size${st(l)}`],t[`color${st(r)}`],a&&t.clickable,a&&r!=="default"&&t[`clickableColor${st(r)})`],o&&t.deletable,o&&r!=="default"&&t[`deletableColor${st(r)}`],t[c],t[`${c}${st(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return K({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Rn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Rn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Rn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Rn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Rn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Rn.icon}`]:K({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&K({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Rn.deleteIcon}`]:K({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Sn(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Sn(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Sn(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Rn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Rn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>K({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Rn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Rn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>K({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Rn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Rn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Rn.avatar}`]:{marginLeft:4},[`& .${Rn.avatarSmall}`]:{marginLeft:2},[`& .${Rn.icon}`]:{marginLeft:4},[`& .${Rn.iconSmall}`]:{marginLeft:2},[`& .${Rn.deleteIcon}`]:{marginRight:5},[`& .${Rn.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Sn(e.palette[t.color].main,.7)}`,[`&.${Rn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Rn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Sn(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Rn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Sn(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),pY=Ke("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${st(r)}`]]}})(({ownerState:e})=>K({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function rk(e){return e.key==="Backspace"||e.key==="Delete"}const Gn=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiChip"}),{avatar:i,className:a,clickable:o,color:l="default",component:c,deleteIcon:A,disabled:u=!1,icon:d,label:h,onClick:f,onDelete:p,onKeyDown:g,onKeyUp:v,size:x="medium",variant:C="filled",tabIndex:b,skipFocusWhenDisabled:w=!1}=r,E=ot(r,dY),S=y.useRef(null),F=br(S,n),N=J=>{J.stopPropagation(),p&&p(J)},P=J=>{J.currentTarget===J.target&&rk(J)&&J.preventDefault(),g&&g(J)},Q=J=>{J.currentTarget===J.target&&(p&&rk(J)?p(J):J.key==="Escape"&&S.current&&S.current.blur()),v&&v(J)},j=o!==!1&&f?!0:o,k=j||p?Yo:c||"div",T=K({},r,{component:k,disabled:u,size:x,color:l,iconColor:y.isValidElement(d)&&d.props.color||l,onDelete:!!p,clickable:j,variant:C}),D=fY(T),R=k===Yo?K({component:c||"div",focusVisibleClassName:D.focusVisible},p&&{disableRipple:!0}):{};let H=null;p&&(H=A&&y.isValidElement(A)?y.cloneElement(A,{className:et(A.props.className,D.deleteIcon),onClick:N}):s.jsx(AY,{className:et(D.deleteIcon),onClick:N}));let z=null;i&&y.isValidElement(i)&&(z=y.cloneElement(i,{className:et(D.avatar,i.props.className)}));let V=null;return d&&y.isValidElement(d)&&(V=y.cloneElement(d,{className:et(D.icon,d.props.className)})),s.jsxs(hY,K({as:k,className:et(D.root,a),disabled:j&&u?!0:void 0,onClick:f,onKeyDown:P,onKeyUp:Q,ref:F,tabIndex:w&&u?-1:b,ownerState:T},R,E,{children:[z||V,s.jsx(pY,{className:et(D.label),ownerState:T,children:h}),H]}))}),gY=["onChange","maxRows","minRows","style","value"];function Om(e){return parseInt(e,10)||0}const mY={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function vY(e){for(const t in e)return!1;return!0}function ik(e){return vY(e)||e.outerHeightStyle===0&&!e.overflowing}const yY=y.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:a=1,style:o,value:l}=t,c=ot(t,gY),{current:A}=y.useRef(l!=null),u=y.useRef(null),d=br(n,u),h=y.useRef(null),f=y.useRef(null),p=y.useCallback(()=>{const b=u.current,w=f.current;if(!b||!w)return;const S=Pl(b).getComputedStyle(b);if(S.width==="0px")return{outerHeightStyle:0,overflowing:!1};w.style.width=S.width,w.value=b.value||t.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const F=S.boxSizing,N=Om(S.paddingBottom)+Om(S.paddingTop),P=Om(S.borderBottomWidth)+Om(S.borderTopWidth),Q=w.scrollHeight;w.value="x";const j=w.scrollHeight;let k=Q;a&&(k=Math.max(Number(a)*j,k)),i&&(k=Math.min(Number(i)*j,k)),k=Math.max(k,j);const T=k+(F==="border-box"?N+P:0),D=Math.abs(k-Q)<=1;return{outerHeightStyle:T,overflowing:D}},[i,a,t.placeholder]),g=pn(()=>{const b=u.current,w=p();if(!b||!w||ik(w))return!1;const E=w.outerHeightStyle;return h.current!=null&&h.current!==E}),v=y.useCallback(()=>{const b=u.current,w=p();if(!b||!w||ik(w))return;const E=w.outerHeightStyle;h.current!==E&&(h.current=E,b.style.height=`${E}px`),b.style.overflow=w.overflowing?"hidden":""},[p]),x=y.useRef(-1);la(()=>{const b=fx(v),w=u==null?void 0:u.current;if(!w)return;const E=Pl(w);E.addEventListener("resize",b);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(()=>{g()&&(S.unobserve(w),cancelAnimationFrame(x.current),v(),x.current=requestAnimationFrame(()=>{S.observe(w)}))}),S.observe(w)),()=>{b.clear(),cancelAnimationFrame(x.current),E.removeEventListener("resize",b),S&&S.disconnect()}},[p,v,g]),la(()=>{v()});const C=b=>{A||v(),r&&r(b)};return s.jsxs(y.Fragment,{children:[s.jsx("textarea",K({value:l,onChange:C,ref:d,rows:a,style:o},c)),s.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:K({},mY.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function Zc({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Bx=y.createContext(void 0);function tl(){return y.useContext(Bx)}function ak(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function k0(e,t=!1){return e&&(ak(e.value)&&e.value!==""||t&&ak(e.defaultValue)&&e.defaultValue!=="")}function xY(e){return e.startAdornment}function bY(e){return jt("MuiInputBase",e)}const ef=Et("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),wY=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Sx=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${st(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},jx=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},CY=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:a,focused:o,formControl:l,fullWidth:c,hiddenLabel:A,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e,g={root:["root",`color${st(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",h&&h!=="medium"&&`size${st(h)}`,u&&"multiline",f&&"adornedStart",a&&"adornedEnd",A&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",A&&"inputHiddenLabel",f&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]};return It(g,bY,t)},Ex=Ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Sx})(({theme:e,ownerState:t})=>K({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ef.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&K({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),kx=Ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jx})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=K({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return K({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ef.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${ef.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),BY=s.jsx(DP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),m5=y.forwardRef(function(t,n){var r;const i=Wt({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:l,className:c,components:A={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:v,inputComponent:x="input",inputProps:C={},inputRef:b,maxRows:w,minRows:E,multiline:S=!1,name:F,onBlur:N,onChange:P,onClick:Q,onFocus:j,onKeyDown:k,onKeyUp:T,placeholder:D,readOnly:R,renderSuffix:H,rows:z,slotProps:V={},slots:J={},startAdornment:te,type:Ae="text",value:U}=i,O=ot(i,wY),M=C.value!=null?C.value:U,{current:L}=y.useRef(M!=null),W=y.useRef(),G=y.useCallback(Ue=>{},[]),se=br(W,b,C.ref,G),[X,ge]=y.useState(!1),ce=tl(),Y=Zc({props:i,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Y.focused=ce?ce.focused:X,y.useEffect(()=>{!ce&&h&&X&&(ge(!1),N&&N())},[ce,h,X,N]);const ne=ce&&ce.onFilled,oe=ce&&ce.onEmpty,fe=y.useCallback(Ue=>{k0(Ue)?ne&&ne():oe&&oe()},[ne,oe]);la(()=>{L&&fe({value:M})},[M,fe,L]);const ie=Ue=>{if(Y.disabled){Ue.stopPropagation();return}j&&j(Ue),C.onFocus&&C.onFocus(Ue),ce&&ce.onFocus?ce.onFocus(Ue):ge(!0)},Te=Ue=>{N&&N(Ue),C.onBlur&&C.onBlur(Ue),ce&&ce.onBlur?ce.onBlur(Ue):ge(!1)},be=(Ue,...ke)=>{if(!L){const rt=Ue.target||W.current;if(rt==null)throw new Error(Fl(1));fe({value:rt.value})}C.onChange&&C.onChange(Ue,...ke),P&&P(Ue,...ke)};y.useEffect(()=>{fe(W.current)},[]);const xe=Ue=>{W.current&&Ue.currentTarget===Ue.target&&W.current.focus(),Q&&Q(Ue)};let Ne=x,Fe=C;S&&Ne==="input"&&(z?Fe=K({type:void 0,minRows:z,maxRows:z},Fe):Fe=K({type:void 0,maxRows:w,minRows:E},Fe),Ne=yY);const He=Ue=>{fe(Ue.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};y.useEffect(()=>{ce&&ce.setAdornedStart(!!te)},[ce,te]);const Ge=K({},i,{color:Y.color||"primary",disabled:Y.disabled,endAdornment:p,error:Y.error,focused:Y.focused,formControl:ce,fullWidth:g,hiddenLabel:Y.hiddenLabel,multiline:S,size:Y.size,startAdornment:te,type:Ae}),lt=CY(Ge),bt=J.root||A.Root||Ex,Ze=V.root||u.root||{},ye=J.input||A.Input||kx;return Fe=K({},Fe,(r=V.input)!=null?r:u.input),s.jsxs(y.Fragment,{children:[!f&&BY,s.jsxs(bt,K({},Ze,!$d(bt)&&{ownerState:K({},Ge,Ze.ownerState)},{ref:n,onClick:xe},O,{className:et(lt.root,Ze.className,c,R&&"MuiInputBase-readOnly"),children:[te,s.jsx(Bx.Provider,{value:null,children:s.jsx(ye,K({ownerState:Ge,"aria-invalid":Y.error,"aria-describedby":a,autoComplete:o,autoFocus:l,defaultValue:d,disabled:Y.disabled,id:v,onAnimationStart:He,name:F,placeholder:D,readOnly:R,required:Y.required,rows:z,value:M,onKeyDown:k,onKeyUp:T,type:Ae},Fe,!$d(ye)&&{as:Ne,ownerState:K({},Ge,Fe.ownerState)},{ref:se,className:et(lt.input,Fe.className,R&&"MuiInputBase-readOnly"),onBlur:Te,onChange:be,onFocus:ie}))}),p,H?H(K({},Y,{startAdornment:te})):null]}))]})});function SY(e){return jt("MuiInput",e)}const Eh=K({},ef,Et("MuiInput",["root","underline","input"]));function jY(e){return jt("MuiOutlinedInput",e)}const fc=K({},ef,Et("MuiOutlinedInput",["root","notchedOutline","input"]));function EY(e){return jt("MuiFilledInput",e)}const hA=K({},ef,Et("MuiFilledInput",["root","underline","input"])),kY=ht(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),IY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],TY={entering:{opacity:1},entered:{opacity:1}},Sg=y.forwardRef(function(t,n){const r=qs(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,easing:c,in:A,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:v,timeout:x=i,TransitionComponent:C=Xs}=t,b=ot(t,IY),w=y.useRef(null),E=br(w,su(l),n),S=D=>R=>{if(D){const H=w.current;R===void 0?D(H):D(H,R)}},F=S(h),N=S((D,R)=>{X_(D);const H=Gd({style:v,timeout:x,easing:c},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",H),D.style.transition=r.transitions.create("opacity",H),u&&u(D,R)}),P=S(d),Q=S(g),j=S(D=>{const R=Gd({style:v,timeout:x,easing:c},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",R),D.style.transition=r.transitions.create("opacity",R),f&&f(D)}),k=S(p),T=D=>{a&&a(w.current,D)};return s.jsx(C,K({appear:o,in:A,nodeRef:w,onEnter:N,onEntered:P,onEntering:F,onExit:j,onExited:k,onExiting:Q,addEndListener:T,timeout:x},b,{children:(D,R)=>y.cloneElement(l,K({style:K({opacity:0,visibility:D==="exited"&&!A?"hidden":void 0},TY[D],v,l.props.style),ref:E},R))}))});function NY(e){return jt("MuiBackdrop",e)}Et("MuiBackdrop",["root","invisible"]);const FY=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],PY=e=>{const{classes:t,invisible:n}=e;return It({root:["root",n&&"invisible"]},NY,t)},_Y=Ke("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>K({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),uD=y.forwardRef(function(t,n){var r,i,a;const o=Wt({props:t,name:"MuiBackdrop"}),{children:l,className:c,component:A="div",components:u={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:v=Sg,transitionDuration:x}=o,C=ot(o,FY),b=K({},o,{component:A,invisible:h}),w=PY(b),E=(r=p.root)!=null?r:d.root;return s.jsx(v,K({in:f,timeout:x},C,{children:s.jsx(_Y,K({"aria-hidden":!0},E,{as:(i=(a=g.root)!=null?a:u.Root)!=null?i:A,className:et(w.root,c,E==null?void 0:E.className),ownerState:K({},b,E==null?void 0:E.ownerState),classes:w,ref:n,children:l}))}))}),DY=Et("MuiBox",["root"]),MY=UB(),Ce=s9({themeId:VA,defaultTheme:MY,defaultClassName:DY.root,generateClassName:rP.generate});function UY(e){return jt("MuiButton",e)}const Rm=Et("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),LY=y.createContext({}),OY=y.createContext(void 0),RY=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],QY=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:a,classes:o}=e,l={root:["root",a,`${a}${st(t)}`,`size${st(i)}`,`${a}Size${st(i)}`,`color${st(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${st(i)}`],endIcon:["icon","endIcon",`iconSize${st(i)}`]},c=It(l,UY,o);return K({},o,c)},dD=e=>K({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),HY=Ke(Yo,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${st(n.color)}`],t[`size${st(n.size)}`],t[`${n.variant}Size${st(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],a=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return K({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":K({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":K({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Rm.focusVisible}`]:K({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Rm.disabled}`]:K({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Sn(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rm.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rm.disabled}`]:{boxShadow:"none"}}),$Y=Ke("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${st(n.size)}`]]}})(({ownerState:e})=>K({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},dD(e))),zY=Ke("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${st(n.size)}`]]}})(({ownerState:e})=>K({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},dD(e))),Ft=y.forwardRef(function(t,n){const r=y.useContext(LY),i=y.useContext(OY),a=Dp(r,t),o=Wt({props:a,name:"MuiButton"}),{children:l,color:c="primary",component:A="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:v=!1,size:x="medium",startIcon:C,type:b,variant:w="text"}=o,E=ot(o,RY),S=K({},o,{color:c,component:A,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:v,size:x,type:b,variant:w}),F=QY(S),N=C&&s.jsx($Y,{className:F.startIcon,ownerState:S,children:C}),P=p&&s.jsx(zY,{className:F.endIcon,ownerState:S,children:p}),Q=i||"";return s.jsxs(HY,K({ownerState:S,className:et(r.className,F.root,u,Q),component:A,disabled:d,focusRipple:!f,focusVisibleClassName:et(F.focusVisible,g),ref:n,type:b},E,{classes:F,children:[N,l,P]}))});function WY(e){return jt("MuiCard",e)}Et("MuiCard",["root"]);const KY=["className","raised"],VY=e=>{const{classes:t}=e;return It({root:["root"]},WY,t)},GY=Ke(Pn,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Zt=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiCard"}),{className:i,raised:a=!1}=r,o=ot(r,KY),l=K({},r,{raised:a}),c=VY(l);return s.jsx(GY,K({className:et(c.root,i),elevation:a?8:void 0,ref:n,ownerState:l},o))});function qY(e){return jt("MuiCardContent",e)}Et("MuiCardContent",["root"]);const YY=["className","component"],XY=e=>{const{classes:t}=e;return It({root:["root"]},qY,t)},JY=Ke("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),tn=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiCardContent"}),{className:i,component:a="div"}=r,o=ot(r,YY),l=K({},r,{component:a}),c=XY(l);return s.jsx(JY,K({as:a,className:et(c.root,i),ownerState:l,ref:n},o))});function ZY(e){return jt("PrivateSwitchBase",e)}Et("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const eX=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],tX=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,a={root:["root",n&&"checked",r&&"disabled",i&&`edge${st(i)}`],input:["input"]};return It(a,ZY,t)},nX=Ke(Yo,{name:"MuiSwitchBase"})(({ownerState:e})=>K({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),rX=Ke("input",{name:"MuiSwitchBase",shouldForwardProp:$a})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),fD=y.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:a,className:o,defaultChecked:l,disabled:c,disableFocusRipple:A=!1,edge:u=!1,icon:d,id:h,inputProps:f,inputRef:p,name:g,onBlur:v,onChange:x,onFocus:C,readOnly:b,required:w=!1,tabIndex:E,type:S,value:F}=t,N=ot(t,eX),[P,Q]=Go({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),j=tl(),k=J=>{C&&C(J),j&&j.onFocus&&j.onFocus(J)},T=J=>{v&&v(J),j&&j.onBlur&&j.onBlur(J)},D=J=>{if(J.nativeEvent.defaultPrevented)return;const te=J.target.checked;Q(te),x&&x(J,te)};let R=c;j&&typeof R>"u"&&(R=j.disabled);const H=S==="checkbox"||S==="radio",z=K({},t,{checked:P,disabled:R,disableFocusRipple:A,edge:u}),V=tX(z);return s.jsxs(nX,K({component:"span",className:et(V.root,o),centerRipple:!0,focusRipple:!A,disabled:R,tabIndex:null,role:void 0,onFocus:k,onBlur:T,ownerState:z,ref:n},N,{children:[s.jsx(rX,K({autoFocus:r,checked:i,defaultChecked:l,className:V.input,disabled:R,id:H?h:void 0,name:g,onChange:D,readOnly:b,ref:p,required:w,ownerState:z,tabIndex:E,type:S},S==="checkbox"&&F===void 0?{}:{value:F},f)),P?a:d]}))}),iX=ht(s.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),aX=ht(s.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),sX=ht(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function oX(e){return jt("MuiCheckbox",e)}const Mb=Et("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),lX=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],cX=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,a={root:["root",n&&"indeterminate",`color${st(r)}`,`size${st(i)}`]},o=It(a,oX,t);return K({},t,o)},AX=Ke(fD,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${st(n.size)}`],n.color!=="default"&&t[`color${st(n.color)}`]]}})(({theme:e,ownerState:t})=>K({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Mb.checked}, &.${Mb.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Mb.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),uX=s.jsx(aX,{}),dX=s.jsx(iX,{}),fX=s.jsx(sX,{}),xA=y.forwardRef(function(t,n){var r,i;const a=Wt({props:t,name:"MuiCheckbox"}),{checkedIcon:o=uX,color:l="primary",icon:c=dX,indeterminate:A=!1,indeterminateIcon:u=fX,inputProps:d,size:h="medium",className:f}=a,p=ot(a,lX),g=A?u:c,v=A?u:o,x=K({},a,{color:l,indeterminate:A,size:h}),C=cX(x);return s.jsx(AX,K({type:"checkbox",inputProps:K({"data-indeterminate":A},d),icon:y.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:h}),checkedIcon:y.cloneElement(v,{fontSize:(i=v.props.fontSize)!=null?i:h}),ownerState:x,ref:n,className:et(C.root,f)},p,{classes:C}))});function hX(e){return jt("MuiCircularProgress",e)}Et("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const pX=["className","color","disableShrink","size","style","thickness","value","variant"];let Ix=e=>e,sk,ok,lk,ck;const hc=44,gX=Kl(sk||(sk=Ix`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),mX=Kl(ok||(ok=Ix`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),vX=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,a={root:["root",n,`color${st(r)}`],svg:["svg"],circle:["circle",`circle${st(n)}`,i&&"circleDisableShrink"]};return It(a,hX,t)},yX=Ke("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${st(n.color)}`]]}})(({ownerState:e,theme:t})=>K({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&au(lk||(lk=Ix`
      animation: ${0} 1.4s linear infinite;
    `),gX)),xX=Ke("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),bX=Ke("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${st(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>K({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&au(ck||(ck=Ix`
      animation: ${0} 1.4s ease-in-out infinite;
    `),mX)),nr=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiCircularProgress"}),{className:i,color:a="primary",disableShrink:o=!1,size:l=40,style:c,thickness:A=3.6,value:u=0,variant:d="indeterminate"}=r,h=ot(r,pX),f=K({},r,{color:a,disableShrink:o,size:l,thickness:A,value:u,variant:d}),p=vX(f),g={},v={},x={};if(d==="determinate"){const C=2*Math.PI*((hc-A)/2);g.strokeDasharray=C.toFixed(3),x["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*C).toFixed(3)}px`,v.transform="rotate(-90deg)"}return s.jsx(yX,K({className:et(p.root,i),style:K({width:l,height:l},v,c),ownerState:f,ref:n,role:"progressbar"},x,h,{children:s.jsx(xX,{className:p.svg,ownerState:f,viewBox:`${hc/2} ${hc/2} ${hc} ${hc}`,children:s.jsx(bX,{className:p.circle,style:g,ownerState:f,cx:hc,cy:hc,r:(hc-A)/2,fill:"none",strokeWidth:A})})}))});function Ak(e){return e.substring(2).toLowerCase()}function wX(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function CX(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,o=y.useRef(!1),l=y.useRef(null),c=y.useRef(!1),A=y.useRef(!1);y.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const u=br(su(t),l),d=pn(p=>{const g=A.current;A.current=!1;const v=xi(l.current);if(!c.current||!l.current||"clientX"in p&&wX(p,v))return;if(o.current){o.current=!1;return}let x;p.composedPath?x=p.composedPath().indexOf(l.current)>-1:x=!v.documentElement.contains(p.target)||l.current.contains(p.target),!x&&(n||!g)&&i(p)}),h=p=>g=>{A.current=!0;const v=t.props[p];v&&v(g)},f={ref:u};return a!==!1&&(f[a]=h(a)),y.useEffect(()=>{if(a!==!1){const p=Ak(a),g=xi(l.current),v=()=>{o.current=!0};return g.addEventListener(p,d),g.addEventListener("touchmove",v),()=>{g.removeEventListener(p,d),g.removeEventListener("touchmove",v)}}},[d,a]),r!==!1&&(f[r]=h(r)),y.useEffect(()=>{if(r!==!1){const p=Ak(r),g=xi(l.current);return g.addEventListener(p,d),()=>{g.removeEventListener(p,d)}}},[d,r]),s.jsx(y.Fragment,{children:y.cloneElement(t,f)})}const UA=a$({createStyledComponent:Ke("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${st(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Wt({props:e,name:"MuiContainer"})});function BX(e){const t=xi(e);return t.body===e?Pl(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function yp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function uk(e){return parseInt(Pl(e).getComputedStyle(e).paddingRight,10)||0}function SX(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function dk(e,t,n,r,i){const a=[t,n,...r];[].forEach.call(e.children,o=>{const l=a.indexOf(o)===-1,c=!SX(o);l&&c&&yp(o,i)})}function Ub(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function jX(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(BX(r)){const o=hP(xi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${uk(r)+o}px`;const l=xi(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${uk(c)+o}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=xi(r).body;else{const o=r.parentElement,l=Pl(r);a=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:o,property:l})=>{a?o.style.setProperty(l,a):o.style.removeProperty(l)})}}function EX(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class kX{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&yp(t.modalRef,!1);const i=EX(n);dk(n,t.mount,t.modalRef,i,!0);const a=Ub(this.containers,o=>o.container===n);return a!==-1?(this.containers[a].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=Ub(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=jX(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=Ub(this.containers,o=>o.modals.indexOf(t)!==-1),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&yp(t.modalRef,n),dk(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&yp(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const IX=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function TX(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function NX(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function FX(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||NX(e))}function PX(e){const t=[],n=[];return Array.from(e.querySelectorAll(IX)).forEach((r,i)=>{const a=TX(r);a===-1||!FX(r)||(a===0?t.push(r):n.push({documentOrder:i,tabIndex:a,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function _X(){return!0}function DX(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:a=PX,isEnabled:o=_X,open:l}=e,c=y.useRef(!1),A=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=y.useRef(!1),p=y.useRef(null),g=br(su(t),p),v=y.useRef(null);y.useEffect(()=>{!l||!p.current||(f.current=!n)},[n,l]),y.useEffect(()=>{if(!l||!p.current)return;const b=xi(p.current);return p.current.contains(b.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(c.current=!0,d.current.focus()),d.current=null)}},[l]),y.useEffect(()=>{if(!l||!p.current)return;const b=xi(p.current),w=F=>{v.current=F,!(r||!o()||F.key!=="Tab")&&b.activeElement===p.current&&F.shiftKey&&(c.current=!0,u.current&&u.current.focus())},E=()=>{const F=p.current;if(F===null)return;if(!b.hasFocus()||!o()||c.current){c.current=!1;return}if(F.contains(b.activeElement)||r&&b.activeElement!==A.current&&b.activeElement!==u.current)return;if(b.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let N=[];if((b.activeElement===A.current||b.activeElement===u.current)&&(N=a(p.current)),N.length>0){var P,Q;const j=!!((P=v.current)!=null&&P.shiftKey&&((Q=v.current)==null?void 0:Q.key)==="Tab"),k=N[0],T=N[N.length-1];typeof k!="string"&&typeof T!="string"&&(j?T.focus():k.focus())}else F.focus()};b.addEventListener("focusin",E),b.addEventListener("keydown",w,!0);const S=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(S),b.removeEventListener("focusin",E),b.removeEventListener("keydown",w,!0)}},[n,r,i,o,l,a]);const x=b=>{d.current===null&&(d.current=b.relatedTarget),f.current=!0,h.current=b.target;const w=t.props.onFocus;w&&w(b)},C=b=>{d.current===null&&(d.current=b.relatedTarget),f.current=!0};return s.jsxs(y.Fragment,{children:[s.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:A,"data-testid":"sentinelStart"}),y.cloneElement(t,{ref:g,onFocus:x}),s.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:u,"data-testid":"sentinelEnd"})]})}function MX(e){return typeof e=="function"?e():e}function UX(e){return e?e.props.hasOwnProperty("in"):!1}const LX=new kX;function OX(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=LX,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:A,open:u,rootRef:d}=e,h=y.useRef({}),f=y.useRef(null),p=y.useRef(null),g=br(p,d),[v,x]=y.useState(!u),C=UX(c);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const w=()=>xi(f.current),E=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),S=()=>{i.mount(E(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},F=pn(()=>{const H=MX(t)||w().body;i.add(E(),H),p.current&&S()}),N=y.useCallback(()=>i.isTopModal(E()),[i]),P=pn(H=>{f.current=H,H&&(u&&N()?S():p.current&&yp(p.current,b))}),Q=y.useCallback(()=>{i.remove(E(),b)},[b,i]);y.useEffect(()=>()=>{Q()},[Q]),y.useEffect(()=>{u?F():(!C||!a)&&Q()},[u,Q,C,a,F]);const j=H=>z=>{var V;(V=H.onKeyDown)==null||V.call(H,z),!(z.key!=="Escape"||z.which===229||!N())&&(n||(z.stopPropagation(),A&&A(z,"escapeKeyDown")))},k=H=>z=>{var V;(V=H.onClick)==null||V.call(H,z),z.target===z.currentTarget&&A&&A(z,"backdropClick")};return{getRootProps:(H={})=>{const z=d0(e);delete z.onTransitionEnter,delete z.onTransitionExited;const V=K({},z,H);return K({role:"presentation"},V,{onKeyDown:j(V),ref:g})},getBackdropProps:(H={})=>{const z=H;return K({"aria-hidden":!0},z,{onClick:k(z),open:u})},getTransitionProps:()=>{const H=()=>{x(!1),o&&o()},z=()=>{x(!0),l&&l(),a&&Q()};return{onEnter:M4(H,c==null?void 0:c.props.onEnter),onExited:M4(z,c==null?void 0:c.props.onExited)}},rootRef:g,portalRef:P,isTopModal:N,exited:v,hasTransition:C}}function RX(e){return jt("MuiModal",e)}Et("MuiModal",["root","hidden","backdrop"]);const QX=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],HX=e=>{const{open:t,exited:n,classes:r}=e;return It({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},RX,r)},$X=Ke("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>K({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),zX=Ke(uD,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),hD=y.forwardRef(function(t,n){var r,i,a,o,l,c;const A=Wt({name:"MuiModal",props:t}),{BackdropComponent:u=zX,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:v,components:x={},componentsProps:C={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:E=!1,disablePortal:S=!1,disableRestoreFocus:F=!1,disableScrollLock:N=!1,hideBackdrop:P=!1,keepMounted:Q=!1,onBackdropClick:j,open:k,slotProps:T,slots:D}=A,R=ot(A,QX),H=K({},A,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:E,disablePortal:S,disableRestoreFocus:F,disableScrollLock:N,hideBackdrop:P,keepMounted:Q}),{getRootProps:z,getBackdropProps:V,getTransitionProps:J,portalRef:te,isTopModal:Ae,exited:U,hasTransition:O}=OX(K({},H,{rootRef:n})),M=K({},H,{exited:U}),L=HX(M),W={};if(p.props.tabIndex===void 0&&(W.tabIndex="-1"),O){const{onEnter:ne,onExited:oe}=J();W.onEnter=ne,W.onExited=oe}const G=(r=(i=D==null?void 0:D.root)!=null?i:x.Root)!=null?r:$X,se=(a=(o=D==null?void 0:D.backdrop)!=null?o:x.Backdrop)!=null?a:u,X=(l=T==null?void 0:T.root)!=null?l:C.root,ge=(c=T==null?void 0:T.backdrop)!=null?c:C.backdrop,ce=Rs({elementType:G,externalSlotProps:X,externalForwardedProps:R,getSlotProps:z,additionalProps:{ref:n,as:v},ownerState:M,className:et(h,X==null?void 0:X.className,L==null?void 0:L.root,!M.open&&M.exited&&(L==null?void 0:L.hidden))}),Y=Rs({elementType:se,externalSlotProps:ge,additionalProps:d,getSlotProps:ne=>V(K({},ne,{onClick:oe=>{j&&j(oe),ne!=null&&ne.onClick&&ne.onClick(oe)}})),className:et(ge==null?void 0:ge.className,d==null?void 0:d.className,L==null?void 0:L.backdrop),ownerState:M});return!Q&&!k&&(!O||U)?null:s.jsx(cD,{ref:te,container:g,disablePortal:S,children:s.jsxs(G,K({},ce,{children:[!P&&u?s.jsx(se,K({},Y)):null,s.jsx(DX,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:F,isEnabled:Ae,open:k,children:y.cloneElement(p,W)})]}))})});function WX(e){return jt("MuiDialog",e)}const Lb=Et("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),pD=y.createContext({}),KX=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],VX=Ke(uD,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),GX=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:a}=e,o={root:["root"],container:["container",`scroll${st(n)}`],paper:["paper",`paperScroll${st(n)}`,`paperWidth${st(String(r))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return It(o,WX,t)},qX=Ke(hD,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),YX=Ke("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${st(n.scroll)}`]]}})(({ownerState:e})=>K({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),XX=Ke(Pn,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${st(n.scroll)}`],t[`paperWidth${st(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>K({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Lb.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Lb.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Lb.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Oa=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiDialog"}),i=qs(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,BackdropComponent:c,BackdropProps:A,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:g="sm",onBackdropClick:v,onClick:x,onClose:C,open:b,PaperComponent:w=Pn,PaperProps:E={},scroll:S="paper",TransitionComponent:F=Sg,transitionDuration:N=a,TransitionProps:P}=r,Q=ot(r,KX),j=K({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:g,scroll:S}),k=GX(j),T=y.useRef(),D=V=>{T.current=V.target===V.currentTarget},R=V=>{x&&x(V),T.current&&(T.current=null,v&&v(V),C&&C(V,"backdropClick"))},H=wf(l),z=y.useMemo(()=>({titleId:H}),[H]);return s.jsx(qX,K({className:et(k.root,d),closeAfterTransition:!0,components:{Backdrop:VX},componentsProps:{backdrop:K({transitionDuration:N,as:c},A)},disableEscapeKeyDown:h,onClose:C,open:b,ref:n,onClick:R,ownerState:j},Q,{children:s.jsx(F,K({appear:!0,in:b,timeout:N,role:"presentation"},P,{children:s.jsx(YX,{className:et(k.container),onMouseDown:D,ownerState:j,children:s.jsx(XX,K({as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":H},E,{className:et(k.paper,E.className),ownerState:j,children:s.jsx(pD.Provider,{value:z,children:u})}))})}))}))});function JX(e){return jt("MuiDialogActions",e)}Et("MuiDialogActions",["root","spacing"]);const ZX=["className","disableSpacing"],eJ=e=>{const{classes:t,disableSpacing:n}=e;return It({root:["root",!n&&"spacing"]},JX,t)},tJ=Ke("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>K({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),as=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1}=r,o=ot(r,ZX),l=K({},r,{disableSpacing:a}),c=eJ(l);return s.jsx(tJ,K({className:et(c.root,i),ownerState:l,ref:n},o))});function nJ(e){return jt("MuiDialogContent",e)}Et("MuiDialogContent",["root","dividers"]);function rJ(e){return jt("MuiDialogTitle",e)}const iJ=Et("MuiDialogTitle",["root"]),aJ=["className","dividers"],sJ=e=>{const{classes:t,dividers:n}=e;return It({root:["root",n&&"dividers"]},nJ,t)},oJ=Ke("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>K({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${iJ.root} + &`]:{paddingTop:0}})),Ra=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiDialogContent"}),{className:i,dividers:a=!1}=r,o=ot(r,aJ),l=K({},r,{dividers:a}),c=sJ(l);return s.jsx(oJ,K({className:et(c.root,i),ownerState:l,ref:n},o))}),lJ=["className","id"],cJ=e=>{const{classes:t}=e;return It({root:["root"]},rJ,t)},AJ=Ke(q,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),ss=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiDialogTitle"}),{className:i,id:a}=r,o=ot(r,lJ),l=r,c=cJ(l),{titleId:A=a}=y.useContext(pD);return s.jsx(AJ,K({component:"h2",className:et(c.root,i),ownerState:l,ref:n,variant:"h6",id:a??A},o))});function uJ(e){return jt("MuiDivider",e)}const fk=Et("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dJ=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],fJ=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:a,orientation:o,textAlign:l,variant:c}=e;return It({root:["root",t&&"absolute",c,a&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},uJ,r)},hJ=Ke("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>K({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Sn(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>K({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>K({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>K({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>K({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),pJ=Ke("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>K({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),ks=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:o,component:l=a?"div":"hr",flexItem:c=!1,light:A=!1,orientation:u="horizontal",role:d=l!=="hr"?"separator":void 0,textAlign:h="center",variant:f="fullWidth"}=r,p=ot(r,dJ),g=K({},r,{absolute:i,component:l,flexItem:c,light:A,orientation:u,role:d,textAlign:h,variant:f}),v=fJ(g);return s.jsx(hJ,K({as:l,className:et(v.root,o),role:d,ref:n,ownerState:g},p,{children:a?s.jsx(pJ,{className:v.wrapper,ownerState:g,children:a}):null}))});ks.muiSkipListHighlight=!0;const gJ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],mJ=e=>{const{classes:t,disableUnderline:n}=e,i=It({root:["root",!n&&"underline"],input:["input"]},EY,t);return K({},t,i)},vJ=Ke(Ex,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Sx(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return K({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${hA.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${hA.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hA.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hA.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hA.disabled}, .${hA.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${hA.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&K({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),yJ=Ke(kx,{name:"MuiFilledInput",slot:"Input",overridesResolver:jx})(({theme:e,ownerState:t})=>K({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),v5=y.forwardRef(function(t,n){var r,i,a,o;const l=Wt({props:t,name:"MuiFilledInput"}),{components:c={},componentsProps:A,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=l,v=ot(l,gJ),x=K({},l,{fullWidth:u,inputComponent:d,multiline:h,type:g}),C=mJ(l),b={root:{ownerState:x},input:{ownerState:x}},w=f??A?Ca(b,f??A):b,E=(r=(i=p.root)!=null?i:c.Root)!=null?r:vJ,S=(a=(o=p.input)!=null?o:c.Input)!=null?a:yJ;return s.jsx(m5,K({slots:{root:E,input:S},componentsProps:w,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:g},v,{classes:C}))});v5.muiName="Input";function xJ(e){return jt("MuiFormControl",e)}Et("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bJ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wJ=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${st(n)}`,r&&"fullWidth"]};return It(i,xJ,t)},CJ=Ke("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>K({},t.root,t[`margin${st(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>K({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),po=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiFormControl"}),{children:i,className:a,color:o="primary",component:l="div",disabled:c=!1,error:A=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:v="outlined"}=r,x=ot(r,bJ),C=K({},r,{color:o,component:l,disabled:c,error:A,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:v}),b=wJ(C),[w,E]=y.useState(()=>{let T=!1;return i&&y.Children.forEach(i,D=>{if(!$v(D,["Input","Select"]))return;const R=$v(D,["Select"])?D.props.input:D;R&&xY(R.props)&&(T=!0)}),T}),[S,F]=y.useState(()=>{let T=!1;return i&&y.Children.forEach(i,D=>{$v(D,["Input","Select"])&&(k0(D.props,!0)||k0(D.props.inputProps,!0))&&(T=!0)}),T}),[N,P]=y.useState(!1);c&&N&&P(!1);const Q=u!==void 0&&!c?u:N;let j;const k=y.useMemo(()=>({adornedStart:w,setAdornedStart:E,color:o,disabled:c,error:A,filled:S,focused:Q,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{P(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{P(!0)},registerEffect:j,required:p,variant:v}),[w,o,c,A,S,Q,d,h,j,p,g,v]);return s.jsx(Bx.Provider,{value:k,children:s.jsx(CJ,K({as:l,ownerState:C,className:et(b.root,a),ref:n},x,{children:i}))})}),BJ=f$({createStyledComponent:Ke("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Wt({props:e,name:"MuiStack"})});function SJ(e){return jt("MuiFormControlLabel",e)}const ep=Et("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),jJ=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],EJ=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:a}=e,o={root:["root",n&&"disabled",`labelPlacement${st(r)}`,i&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return It(o,SJ,t)},kJ=Ke("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ep.label}`]:t.label},t.root,t[`labelPlacement${st(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>K({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ep.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ep.label}`]:{[`&.${ep.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),IJ=Ke("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${ep.error}`]:{color:(e.vars||e).palette.error.main}})),$i=y.forwardRef(function(t,n){var r,i;const a=Wt({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:l={},control:c,disabled:A,disableTypography:u,label:d,labelPlacement:h="end",required:f,slotProps:p={}}=a,g=ot(a,jJ),v=tl(),x=(r=A??c.props.disabled)!=null?r:v==null?void 0:v.disabled,C=f??c.props.required,b={disabled:x,required:C};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof c.props[P]>"u"&&typeof a[P]<"u"&&(b[P]=a[P])});const w=Zc({props:a,muiFormControl:v,states:["error"]}),E=K({},a,{disabled:x,labelPlacement:h,required:C,error:w.error}),S=EJ(E),F=(i=p.typography)!=null?i:l.typography;let N=d;return N!=null&&N.type!==q&&!u&&(N=s.jsx(q,K({component:"span"},F,{className:et(S.label,F==null?void 0:F.className),children:N}))),s.jsxs(kJ,K({className:et(S.root,o),ownerState:E,ref:n},g,{children:[y.cloneElement(c,b),C?s.jsxs(BJ,{display:"block",children:[N,s.jsxs(IJ,{ownerState:E,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]}):N]}))});function TJ(e){return jt("MuiFormGroup",e)}Et("MuiFormGroup",["root","row","error"]);const NJ=["className","row"],FJ=e=>{const{classes:t,row:n,error:r}=e;return It({root:["root",n&&"row",r&&"error"]},TJ,t)},PJ=Ke("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>K({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),gD=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiFormGroup"}),{className:i,row:a=!1}=r,o=ot(r,NJ),l=tl(),c=Zc({props:r,muiFormControl:l,states:["error"]}),A=K({},r,{row:a,error:c.error}),u=FJ(A);return s.jsx(PJ,K({className:et(u.root,i),ownerState:A,ref:n},o))});function _J(e){return jt("MuiFormHelperText",e)}const hk=Et("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var pk;const DJ=["children","className","component","disabled","error","filled","focused","margin","required","variant"],MJ=e=>{const{classes:t,contained:n,size:r,disabled:i,error:a,filled:o,focused:l,required:c}=e,A={root:["root",i&&"disabled",a&&"error",r&&`size${st(r)}`,n&&"contained",l&&"focused",o&&"filled",c&&"required"]};return It(A,_J,t)},UJ=Ke("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${st(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>K({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${hk.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${hk.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),LJ=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiFormHelperText"}),{children:i,className:a,component:o="p"}=r,l=ot(r,DJ),c=tl(),A=Zc({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),u=K({},r,{component:o,contained:A.variant==="filled"||A.variant==="outlined",variant:A.variant,size:A.size,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required}),d=MJ(u);return s.jsx(UJ,K({as:o,ownerState:u,className:et(d.root,a),ref:n},l,{children:i===" "?pk||(pk=s.jsx("span",{className:"notranslate",children:"​"})):i}))});function OJ(e){return jt("MuiFormLabel",e)}const xp=Et("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),RJ=["children","className","color","component","disabled","error","filled","focused","required"],QJ=e=>{const{classes:t,color:n,focused:r,disabled:i,error:a,filled:o,required:l}=e,c={root:["root",`color${st(n)}`,i&&"disabled",a&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return It(c,OJ,t)},HJ=Ke("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>K({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>K({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${xp.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${xp.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${xp.error}`]:{color:(e.vars||e).palette.error.main}})),$J=Ke("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${xp.error}`]:{color:(e.vars||e).palette.error.main}})),mD=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiFormLabel"}),{children:i,className:a,component:o="label"}=r,l=ot(r,RJ),c=tl(),A=Zc({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),u=K({},r,{color:A.color||"primary",component:o,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required}),d=QJ(u);return s.jsxs(HJ,K({as:o,ownerState:u,className:et(d.root,a),ref:n},l,{children:[i,A.required&&s.jsxs($J,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),gk=y.createContext();function zJ(e){return jt("MuiGrid",e)}const WJ=[0,1,2,3,4,5,6,7,8,9,10],KJ=["column-reverse","column","row-reverse","row"],VJ=["nowrap","wrap-reverse","wrap"],kh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Qp=Et("MuiGrid",["root","container","item","zeroMinWidth",...WJ.map(e=>`spacing-xs-${e}`),...KJ.map(e=>`direction-xs-${e}`),...VJ.map(e=>`wrap-xs-${e}`),...kh.map(e=>`grid-xs-${e}`),...kh.map(e=>`grid-sm-${e}`),...kh.map(e=>`grid-md-${e}`),...kh.map(e=>`grid-lg-${e}`),...kh.map(e=>`grid-xl-${e}`)]),GJ=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Id(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function qJ({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let a={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=DA({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof o=="object"?o[i]:o;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let A={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${c} + ${Id(u)})`;A={flexBasis:d,maxWidth:d}}}a=K({flexBasis:c,flexGrow:0,maxWidth:c},A)}return e.breakpoints.values[i]===0?Object.assign(r,a):r[e.breakpoints.up(i)]=a,r},{})}function YJ({theme:e,ownerState:t}){const n=DA({values:t.direction,breakpoints:e.breakpoints.values});return Ha({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Qp.item}`]={maxWidth:"none"}),i})}function vD({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,a)=>e[i]-e[a]);return r.slice(0,r.indexOf(n))}function XJ({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const a=DA({values:r,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=vD({breakpoints:e.breakpoints.values,values:a})),i=Ha({theme:e},a,(l,c)=>{var A;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Id(u)}`,[`& > .${Qp.item}`]:{paddingTop:Id(u)}}:(A=o)!=null&&A.includes(c)?{}:{marginTop:0,[`& > .${Qp.item}`]:{paddingTop:0}}})}return i}function JJ({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const a=DA({values:r,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=vD({breakpoints:e.breakpoints.values,values:a})),i=Ha({theme:e},a,(l,c)=>{var A;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Id(u)})`,marginLeft:`-${Id(u)}`,[`& > .${Qp.item}`]:{paddingLeft:Id(u)}}:(A=o)!=null&&A.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Qp.item}`]:{paddingLeft:0}}})}return i}function ZJ(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const a=e[i];Number(a)>0&&r.push(n[`spacing-${i}-${String(a)}`])}),r}const eZ=Ke("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:a,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:A}=n;let u=[];r&&(u=ZJ(o,A,t));const d=[];return A.forEach(h=>{const f=n[h];f&&d.push(t[`grid-${h}-${String(f)}`])}),[t.root,r&&t.container,a&&t.item,c&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...d]}})(({ownerState:e})=>K({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),YJ,XJ,JJ,qJ);function tZ(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const a=`spacing-${r}-${String(i)}`;n.push(a)}}),n}const nZ=e=>{const{classes:t,container:n,direction:r,item:i,spacing:a,wrap:o,zeroMinWidth:l,breakpoints:c}=e;let A=[];n&&(A=tZ(a,c));const u=[];c.forEach(h=>{const f=e[h];f&&u.push(`grid-${h}-${String(f)}`)});const d={root:["root",n&&"container",i&&"item",l&&"zeroMinWidth",...A,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return It(d,zJ,t)},gt=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiGrid"}),{breakpoints:i}=qs(),a=dg(r),{className:o,columns:l,columnSpacing:c,component:A="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:g="wrap",zeroMinWidth:v=!1}=a,x=ot(a,GJ),C=f||p,b=c||p,w=y.useContext(gk),E=u?l||12:w,S={},F=K({},x);i.keys.forEach(Q=>{x[Q]!=null&&(S[Q]=x[Q],delete F[Q])});const N=K({},a,{columns:E,container:u,direction:d,item:h,rowSpacing:C,columnSpacing:b,wrap:g,zeroMinWidth:v,spacing:p},S,{breakpoints:i.keys}),P=nZ(N);return s.jsx(gk.Provider,{value:E,children:s.jsx(eZ,K({ownerState:N,className:et(P.root,o),as:A,ref:n},F))})}),rZ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Fw(e){return`scale(${e}, ${e**2})`}const iZ={entering:{opacity:1,transform:Fw(1)},entered:{opacity:1,transform:"none"}},Ob=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Hp=y.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:a,easing:o,in:l,onEnter:c,onEntered:A,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:v=Xs}=t,x=ot(t,rZ),C=jc(),b=y.useRef(),w=qs(),E=y.useRef(null),S=br(E,su(a),n),F=R=>H=>{if(R){const z=E.current;H===void 0?R(z):R(z,H)}},N=F(u),P=F((R,H)=>{X_(R);const{duration:z,delay:V,easing:J}=Gd({style:p,timeout:g,easing:o},{mode:"enter"});let te;g==="auto"?(te=w.transitions.getAutoHeightDuration(R.clientHeight),b.current=te):te=z,R.style.transition=[w.transitions.create("opacity",{duration:te,delay:V}),w.transitions.create("transform",{duration:Ob?te:te*.666,delay:V,easing:J})].join(","),c&&c(R,H)}),Q=F(A),j=F(f),k=F(R=>{const{duration:H,delay:z,easing:V}=Gd({style:p,timeout:g,easing:o},{mode:"exit"});let J;g==="auto"?(J=w.transitions.getAutoHeightDuration(R.clientHeight),b.current=J):J=H,R.style.transition=[w.transitions.create("opacity",{duration:J,delay:z}),w.transitions.create("transform",{duration:Ob?J:J*.666,delay:Ob?z:z||J*.333,easing:V})].join(","),R.style.opacity=0,R.style.transform=Fw(.75),d&&d(R)}),T=F(h),D=R=>{g==="auto"&&C.start(b.current||0,R),r&&r(E.current,R)};return s.jsx(v,K({appear:i,in:l,nodeRef:E,onEnter:P,onEntered:Q,onEntering:N,onExit:k,onExited:T,onExiting:j,addEndListener:D,timeout:g==="auto"?null:g},x,{children:(R,H)=>y.cloneElement(a,K({style:K({opacity:0,transform:Fw(.75),visibility:R==="exited"&&!l?"hidden":void 0},iZ[R],p,a.props.style),ref:S},H))}))});Hp.muiSupportAuto=!0;const aZ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sZ=e=>{const{classes:t,disableUnderline:n}=e,i=It({root:["root",!n&&"underline"],input:["input"]},SY,t);return K({},t,i)},oZ=Ke(Ex,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Sx(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),K({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Eh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Eh.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Eh.disabled}, .${Eh.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Eh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),lZ=Ke(kx,{name:"MuiInput",slot:"Input",overridesResolver:jx})({}),y5=y.forwardRef(function(t,n){var r,i,a,o;const l=Wt({props:t,name:"MuiInput"}),{disableUnderline:c,components:A={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text"}=l,x=ot(l,aZ),C=sZ(l),w={root:{ownerState:{disableUnderline:c}}},E=p??u?Ca(p??u,w):w,S=(r=(i=g.root)!=null?i:A.Root)!=null?r:oZ,F=(a=(o=g.input)!=null?o:A.Input)!=null?a:lZ;return s.jsx(m5,K({slots:{root:S,input:F},slotProps:E,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:v},x,{classes:C}))});y5.muiName="Input";function cZ(e){return jt("MuiInputAdornment",e)}const mk=Et("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var vk;const AZ=["children","className","component","disablePointerEvents","disableTypography","position","variant"],uZ=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${st(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},dZ=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:a,variant:o}=e,l={root:["root",n&&"disablePointerEvents",i&&`position${st(i)}`,o,r&&"hiddenLabel",a&&`size${st(a)}`]};return It(l,cZ,t)},fZ=Ke("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:uZ})(({theme:e,ownerState:t})=>K({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${mk.positionStart}&:not(.${mk.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),hZ=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiInputAdornment"}),{children:i,className:a,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:A,variant:u}=r,d=ot(r,AZ),h=tl()||{};let f=u;u&&h.variant,h&&!f&&(f=h.variant);const p=K({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:l,position:A,variant:f}),g=dZ(p);return s.jsx(Bx.Provider,{value:null,children:s.jsx(fZ,K({as:o,ownerState:p,className:et(g.root,a),ref:n},d,{children:typeof i=="string"&&!c?s.jsx(q,{color:"text.secondary",children:i}):s.jsxs(y.Fragment,{children:[A==="start"?vk||(vk=s.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})});function pZ(e){return jt("MuiInputLabel",e)}Et("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const gZ=["disableAnimation","margin","shrink","variant","className"],mZ=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:a,variant:o,required:l}=e,c={root:["root",n&&"formControl",!a&&"animated",i&&"shrink",r&&r!=="normal"&&`size${st(r)}`,o],asterisk:[l&&"asterisk"]},A=It(c,pZ,t);return K({},t,A)},vZ=Ke(mD,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${xp.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>K({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&K({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&K({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&K({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Jo=y.forwardRef(function(t,n){const r=Wt({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:a,className:o}=r,l=ot(r,gZ),c=tl();let A=a;typeof A>"u"&&c&&(A=c.filled||c.focused||c.adornedStart);const u=Zc({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),d=K({},r,{disableAnimation:i,formControl:c,shrink:A,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=mZ(d);return s.jsx(vZ,K({"data-shrink":A,ownerState:d,ref:n,className:et(h.root,o)},l,{classes:h}))});function yZ(e){return jt("MuiLinearProgress",e)}Et("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const xZ=["className","color","value","valueBuffer","variant"];let kf=e=>e,yk,xk,bk,wk,Ck,Bk;const Pw=4,bZ=Kl(yk||(yk=kf`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),wZ=Kl(xk||(xk=kf`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),CZ=Kl(bk||(bk=kf`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),BZ=e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${st(r)}`,n],dashed:["dashed",`dashedColor${st(r)}`],bar1:["bar",`barColor${st(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${st(r)}`,n==="buffer"&&`color${st(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return It(i,yZ,t)},x5=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Wd(e.palette[t].main,.62):zd(e.palette[t].main,.5),SZ=Ke("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${st(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>K({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:x5(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),jZ=Ke("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${st(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=x5(t,e.color);return K({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},au(wk||(wk=kf`
    animation: ${0} 3s infinite linear;
  `),CZ)),EZ=Ke("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${st(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>K({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${Pw}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${Pw}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&au(Ck||(Ck=kf`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),bZ)),kZ=Ke("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${st(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>K({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:x5(t,e.color),transition:`transform .${Pw}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&au(Bk||(Bk=kf`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),wZ)),LA=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiLinearProgress"}),{className:i,color:a="primary",value:o,valueBuffer:l,variant:c="indeterminate"}=r,A=ot(r,xZ),u=K({},r,{color:a,variant:c}),d=BZ(u),h=hg(),f={},p={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let g=o-100;h&&(g=-g),p.bar1.transform=`translateX(${g}%)`}if(c==="buffer"&&l!==void 0){let g=(l||0)-100;h&&(g=-g),p.bar2.transform=`translateX(${g}%)`}return s.jsxs(SZ,K({className:et(d.root,i),ownerState:u,role:"progressbar"},f,{ref:n},A,{children:[c==="buffer"?s.jsx(jZ,{className:d.dashed,ownerState:u}):null,s.jsx(EZ,{className:d.bar1,ownerState:u,style:p.bar1}),c==="determinate"?null:s.jsx(kZ,{className:d.bar2,ownerState:u,style:p.bar2})]}))}),El=y.createContext({});function IZ(e){return jt("MuiList",e)}Et("MuiList",["root","padding","dense","subheader"]);const TZ=["children","className","component","dense","disablePadding","subheader"],NZ=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return It({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},IZ,t)},FZ=Ke("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>K({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Wi=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiList"}),{children:i,className:a,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:A}=r,u=ot(r,TZ),d=y.useMemo(()=>({dense:l}),[l]),h=K({},r,{component:o,dense:l,disablePadding:c}),f=NZ(h);return s.jsx(El.Provider,{value:d,children:s.jsxs(FZ,K({as:o,className:et(f.root,a),ref:n,ownerState:h},u,{children:[A,i]}))})});function PZ(e){return jt("MuiListItem",e)}const cd=Et("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),_Z=Et("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function DZ(e){return jt("MuiListItemSecondaryAction",e)}Et("MuiListItemSecondaryAction",["root","disableGutters"]);const MZ=["className"],UZ=e=>{const{disableGutters:t,classes:n}=e;return It({root:["root",t&&"disableGutters"]},DZ,n)},LZ=Ke("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>K({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),TA=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=r,a=ot(r,MZ),o=y.useContext(El),l=K({},r,{disableGutters:o.disableGutters}),c=UZ(l);return s.jsx(LZ,K({className:et(c.root,i),ownerState:l,ref:n},a))});TA.muiName="ListItemSecondaryAction";const OZ=["className"],RZ=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],QZ=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},HZ=e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:a,disableGutters:o,disablePadding:l,divider:c,hasSecondaryAction:A,selected:u}=e;return It({root:["root",i&&"dense",!o&&"gutters",!l&&"padding",c&&"divider",a&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",A&&"secondaryAction",u&&"selected"],container:["container"]},PZ,r)},$Z=Ke("div",{name:"MuiListItem",slot:"Root",overridesResolver:QZ})(({theme:e,ownerState:t})=>K({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&K({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${_Z.root}`]:{paddingRight:48}},{[`&.${cd.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${cd.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${cd.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${cd.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${cd.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),zZ=Ke("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),mn=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:a=!1,button:o=!1,children:l,className:c,component:A,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:p=!1,disabled:g=!1,disableGutters:v=!1,disablePadding:x=!1,divider:C=!1,focusVisibleClassName:b,secondaryAction:w,selected:E=!1,slotProps:S={},slots:F={}}=r,N=ot(r.ContainerProps,OZ),P=ot(r,RZ),Q=y.useContext(El),j=y.useMemo(()=>({dense:p||Q.dense||!1,alignItems:i,disableGutters:v}),[i,Q.dense,p,v]),k=y.useRef(null);la(()=>{a&&k.current&&k.current.focus()},[a]);const T=y.Children.toArray(l),D=T.length&&$v(T[T.length-1],["ListItemSecondaryAction"]),R=K({},r,{alignItems:i,autoFocus:a,button:o,dense:j.dense,disabled:g,disableGutters:v,disablePadding:x,divider:C,hasSecondaryAction:D,selected:E}),H=HZ(R),z=br(k,n),V=F.root||u.Root||$Z,J=S.root||d.root||{},te=K({className:et(H.root,J.className,c),disabled:g},P);let Ae=A||"li";return o&&(te.component=A||"div",te.focusVisibleClassName=et(cd.focusVisible,b),Ae=Yo),D?(Ae=!te.component&&!A?"div":Ae,h==="li"&&(Ae==="li"?Ae="div":te.component==="li"&&(te.component="div")),s.jsx(El.Provider,{value:j,children:s.jsxs(zZ,K({as:h,className:et(H.container,f),ref:z,ownerState:R},N,{children:[s.jsx(V,K({},J,!$d(V)&&{as:Ae,ownerState:K({},R,J.ownerState)},te,{children:T})),T.pop()]}))})):s.jsx(El.Provider,{value:j,children:s.jsxs(V,K({},J,{as:Ae,ref:z},!$d(V)&&{ownerState:K({},R,J.ownerState)},te,{children:[T,w&&s.jsx(TA,{children:w})]}))})});function WZ(e){return jt("MuiListItemIcon",e)}const Sk=Et("MuiListItemIcon",["root","alignItemsFlexStart"]),KZ=["className"],VZ=e=>{const{alignItems:t,classes:n}=e;return It({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},WZ,n)},GZ=Ke("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>K({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Na=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiListItemIcon"}),{className:i}=r,a=ot(r,KZ),o=y.useContext(El),l=K({},r,{alignItems:o.alignItems}),c=VZ(l);return s.jsx(GZ,K({className:et(c.root,i),ownerState:l,ref:n},a))});function qZ(e){return jt("MuiListItemText",e)}const I0=Et("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),YZ=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],XZ=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:a}=e;return It({root:["root",n&&"inset",a&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},qZ,t)},JZ=Ke("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${I0.primary}`]:t.primary},{[`& .${I0.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>K({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),vn=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:l=!1,primary:c,primaryTypographyProps:A,secondary:u,secondaryTypographyProps:d}=r,h=ot(r,YZ),{dense:f}=y.useContext(El);let p=c??i,g=u;const v=K({},r,{disableTypography:o,inset:l,primary:!!p,secondary:!!g,dense:f}),x=XZ(v);return p!=null&&p.type!==q&&!o&&(p=s.jsx(q,K({variant:f?"body2":"body1",className:x.primary,component:A!=null&&A.variant?void 0:"span",display:"block"},A,{children:p}))),g!=null&&g.type!==q&&!o&&(g=s.jsx(q,K({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},d,{children:g}))),s.jsxs(JZ,K({className:et(x.root,a),ownerState:v,ref:n},h,{children:[p,g]}))}),ZZ=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Rb(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function jk(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function yD(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Ih(e,t,n,r,i,a){let o=!1,l=i(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!yD(l,a)||c)l=i(e,l,n);else return l.focus(),!0}return!1}const eee=y.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:a=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:A=!1,onKeyDown:u,variant:d="selectedMenu"}=t,h=ot(t,ZZ),f=y.useRef(null),p=y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});la(()=>{i&&f.current.focus()},[i]),y.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:w})=>{const E=!f.current.style.width;if(b.clientHeight<f.current.clientHeight&&E){const S=`${hP(xi(b))}px`;f.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=S,f.current.style.width=`calc(100% + ${S})`}return f.current}}),[]);const g=b=>{const w=f.current,E=b.key,S=xi(w).activeElement;if(E==="ArrowDown")b.preventDefault(),Ih(w,S,A,c,Rb);else if(E==="ArrowUp")b.preventDefault(),Ih(w,S,A,c,jk);else if(E==="Home")b.preventDefault(),Ih(w,null,A,c,Rb);else if(E==="End")b.preventDefault(),Ih(w,null,A,c,jk);else if(E.length===1){const F=p.current,N=E.toLowerCase(),P=performance.now();F.keys.length>0&&(P-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&N!==F.keys[0]&&(F.repeating=!1)),F.lastTime=P,F.keys.push(N);const Q=S&&!F.repeating&&yD(S,F);F.previousKeyMatched&&(Q||Ih(w,S,!1,c,Rb,F))?b.preventDefault():F.previousKeyMatched=!1}u&&u(b)},v=br(f,n);let x=-1;y.Children.forEach(o,(b,w)=>{if(!y.isValidElement(b)){x===w&&(x+=1,x>=o.length&&(x=-1));return}b.props.disabled||(d==="selectedMenu"&&b.props.selected||x===-1)&&(x=w),x===w&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const C=y.Children.map(o,(b,w)=>{if(w===x){const E={};return a&&(E.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),y.cloneElement(b,E)}return b});return s.jsx(Wi,K({role:"menu",ref:v,className:l,onKeyDown:g,tabIndex:i?0:-1},h,{children:C}))});function tee(e){return jt("MuiPopover",e)}Et("MuiPopover",["root","paper"]);const nee=["onEntering"],ree=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iee=["slotProps"];function Ek(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function kk(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Ik(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Qb(e){return typeof e=="function"?e():e}const aee=e=>{const{classes:t}=e;return It({root:["root"],paper:["paper"]},tee,t)},see=Ke(hD,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),xD=Ke(Pn,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),oee=y.forwardRef(function(t,n){var r,i,a;const o=Wt({props:t,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:A={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:v=16,open:x,PaperProps:C={},slots:b,slotProps:w,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:S=Hp,transitionDuration:F="auto",TransitionProps:{onEntering:N}={},disableScrollLock:P=!1}=o,Q=ot(o.TransitionProps,nee),j=ot(o,ree),k=(r=w==null?void 0:w.paper)!=null?r:C,T=y.useRef(),D=br(T,k.ref),R=K({},o,{anchorOrigin:A,anchorReference:d,elevation:g,marginThreshold:v,externalPaperSlotProps:k,transformOrigin:E,TransitionComponent:S,transitionDuration:F,TransitionProps:Q}),H=aee(R),z=y.useCallback(()=>{if(d==="anchorPosition")return u;const ne=Qb(c),fe=(ne&&ne.nodeType===1?ne:xi(T.current).body).getBoundingClientRect();return{top:fe.top+Ek(fe,A.vertical),left:fe.left+kk(fe,A.horizontal)}},[c,A.horizontal,A.vertical,u,d]),V=y.useCallback(ne=>({vertical:Ek(ne,E.vertical),horizontal:kk(ne,E.horizontal)}),[E.horizontal,E.vertical]),J=y.useCallback(ne=>{const oe={width:ne.offsetWidth,height:ne.offsetHeight},fe=V(oe);if(d==="none")return{top:null,left:null,transformOrigin:Ik(fe)};const ie=z();let Te=ie.top-fe.vertical,be=ie.left-fe.horizontal;const xe=Te+oe.height,Ne=be+oe.width,Fe=Pl(Qb(c)),He=Fe.innerHeight-v,Ge=Fe.innerWidth-v;if(v!==null&&Te<v){const lt=Te-v;Te-=lt,fe.vertical+=lt}else if(v!==null&&xe>He){const lt=xe-He;Te-=lt,fe.vertical+=lt}if(v!==null&&be<v){const lt=be-v;be-=lt,fe.horizontal+=lt}else if(Ne>Ge){const lt=Ne-Ge;be-=lt,fe.horizontal+=lt}return{top:`${Math.round(Te)}px`,left:`${Math.round(be)}px`,transformOrigin:Ik(fe)}},[c,d,z,V,v]),[te,Ae]=y.useState(x),U=y.useCallback(()=>{const ne=T.current;if(!ne)return;const oe=J(ne);oe.top!==null&&(ne.style.top=oe.top),oe.left!==null&&(ne.style.left=oe.left),ne.style.transformOrigin=oe.transformOrigin,Ae(!0)},[J]);y.useEffect(()=>(P&&window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)),[c,P,U]);const O=(ne,oe)=>{N&&N(ne,oe),U()},M=()=>{Ae(!1)};y.useEffect(()=>{x&&U()}),y.useImperativeHandle(l,()=>x?{updatePosition:()=>{U()}}:null,[x,U]),y.useEffect(()=>{if(!x)return;const ne=fx(()=>{U()}),oe=Pl(c);return oe.addEventListener("resize",ne),()=>{ne.clear(),oe.removeEventListener("resize",ne)}},[c,x,U]);let L=F;F==="auto"&&!S.muiSupportAuto&&(L=void 0);const W=p||(c?xi(Qb(c)).body:void 0),G=(i=b==null?void 0:b.root)!=null?i:see,se=(a=b==null?void 0:b.paper)!=null?a:xD,X=Rs({elementType:se,externalSlotProps:K({},k,{style:te?k.style:K({},k.style,{opacity:0})}),additionalProps:{elevation:g,ref:D},ownerState:R,className:et(H.paper,k==null?void 0:k.className)}),ge=Rs({elementType:G,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:W,open:x},ownerState:R,className:et(H.root,f)}),{slotProps:ce}=ge,Y=ot(ge,iee);return s.jsx(G,K({},Y,!$d(G)&&{slotProps:ce,disableScrollLock:P},{children:s.jsx(S,K({appear:!0,in:x,onEntering:O,onExited:M,timeout:L},Q,{children:s.jsx(se,K({},X,{children:h}))}))}))});function lee(e){return jt("MuiMenu",e)}Et("MuiMenu",["root","paper","list"]);const cee=["onEntering"],Aee=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],uee={vertical:"top",horizontal:"right"},dee={vertical:"top",horizontal:"left"},fee=e=>{const{classes:t}=e;return It({root:["root"],paper:["paper"],list:["list"]},lee,t)},hee=Ke(oee,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pee=Ke(xD,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),gee=Ke(eee,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),mee=y.forwardRef(function(t,n){var r,i;const a=Wt({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:l,className:c,disableAutoFocusItem:A=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:v}={},variant:x="selectedMenu",slots:C={},slotProps:b={}}=a,w=ot(a.TransitionProps,cee),E=ot(a,Aee),S=hg(),F=K({},a,{autoFocus:o,disableAutoFocusItem:A,MenuListProps:u,onEntering:v,PaperProps:f,transitionDuration:g,TransitionProps:w,variant:x}),N=fee(F),P=o&&!A&&h,Q=y.useRef(null),j=(V,J)=>{Q.current&&Q.current.adjustStyleForScrollbar(V,{direction:S?"rtl":"ltr"}),v&&v(V,J)},k=V=>{V.key==="Tab"&&(V.preventDefault(),d&&d(V,"tabKeyDown"))};let T=-1;y.Children.map(l,(V,J)=>{y.isValidElement(V)&&(V.props.disabled||(x==="selectedMenu"&&V.props.selected||T===-1)&&(T=J))});const D=(r=C.paper)!=null?r:pee,R=(i=b.paper)!=null?i:f,H=Rs({elementType:C.root,externalSlotProps:b.root,ownerState:F,className:[N.root,c]}),z=Rs({elementType:D,externalSlotProps:R,ownerState:F,className:N.paper});return s.jsx(hee,K({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?uee:dee,slots:{paper:D,root:C.root},slotProps:{root:H,paper:z},open:h,ref:n,transitionDuration:g,TransitionProps:K({onEntering:j},w),ownerState:F},E,{classes:p,children:s.jsx(gee,K({onKeyDown:k,actions:Q,autoFocus:o&&(T===-1||A),autoFocusItem:P,variant:x},u,{className:et(N.list,u.className),children:l}))}))});function vee(e){return jt("MuiMenuItem",e)}const Th=Et("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),yee=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],xee=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},bee=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:a,classes:o}=e,c=It({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},vee,o);return K({},o,c)},wee=Ke(Yo,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:xee})(({theme:e,ownerState:t})=>K({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Th.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Th.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Th.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Th.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Th.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${fk.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${fk.inset}`]:{marginLeft:52},[`& .${I0.root}`]:{marginTop:0,marginBottom:0},[`& .${I0.inset}`]:{paddingLeft:36},[`& .${Sk.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&K({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Sk.root} svg`]:{fontSize:"1.25rem"}}))),gr=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:o=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:A,role:u="menuitem",tabIndex:d,className:h}=r,f=ot(r,yee),p=y.useContext(El),g=y.useMemo(()=>({dense:o||p.dense||!1,disableGutters:c}),[p.dense,o,c]),v=y.useRef(null);la(()=>{i&&v.current&&v.current.focus()},[i]);const x=K({},r,{dense:g.dense,divider:l,disableGutters:c}),C=bee(r),b=br(v,n);let w;return r.disabled||(w=d!==void 0?d:-1),s.jsx(El.Provider,{value:g,children:s.jsx(wee,K({ref:b,role:u,tabIndex:w,component:a,focusVisibleClassName:et(C.focusVisible,A),className:et(C.root,h)},f,{ownerState:x,classes:C}))})});function Cee(e){return jt("MuiNativeSelect",e)}const b5=Et("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Bee=["className","disabled","error","IconComponent","inputRef","variant"],See=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:a,error:o}=e,l={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${st(n)}`,a&&"iconOpen",r&&"disabled"]};return It(l,Cee,t)},bD=({ownerState:e,theme:t})=>K({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":K({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${b5.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),jee=Ke("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:$a,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${b5.multiple}`]:t.multiple}]}})(bD),wD=({ownerState:e,theme:t})=>K({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${b5.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Eee=Ke("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${st(n.variant)}`],n.open&&t.iconOpen]}})(wD),kee=y.forwardRef(function(t,n){const{className:r,disabled:i,error:a,IconComponent:o,inputRef:l,variant:c="standard"}=t,A=ot(t,Bee),u=K({},t,{disabled:i,variant:c,error:a}),d=See(u);return s.jsxs(y.Fragment,{children:[s.jsx(jee,K({ownerState:u,className:et(d.select,r),disabled:i,ref:l||n},A)),t.multiple?null:s.jsx(Eee,{as:o,ownerState:u,className:d.icon})]})});var Tk;const Iee=["children","classes","className","label","notched"],Tee=Ke("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:$a})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Nee=Ke("legend",{name:"MuiNotchedOutlined",shouldForwardProp:$a})(({ownerState:e,theme:t})=>K({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&K({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Fee(e){const{className:t,label:n,notched:r}=e,i=ot(e,Iee),a=n!=null&&n!=="",o=K({},e,{notched:r,withLabel:a});return s.jsx(Tee,K({"aria-hidden":!0,className:t,ownerState:o},i,{children:s.jsx(Nee,{ownerState:o,children:a?s.jsx("span",{children:n}):Tk||(Tk=s.jsx("span",{className:"notranslate",children:"​"}))})}))}const Pee=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],_ee=e=>{const{classes:t}=e,r=It({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jY,t);return K({},t,r)},Dee=Ke(Ex,{shouldForwardProp:e=>$a(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Sx})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return K({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${fc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${fc.focused} .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${fc.error} .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${fc.disabled} .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&K({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Mee=Ke(Fee,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Uee=Ke(kx,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jx})(({theme:e,ownerState:t})=>K({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),w5=y.forwardRef(function(t,n){var r,i,a,o,l;const c=Wt({props:t,name:"MuiOutlinedInput"}),{components:A={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:v="text"}=c,x=ot(c,Pee),C=_ee(c),b=tl(),w=Zc({props:c,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E=K({},c,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:v}),S=(r=(i=g.root)!=null?i:A.Root)!=null?r:Dee,F=(a=(o=g.input)!=null?o:A.Input)!=null?a:Uee;return s.jsx(m5,K({slots:{root:S,input:F},renderSuffix:N=>s.jsx(Mee,{ownerState:E,className:C.notchedOutline,label:h!=null&&h!==""&&w.required?l||(l=s.jsxs(y.Fragment,{children:[h," ","*"]})):h,notched:typeof p<"u"?p:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:n,type:v},x,{classes:K({},C,{notchedOutline:null})}))});w5.muiName="Input";function Lee(e){return jt("MuiSelect",e)}const Nh=Et("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Nk;const Oee=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ree=Ke("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Nh.select}`]:t.select},{[`&.${Nh.select}`]:t[n.variant]},{[`&.${Nh.error}`]:t.error},{[`&.${Nh.multiple}`]:t.multiple}]}})(bD,{[`&.${Nh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Qee=Ke("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${st(n.variant)}`],n.open&&t.iconOpen]}})(wD),Hee=Ke("input",{shouldForwardProp:e=>_P(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Fk(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function $ee(e){return e==null||typeof e=="string"&&!e.trim()}const zee=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:a,error:o}=e,l={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${st(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return It(l,Lee,t)},Wee=y.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":a,autoFocus:o,autoWidth:l,children:c,className:A,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:v,labelId:x,MenuProps:C={},multiple:b,name:w,onBlur:E,onChange:S,onClose:F,onFocus:N,onOpen:P,open:Q,readOnly:j,renderValue:k,SelectDisplayProps:T={},tabIndex:D,value:R,variant:H="standard"}=t,z=ot(t,Oee),[V,J]=Go({controlled:R,default:d,name:"Select"}),[te,Ae]=Go({controlled:Q,default:u,name:"Select"}),U=y.useRef(null),O=y.useRef(null),[M,L]=y.useState(null),{current:W}=y.useRef(Q!=null),[G,se]=y.useState(),X=br(n,v),ge=y.useCallback(qe=>{O.current=qe,qe&&L(qe)},[]),ce=M==null?void 0:M.parentNode;y.useImperativeHandle(X,()=>({focus:()=>{O.current.focus()},node:U.current,value:V}),[V]),y.useEffect(()=>{u&&te&&M&&!W&&(se(l?null:ce.clientWidth),O.current.focus())},[M,l]),y.useEffect(()=>{o&&O.current.focus()},[o]),y.useEffect(()=>{if(!x)return;const qe=xi(O.current).getElementById(x);if(qe){const we=()=>{getSelection().isCollapsed&&O.current.focus()};return qe.addEventListener("click",we),()=>{qe.removeEventListener("click",we)}}},[x]);const Y=(qe,we)=>{qe?P&&P(we):F&&F(we),W||(se(l?null:ce.clientWidth),Ae(qe))},ne=qe=>{qe.button===0&&(qe.preventDefault(),O.current.focus(),Y(!0,qe))},oe=qe=>{Y(!1,qe)},fe=y.Children.toArray(c),ie=qe=>{const we=fe.find(he=>he.props.value===qe.target.value);we!==void 0&&(J(we.props.value),S&&S(qe,we))},Te=qe=>we=>{let he;if(we.currentTarget.hasAttribute("tabindex")){if(b){he=Array.isArray(V)?V.slice():[];const Le=V.indexOf(qe.props.value);Le===-1?he.push(qe.props.value):he.splice(Le,1)}else he=qe.props.value;if(qe.props.onClick&&qe.props.onClick(we),V!==he&&(J(he),S)){const Le=we.nativeEvent||we,ve=new Le.constructor(Le.type,Le);Object.defineProperty(ve,"target",{writable:!0,value:{value:he,name:w}}),S(ve,qe)}b||Y(!1,we)}},be=qe=>{j||[" ","ArrowUp","ArrowDown","Enter"].indexOf(qe.key)!==-1&&(qe.preventDefault(),Y(!0,qe))},xe=M!==null&&te,Ne=qe=>{!xe&&E&&(Object.defineProperty(qe,"target",{writable:!0,value:{value:V,name:w}}),E(qe))};delete z["aria-invalid"];let Fe,He;const Ge=[];let lt=!1;(k0({value:V})||f)&&(k?Fe=k(V):lt=!0);const bt=fe.map(qe=>{if(!y.isValidElement(qe))return null;let we;if(b){if(!Array.isArray(V))throw new Error(Fl(2));we=V.some(he=>Fk(he,qe.props.value)),we&&lt&&Ge.push(qe.props.children)}else we=Fk(V,qe.props.value),we&&lt&&(He=qe.props.children);return y.cloneElement(qe,{"aria-selected":we?"true":"false",onClick:Te(qe),onKeyUp:he=>{he.key===" "&&he.preventDefault(),qe.props.onKeyUp&&qe.props.onKeyUp(he)},role:"option",selected:we,value:void 0,"data-value":qe.props.value})});lt&&(b?Ge.length===0?Fe=null:Fe=Ge.reduce((qe,we,he)=>(qe.push(we),he<Ge.length-1&&qe.push(", "),qe),[]):Fe=He);let Ze=G;!l&&W&&M&&(Ze=ce.clientWidth);let ye;typeof D<"u"?ye=D:ye=h?null:0;const Ue=T.id||(w?`mui-component-select-${w}`:void 0),ke=K({},t,{variant:H,value:V,open:xe,error:p}),rt=zee(ke),Ie=K({},C.PaperProps,(r=C.slotProps)==null?void 0:r.paper),_t=wf();return s.jsxs(y.Fragment,{children:[s.jsx(Ree,K({ref:ge,tabIndex:ye,role:"combobox","aria-controls":_t,"aria-disabled":h?"true":void 0,"aria-expanded":xe?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[x,Ue].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:be,onMouseDown:h||j?null:ne,onBlur:Ne,onFocus:N},T,{ownerState:ke,className:et(T.className,rt.select,A),id:Ue,children:$ee(Fe)?Nk||(Nk=s.jsx("span",{className:"notranslate",children:"​"})):Fe})),s.jsx(Hee,K({"aria-invalid":p,value:Array.isArray(V)?V.join(","):V,name:w,ref:U,"aria-hidden":!0,onChange:ie,tabIndex:-1,disabled:h,className:rt.nativeInput,autoFocus:o,ownerState:ke},z)),s.jsx(Qee,{as:g,className:rt.icon,ownerState:ke}),s.jsx(mee,K({id:`menu-${w||""}`,anchorEl:ce,open:xe,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C,{MenuListProps:K({"aria-labelledby":x,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:_t},C.MenuListProps),slotProps:K({},C.slotProps,{paper:K({},Ie,{style:K({minWidth:Ze},Ie!=null?Ie.style:null)})}),children:bt}))]})}),Kee=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Vee=["root"],Gee=e=>{const{classes:t}=e;return t},C5={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>$a(e)&&e!=="variant",slot:"Root"},qee=Ke(y5,C5)(""),Yee=Ke(w5,C5)(""),Xee=Ke(v5,C5)(""),go=y.forwardRef(function(t,n){const r=Wt({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:a,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:A=!1,IconComponent:u=kY,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:v,multiple:x=!1,native:C=!1,onClose:b,onOpen:w,open:E,renderValue:S,SelectDisplayProps:F,variant:N="outlined"}=r,P=ot(r,Kee),Q=C?kee:Wee,j=tl(),k=Zc({props:r,muiFormControl:j,states:["variant","error"]}),T=k.variant||N,D=K({},r,{variant:T,classes:o}),R=Gee(D),H=ot(R,Vee),z=h||{standard:s.jsx(qee,{ownerState:D}),outlined:s.jsx(Yee,{label:p,ownerState:D}),filled:s.jsx(Xee,{ownerState:D})}[T],V=br(n,su(z));return s.jsx(y.Fragment,{children:y.cloneElement(z,K({inputComponent:Q,inputProps:K({children:a,error:k.error,IconComponent:u,variant:T,type:void 0,multiple:x},C?{id:d}:{autoWidth:i,defaultOpen:c,displayEmpty:A,labelId:g,MenuProps:v,onClose:b,onOpen:w,open:E,renderValue:S,SelectDisplayProps:K({id:d},F)},f,{classes:f?Ca(H,f.classes):H},h?h.props.inputProps:{})},(x&&C||A)&&T==="outlined"?{notched:!0}:{},{ref:V,className:et(z.props.className,l,R.root)},!h&&{variant:T},P))})});go.muiName="Select";function Jee(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:a}=e,o=jc();y.useEffect(()=>{if(!i)return;function x(C){C.defaultPrevented||(C.key==="Escape"||C.key==="Esc")&&(r==null||r(C,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[i,r]);const l=pn((x,C)=>{r==null||r(x,C)}),c=pn(x=>{!r||x==null||o.start(x,()=>{l(null,"timeout")})});y.useEffect(()=>(i&&c(t),o.clear),[i,t,c,o]);const A=x=>{r==null||r(x,"clickaway")},u=o.clear,d=y.useCallback(()=>{t!=null&&c(a??t*.5)},[t,a,c]),h=x=>C=>{const b=x.onBlur;b==null||b(C),d()},f=x=>C=>{const b=x.onFocus;b==null||b(C),u()},p=x=>C=>{const b=x.onMouseEnter;b==null||b(C),u()},g=x=>C=>{const b=x.onMouseLeave;b==null||b(C),d()};return y.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(x={})=>{const C=K({},d0(e),d0(x));return K({role:"presentation"},x,C,{onBlur:h(C),onFocus:f(C),onMouseEnter:p(C),onMouseLeave:g(C)})},onClickAway:A}}function Zee(e){return jt("MuiSnackbarContent",e)}Et("MuiSnackbarContent",["root","message","action"]);const ete=["action","className","message","role"],tte=e=>{const{classes:t}=e;return It({root:["root"],action:["action"],message:["message"]},Zee,t)},nte=Ke(Pn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=m$(e.palette.background.default,t);return K({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),rte=Ke("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),ite=Ke("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ate=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiSnackbarContent"}),{action:i,className:a,message:o,role:l="alert"}=r,c=ot(r,ete),A=r,u=tte(A);return s.jsxs(nte,K({role:l,square:!0,elevation:6,className:et(u.root,a),ownerState:A,ref:n},c,{children:[s.jsx(rte,{className:u.message,ownerState:A,children:o}),i?s.jsx(ite,{className:u.action,ownerState:A,children:i}):null]}))});function ste(e){return jt("MuiSnackbar",e)}Et("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const ote=["onEnter","onExited"],lte=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],cte=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${st(n.vertical)}${st(n.horizontal)}`]};return It(r,ste,t)},Pk=Ke("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${st(n.anchorOrigin.vertical)}${st(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return K({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:K({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),CD=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiSnackbar"}),i=qs(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:A=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:f,disableWindowBlurListener:p=!1,message:g,open:v,TransitionComponent:x=Hp,transitionDuration:C=a,TransitionProps:{onEnter:b,onExited:w}={}}=r,E=ot(r.TransitionProps,ote),S=ot(r,lte),F=K({},r,{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:A,disableWindowBlurListener:p,TransitionComponent:x,transitionDuration:C}),N=cte(F),{getRootProps:P,onClickAway:Q}=Jee(K({},F)),[j,k]=y.useState(!0),T=Rs({elementType:Pk,getSlotProps:P,externalForwardedProps:S,ownerState:F,additionalProps:{ref:n},className:[N.root,d]}),D=H=>{k(!0),w&&w(H)},R=(H,z)=>{k(!1),b&&b(H,z)};return!v&&j?null:s.jsx(CX,K({onClickAway:Q},h,{children:s.jsx(Pk,K({},T,{children:s.jsx(x,K({appear:!0,in:v,timeout:C,direction:l==="top"?"down":"up",onEnter:R,onExited:D},E,{children:u||s.jsx(ate,K({message:g,action:o},f))}))}))}))});function Ate(e){return jt("MuiTooltip",e)}const Ec=Et("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ute=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function dte(e){return Math.round(e*1e5)/1e5}const fte=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:a}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${st(a.split("-")[0])}`],arrow:["arrow"]};return It(o,Ate,t)},hte=Ke(AD,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>K({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ec.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ec.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ec.arrow}`]:K({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ec.arrow}`]:K({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),pte=Ke("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${st(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>K({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Sn(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${dte(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ec.popper}[data-popper-placement*="left"] &`]:K({transformOrigin:"right center"},t.isRtl?K({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):K({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ec.popper}[data-popper-placement*="right"] &`]:K({transformOrigin:"left center"},t.isRtl?K({marginRight:"14px"},t.touch&&{marginRight:"24px"}):K({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ec.popper}[data-popper-placement*="top"] &`]:K({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ec.popper}[data-popper-placement*="bottom"] &`]:K({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),gte=Ke("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Sn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Qm=!1;const _k=new fg;let Fh={x:0,y:0};function Hm(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const T0=y.forwardRef(function(t,n){var r,i,a,o,l,c,A,u,d,h,f,p,g,v,x,C,b,w,E;const S=Wt({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:N,components:P={},componentsProps:Q={},describeChild:j=!1,disableFocusListener:k=!1,disableHoverListener:T=!1,disableInteractive:D=!1,disableTouchListener:R=!1,enterDelay:H=100,enterNextDelay:z=0,enterTouchDelay:V=700,followCursor:J=!1,id:te,leaveDelay:Ae=0,leaveTouchDelay:U=1500,onClose:O,onOpen:M,open:L,placement:W="bottom",PopperComponent:G,PopperProps:se={},slotProps:X={},slots:ge={},title:ce,TransitionComponent:Y=Hp,TransitionProps:ne}=S,oe=ot(S,ute),fe=y.isValidElement(N)?N:s.jsx("span",{children:N}),ie=qs(),Te=hg(),[be,xe]=y.useState(),[Ne,Fe]=y.useState(null),He=y.useRef(!1),Ge=D||J,lt=jc(),bt=jc(),Ze=jc(),ye=jc(),[Ue,ke]=Go({controlled:L,default:!1,name:"Tooltip",state:"open"});let rt=Ue;const Ie=wf(te),_t=y.useRef(),qe=pn(()=>{_t.current!==void 0&&(document.body.style.WebkitUserSelect=_t.current,_t.current=void 0),ye.clear()});y.useEffect(()=>qe,[qe]);const we=on=>{_k.clear(),Qm=!0,ke(!0),M&&!rt&&M(on)},he=pn(on=>{_k.start(800+Ae,()=>{Qm=!1}),ke(!1),O&&rt&&O(on),lt.start(ie.transitions.duration.shortest,()=>{He.current=!1})}),Le=on=>{He.current&&on.type!=="touchstart"||(be&&be.removeAttribute("title"),bt.clear(),Ze.clear(),H||Qm&&z?bt.start(Qm?z:H,()=>{we(on)}):we(on))},ve=on=>{bt.clear(),Ze.start(Ae,()=>{he(on)})},{isFocusVisibleRef:De,onBlur:de,onFocus:Se,ref:Re}=fP(),[,it]=y.useState(!1),ut=on=>{de(on),De.current===!1&&(it(!1),ve(on))},Oe=on=>{be||xe(on.currentTarget),Se(on),De.current===!0&&(it(!0),Le(on))},Ye=on=>{He.current=!0;const Ir=fe.props;Ir.onTouchStart&&Ir.onTouchStart(on)},We=on=>{Ye(on),Ze.clear(),lt.clear(),qe(),_t.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ye.start(V,()=>{document.body.style.WebkitUserSelect=_t.current,Le(on)})},Ve=on=>{fe.props.onTouchEnd&&fe.props.onTouchEnd(on),qe(),Ze.start(U,()=>{he(on)})};y.useEffect(()=>{if(!rt)return;function on(Ir){(Ir.key==="Escape"||Ir.key==="Esc")&&he(Ir)}return document.addEventListener("keydown",on),()=>{document.removeEventListener("keydown",on)}},[he,rt]);const nt=br(su(fe),Re,xe,n);!ce&&ce!==0&&(rt=!1);const ft=y.useRef(),at=on=>{const Ir=fe.props;Ir.onMouseMove&&Ir.onMouseMove(on),Fh={x:on.clientX,y:on.clientY},ft.current&&ft.current.update()},Bt={},xt=typeof ce=="string";j?(Bt.title=!rt&&xt&&!T?ce:null,Bt["aria-describedby"]=rt?Ie:null):(Bt["aria-label"]=xt?ce:null,Bt["aria-labelledby"]=rt&&!xt?Ie:null);const Ht=K({},Bt,oe,fe.props,{className:et(oe.className,fe.props.className),onTouchStart:Ye,ref:nt},J?{onMouseMove:at}:{}),Yt={};R||(Ht.onTouchStart=We,Ht.onTouchEnd=Ve),T||(Ht.onMouseOver=Hm(Le,Ht.onMouseOver),Ht.onMouseLeave=Hm(ve,Ht.onMouseLeave),Ge||(Yt.onMouseOver=Le,Yt.onMouseLeave=ve)),k||(Ht.onFocus=Hm(Oe,Ht.onFocus),Ht.onBlur=Hm(ut,Ht.onBlur),Ge||(Yt.onFocus=Oe,Yt.onBlur=ut));const rn=y.useMemo(()=>{var on;let Ir=[{name:"arrow",enabled:!!Ne,options:{element:Ne,padding:4}}];return(on=se.popperOptions)!=null&&on.modifiers&&(Ir=Ir.concat(se.popperOptions.modifiers)),K({},se.popperOptions,{modifiers:Ir})},[Ne,se]),Nn=K({},S,{isRtl:Te,arrow:F,disableInteractive:Ge,placement:W,PopperComponentProp:G,touch:He.current}),Kn=fte(Nn),kr=(r=(i=ge.popper)!=null?i:P.Popper)!=null?r:hte,ai=(a=(o=(l=ge.transition)!=null?l:P.Transition)!=null?o:Y)!=null?a:Hp,zr=(c=(A=ge.tooltip)!=null?A:P.Tooltip)!=null?c:pte,pi=(u=(d=ge.arrow)!=null?d:P.Arrow)!=null?u:gte,Aa=pd(kr,K({},se,(h=X.popper)!=null?h:Q.popper,{className:et(Kn.popper,se==null?void 0:se.className,(f=(p=X.popper)!=null?p:Q.popper)==null?void 0:f.className)}),Nn),Vi=pd(ai,K({},ne,(g=X.transition)!=null?g:Q.transition),Nn),Sa=pd(zr,K({},(v=X.tooltip)!=null?v:Q.tooltip,{className:et(Kn.tooltip,(x=(C=X.tooltip)!=null?C:Q.tooltip)==null?void 0:x.className)}),Nn),Zs=pd(pi,K({},(b=X.arrow)!=null?b:Q.arrow,{className:et(Kn.arrow,(w=(E=X.arrow)!=null?E:Q.arrow)==null?void 0:w.className)}),Nn);return s.jsxs(y.Fragment,{children:[y.cloneElement(fe,Ht),s.jsx(kr,K({as:G??AD,placement:W,anchorEl:J?{getBoundingClientRect:()=>({top:Fh.y,left:Fh.x,right:Fh.x,bottom:Fh.y,width:0,height:0})}:be,popperRef:ft,open:be?rt:!1,id:Ie,transition:!0},Yt,Aa,{popperOptions:rn,children:({TransitionProps:on})=>s.jsx(ai,K({timeout:ie.transitions.duration.shorter},on,Vi,{children:s.jsxs(zr,K({},Sa,{children:[ce,F?s.jsx(pi,K({},Zs,{ref:Fe})):null]}))}))}))]})}),jg=y.createContext({}),Tx=y.createContext({});function mte(e){return jt("MuiStep",e)}Et("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const vte=["active","children","className","component","completed","disabled","expanded","index","last"],yte=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:i}=e;return It({root:["root",n,r&&"alternativeLabel",i&&"completed"]},mte,t)},xte=Ke("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>K({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Gv=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiStep"}),{active:i,children:a,className:o,component:l="div",completed:c,disabled:A,expanded:u=!1,index:d,last:h}=r,f=ot(r,vte),{activeStep:p,connector:g,alternativeLabel:v,orientation:x,nonLinear:C}=y.useContext(jg);let[b=!1,w=!1,E=!1]=[i,c,A];p===d?b=i!==void 0?i:!0:!C&&p>d?w=c!==void 0?c:!0:!C&&p<d&&(E=A!==void 0?A:!0);const S=y.useMemo(()=>({index:d,last:h,expanded:u,icon:d+1,active:b,completed:w,disabled:E}),[d,h,u,b,w,E]),F=K({},r,{active:b,orientation:x,alternativeLabel:v,completed:w,disabled:E,expanded:u,component:l}),N=yte(F),P=s.jsxs(xte,K({as:l,className:et(N.root,o),ref:n,ownerState:F},f,{children:[g&&v&&d!==0?g:null,a]}));return s.jsx(Tx.Provider,{value:S,children:g&&!v&&d!==0?s.jsxs(y.Fragment,{children:[g,P]}):P})}),bte=ht(s.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),wte=ht(s.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Cte(e){return jt("MuiStepIcon",e)}const Hb=Et("MuiStepIcon",["root","active","completed","error","text"]);var Dk;const Bte=["active","className","completed","error","icon"],Ste=e=>{const{classes:t,active:n,completed:r,error:i}=e;return It({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},Cte,t)},$b=Ke(B0,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${Hb.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${Hb.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${Hb.error}`]:{color:(e.vars||e).palette.error.main}})),jte=Ke("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),Ete=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiStepIcon"}),{active:i=!1,className:a,completed:o=!1,error:l=!1,icon:c}=r,A=ot(r,Bte),u=K({},r,{active:i,completed:o,error:l}),d=Ste(u);if(typeof c=="number"||typeof c=="string"){const h=et(a,d.root);return l?s.jsx($b,K({as:wte,className:h,ref:n,ownerState:u},A)):o?s.jsx($b,K({as:bte,className:h,ref:n,ownerState:u},A)):s.jsxs($b,K({className:h,ref:n,ownerState:u},A,{children:[Dk||(Dk=s.jsx("circle",{cx:"12",cy:"12",r:"12"})),s.jsx(jte,{className:d.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:c})]}))}return c});function kte(e){return jt("MuiStepLabel",e)}const kc=Et("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Ite=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Tte=e=>{const{classes:t,orientation:n,active:r,completed:i,error:a,disabled:o,alternativeLabel:l}=e;return It({root:["root",n,a&&"error",o&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},kte,t)},Nte=Ke("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>K({display:"flex",alignItems:"center",[`&.${kc.alternativeLabel}`]:{flexDirection:"column"},[`&.${kc.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Fte=Ke("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>K({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${kc.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${kc.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${kc.alternativeLabel}`]:{marginTop:16},[`&.${kc.error}`]:{color:(e.vars||e).palette.error.main}})),Pte=Ke("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${kc.alternativeLabel}`]:{paddingRight:0}})),_te=Ke("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${kc.alternativeLabel}`]:{textAlign:"center"}})),bp=y.forwardRef(function(t,n){var r;const i=Wt({props:t,name:"MuiStepLabel"}),{children:a,className:o,componentsProps:l={},error:c=!1,icon:A,optional:u,slotProps:d={},StepIconComponent:h,StepIconProps:f}=i,p=ot(i,Ite),{alternativeLabel:g,orientation:v}=y.useContext(jg),{active:x,disabled:C,completed:b,icon:w}=y.useContext(Tx),E=A||w;let S=h;E&&!S&&(S=Ete);const F=K({},i,{active:x,alternativeLabel:g,completed:b,disabled:C,error:c,orientation:v}),N=Tte(F),P=(r=d.label)!=null?r:l.label;return s.jsxs(Nte,K({className:et(N.root,o),ref:n,ownerState:F},p,{children:[E||S?s.jsx(Pte,{className:N.iconContainer,ownerState:F,children:s.jsx(S,K({completed:b,active:x,error:c,icon:E},f))}):null,s.jsxs(_te,{className:N.labelContainer,ownerState:F,children:[a?s.jsx(Fte,K({ownerState:F},P,{className:et(N.label,P==null?void 0:P.className),children:a})):null,u]})]}))});bp.muiName="StepLabel";function Dte(e){return jt("MuiStepConnector",e)}Et("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Mte=["className"],Ute=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:i,completed:a,disabled:o}=e,l={root:["root",n,r&&"alternativeLabel",i&&"active",a&&"completed",o&&"disabled"],line:["line",`line${st(n)}`]};return It(l,Dte,t)},Lte=Ke("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>K({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Ote=Ke("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${st(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return K({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Rte=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiStepConnector"}),{className:i}=r,a=ot(r,Mte),{alternativeLabel:o,orientation:l="horizontal"}=y.useContext(jg),{active:c,disabled:A,completed:u}=y.useContext(Tx),d=K({},r,{alternativeLabel:o,orientation:l,active:c,completed:u,disabled:A}),h=Ute(d);return s.jsx(Lte,K({className:et(h.root,i),ref:n,ownerState:d},a,{children:s.jsx(Ote,{className:h.line,ownerState:d})}))});function Qte(e){return jt("MuiStepContent",e)}Et("MuiStepContent",["root","last","transition"]);const Hte=["children","className","TransitionComponent","transitionDuration","TransitionProps"],$te=e=>{const{classes:t,last:n}=e;return It({root:["root",n&&"last"],transition:["transition"]},Qte,t)},zte=Ke("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>K({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),Wte=Ke(bx,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),qv=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiStepContent"}),{children:i,className:a,TransitionComponent:o=bx,transitionDuration:l="auto",TransitionProps:c}=r,A=ot(r,Hte),{orientation:u}=y.useContext(jg),{active:d,last:h,expanded:f}=y.useContext(Tx),p=K({},r,{last:h}),g=$te(p);let v=l;return l==="auto"&&!o.muiSupportAuto&&(v=void 0),s.jsx(zte,K({className:et(g.root,a),ref:n,ownerState:p},A,{children:s.jsx(Wte,K({as:o,in:d||f,className:g.transition,ownerState:p,timeout:v,unmountOnExit:!0},c,{children:i}))}))});function Kte(e){return jt("MuiStepper",e)}Et("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Vte=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Gte=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:i}=e;return It({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},Kte,i)},qte=Ke("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>K({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),Yte=s.jsx(Rte,{}),BD=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:a=!1,children:o,className:l,component:c="div",connector:A=Yte,nonLinear:u=!1,orientation:d="horizontal"}=r,h=ot(r,Vte),f=K({},r,{nonLinear:u,alternativeLabel:a,orientation:d,component:c}),p=Gte(f),g=y.Children.toArray(o).filter(Boolean),v=g.map((C,b)=>y.cloneElement(C,K({index:b,last:b+1===g.length},C.props))),x=y.useMemo(()=>({activeStep:i,alternativeLabel:a,connector:A,nonLinear:u,orientation:d}),[i,a,A,u,d]);return s.jsx(jg.Provider,{value:x,children:s.jsx(qte,K({as:c,ownerState:f,className:et(p.root,l),ref:n},h,{children:v}))})});function Xte(e){return jt("MuiSwitch",e)}const ga=Et("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Jte=["className","color","edge","size","sx"],Zte=e=>{const{classes:t,edge:n,size:r,color:i,checked:a,disabled:o}=e,l={root:["root",n&&`edge${st(n)}`,`size${st(r)}`],switchBase:["switchBase",`color${st(i)}`,a&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=It(l,Xte,t);return K({},t,c)},ene=Ke("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${st(n.edge)}`],t[`size${st(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ga.thumb}`]:{width:16,height:16},[`& .${ga.switchBase}`]:{padding:4,[`&.${ga.checked}`]:{transform:"translateX(16px)"}}}}]}),tne=Ke(fD,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${ga.input}`]:t.input},n.color!=="default"&&t[`color${st(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ga.checked}`]:{transform:"translateX(20px)"},[`&.${ga.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ga.checked} + .${ga.track}`]:{opacity:.5},[`&.${ga.disabled} + .${ga.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ga.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${ga.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sn(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ga.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Wd(e.palette[t].main,.62):zd(e.palette[t].main,.55)}`}},[`&.${ga.checked} + .${ga.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),nne=Ke("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),rne=Ke("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Ya=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:o=!1,size:l="medium",sx:c}=r,A=ot(r,Jte),u=K({},r,{color:a,edge:o,size:l}),d=Zte(u),h=s.jsx(rne,{className:d.thumb,ownerState:u});return s.jsxs(ene,{className:et(d.root,i),sx:c,ownerState:u,children:[s.jsx(tne,K({type:"checkbox",icon:h,checkedIcon:h,ref:n,ownerState:u},A,{classes:K({},d,{root:d.switchBase})})),s.jsx(nne,{className:d.track,ownerState:u})]})});function ine(e){return jt("MuiTab",e)}const pc=Et("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ane=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],sne=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:a,label:o,selected:l,disabled:c}=e,A={root:["root",a&&o&&"labelIcon",`textColor${st(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]};return It(A,ine,t)},one=Ke(Yo,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${st(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${pc.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>K({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${pc.iconWrapper}`]:K({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${pc.selected}`]:{opacity:1},[`&.${pc.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${pc.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${pc.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${pc.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${pc.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),xa=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:l,icon:c,iconPosition:A="top",indicator:u,label:d,onChange:h,onClick:f,onFocus:p,selected:g,selectionFollowsFocus:v,textColor:x="inherit",value:C,wrapped:b=!1}=r,w=ot(r,ane),E=K({},r,{disabled:a,disableFocusRipple:o,selected:g,icon:!!c,iconPosition:A,label:!!d,fullWidth:l,textColor:x,wrapped:b}),S=sne(E),F=c&&d&&y.isValidElement(c)?y.cloneElement(c,{className:et(S.iconWrapper,c.props.className)}):c,N=Q=>{!g&&h&&h(Q,C),f&&f(Q)},P=Q=>{v&&!g&&h&&h(Q,C),p&&p(Q)};return s.jsxs(one,K({focusRipple:!o,className:et(S.root,i),ref:n,role:"tab","aria-selected":g,disabled:a,onClick:N,onFocus:P,ownerState:E,tabIndex:g?0:-1},w,{children:[A==="top"||A==="start"?s.jsxs(y.Fragment,{children:[F,d]}):s.jsxs(y.Fragment,{children:[d,F]}),u]}))}),SD=y.createContext();function lne(e){return jt("MuiTable",e)}Et("MuiTable",["root","stickyHeader"]);const cne=["className","component","padding","size","stickyHeader"],Ane=e=>{const{classes:t,stickyHeader:n}=e;return It({root:["root",n&&"stickyHeader"]},lne,t)},une=Ke("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>K({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":K({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Mk="table",Uo=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTable"}),{className:i,component:a=Mk,padding:o="normal",size:l="medium",stickyHeader:c=!1}=r,A=ot(r,cne),u=K({},r,{component:a,padding:o,size:l,stickyHeader:c}),d=Ane(u),h=y.useMemo(()=>({padding:o,size:l,stickyHeader:c}),[o,l,c]);return s.jsx(SD.Provider,{value:h,children:s.jsx(une,K({as:a,role:a===Mk?null:"table",ref:n,className:et(d.root,i),ownerState:u},A))})}),Nx=y.createContext();function dne(e){return jt("MuiTableBody",e)}Et("MuiTableBody",["root"]);const fne=["className","component"],hne=e=>{const{classes:t}=e;return It({root:["root"]},dne,t)},pne=Ke("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),gne={variant:"body"},Uk="tbody",Lo=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTableBody"}),{className:i,component:a=Uk}=r,o=ot(r,fne),l=K({},r,{component:a}),c=hne(l);return s.jsx(Nx.Provider,{value:gne,children:s.jsx(pne,K({className:et(c.root,i),as:a,ref:n,role:a===Uk?null:"rowgroup",ownerState:l},o))})});function mne(e){return jt("MuiTableCell",e)}const vne=Et("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),yne=["align","className","component","padding","scope","size","sortDirection","variant"],xne=e=>{const{classes:t,variant:n,align:r,padding:i,size:a,stickyHeader:o}=e,l={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${st(r)}`,i!=="normal"&&`padding${st(i)}`,`size${st(a)}`]};return It(l,mne,t)},bne=Ke("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${st(n.size)}`],n.padding!=="normal"&&t[`padding${st(n.padding)}`],n.align!=="inherit"&&t[`align${st(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>K({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Wd(Sn(e.palette.divider,1),.88):zd(Sn(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${vne.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),pt=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTableCell"}),{align:i="inherit",className:a,component:o,padding:l,scope:c,size:A,sortDirection:u,variant:d}=r,h=ot(r,yne),f=y.useContext(SD),p=y.useContext(Nx),g=p&&p.variant==="head";let v;o?v=o:v=g?"th":"td";let x=c;v==="td"?x=void 0:!x&&g&&(x="col");const C=d||p&&p.variant,b=K({},r,{align:i,component:v,padding:l||(f&&f.padding?f.padding:"normal"),size:A||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:C==="head"&&f&&f.stickyHeader,variant:C}),w=xne(b);let E=null;return u&&(E=u==="asc"?"ascending":"descending"),s.jsx(bne,K({as:v,ref:n,className:et(w.root,a),"aria-sort":E,scope:x,ownerState:b},h))});function wne(e){return jt("MuiTableContainer",e)}Et("MuiTableContainer",["root"]);const Cne=["className","component"],Bne=e=>{const{classes:t}=e;return It({root:["root"]},wne,t)},Sne=Ke("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Oo=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTableContainer"}),{className:i,component:a="div"}=r,o=ot(r,Cne),l=K({},r,{component:a}),c=Bne(l);return s.jsx(Sne,K({ref:n,as:a,className:et(c.root,i),ownerState:l},o))});function jne(e){return jt("MuiTableHead",e)}Et("MuiTableHead",["root"]);const Ene=["className","component"],kne=e=>{const{classes:t}=e;return It({root:["root"]},jne,t)},Ine=Ke("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Tne={variant:"head"},Lk="thead",Ro=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTableHead"}),{className:i,component:a=Lk}=r,o=ot(r,Ene),l=K({},r,{component:a}),c=kne(l);return s.jsx(Nx.Provider,{value:Tne,children:s.jsx(Ine,K({as:a,className:et(c.root,i),ref:n,role:a===Lk?null:"rowgroup",ownerState:l},o))})}),Nne=ht(s.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Fne=ht(s.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Pne(e){return jt("MuiTableRow",e)}const Ok=Et("MuiTableRow",["root","selected","hover","head","footer"]),_ne=["className","component","hover","selected"],Dne=e=>{const{classes:t,selected:n,hover:r,head:i,footer:a}=e;return It({root:["root",n&&"selected",r&&"hover",i&&"head",a&&"footer"]},Pne,t)},Mne=Ke("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ok.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Ok.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),Rk="tr",Pr=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTableRow"}),{className:i,component:a=Rk,hover:o=!1,selected:l=!1}=r,c=ot(r,_ne),A=y.useContext(Nx),u=K({},r,{component:a,hover:o,selected:l,head:A&&A.variant==="head",footer:A&&A.variant==="footer"}),d=Dne(u);return s.jsx(Mne,K({as:a,ref:n,className:et(d.root,i),role:a===Rk?null:"row",ownerState:u},c))});function Une(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Lne(e,t,n,r={},i=()=>{}){const{ease:a=Une,duration:o=300}=r;let l=null;const c=t[e];let A=!1;const u=()=>{A=!0},d=h=>{if(A){i(new Error("Animation cancelled"));return}l===null&&(l=h);const f=Math.min(1,(h-l)/o);if(t[e]=a(f)*(n-c)+c,f>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return c===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const One=["onChange"],Rne={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Qne(e){const{onChange:t}=e,n=ot(e,One),r=y.useRef(),i=y.useRef(null),a=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return la(()=>{const o=fx(()=>{const c=r.current;a(),c!==r.current&&t(r.current)}),l=Pl(i.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[t]),y.useEffect(()=>{a(),t(r.current)},[t]),s.jsx("div",K({style:Rne},n,{ref:i}))}function Hne(e){return jt("MuiTabScrollButton",e)}const $ne=Et("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),zne=["className","slots","slotProps","direction","orientation","disabled"],Wne=e=>{const{classes:t,orientation:n,disabled:r}=e;return It({root:["root",n,r&&"disabled"]},Hne,t)},Kne=Ke(Yo,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>K({width:40,flexShrink:0,opacity:.8,[`&.${$ne.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Vne=y.forwardRef(function(t,n){var r,i;const a=Wt({props:t,name:"MuiTabScrollButton"}),{className:o,slots:l={},slotProps:c={},direction:A}=a,u=ot(a,zne),d=hg(),h=K({isRtl:d},a),f=Wne(h),p=(r=l.StartScrollButtonIcon)!=null?r:Nne,g=(i=l.EndScrollButtonIcon)!=null?i:Fne,v=Rs({elementType:p,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),x=Rs({elementType:g,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return s.jsx(Kne,K({component:"div",className:et(f.root,o),ref:n,role:null,ownerState:h,tabIndex:null},u,{children:A==="left"?s.jsx(p,K({},v)):s.jsx(g,K({},x))}))});function Gne(e){return jt("MuiTabs",e)}const zb=Et("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),qne=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Qk=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Hk=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,$m=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=n(e,i);else{i.focus();return}}},Yne=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:o,scrollButtonsHideMobile:l,classes:c}=e;return It({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Gne,c)},Xne=Ke("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${zb.scrollButtons}`]:t.scrollButtons},{[`& .${zb.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>K({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${zb.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Jne=Ke("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>K({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Zne=Ke("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>K({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),ere=Ke("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>K({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),tre=Ke(Qne)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$k={},Fx=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTabs"}),i=qs(),a=hg(),{"aria-label":o,"aria-labelledby":l,action:c,centered:A=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:f=!1,indicatorColor:p="primary",onChange:g,orientation:v="horizontal",ScrollButtonComponent:x=Vne,scrollButtons:C="auto",selectionFollowsFocus:b,slots:w={},slotProps:E={},TabIndicatorProps:S={},TabScrollButtonProps:F={},textColor:N="primary",value:P,variant:Q="standard",visibleScrollbar:j=!1}=r,k=ot(r,qne),T=Q==="scrollable",D=v==="vertical",R=D?"scrollTop":"scrollLeft",H=D?"top":"left",z=D?"bottom":"right",V=D?"clientHeight":"clientWidth",J=D?"height":"width",te=K({},r,{component:h,allowScrollButtonsMobile:f,indicatorColor:p,orientation:v,vertical:D,scrollButtons:C,textColor:N,variant:Q,visibleScrollbar:j,fixed:!T,hideScrollbar:T&&!j,scrollableX:T&&!D,scrollableY:T&&D,centered:A&&!T,scrollButtonsHideMobile:!f}),Ae=Yne(te),U=Rs({elementType:w.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:te}),O=Rs({elementType:w.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:te}),[M,L]=y.useState(!1),[W,G]=y.useState($k),[se,X]=y.useState(!1),[ge,ce]=y.useState(!1),[Y,ne]=y.useState(!1),[oe,fe]=y.useState({overflow:"hidden",scrollbarWidth:0}),ie=new Map,Te=y.useRef(null),be=y.useRef(null),xe=()=>{const he=Te.current;let Le;if(he){const De=he.getBoundingClientRect();Le={clientWidth:he.clientWidth,scrollLeft:he.scrollLeft,scrollTop:he.scrollTop,scrollLeftNormalized:R9(he,a?"rtl":"ltr"),scrollWidth:he.scrollWidth,top:De.top,bottom:De.bottom,left:De.left,right:De.right}}let ve;if(he&&P!==!1){const De=be.current.children;if(De.length>0){const de=De[ie.get(P)];ve=de?de.getBoundingClientRect():null}}return{tabsMeta:Le,tabMeta:ve}},Ne=pn(()=>{const{tabsMeta:he,tabMeta:Le}=xe();let ve=0,De;if(D)De="top",Le&&he&&(ve=Le.top-he.top+he.scrollTop);else if(De=a?"right":"left",Le&&he){const Se=a?he.scrollLeftNormalized+he.clientWidth-he.scrollWidth:he.scrollLeft;ve=(a?-1:1)*(Le[De]-he[De]+Se)}const de={[De]:ve,[J]:Le?Le[J]:0};if(isNaN(W[De])||isNaN(W[J]))G(de);else{const Se=Math.abs(W[De]-de[De]),Re=Math.abs(W[J]-de[J]);(Se>=1||Re>=1)&&G(de)}}),Fe=(he,{animation:Le=!0}={})=>{Le?Lne(R,Te.current,he,{duration:i.transitions.duration.standard}):Te.current[R]=he},He=he=>{let Le=Te.current[R];D?Le+=he:(Le+=he*(a?-1:1),Le*=a&&pP()==="reverse"?-1:1),Fe(Le)},Ge=()=>{const he=Te.current[V];let Le=0;const ve=Array.from(be.current.children);for(let De=0;De<ve.length;De+=1){const de=ve[De];if(Le+de[V]>he){De===0&&(Le=he);break}Le+=de[V]}return Le},lt=()=>{He(-1*Ge())},bt=()=>{He(Ge())},Ze=y.useCallback(he=>{fe({overflow:null,scrollbarWidth:he})},[]),ye=()=>{const he={};he.scrollbarSizeListener=T?s.jsx(tre,{onChange:Ze,className:et(Ae.scrollableX,Ae.hideScrollbar)}):null;const ve=T&&(C==="auto"&&(se||ge)||C===!0);return he.scrollButtonStart=ve?s.jsx(x,K({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:U},orientation:v,direction:a?"right":"left",onClick:lt,disabled:!se},F,{className:et(Ae.scrollButtons,F.className)})):null,he.scrollButtonEnd=ve?s.jsx(x,K({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:O},orientation:v,direction:a?"left":"right",onClick:bt,disabled:!ge},F,{className:et(Ae.scrollButtons,F.className)})):null,he},Ue=pn(he=>{const{tabsMeta:Le,tabMeta:ve}=xe();if(!(!ve||!Le)){if(ve[H]<Le[H]){const De=Le[R]+(ve[H]-Le[H]);Fe(De,{animation:he})}else if(ve[z]>Le[z]){const De=Le[R]+(ve[z]-Le[z]);Fe(De,{animation:he})}}}),ke=pn(()=>{T&&C!==!1&&ne(!Y)});y.useEffect(()=>{const he=fx(()=>{Te.current&&Ne()});let Le;const ve=Se=>{Se.forEach(Re=>{Re.removedNodes.forEach(it=>{var ut;(ut=Le)==null||ut.unobserve(it)}),Re.addedNodes.forEach(it=>{var ut;(ut=Le)==null||ut.observe(it)})}),he(),ke()},De=Pl(Te.current);De.addEventListener("resize",he);let de;return typeof ResizeObserver<"u"&&(Le=new ResizeObserver(he),Array.from(be.current.children).forEach(Se=>{Le.observe(Se)})),typeof MutationObserver<"u"&&(de=new MutationObserver(ve),de.observe(be.current,{childList:!0})),()=>{var Se,Re;he.clear(),De.removeEventListener("resize",he),(Se=de)==null||Se.disconnect(),(Re=Le)==null||Re.disconnect()}},[Ne,ke]),y.useEffect(()=>{const he=Array.from(be.current.children),Le=he.length;if(typeof IntersectionObserver<"u"&&Le>0&&T&&C!==!1){const ve=he[0],De=he[Le-1],de={root:Te.current,threshold:.99},Se=Oe=>{X(!Oe[0].isIntersecting)},Re=new IntersectionObserver(Se,de);Re.observe(ve);const it=Oe=>{ce(!Oe[0].isIntersecting)},ut=new IntersectionObserver(it,de);return ut.observe(De),()=>{Re.disconnect(),ut.disconnect()}}},[T,C,Y,u==null?void 0:u.length]),y.useEffect(()=>{L(!0)},[]),y.useEffect(()=>{Ne()}),y.useEffect(()=>{Ue($k!==W)},[Ue,W]),y.useImperativeHandle(c,()=>({updateIndicator:Ne,updateScrollButtons:ke}),[Ne,ke]);const rt=s.jsx(ere,K({},S,{className:et(Ae.indicator,S.className),ownerState:te,style:K({},W,S.style)}));let Ie=0;const _t=y.Children.map(u,he=>{if(!y.isValidElement(he))return null;const Le=he.props.value===void 0?Ie:he.props.value;ie.set(Le,Ie);const ve=Le===P;return Ie+=1,y.cloneElement(he,K({fullWidth:Q==="fullWidth",indicator:ve&&!M&&rt,selected:ve,selectionFollowsFocus:b,onChange:g,textColor:N,value:Le},Ie===1&&P===!1&&!he.props.tabIndex?{tabIndex:0}:{}))}),qe=he=>{const Le=be.current,ve=xi(Le).activeElement;if(ve.getAttribute("role")!=="tab")return;let de=v==="horizontal"?"ArrowLeft":"ArrowUp",Se=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&a&&(de="ArrowRight",Se="ArrowLeft"),he.key){case de:he.preventDefault(),$m(Le,ve,Hk);break;case Se:he.preventDefault(),$m(Le,ve,Qk);break;case"Home":he.preventDefault(),$m(Le,null,Qk);break;case"End":he.preventDefault(),$m(Le,null,Hk);break}},we=ye();return s.jsxs(Xne,K({className:et(Ae.root,d),ownerState:te,ref:n,as:h},k,{children:[we.scrollButtonStart,we.scrollbarSizeListener,s.jsxs(Jne,{className:Ae.scroller,ownerState:te,style:{overflow:oe.overflow,[D?`margin${a?"Left":"Right"}`:"marginBottom"]:j?void 0:-oe.scrollbarWidth},ref:Te,children:[s.jsx(Zne,{"aria-label":o,"aria-labelledby":l,"aria-orientation":v==="vertical"?"vertical":null,className:Ae.flexContainer,ownerState:te,onKeyDown:qe,ref:be,role:"tablist",children:_t}),M&&rt]}),we.scrollButtonEnd]}))});function nre(e){return jt("MuiTextField",e)}Et("MuiTextField",["root"]);const rre=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],ire={standard:y5,filled:v5,outlined:w5},are=e=>{const{classes:t}=e;return It({root:["root"]},nre,t)},sre=Ke(po,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Lt=y.forwardRef(function(t,n){const r=Wt({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:o,className:l,color:c="primary",defaultValue:A,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:v,inputProps:x,InputProps:C,inputRef:b,label:w,maxRows:E,minRows:S,multiline:F=!1,name:N,onBlur:P,onChange:Q,onFocus:j,placeholder:k,required:T=!1,rows:D,select:R=!1,SelectProps:H,type:z,value:V,variant:J="outlined"}=r,te=ot(r,rre),Ae=K({},r,{autoFocus:a,color:c,disabled:u,error:d,fullWidth:f,multiline:F,required:T,select:R,variant:J}),U=are(Ae),O={};J==="outlined"&&(v&&typeof v.shrink<"u"&&(O.notched=v.shrink),O.label=w),R&&((!H||!H.native)&&(O.id=void 0),O["aria-describedby"]=void 0);const M=wf(g),L=p&&M?`${M}-helper-text`:void 0,W=w&&M?`${M}-label`:void 0,G=ire[J],se=s.jsx(G,K({"aria-describedby":L,autoComplete:i,autoFocus:a,defaultValue:A,fullWidth:f,multiline:F,name:N,rows:D,maxRows:E,minRows:S,type:z,value:V,id:M,inputRef:b,onBlur:P,onChange:Q,onFocus:j,placeholder:k,inputProps:x},O,C));return s.jsxs(sre,K({className:et(U.root,l),disabled:u,error:d,fullWidth:f,ref:n,required:T,color:c,variant:J,ownerState:Ae},te,{children:[w!=null&&w!==""&&s.jsx(Jo,K({htmlFor:M,id:W},v,{children:w})),R?s.jsx(go,K({"aria-describedby":L,id:M,labelId:W,value:V,input:se},H,{children:o})):se,p&&s.jsx(LJ,K({id:L},h,{children:p}))]}))});function ore({children:e}){const{user:t,admin:n,loading:r}=er(),i=mF();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:s.jsx(nr,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),s.jsx(hd,{to:"/login",replace:!0})):(n==null?void 0:n.role)==="trainer"&&(i.pathname==="/admin"||i.pathname==="/admin/"||i.pathname==="/admin/dashboard")?(console.log("👨‍🏫 Trainer detected, redirecting to calendar"),s.jsx(hd,{to:"/admin/bookings",replace:!0})):s.jsx(s.Fragment,{children:e})}const lre=ht([s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),Px=ht(s.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),cre=ht(s.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet"),wp=ht(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),cu=ht(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Are=ht(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),zk=ht(s.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),ure=ht(s.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),dre=ht(s.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),fre=ht(s.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),hre=ht(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),Hc=ht(s.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),tf=ht(s.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),pre=ht(s.jsx("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-6 0h-4V5h4z"}),"BusinessCenter"),$p=ht(s.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),gre=ht([s.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),s.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt"),mre=ht(s.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),Ds=ht(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),vre=ht(s.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),yre=ht(s.jsx("path",{d:"m2 22 14-5-9-9zm12.53-9.47 5.59-5.59c.49-.49 1.28-.49 1.77 0l.59.59 1.06-1.06-.59-.59c-1.07-1.07-2.82-1.07-3.89 0l-5.59 5.59zm-4.47-5.65-.59.59 1.06 1.06.59-.59c1.07-1.07 1.07-2.82 0-3.89l-.59-.59-1.06 1.07.59.59c.48.48.48 1.28 0 1.76m7 5-1.59 1.59 1.06 1.06 1.59-1.59c.49-.49 1.28-.49 1.77 0l1.61 1.61 1.06-1.06-1.61-1.61c-1.08-1.07-2.82-1.07-3.89 0m-2-6-3.59 3.59 1.06 1.06 3.59-3.59c1.07-1.07 1.07-2.82 0-3.89l-1.59-1.59-1.06 1.06 1.59 1.59c.48.49.48 1.29 0 1.77"}),"Celebration"),ya=ht(s.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Eg=ht(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),xre=ht(s.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),bre=ht(s.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),zp=ht(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),wre=ht(s.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),jD=ht(s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),ED=ht(s.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),Cre=ht(s.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),Au=ht(s.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Bre=ht(s.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Sre=ht(s.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),$c=ht(s.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Wk=ht(s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),jre=ht(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Ere=ht(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Kk=ht(s.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),kre=ht(s.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Ire=ht(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Tre=ht(s.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),Nre=ht(s.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Vk=ht(s.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),Fre=ht(s.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),kD=ht(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),Pre=ht(s.jsx("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22zM8 7.5V4h8v3.5l-4 4z"}),"HourglassBottom"),B5=ht(s.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty"),S5=ht(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),_re=ht(s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"}),"Language"),Dre=ht(s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),Mre=ht(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),Gk=ht(s.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Ure=ht(s.jsx("path",{d:"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27M5.33 4.06 4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27z"}),"MoneyOff"),ID=ht(s.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Td=ht(s.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),j5=ht(s.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),Lre=ht(s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),_w=ht(s.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),Ore=ht(s.jsx("path",{d:"M8.65 5.82C9.36 4.72 10.6 4 12 4c2.21 0 4 1.79 4 4 0 1.4-.72 2.64-1.82 3.35zM20 17.17c-.02-1.1-.63-2.11-1.61-2.62-.54-.28-1.13-.54-1.77-.76zm1.19 4.02L2.81 2.81 1.39 4.22l8.89 8.89c-1.81.23-3.39.79-4.67 1.45-1 .51-1.61 1.54-1.61 2.66V20h13.17l2.61 2.61z"}),"PersonOff"),qk=ht(s.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),Rre=ht(s.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),Yk=ht(s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Place"),Qre=ht(s.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),Hre=ht(s.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),E5=ht(s.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),$re=ht(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),TD=ht(s.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),k5=ht(s.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Dc=ht(s.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),zre=ht([s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),I5=ht(s.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),T5=ht(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Wre=ht([s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),s.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff"),N0=ht(s.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),Dw=ht(s.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),_x=ht(s.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),ND=ht(s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),Kre=ht(s.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),N5=ht(s.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),Vre=ht(s.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),Gre=ht(s.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),qre=ht(s.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),Xk=ht(s.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),Yre=ht(s.jsx("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown"),kg=ht(s.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),FD=ht(s.jsx("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade"),PD=ht(s.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Xre=ht(s.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),zc=ht(s.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Jre=ht(s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),ri=()=>{const{admin:e}=er(),t=h=>e?e.role==="superadmin"?!0:Array.isArray(h)?h.some(f=>e.permissions.includes(f)):e.permissions.includes(h):!1;return{hasPermission:t,hasAllPermissions:h=>e?e.role==="superadmin"?!0:h.every(f=>e.permissions.includes(f)):!1,hasRole:h=>e?Array.isArray(h)?h.includes(e.role):e.role===h:!1,canAccessVenue:h=>e?e.role==="superadmin"?!0:e.venueId===h:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="admin"&&(e!=null&&e.venueId)?!0:t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function F0({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return s.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[s.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),s.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),s.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),s.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function Zre({forceShow:e=!1,onClose:t}){const n=$r(),{club:r,admin:i}=er(),[a,o]=y.useState(!1),[l,c]=y.useState(0),[A,u]=y.useState([]),[d,h]=y.useState(!1),f=[{title:"🎾 Добавьте корты",description:"Это самый важный шаг! Без кортов система не будет работать. Добавьте все ваши корты, укажите их типы и настройте расписание работы.",icon:s.jsx(N5,{color:"primary",fontSize:"large"}),path:"/admin/courts",buttonText:"Добавить корты",checklist:["Добавьте все доступные корты","Укажите тип каждого корта (крытый/открытый)","Настройте расписание работы","Установите цены за час"]},{title:"🏢 Заполните реквизиты",description:"Для прохождения модерации и подключения платежной системы необходимо заполнить реквизиты вашей организации.",icon:s.jsx(tf,{color:"primary",fontSize:"large"}),path:"/admin/club",buttonText:"Заполнить реквизиты",checklist:["Укажите полное название организации","Добавьте ИНН и ОГРН","Заполните юридический адрес","Добавьте банковские реквизиты"]},{title:"👥 Добавьте тренеров",description:"Создайте аккаунты для тренеров, чтобы они могли самостоятельно управлять своим расписанием и ценами.",icon:s.jsx(I5,{color:"primary",fontSize:"large"}),path:"/admin/trainers",buttonText:"Добавить тренеров",checklist:["Добавьте всех тренеров клуба","Создайте для них аккаунты","Отправьте им доступы","Тренеры смогут сами управлять расписанием"]}];y.useEffect(()=>{e?(o(!0),c(0),p()):g()},[r,e]);const p=async()=>{if(!(!r||!i))try{const E=(await fn(wt(_e,"venues",r.id))).data(),S=[];((E==null?void 0:E.courts)||[]).length>0&&S.push(0),E!=null&&E.inn&&(E!=null&&E.bankAccount)&&S.push(1),E!=null&&E.trainers&&E.trainers.length>0&&S.push(2),u(S);const N=f.findIndex((P,Q)=>!S.includes(Q));c(N!==-1?N:0)}catch(w){console.error("Error checking current progress:",w)}},g=async()=>{var w;if(!(!r||!i)&&i.role==="admin")try{const S=(await fn(wt(_e,"venues",r.id))).data();if(S!=null&&S.onboardingCompleted)return;const F=(w=S==null?void 0:S.createdAt)==null?void 0:w.toDate();if((F?(new Date().getTime()-F.getTime())/(1e3*60*60*24):0)<=7&&r.status==="pending"){const P=[],Q=await fn(wt(_e,"venues",r.id));if(((S==null?void 0:S.courts)||[]).length>0&&P.push(0),S!=null&&S.inn&&(S!=null&&S.bankAccount)&&P.push(1),S!=null&&S.trainers&&S.trainers.length>0&&P.push(2),u(P),P.length<f.length){o(!0);const k=f.findIndex((T,D)=>!P.includes(D));c(k!==-1?k:0)}}}catch(E){console.error("Error checking onboarding status:",E)}},v=async w=>{const E=f[w];A.includes(w)||u([...A,w]),n(E.path),w===f.length-1?await x():c(w+1)},x=async()=>{if(r){h(!0);try{await en(wt(_e,"venues",r.id),{onboardingCompleted:!0,onboardingCompletedAt:new Date}),o(!1)}catch(w){console.error("Error completing onboarding:",w)}finally{h(!1)}}},C=async()=>{e?(o(!1),t==null||t()):confirm("Вы уверены, что хотите пропустить настройку? Вы можете вернуться к ней позже через меню помощи.")&&await x()},b=A.length/f.length*100;return s.jsxs(Oa,{open:a,onClose:()=>{e&&(o(!1),t==null||t())},maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2,overflow:"visible"}},children:[s.jsxs(ss,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(yre,{color:"primary"}),s.jsx(q,{variant:"h5",component:"span",children:"Добро пожаловать в Все Корты!"})]}),s.jsxs(q,{variant:"body2",color:"text.secondary",children:["Шаг ",l+1," из ",f.length]})]}),s.jsx(LA,{variant:"determinate",value:b,sx:{mt:2,height:8,borderRadius:4}})]}),s.jsxs(Ra,{children:[s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Давайте настроим ваш клуб за 3 простых шага. Это займет всего несколько минут!"}),s.jsx(BD,{activeStep:l,orientation:"vertical",children:f.map((w,E)=>s.jsxs(Gv,{completed:A.includes(E),children:[s.jsx(bp,{StepIconComponent:()=>s.jsx(Ce,{sx:{width:40,height:40,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:A.includes(E)?"success.main":E===l?"primary.main":"grey.300",color:"white"},children:A.includes(E)?s.jsx(Eg,{}):s.jsx(q,{children:E+1})}),children:s.jsx(q,{variant:"h6",children:w.title})}),s.jsx(qv,{children:s.jsxs(Pn,{elevation:0,sx:{p:3,bgcolor:"grey.50",mb:2},children:[s.jsxs(Ce,{display:"flex",gap:2,mb:2,children:[w.icon,s.jsxs(Ce,{flex:1,children:[s.jsx(q,{variant:"body1",paragraph:!0,children:w.description}),w.checklist&&s.jsx(Wi,{dense:!0,sx:{bgcolor:"white",borderRadius:1,p:1},children:w.checklist.map((S,F)=>s.jsxs(mn,{disableGutters:!0,children:[s.jsx(Na,{sx:{minWidth:32},children:s.jsx($re,{fontSize:"small",color:"action"})}),s.jsx(vn,{primary:S,primaryTypographyProps:{variant:"body2"}})]},F))})]})]}),s.jsx(Ft,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>v(E),endIcon:s.jsx(dre,{}),sx:{mt:2},children:w.buttonText})]})})]},E))}),l===f.length-1&&A.length===f.length&&s.jsxs(Kt,{severity:"success",sx:{mt:3},children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"🎉 Поздравляем! Базовая настройка завершена!"}),s.jsx(q,{variant:"body2",children:"Ваш клуб готов к работе. Теперь клиенты могут бронировать корты онлайн. После прохождения модерации вы сможете подключить онлайн-оплату."})]})]}),s.jsxs(as,{sx:{p:3,pt:0},children:[s.jsx(Ft,{onClick:C,disabled:d,color:"inherit",children:"Настроить позже"}),A.length===f.length&&s.jsx(Ft,{variant:"contained",onClick:x,disabled:d,children:"Завершить настройку"})]})]})}function eie(){var b,w;const e=$r(),t=mF(),{club:n,logout:r,admin:i}=er(),{hasPermission:a,hasRole:o,isSuperAdmin:l,canViewFinance:c,canManageClub:A}=ri(),[u,d]=y.useState(!1),[h,f]=y.useState(!1);if((i==null?void 0:i.role)==="trainer"){const E=[{path:"/admin/trainer-profile",label:"Мой профиль",icon:s.jsx(wp,{})},{path:"/admin/bookings",label:"Мой календарь",icon:s.jsx($p,{})}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:()=>d(!u)}),s.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[s.jsx("button",{className:"sidebar-close",onClick:()=>d(!u),children:s.jsx(zp,{})}),s.jsx("div",{className:"logo-section",children:s.jsxs("div",{className:"platform-logo",children:[s.jsx(F0,{size:40}),s.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),s.jsx("nav",{className:"nav-menu",children:E.map(S=>s.jsxs("a",{className:`nav-item ${t.pathname===S.path?"active":""}`,onClick:()=>{e(S.path),window.innerWidth<=768&&d(!1)},children:[s.jsx("span",{className:"nav-icon",children:S.icon}),s.jsx("span",{children:S.label})]},S.path))})]}),s.jsxs("div",{className:"main-container",children:[s.jsxs("header",{className:"header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{className:"menu-toggle",onClick:()=>d(!u),children:s.jsx(Gk,{})}),s.jsx("h1",{className:"page-title",children:t.pathname==="/admin/bookings"?"Мой календарь":"Мой профиль"})]}),s.jsxs("div",{className:"header-actions",children:[n&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?s.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((b=n.name)==null?void 0:b.substring(0,2).toUpperCase())||"CL"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),s.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:"Тренер"})]})]}),s.jsxs("div",{className:"user-menu",children:[s.jsxs("div",{className:"user-info",children:[s.jsx("span",{className:"user-name",children:i==null?void 0:i.name}),s.jsx("span",{className:"user-role",children:"Тренер"})]}),s.jsx("button",{className:"user-btn",children:s.jsx(wp,{fontSize:"small"})}),s.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:s.jsx(Kk,{fontSize:"small"})})]})]})]}),s.jsx("div",{className:"content",children:s.jsx(f4,{})})]})]})}const p=[{path:"/admin/dashboard",label:"Главная",icon:s.jsx(Cre,{})},{path:"/admin/bookings",label:"Календарь",icon:s.jsx($p,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},{path:"/admin/trainers",label:"Тренеры",icon:s.jsx(I5,{}),permission:["manage_club","manage_all_venues"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:s.jsx(Gre,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:s.jsx(Td,{})},{path:"/admin/company-settings",label:"Реквизиты компании",icon:s.jsx(tf,{})},{path:"/admin/parser",label:"Парсер клубов",icon:s.jsx(T5,{})},{path:"/admin/admins",label:"Администраторы",icon:s.jsx(qre,{})}]:[],...A()?[{path:"/admin/club",label:"Управление клубом",icon:s.jsx(tf,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:s.jsx(vre,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:s.jsx(ED,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:s.jsx(N5,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:s.jsx(j5,{}),permission:["manage_all_users","manage_club"]},...c()?[{path:"/admin/finance",label:"Финансы",icon:s.jsx(Hc,{})}]:[],...l?[{path:"/admin/platform-analytics",label:"Аналитика платформы",icon:s.jsx(hre,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:s.jsx(kg,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:"Системные настройки",icon:s.jsx(_x,{})}]:[]].filter(E=>!(E.permission&&!a(E.permission)||E.roles&&!o(E.roles))),g=E=>t.pathname===E,v=E=>{e(E),window.innerWidth<=768&&d(!1)},x=()=>{d(!u)},C=()=>{const E=p.find(S=>g(S.path));return(E==null?void 0:E.label)||"Главная"};return s.jsxs(s.Fragment,{children:[(i==null?void 0:i.role)==="admin"&&s.jsx(Zre,{forceShow:h,onClose:()=>f(!1)}),s.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:x}),s.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[s.jsx("button",{className:"sidebar-close",onClick:x,children:s.jsx(zp,{})}),s.jsx("div",{className:"logo-section",children:s.jsxs("div",{className:"platform-logo",children:[s.jsx(F0,{size:40}),s.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),s.jsx("nav",{className:"nav-menu",children:p.map(E=>s.jsxs("a",{className:`nav-item ${g(E.path)?"active":""}`,onClick:()=>v(E.path),children:[s.jsx("span",{className:"nav-icon",children:E.icon}),s.jsx("span",{children:E.label})]},E.path))})]}),s.jsxs("div",{className:"main-container",children:[s.jsxs("header",{className:"header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{className:"menu-toggle",onClick:x,children:s.jsx(Gk,{})}),s.jsx("h1",{className:"page-title",children:C()})]}),s.jsxs("div",{className:"header-actions",children:[(i==null?void 0:i.role)==="admin"&&s.jsx("button",{className:"notification-btn",onClick:()=>f(!0),title:"Помощь в настройке",children:s.jsx(Fre,{fontSize:"small"})}),s.jsx("button",{className:"notification-btn",children:s.jsx(ID,{fontSize:"small"})}),!l&&n&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?s.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((w=n.name)==null?void 0:w.substring(0,2).toUpperCase())||"CL"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),s.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:(i==null?void 0:i.role)==="admin"?"Администратор":"Менеджер"})]})]}),s.jsxs("div",{className:"user-menu",children:[!l&&s.jsxs("div",{className:"user-info",children:[s.jsx("span",{className:"user-name",children:i==null?void 0:i.name}),s.jsx("span",{className:"user-role",children:i==null?void 0:i.role})]}),l&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"8px"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700"},children:"SA"}),s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"Суперадминистратор"})]}),!l&&s.jsx("button",{className:"user-btn",children:s.jsx(wp,{fontSize:"small"})}),s.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:s.jsx(Kk,{fontSize:"small"})})]})]})]}),s.jsx("div",{className:"content",children:s.jsx(f4,{})})]})]})}const Jk={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function Mw(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:Jk[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof SF||e.code){const i=Jk[e.code]||e.message||"Ошибка базы данных";let a="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?a="PERMISSION":e.code==="not-found"?a="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(a="NETWORK"),{type:a,code:e.code,message:i,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function tie(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function _D(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function nie(){const e=$r(),[t,n]=y.useState(""),[r,i]=y.useState(""),[a,o]=y.useState(!1),[l,c]=y.useState(null),[A,u]=y.useState(!1),d=async h=>{h.preventDefault(),c(null),u(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const f=await HQ(va,t,r),p=qt(Ct(_e,"admins"),vt("email","==",f.user.email));if((await Mt(p)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(f){const p=Mw(f);_D(p,{component:"Login",email:t}),c(tie(p))}finally{u(!1)}};return s.jsx(Ce,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:s.jsx(Zt,{sx:{maxWidth:400,width:"100%",mx:2},children:s.jsxs(tn,{sx:{p:4},children:[s.jsx(q,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),s.jsx(q,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&s.jsx(Kt,{severity:"error",sx:{mb:2},children:l}),s.jsxs("form",{onSubmit:d,children:[s.jsx(Lt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:h=>n(h.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),s.jsx(Lt,{fullWidth:!0,label:"Пароль",type:a?"text":"password",value:r,onChange:h=>i(h.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:s.jsx(hZ,{position:"end",children:s.jsx(Pi,{onClick:()=>o(!a),edge:"end",children:a?s.jsx(Xre,{}):s.jsx(PD,{})})})}}),s.jsx(Ft,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:A||!t||!r,startIcon:A&&s.jsx(nr,{size:20,color:"inherit"}),children:A?"Вход...":"Войти"})]}),s.jsx(q,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),s.jsx(Ce,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:s.jsxs(q,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",s.jsx(Ft,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const Zk=[{icon:s.jsx(N5,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:s.jsx($p,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:s.jsx(j5,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:s.jsx(Are,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:s.jsx(ID,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:s.jsx(Td,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:s.jsx(_x,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:s.jsx(N0,{}),title:"Безопасность",description:"Защита данных клиентов"}];function rie(){const e=$r(),[t,n]=y.useState(!1),[r,i]=y.useState(""),[a,o]=y.useState(!1),[l,c]=y.useState(!1),[A,u]=y.useState(0),[d,h]=y.useState(0),[f,p]=y.useState(!1),[g,v]=y.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});y.useEffect(()=>{if(t){p(!0),h(0),u(0);const b=setInterval(()=>{u(E=>E>=95?(clearInterval(b),95):E+Math.random()*10)},500),w=setInterval(()=>{h(E=>E>=Zk.length-1?(clearInterval(w),E):E+1)},2e3);return()=>{clearInterval(b),clearInterval(w)}}else p(!1),u(0),h(0)},[t]);const x=()=>{const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let w="";for(let E=0;E<10;E++)w+=b.charAt(Math.floor(Math.random()*b.length));return w},C=async b=>{b.preventDefault(),console.log("Form submitted with data:",g),i(""),n(!0);try{if(!g.name||!g.address||!g.city||!g.phone||!g.email){i("Заполните все обязательные поля"),n(!1);return}const w=g.adminPassword||x();console.log("Generated/provided password:",w),va.currentUser&&(console.log("Signing out current user:",va.currentUser.email),await nw(va)),console.log("Creating user with email:",g.email);const S=(await jF(va,g.email,w)).user.uid;console.log("User created successfully with ID:",S);const F={name:g.name,address:g.address,city:g.city,phone:g.phone,email:g.email,description:g.description||"",organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",F);let N=!1,P="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:F,password:w,userId:S});const j=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:F,password:w,userId:S})})).json();if(j.success)console.log("Club created via Cloud Function!"),N=!0,P=j.venueId;else throw new Error(j.error||"Unknown error")}catch(Q){throw console.error("Cloud Function failed:",Q),Q}if(N)c(!1);else{console.log("Saving registration for manual processing...");const Q={id:S,userId:S,venueData:F,password:w,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+S,JSON.stringify(Q)),c(!0)}v({...g,adminPassword:w}),(N||!l)&&u(100),va.currentUser&&(await nw(va),console.log("Signed out after club creation")),o(!0),console.log("Registration completed successfully!")}catch(w){console.error("Error creating club:",w),console.error("Error details:",{code:w==null?void 0:w.code,message:w==null?void 0:w.message,stack:w==null?void 0:w.stack}),w.code==="auth/email-already-in-use"?i("Этот email уже используется. Пожалуйста, войдите в систему."):w.code==="auth/weak-password"?i("Пароль слишком слабый. Минимум 6 символов."):w.code==="auth/invalid-email"?i("Неверный формат email адреса."):i("Ошибка при создании клуба: "+(w.message||"Неизвестная ошибка"))}finally{n(!1)}};return s.jsxs(UA,{component:"main",maxWidth:"md",children:[s.jsxs(Ce,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx(F0,{size:60,className:"mb-4"}),s.jsx(q,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),s.jsx(q,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),s.jsxs(Pn,{sx:{width:"100%",p:4},children:[r&&s.jsx(Kt,{severity:"error",sx:{mb:3},children:r}),s.jsxs("form",{onSubmit:C,children:[s.jsxs(Ce,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[s.jsx(q,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),s.jsx(Lt,{label:"Название клуба",value:g.name,onChange:b=>v({...g,name:b.target.value}),fullWidth:!0,required:!0}),s.jsx(Lt,{label:"Адрес",value:g.address,onChange:b=>v({...g,address:b.target.value}),fullWidth:!0,required:!0}),s.jsx(Lt,{label:"Город",value:g.city,onChange:b=>v({...g,city:b.target.value}),fullWidth:!0,required:!0}),s.jsx(Lt,{label:"Телефон",value:g.phone,onChange:b=>v({...g,phone:b.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),s.jsx(Lt,{label:"Email",value:g.email,onChange:b=>v({...g,email:b.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),s.jsx(q,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),s.jsxs(po,{fullWidth:!0,children:[s.jsx(Jo,{children:"Форма организации"}),s.jsxs(go,{value:g.organizationType,onChange:b=>v({...g,organizationType:b.target.value}),label:"Форма организации",children:[s.jsx(gr,{value:"ИП",children:"ИП"}),s.jsx(gr,{value:"ООО",children:"ООО"}),s.jsx(gr,{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsx(Lt,{label:"ИНН",value:g.inn,onChange:b=>v({...g,inn:b.target.value}),fullWidth:!0}),s.jsx(Lt,{label:"Пароль администратора (необязательно)",value:g.adminPassword,onChange:b=>v({...g,adminPassword:b.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),s.jsxs(Ce,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[s.jsx(Ft,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),s.jsx(Ft,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),s.jsxs(Oa,{open:a,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:s.jsxs(Ce,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(tf,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),s.jsxs(Ra,{children:[s.jsx(Kt,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),s.jsxs(Ce,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsxs(Ce,{children:[s.jsx(q,{variant:"body2",color:"textSecondary",children:"Название клуба"}),s.jsx(q,{variant:"body1",fontWeight:"bold",children:g.name})]}),s.jsxs(Ce,{children:[s.jsx(q,{variant:"body2",color:"textSecondary",children:"Email администратора"}),s.jsx(q,{variant:"body1",fontWeight:"bold",children:g.email})]}),s.jsxs(Ce,{children:[s.jsx(q,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),s.jsx(q,{variant:"body1",fontWeight:"bold",children:g.adminPassword})]})]})]}),s.jsxs(as,{sx:{justifyContent:"space-between",px:3,pb:3},children:[s.jsx(Ft,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!l&&s.jsx(Ft,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:s.jsx(tf,{}),children:"Вход для админов"})]})]}),s.jsx(Oa,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:s.jsx(Ra,{sx:{py:4},children:s.jsxs(Ce,{textAlign:"center",children:[s.jsx(F0,{size:80,className:"mb-4"}),s.jsx(q,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),s.jsxs(Ce,{sx:{mb:4},children:[s.jsx(LA,{variant:"determinate",value:A,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),s.jsxs(q,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(A),"%"]})]}),f&&s.jsx(Ce,{sx:{minHeight:120},children:Zk.map((b,w)=>s.jsx(Sg,{in:d>=w,timeout:1e3,style:{display:d===w?"block":"none"},children:s.jsxs(Ce,{children:[s.jsx(Ce,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:wn.cloneElement(b.icon,{sx:{fontSize:30,color:"#00A86B"}})}),s.jsx(q,{variant:"h6",gutterBottom:!0,children:b.title}),s.jsx(q,{variant:"body2",color:"textSecondary",children:b.description})]})},w))}),s.jsx(q,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var iie=Object.defineProperty,P0=Object.getOwnPropertySymbols,DD=Object.prototype.hasOwnProperty,MD=Object.prototype.propertyIsEnumerable,e3=(e,t,n)=>t in e?iie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uw=(e,t)=>{for(var n in t||(t={}))DD.call(t,n)&&e3(e,n,t[n]);if(P0)for(var n of P0(t))MD.call(t,n)&&e3(e,n,t[n]);return e},Lw=(e,t)=>{var n={};for(var r in e)DD.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&P0)for(var r of P0(e))t.indexOf(r)<0&&MD.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ZA;(e=>{const t=class xn{constructor(c,A,u,d){if(this.version=c,this.errorCorrectionLevel=A,this.modules=[],this.isFunction=[],c<xn.MIN_VERSION||c>xn.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let p=0;p<this.size;p++)h.push(!1);for(let p=0;p<this.size;p++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(u);if(this.drawCodewords(f),d==-1){let p=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<p&&(d=g,p=v),this.applyMask(g)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(c,A){const u=e.QrSegment.makeSegments(c);return xn.encodeSegments(u,A)}static encodeBinary(c,A){const u=e.QrSegment.makeBytes(c);return xn.encodeSegments([u],A)}static encodeSegments(c,A,u=1,d=40,h=-1,f=!0){if(!(xn.MIN_VERSION<=u&&u<=d&&d<=xn.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let p,g;for(p=u;;p++){const b=xn.getNumDataCodewords(p,A)*8,w=o.getTotalBits(c,p);if(w<=b){g=w;break}if(p>=d)throw new RangeError("Data too long")}for(const b of[xn.Ecc.MEDIUM,xn.Ecc.QUARTILE,xn.Ecc.HIGH])f&&g<=xn.getNumDataCodewords(p,b)*8&&(A=b);let v=[];for(const b of c){n(b.mode.modeBits,4,v),n(b.numChars,b.mode.numCharCountBits(p),v);for(const w of b.getData())v.push(w)}i(v.length==g);const x=xn.getNumDataCodewords(p,A)*8;i(v.length<=x),n(0,Math.min(4,x-v.length),v),n(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let b=236;v.length<x;b^=253)n(b,8,v);let C=[];for(;C.length*8<v.length;)C.push(0);return v.forEach((b,w)=>C[w>>>3]|=b<<7-(w&7)),new xn(p,A,C,h)}getModule(c,A){return 0<=c&&c<this.size&&0<=A&&A<this.size&&this.modules[A][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),A=c.length;for(let u=0;u<A;u++)for(let d=0;d<A;d++)u==0&&d==0||u==0&&d==A-1||u==A-1&&d==0||this.drawAlignmentPattern(c[u],c[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const A=this.errorCorrectionLevel.formatBits<<3|c;let u=A;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(A<<10|u)^21522;i(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(d,h));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const A=this.version<<12|c;i(A>>>18==0);for(let u=0;u<18;u++){const d=r(A,u),h=this.size-11+u%3,f=Math.floor(u/3);this.setFunctionModule(h,f,d),this.setFunctionModule(f,h,d)}}drawFinderPattern(c,A){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),f=c+d,p=A+u;0<=f&&f<this.size&&0<=p&&p<this.size&&this.setFunctionModule(f,p,h!=2&&h!=4)}}drawAlignmentPattern(c,A){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(c+d,A+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(c,A,u){this.modules[A][c]=u,this.isFunction[A][c]=!0}addEccAndInterleave(c){const A=this.version,u=this.errorCorrectionLevel;if(c.length!=xn.getNumDataCodewords(A,u))throw new RangeError("Invalid argument");const d=xn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][A],h=xn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][A],f=Math.floor(xn.getNumRawDataModules(A)/8),p=d-f%d,g=Math.floor(f/d);let v=[];const x=xn.reedSolomonComputeDivisor(h);for(let b=0,w=0;b<d;b++){let E=c.slice(w,w+g-h+(b<p?0:1));w+=E.length;const S=xn.reedSolomonComputeRemainder(E,x);b<p&&E.push(0),v.push(E.concat(S))}let C=[];for(let b=0;b<v[0].length;b++)v.forEach((w,E)=>{(b!=g-h||E>=p)&&C.push(w[b])});return i(C.length==f),C}drawCodewords(c){if(c.length!=Math.floor(xn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let A=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const f=u-h,g=(u+1&2)==0?this.size-1-d:d;!this.isFunction[g][f]&&A<c.length*8&&(this.modules[g][f]=r(c[A>>>3],7-(A&7)),A++)}}i(A==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let A=0;A<this.size;A++)for(let u=0;u<this.size;u++){let d;switch(c){case 0:d=(u+A)%2==0;break;case 1:d=A%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+A)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(A/2))%2==0;break;case 5:d=u*A%2+u*A%3==0;break;case 6:d=(u*A%2+u*A%3)%2==0;break;case 7:d=((u+A)%2+u*A%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[A][u]&&d&&(this.modules[A][u]=!this.modules[A][u])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let f=!1,p=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[h][v]==f?(p++,p==5?c+=xn.PENALTY_N1:p>5&&c++):(this.finderPenaltyAddHistory(p,g),f||(c+=this.finderPenaltyCountPatterns(g)*xn.PENALTY_N3),f=this.modules[h][v],p=1);c+=this.finderPenaltyTerminateAndCount(f,p,g)*xn.PENALTY_N3}for(let h=0;h<this.size;h++){let f=!1,p=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][h]==f?(p++,p==5?c+=xn.PENALTY_N1:p>5&&c++):(this.finderPenaltyAddHistory(p,g),f||(c+=this.finderPenaltyCountPatterns(g)*xn.PENALTY_N3),f=this.modules[v][h],p=1);c+=this.finderPenaltyTerminateAndCount(f,p,g)*xn.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let f=0;f<this.size-1;f++){const p=this.modules[h][f];p==this.modules[h][f+1]&&p==this.modules[h+1][f]&&p==this.modules[h+1][f+1]&&(c+=xn.PENALTY_N2)}let A=0;for(const h of this.modules)A=h.reduce((f,p)=>f+(p?1:0),A);const u=this.size*this.size,d=Math.ceil(Math.abs(A*20-u*10)/u)-1;return i(0<=d&&d<=9),c+=d*xn.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,A=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let d=this.size-7;u.length<c;d-=A)u.splice(1,0,d);return u}}static getNumRawDataModules(c){if(c<xn.MIN_VERSION||c>xn.MAX_VERSION)throw new RangeError("Version number out of range");let A=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;A-=(25*u-10)*u-55,c>=7&&(A-=36)}return i(208<=A&&A<=29648),A}static getNumDataCodewords(c,A){return Math.floor(xn.getNumRawDataModules(c)/8)-xn.ECC_CODEWORDS_PER_BLOCK[A.ordinal][c]*xn.NUM_ERROR_CORRECTION_BLOCKS[A.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let A=[];for(let d=0;d<c-1;d++)A.push(0);A.push(1);let u=1;for(let d=0;d<c;d++){for(let h=0;h<A.length;h++)A[h]=xn.reedSolomonMultiply(A[h],u),h+1<A.length&&(A[h]^=A[h+1]);u=xn.reedSolomonMultiply(u,2)}return A}static reedSolomonComputeRemainder(c,A){let u=A.map(d=>0);for(const d of c){const h=d^u.shift();u.push(0),A.forEach((f,p)=>u[p]^=xn.reedSolomonMultiply(f,h))}return u}static reedSolomonMultiply(c,A){if(c>>>8||A>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(A>>>d&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const A=c[1];i(A<=this.size*3);const u=A>0&&c[2]==A&&c[3]==A*3&&c[4]==A&&c[5]==A;return(u&&c[0]>=A*4&&c[6]>=A?1:0)+(u&&c[6]>=A*4&&c[0]>=A?1:0)}finderPenaltyTerminateAndCount(c,A,u){return c&&(this.finderPenaltyAddHistory(A,u),A=0),A+=this.size,this.finderPenaltyAddHistory(A,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,A){A[0]==0&&(c+=this.size),A.pop(),A.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,A){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)A.push(l>>>u&1)}function r(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class Ur{constructor(c,A,u){if(this.mode=c,this.numChars=A,this.bitData=u,A<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let A=[];for(const u of c)n(u,8,A);return new Ur(Ur.Mode.BYTE,c.length,A)}static makeNumeric(c){if(!Ur.isNumeric(c))throw new RangeError("String contains non-numeric characters");let A=[];for(let u=0;u<c.length;){const d=Math.min(c.length-u,3);n(parseInt(c.substring(u,u+d),10),d*3+1,A),u+=d}return new Ur(Ur.Mode.NUMERIC,c.length,A)}static makeAlphanumeric(c){if(!Ur.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let A=[],u;for(u=0;u+2<=c.length;u+=2){let d=Ur.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;d+=Ur.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(d,11,A)}return u<c.length&&n(Ur.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,A),new Ur(Ur.Mode.ALPHANUMERIC,c.length,A)}static makeSegments(c){return c==""?[]:Ur.isNumeric(c)?[Ur.makeNumeric(c)]:Ur.isAlphanumeric(c)?[Ur.makeAlphanumeric(c)]:[Ur.makeBytes(Ur.toUtf8ByteArray(c))]}static makeEci(c){let A=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,A);else if(c<16384)n(2,2,A),n(c,14,A);else if(c<1e6)n(6,3,A),n(c,21,A);else throw new RangeError("ECI assignment value out of range");return new Ur(Ur.Mode.ECI,0,A)}static isNumeric(c){return Ur.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Ur.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,A){let u=0;for(const d of c){const h=d.mode.numCharCountBits(A);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let A=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?A.push(c.charCodeAt(u)):(A.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return A}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(ZA||(ZA={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ZA||(ZA={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ZA||(ZA={}));var vd=ZA;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var aie={L:vd.QrCode.Ecc.LOW,M:vd.QrCode.Ecc.MEDIUM,Q:vd.QrCode.Ecc.QUARTILE,H:vd.QrCode.Ecc.HIGH},UD=128,LD="L",OD="#FFFFFF",RD="#000000",QD=!1,HD=1,sie=4,oie=0,lie=.1;function $D(e,t=0){const n=[];return e.forEach(function(r,i){let a=null;r.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===r.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function zD(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function cie(e,t,n,r){if(r==null)return null;const i=e.length+n*2,a=Math.floor(t*lie),o=i/t,l=(r.width||a)*o,c=(r.height||a)*o,A=r.x==null?e.length/2-l/2:r.x*o,u=r.y==null?e.length/2-c/2:r.y*o,d=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let p=Math.floor(A),g=Math.floor(u),v=Math.ceil(l+A-p),x=Math.ceil(c+u-g);h={x:p,y:g,w:v,h:x}}const f=r.crossOrigin;return{x:A,y:u,h:c,w:l,excavation:h,opacity:d,crossOrigin:f}}function Aie(e,t){return t!=null?Math.max(Math.floor(t),0):e?sie:oie}function WD({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=wn.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((g,v)=>(g.push(...vd.QrSegment.makeSegments(v)),g),[]);return vd.QrCode.encodeSegments(p,aie[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:A,margin:u,numCells:d,calculatedImageSettings:h}=wn.useMemo(()=>{let f=c.getModules();const p=Aie(r,i),g=f.length+p*2,v=cie(f,o,p,a);return{cells:f,margin:p,numCells:g,calculatedImageSettings:v}},[c,o,a,r,i]);return{qrcode:c,margin:u,cells:A,numCells:d,calculatedImageSettings:h}}var uie=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),die=wn.forwardRef(function(t,n){const r=t,{value:i,size:a=UD,level:o=LD,bgColor:l=OD,fgColor:c=RD,includeMargin:A=QD,minVersion:u=HD,boostLevel:d,marginSize:h,imageSettings:f}=r,g=Lw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,x=Lw(g,["style"]),C=f==null?void 0:f.src,b=wn.useRef(null),w=wn.useRef(null),E=wn.useCallback(D=>{b.current=D,typeof n=="function"?n(D):n&&(n.current=D)},[n]),[S,F]=wn.useState(!1),{margin:N,cells:P,numCells:Q,calculatedImageSettings:j}=WD({value:i,level:o,minVersion:u,boostLevel:d,includeMargin:A,marginSize:h,imageSettings:f,size:a});wn.useEffect(()=>{if(b.current!=null){const D=b.current,R=D.getContext("2d");if(!R)return;let H=P;const z=w.current,V=j!=null&&z!==null&&z.complete&&z.naturalHeight!==0&&z.naturalWidth!==0;V&&j.excavation!=null&&(H=zD(P,j.excavation));const J=window.devicePixelRatio||1;D.height=D.width=a*J;const te=a/Q*J;R.scale(te,te),R.fillStyle=l,R.fillRect(0,0,Q,Q),R.fillStyle=c,uie?R.fill(new Path2D($D(H,N))):P.forEach(function(Ae,U){Ae.forEach(function(O,M){O&&R.fillRect(M+N,U+N,1,1)})}),j&&(R.globalAlpha=j.opacity),V&&R.drawImage(z,j.x+N,j.y+N,j.w,j.h)}}),wn.useEffect(()=>{F(!1)},[C]);const k=Uw({height:a,width:a},v);let T=null;return C!=null&&(T=wn.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{F(!0)},ref:w,crossOrigin:j==null?void 0:j.crossOrigin})),wn.createElement(wn.Fragment,null,wn.createElement("canvas",Uw({style:k,height:a,width:a,ref:E,role:"img"},x)),T)});die.displayName="QRCodeCanvas";var _0=wn.forwardRef(function(t,n){const r=t,{value:i,size:a=UD,level:o=LD,bgColor:l=OD,fgColor:c=RD,includeMargin:A=QD,minVersion:u=HD,boostLevel:d,title:h,marginSize:f,imageSettings:p}=r,g=Lw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:x,numCells:C,calculatedImageSettings:b}=WD({value:i,level:o,minVersion:u,boostLevel:d,includeMargin:A,marginSize:f,imageSettings:p,size:a});let w=x,E=null;p!=null&&b!=null&&(b.excavation!=null&&(w=zD(x,b.excavation)),E=wn.createElement("image",{href:p.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const S=$D(w,v);return wn.createElement("svg",Uw({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:n,role:"img"},g),!!h&&wn.createElement("title",null,h),wn.createElement("path",{fill:l,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),wn.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),E)});_0.displayName="QRCodeSVG";const fie="modulepreload",hie=function(e){return"/admin/"+e},t3={},Ow=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=hie(c),c in t3)return;t3[c]=!0;const A=c.endsWith(".css"),u=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=A?"stylesheet":fie,A||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),A)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var aa=Uint8Array,ts=Uint16Array,F5=Int32Array,Dx=new aa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mx=new aa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rw=new aa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KD=function(e,t){for(var n=new ts(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new F5(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},VD=KD(Dx,2),GD=VD.b,Qw=VD.r;GD[28]=258,Qw[258]=28;var qD=KD(Mx,0),pie=qD.b,n3=qD.r,Hw=new ts(32768);for(var xr=0;xr<32768;++xr){var gc=(xr&43690)>>1|(xr&21845)<<1;gc=(gc&52428)>>2|(gc&13107)<<2,gc=(gc&61680)>>4|(gc&3855)<<4,Hw[xr]=((gc&65280)>>8|(gc&255)<<8)>>1}var Wo=function(e,t,n){for(var r=e.length,i=0,a=new ts(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new ts(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(n){l=new ts(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var A=i<<4|e[i],u=t-e[i],d=o[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)l[Hw[d]>>c]=A}else for(l=new ts(r),i=0;i<r;++i)e[i]&&(l[i]=Hw[o[e[i]-1]++]>>15-e[i]);return l},Wc=new aa(288);for(var xr=0;xr<144;++xr)Wc[xr]=8;for(var xr=144;xr<256;++xr)Wc[xr]=9;for(var xr=256;xr<280;++xr)Wc[xr]=7;for(var xr=280;xr<288;++xr)Wc[xr]=8;var Wp=new aa(32);for(var xr=0;xr<32;++xr)Wp[xr]=5;var gie=Wo(Wc,9,0),mie=Wo(Wc,9,1),vie=Wo(Wp,5,0),yie=Wo(Wp,5,1),Wb=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ao=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Kb=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},P5=function(e){return(e+7)/8|0},YD=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new aa(e.subarray(t,n))},xie=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lo=function(e,t,n){var r=new Error(t||xie[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,lo),!n)throw r;return r},bie=function(e,t,n,r){var i=e.length,a=0;if(!i||t.f&&!t.l)return n||new aa(0);var o=!n,l=o||t.i!=2,c=t.i;o&&(n=new aa(i*3));var A=function(ce){var Y=n.length;if(ce>Y){var ne=new aa(Math.max(Y*2,ce));ne.set(n),n=ne}},u=t.f||0,d=t.p||0,h=t.b||0,f=t.l,p=t.d,g=t.m,v=t.n,x=i*8;do{if(!f){u=ao(e,d,1);var C=ao(e,d+1,3);if(d+=3,C)if(C==1)f=mie,p=yie,g=9,v=5;else if(C==2){var S=ao(e,d,31)+257,F=ao(e,d+10,15)+4,N=S+ao(e,d+5,31)+1;d+=14;for(var P=new aa(N),Q=new aa(19),j=0;j<F;++j)Q[Rw[j]]=ao(e,d+j*3,7);d+=F*3;for(var k=Wb(Q),T=(1<<k)-1,D=Wo(Q,k,1),j=0;j<N;){var R=D[ao(e,d,T)];d+=R&15;var b=R>>4;if(b<16)P[j++]=b;else{var H=0,z=0;for(b==16?(z=3+ao(e,d,3),d+=2,H=P[j-1]):b==17?(z=3+ao(e,d,7),d+=3):b==18&&(z=11+ao(e,d,127),d+=7);z--;)P[j++]=H}}var V=P.subarray(0,S),J=P.subarray(S);g=Wb(V),v=Wb(J),f=Wo(V,g,1),p=Wo(J,v,1)}else lo(1);else{var b=P5(d)+4,w=e[b-4]|e[b-3]<<8,E=b+w;if(E>i){c&&lo(0);break}l&&A(h+w),n.set(e.subarray(b,E),h),t.b=h+=w,t.p=d=E*8,t.f=u;continue}if(d>x){c&&lo(0);break}}l&&A(h+131072);for(var te=(1<<g)-1,Ae=(1<<v)-1,U=d;;U=d){var H=f[Kb(e,d)&te],O=H>>4;if(d+=H&15,d>x){c&&lo(0);break}if(H||lo(2),O<256)n[h++]=O;else if(O==256){U=d,f=null;break}else{var M=O-254;if(O>264){var j=O-257,L=Dx[j];M=ao(e,d,(1<<L)-1)+GD[j],d+=L}var W=p[Kb(e,d)&Ae],G=W>>4;W||lo(3),d+=W&15;var J=pie[G];if(G>3){var L=Mx[G];J+=Kb(e,d)&(1<<L)-1,d+=L}if(d>x){c&&lo(0);break}l&&A(h+131072);var se=h+M;if(h<J){var X=a-J,ge=Math.min(J,se);for(X+h<0&&lo(3);h<ge;++h)n[h]=r[X+h]}for(;h<se;++h)n[h]=n[h-J]}}t.l=f,t.p=U,t.b=h,t.f=u,f&&(u=1,t.m=g,t.d=p,t.n=v)}while(!u);return h!=n.length&&o?YD(n,0,h):n.subarray(0,h)},gl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Ph=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Vb=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:JD,l:0};if(i==1){var o=new aa(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(E,S){return E.f-S.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],A=0,u=1,d=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=n[n[A].f<n[d].f?A++:d++],c=n[A!=u&&n[A].f<n[d].f?A++:d++],n[u++]={s:-1,f:l.f+c.f,l,r:c};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var f=new ts(h+1),p=$w(n[u-1],f,0);if(p>t){var r=0,g=0,v=p-t,x=1<<v;for(a.sort(function(S,F){return f[F.s]-f[S.s]||S.f-F.f});r<i;++r){var C=a[r].s;if(f[C]>t)g+=x-(1<<p-f[C]),f[C]=t;else break}for(g>>=v;g>0;){var b=a[r].s;f[b]<t?g-=1<<t-f[b]++-1:++r}for(;r>=0&&g;--r){var w=a[r].s;f[w]==t&&(--f[w],++g)}p=t}return{t:new aa(f),l:p}},$w=function(e,t,n){return e.s==-1?Math.max($w(e.l,t,n+1),$w(e.r,t,n+1)):t[e.s]=n},r3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ts(++t),r=0,i=e[0],a=1,o=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:n.subarray(0,r),n:t}},_h=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},XD=function(e,t,n){var r=n.length,i=P5(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},i3=function(e,t,n,r,i,a,o,l,c,A,u){gl(t,u++,n),++i[256];for(var d=Vb(i,15),h=d.t,f=d.l,p=Vb(a,15),g=p.t,v=p.l,x=r3(h),C=x.c,b=x.n,w=r3(g),E=w.c,S=w.n,F=new ts(19),N=0;N<C.length;++N)++F[C[N]&31];for(var N=0;N<E.length;++N)++F[E[N]&31];for(var P=Vb(F,7),Q=P.t,j=P.l,k=19;k>4&&!Q[Rw[k-1]];--k);var T=A+5<<3,D=_h(i,Wc)+_h(a,Wp)+o,R=_h(i,h)+_h(a,g)+o+14+3*k+_h(F,Q)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&T<=D&&T<=R)return XD(t,u,e.subarray(c,c+A));var H,z,V,J;if(gl(t,u,1+(R<D)),u+=2,R<D){H=Wo(h,f,0),z=h,V=Wo(g,v,0),J=g;var te=Wo(Q,j,0);gl(t,u,b-257),gl(t,u+5,S-1),gl(t,u+10,k-4),u+=14;for(var N=0;N<k;++N)gl(t,u+3*N,Q[Rw[N]]);u+=3*k;for(var Ae=[C,E],U=0;U<2;++U)for(var O=Ae[U],N=0;N<O.length;++N){var M=O[N]&31;gl(t,u,te[M]),u+=Q[M],M>15&&(gl(t,u,O[N]>>5&127),u+=O[N]>>12)}}else H=gie,z=Wc,V=vie,J=Wp;for(var N=0;N<l;++N){var L=r[N];if(L>255){var M=L>>18&31;Ph(t,u,H[M+257]),u+=z[M+257],M>7&&(gl(t,u,L>>23&31),u+=Dx[M]);var W=L&31;Ph(t,u,V[W]),u+=J[W],W>3&&(Ph(t,u,L>>5&8191),u+=Mx[W])}else Ph(t,u,H[L]),u+=z[L]}return Ph(t,u,H[256]),u+z[256]},wie=new F5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),JD=new aa(0),Cie=function(e,t,n,r,i,a){var o=a.z||e.length,l=new aa(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),A=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var d=wie[t-1],h=d>>13,f=d&8191,p=(1<<n)-1,g=a.p||new ts(32768),v=a.h||new ts(p+1),x=Math.ceil(n/3),C=2*x,b=function(oe){return(e[oe]^e[oe+1]<<x^e[oe+2]<<C)&p},w=new F5(25e3),E=new ts(288),S=new ts(32),F=0,N=0,P=a.i||0,Q=0,j=a.w||0,k=0;P+2<o;++P){var T=b(P),D=P&32767,R=v[T];if(g[D]=R,v[T]=D,j<=P){var H=o-P;if((F>7e3||Q>24576)&&(H>423||!A)){u=i3(e,c,0,w,E,S,N,Q,k,P-k,u),Q=F=N=0,k=P;for(var z=0;z<286;++z)E[z]=0;for(var z=0;z<30;++z)S[z]=0}var V=2,J=0,te=f,Ae=D-R&32767;if(H>2&&T==b(P-Ae))for(var U=Math.min(h,H)-1,O=Math.min(32767,P),M=Math.min(258,H);Ae<=O&&--te&&D!=R;){if(e[P+V]==e[P+V-Ae]){for(var L=0;L<M&&e[P+L]==e[P+L-Ae];++L);if(L>V){if(V=L,J=Ae,L>U)break;for(var W=Math.min(Ae,L-2),G=0,z=0;z<W;++z){var se=P-Ae+z&32767,X=g[se],ge=se-X&32767;ge>G&&(G=ge,R=se)}}}D=R,R=g[D],Ae+=D-R&32767}if(J){w[Q++]=268435456|Qw[V]<<18|n3[J];var ce=Qw[V]&31,Y=n3[J]&31;N+=Dx[ce]+Mx[Y],++E[257+ce],++S[Y],j=P+V,++F}else w[Q++]=e[P],++E[e[P]]}}for(P=Math.max(P,j);P<o;++P)w[Q++]=e[P],++E[e[P]];u=i3(e,c,A,w,E,S,N,Q,k,P-k,u),A||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=v,a.p=g,a.i=P,a.w=j)}else{for(var P=a.w||0;P<o+A;P+=65535){var ne=P+65535;ne>=o&&(c[u/8|0]=A,ne=o),u=XD(c,u+1,e.subarray(P,ne))}a.i=o}return YD(l,0,r+P5(u)+i)},ZD=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Bie=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new aa(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return Cie(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},eM=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Sie=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=ZD();i.p(t.dictionary),eM(e,2,i.d())}},jie=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&lo(6,"invalid zlib data"),(e[1]>>5&1)==1&&lo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function zw(e,t){t||(t={});var n=ZD();n.p(e);var r=Bie(e,t,t.dictionary?6:2,4);return Sie(r,t),eM(r,r.length-4,n.d()),r}function Eie(e,t){return bie(e.subarray(jie(e),-4),{i:2},t,t)}var kie=typeof TextDecoder<"u"&&new TextDecoder,Iie=0;try{kie.decode(JD,{stream:!0}),Iie=1}catch{}var an=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Gb(){an.console&&typeof an.console.log=="function"&&an.console.log.apply(an.console,arguments)}var sr={log:Gb,warn:function(e){an.console&&(typeof an.console.warn=="function"?an.console.warn.apply(an.console,arguments):Gb.call(null,arguments))},error:function(e){an.console&&(typeof an.console.error=="function"?an.console.error.apply(an.console,arguments):Gb(e))}};function qb(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){bA(r.response,t,n)},r.onerror=function(){sr.error("could not download file")},r.send()}function a3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function zm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Cp,Ww,bA=an.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==an?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=an.URL||an.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?a3(i.href)?qb(e,t,n):zm(i,i.target="_blank"):zm(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){zm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(a3(e))qb(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){zm(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:En(a)!=="object"&&(sr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return qb(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(an.HTMLElement)||an.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},l.readAsDataURL(e)}else{var c=an.URL||an.webkitURL,A=c.createObjectURL(e);r?r.location=A:location.href=A,r=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+l+c+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yb(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Yi(n,r,i,a,t[0],7,-680876936),a=Yi(a,n,r,i,t[1],12,-389564586),i=Yi(i,a,n,r,t[2],17,606105819),r=Yi(r,i,a,n,t[3],22,-1044525330),n=Yi(n,r,i,a,t[4],7,-176418897),a=Yi(a,n,r,i,t[5],12,1200080426),i=Yi(i,a,n,r,t[6],17,-1473231341),r=Yi(r,i,a,n,t[7],22,-45705983),n=Yi(n,r,i,a,t[8],7,1770035416),a=Yi(a,n,r,i,t[9],12,-1958414417),i=Yi(i,a,n,r,t[10],17,-42063),r=Yi(r,i,a,n,t[11],22,-1990404162),n=Yi(n,r,i,a,t[12],7,1804603682),a=Yi(a,n,r,i,t[13],12,-40341101),i=Yi(i,a,n,r,t[14],17,-1502002290),n=Xi(n,r=Yi(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Xi(a,n,r,i,t[6],9,-1069501632),i=Xi(i,a,n,r,t[11],14,643717713),r=Xi(r,i,a,n,t[0],20,-373897302),n=Xi(n,r,i,a,t[5],5,-701558691),a=Xi(a,n,r,i,t[10],9,38016083),i=Xi(i,a,n,r,t[15],14,-660478335),r=Xi(r,i,a,n,t[4],20,-405537848),n=Xi(n,r,i,a,t[9],5,568446438),a=Xi(a,n,r,i,t[14],9,-1019803690),i=Xi(i,a,n,r,t[3],14,-187363961),r=Xi(r,i,a,n,t[8],20,1163531501),n=Xi(n,r,i,a,t[13],5,-1444681467),a=Xi(a,n,r,i,t[2],9,-51403784),i=Xi(i,a,n,r,t[7],14,1735328473),n=Ji(n,r=Xi(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ji(a,n,r,i,t[8],11,-2022574463),i=Ji(i,a,n,r,t[11],16,1839030562),r=Ji(r,i,a,n,t[14],23,-35309556),n=Ji(n,r,i,a,t[1],4,-1530992060),a=Ji(a,n,r,i,t[4],11,1272893353),i=Ji(i,a,n,r,t[7],16,-155497632),r=Ji(r,i,a,n,t[10],23,-1094730640),n=Ji(n,r,i,a,t[13],4,681279174),a=Ji(a,n,r,i,t[0],11,-358537222),i=Ji(i,a,n,r,t[3],16,-722521979),r=Ji(r,i,a,n,t[6],23,76029189),n=Ji(n,r,i,a,t[9],4,-640364487),a=Ji(a,n,r,i,t[12],11,-421815835),i=Ji(i,a,n,r,t[15],16,530742520),n=Zi(n,r=Ji(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Zi(a,n,r,i,t[7],10,1126891415),i=Zi(i,a,n,r,t[14],15,-1416354905),r=Zi(r,i,a,n,t[5],21,-57434055),n=Zi(n,r,i,a,t[12],6,1700485571),a=Zi(a,n,r,i,t[3],10,-1894986606),i=Zi(i,a,n,r,t[10],15,-1051523),r=Zi(r,i,a,n,t[1],21,-2054922799),n=Zi(n,r,i,a,t[8],6,1873313359),a=Zi(a,n,r,i,t[15],10,-30611744),i=Zi(i,a,n,r,t[6],15,-1560198380),r=Zi(r,i,a,n,t[13],21,1309151649),n=Zi(n,r,i,a,t[4],6,-145523070),a=Zi(a,n,r,i,t[11],10,-1120210379),i=Zi(i,a,n,r,t[2],15,718787259),r=Zi(r,i,a,n,t[9],21,-343485551),e[0]=Ic(n,e[0]),e[1]=Ic(r,e[1]),e[2]=Ic(i,e[2]),e[3]=Ic(a,e[3])}function Ux(e,t,n,r,i,a){return t=Ic(Ic(t,e),Ic(r,a)),Ic(t<<i|t>>>32-i,n)}function Yi(e,t,n,r,i,a,o){return Ux(t&n|~t&r,e,t,i,a,o)}function Xi(e,t,n,r,i,a,o){return Ux(t&r|n&~r,e,t,i,a,o)}function Ji(e,t,n,r,i,a,o){return Ux(t^n^r,e,t,i,a,o)}function Zi(e,t,n,r,i,a,o){return Ux(n^(t|~r),e,t,i,a,o)}function nM(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Yb(r,Tie(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Yb(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Yb(r,i),r}function Tie(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Cp=an.atob.bind(an),Ww=an.btoa.bind(an);var s3="0123456789abcdef".split("");function Nie(e){for(var t="",n=0;n<4;n++)t+=s3[e>>8*n+4&15]+s3[e>>8*n&15];return t}function Fie(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Kw(e){return nM(e).map(Fie).join("")}var Pie=function(e){for(var t=0;t<e.length;t++)e[t]=Nie(e[t]);return e.join("")}(nM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ic(e,t){if(Pie){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Vw(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var A=0;for(c=0;c<256;c++){var u=l[c];A=(A+u+o.charCodeAt(c))%256,l[c]=l[A],l[A]=u}n=e,r=l}else l=r;var d=t.length,h=0,f=0,p="";for(c=0;c<d;c++)f=(f+(u=l[h=(h+1)%256]))%256,l[h]=l[f],l[f]=u,o=l[(l[h]+l[f])%256],p+=String.fromCharCode(t.charCodeAt(c)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var o3={print:4,modify:8,copy:16,"annot-forms":32};function Ad(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(o3.perm!==void 0)throw new Error("Invalid permission: "+l);i+=o3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Kw(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Vw(this.encryptionKey,this.padding)}function ud(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function l3(e){if(En(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){an.console&&sr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function D0(e){if(!(this instanceof D0))return new D0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function rM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function jA(e,t,n,r,i){if(!(this instanceof jA))return new jA(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,rM.call(this,r,i)}function yd(e,t,n,r,i){if(!(this instanceof yd))return new yd(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,rM.call(this,r,i)}function nn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,A="S",u=null;En(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),A=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=l3;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(I){p=I};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var x=f.__private__.getPageFormat=function(I){return v[I]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},b=C.COMPAT;function w(){this.saveGraphicsState(),ie(new at(Ie,0,0,-Ie,0,tc()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),A="n",b=C.ADVANCED}function E(){this.restoreGraphicsState(),A="S",b=C.COMPAT}var S=f.__private__.combineFontStyleAndFontWeight=function(I,ee){if(I=="bold"&&ee=="normal"||I=="bold"&&ee==400||I=="normal"&&ee=="italic"||I=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(I=ee==400||ee==="normal"?I==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||I!=="normal"?(ee==700?"bold":ee)+""+I:"bold"),I};f.advancedAPI=function(I){var ee=b===C.COMPAT;return ee&&w.call(this),typeof I!="function"||(I(this),ee&&E.call(this)),this},f.compatAPI=function(I){var ee=b===C.ADVANCED;return ee&&E.call(this),typeof I!="function"||(I(this),ee&&w.call(this)),this},f.isAdvancedAPI=function(){return b===C.ADVANCED};var F,N=function(I){if(b!==C.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=f.roundToPrecision=f.__private__.roundToPrecision=function(I,ee){var me=t||ee;if(isNaN(I)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(me).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return P(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return P(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return P(I,16)};var Q=f.f2=f.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return P(I,2)},j=f.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return P(I,3)},k=f.scale=f.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return b===C.COMPAT?I*Ie:b===C.ADVANCED?I:void 0},T=function(I){return b===C.COMPAT?tc()-I:b===C.ADVANCED?I:void 0},D=function(I){return k(T(I))};f.__private__.setPrecision=f.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var R,H="00000000000000000000000000000000",z=f.__private__.getFileId=function(){return H},V=f.__private__.setFileId=function(I){return H=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Gi=new Ad(u.userPermissions,u.userPassword,u.ownerPassword,H)),H};f.setFileId=function(I){return V(I),this},f.getFileId=function(){return z()};var J=f.__private__.convertDateToPDFDate=function(I){var ee=I.getTimezoneOffset(),me=ee<0?"+":"-",Be=Math.floor(Math.abs(ee/60)),Qe=Math.abs(ee%60),tt=[me,M(Be),"'",M(Qe),"'"].join("");return["D:",I.getFullYear(),M(I.getMonth()+1),M(I.getDate()),M(I.getHours()),M(I.getMinutes()),M(I.getSeconds()),tt].join("")},te=f.__private__.convertPDFDateToDate=function(I){var ee=parseInt(I.substr(2,4),10),me=parseInt(I.substr(6,2),10)-1,Be=parseInt(I.substr(8,2),10),Qe=parseInt(I.substr(10,2),10),tt=parseInt(I.substr(12,2),10),yt=parseInt(I.substr(14,2),10);return new Date(ee,me,Be,Qe,tt,yt,0)},Ae=f.__private__.setCreationDate=function(I){var ee;if(I===void 0&&(I=new Date),I instanceof Date)ee=J(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=I}return R=ee},U=f.__private__.getCreationDate=function(I){var ee=R;return I==="jsDate"&&(ee=te(R)),ee};f.setCreationDate=function(I){return Ae(I),this},f.getCreationDate=function(I){return U(I)};var O,M=f.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},L=f.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},W=0,G=[],se=[],X=0,ge=[],ce=[],Y=!1,ne=se,oe=function(){W=0,X=0,se=[],G=[],ge=[],kr=rn(),ai=rn()};f.__private__.setCustomOutputDestination=function(I){Y=!0,ne=I};var fe=function(I){Y||(ne=I)};f.__private__.resetCustomOutputDestination=function(){Y=!1,ne=se};var ie=f.__private__.out=function(I){return I=I.toString(),X+=I.length+1,ne.push(I),ne},Te=f.__private__.write=function(I){return ie(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},be=f.__private__.getArrayBuffer=function(I){for(var ee=I.length,me=new ArrayBuffer(ee),Be=new Uint8Array(me);ee--;)Be[ee]=I.charCodeAt(ee);return me},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return xe};var Ne=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(I){return Ne=b===C.ADVANCED?I/Ie:I,this};var Fe,He=f.__private__.getFontSize=f.getFontSize=function(){return b===C.COMPAT?Ne:Ne*Ie},Ge=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(I){return Ge=I,this},f.__private__.getR2L=f.getR2L=function(){return Ge};var lt,bt=f.__private__.setZoomMode=function(I){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))Fe=I;else if(isNaN(I)){if(ee.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');Fe=I}else Fe=parseInt(I,10)};f.__private__.getZoomMode=function(){return Fe};var Ze,ye=f.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');lt=I};f.__private__.getPageMode=function(){return lt};var Ue=f.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Ze=I};f.__private__.getLayoutMode=function(){return Ze},f.__private__.setDisplayMode=f.setDisplayMode=function(I,ee,me){return bt(I),Ue(ee),ye(me),this};var ke={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(I){if(Object.keys(ke).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ke[I]},f.__private__.getDocumentProperties=function(){return ke},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(I){for(var ee in ke)ke.hasOwnProperty(ee)&&I[ee]&&(ke[ee]=I[ee]);return this},f.__private__.setDocumentProperty=function(I,ee){if(Object.keys(ke).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ke[I]=ee};var rt,Ie,_t,qe,we,he={},Le={},ve=[],De={},de={},Se={},Re={},it=null,ut=0,Oe=[],Ye=new l3(f),We=e.hotfixes||[],Ve={},nt={},ft=[],at=function I(ee,me,Be,Qe,tt,yt){if(!(this instanceof I))return new I(ee,me,Be,Qe,tt,yt);isNaN(ee)&&(ee=1),isNaN(me)&&(me=0),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=1),isNaN(tt)&&(tt=0),isNaN(yt)&&(yt=0),this._matrix=[ee,me,Be,Qe,tt,yt]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(I)},at.prototype.multiply=function(I){var ee=I.sx*this.sx+I.shy*this.shx,me=I.sx*this.shy+I.shy*this.sy,Be=I.shx*this.sx+I.sy*this.shx,Qe=I.shx*this.shy+I.sy*this.sy,tt=I.tx*this.sx+I.ty*this.shx+this.tx,yt=I.tx*this.shy+I.ty*this.sy+this.ty;return new at(ee,me,Be,Qe,tt,yt)},at.prototype.decompose=function(){var I=this.sx,ee=this.shy,me=this.shx,Be=this.sy,Qe=this.tx,tt=this.ty,yt=Math.sqrt(I*I+ee*ee),Ut=(I/=yt)*me+(ee/=yt)*Be;me-=I*Ut,Be-=ee*Ut;var Xt=Math.sqrt(me*me+Be*Be);return Ut/=Xt,I*(Be/=Xt)<ee*(me/=Xt)&&(I=-I,ee=-ee,Ut=-Ut,yt=-yt),{scale:new at(yt,0,0,Xt,0,0),translate:new at(1,0,0,1,Qe,tt),rotate:new at(I,ee,-ee,I,0,0),skew:new at(1,0,Ut,1,0,0)}},at.prototype.toString=function(I){return this.join(" ")},at.prototype.inversed=function(){var I=this.sx,ee=this.shy,me=this.shx,Be=this.sy,Qe=this.tx,tt=this.ty,yt=1/(I*Be-ee*me),Ut=Be*yt,Xt=-ee*yt,dn=-me*yt,An=I*yt;return new at(Ut,Xt,dn,An,-Ut*Qe-dn*tt,-Xt*Qe-An*tt)},at.prototype.applyToPoint=function(I){var ee=I.x*this.sx+I.y*this.shx+this.tx,me=I.x*this.shy+I.y*this.sy+this.ty;return new Eu(ee,me)},at.prototype.applyToRectangle=function(I){var ee=this.applyToPoint(I),me=this.applyToPoint(new Eu(I.x+I.w,I.y+I.h));return new eh(ee.x,ee.y,me.x-ee.x,me.y-ee.y)},at.prototype.clone=function(){var I=this.sx,ee=this.shy,me=this.shx,Be=this.sy,Qe=this.tx,tt=this.ty;return new at(I,ee,me,Be,Qe,tt)},f.Matrix=at;var Bt=f.matrixMult=function(I,ee){return ee.multiply(I)},xt=new at(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=xt;var Ht=function(I,ee){if(!de[I]){var me=(ee instanceof jA?"Sh":"P")+(Object.keys(De).length+1).toString(10);ee.id=me,de[I]=me,De[me]=ee,Ye.publish("addPattern",ee)}};f.ShadingPattern=jA,f.TilingPattern=yd,f.addShadingPattern=function(I,ee){return N("addShadingPattern()"),Ht(I,ee),this},f.beginTilingPattern=function(I){N("beginTilingPattern()"),am(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},f.endTilingPattern=function(I,ee){N("endTilingPattern()"),ee.stream=ce[O].join(`
`),Ht(I,ee),Ye.publish("endTilingPattern",ee),ft.pop().restore()};var Yt=f.__private__.newObject=function(){var I=rn();return Nn(I,!0),I},rn=f.__private__.newObjectDeferred=function(){return W++,G[W]=function(){return X},W},Nn=function(I,ee){return ee=typeof ee=="boolean"&&ee,G[I]=X,ee&&ie(I+" 0 obj"),I},Kn=f.__private__.newAdditionalObject=function(){var I={objId:rn(),content:""};return ge.push(I),I},kr=rn(),ai=rn(),zr=f.__private__.decodeColorString=function(I){var ee=I.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var me=parseFloat(ee[0]);ee=[me,me,me,"r"]}for(var Be="#",Qe=0;Qe<3;Qe++)Be+=("0"+Math.floor(255*parseFloat(ee[Qe])).toString(16)).slice(-2);return Be},pi=f.__private__.encodeColorString=function(I){var ee;typeof I=="string"&&(I={ch1:I});var me=I.ch1,Be=I.ch2,Qe=I.ch3,tt=I.ch4,yt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Ut=new tM(me);if(Ut.ok)me=Ut.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Xt=parseInt(me.substr(1),16);me=Xt>>16&255,Be=Xt>>8&255,Qe=255&Xt}if(Be===void 0||tt===void 0&&me===Be&&Be===Qe)if(typeof me=="string")ee=me+" "+yt[0];else switch(I.precision){case 2:ee=Q(me/255)+" "+yt[0];break;case 3:default:ee=j(me/255)+" "+yt[0]}else if(tt===void 0||En(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return ee=["1.","1.","1.",yt[1]].join(" ");if(typeof me=="string")ee=[me,Be,Qe,yt[1]].join(" ");else switch(I.precision){case 2:ee=[Q(me/255),Q(Be/255),Q(Qe/255),yt[1]].join(" ");break;default:case 3:ee=[j(me/255),j(Be/255),j(Qe/255),yt[1]].join(" ")}}else if(typeof me=="string")ee=[me,Be,Qe,tt,yt[2]].join(" ");else switch(I.precision){case 2:ee=[Q(me),Q(Be),Q(Qe),Q(tt),yt[2]].join(" ");break;case 3:default:ee=[j(me),j(Be),j(Qe),j(tt),yt[2]].join(" ")}return ee},Aa=f.__private__.getFilters=function(){return o},Vi=f.__private__.putStream=function(I){var ee=(I=I||{}).data||"",me=I.filters||Aa(),Be=I.alreadyAppliedFilters||[],Qe=I.addLength1||!1,tt=ee.length,yt=I.objectId,Ut=function(qi){return qi};if(u!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ut=Gi.encryptor(yt,0));var Xt={};me===!0&&(me=["FlateEncode"]);var dn=I.additionalKeyValues||[],An=(Xt=nn.API.processDataByFilters!==void 0?nn.API.processDataByFilters(ee,me):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(Xt.data.length!==0&&(dn.push({key:"Length",value:Xt.data.length}),Qe===!0&&dn.push({key:"Length1",value:tt})),An.length!=0)if(An.split("/").length-1==1)dn.push({key:"Filter",value:An});else{dn.push({key:"Filter",value:"["+An+"]"});for(var Fn=0;Fn<dn.length;Fn+=1)if(dn[Fn].key==="DecodeParms"){for(var Fr=[],Dr=0;Dr<Xt.reverseChain.split("/").length-1;Dr+=1)Fr.push("null");Fr.push(dn[Fn].value),dn[Fn].value="["+Fr.join(" ")+"]"}}ie("<<");for(var si=0;si<dn.length;si++)ie("/"+dn[si].key+" "+dn[si].value);ie(">>"),Xt.data.length!==0&&(ie("stream"),ie(Ut(Xt.data)),ie("endstream"))},Sa=f.__private__.putPage=function(I){var ee=I.number,me=I.data,Be=I.objId,Qe=I.contentsObjId;Nn(Be,!0),ie("<</Type /Page"),ie("/Parent "+I.rootDictionaryObjId+" 0 R"),ie("/Resources "+I.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(F(I.mediaBox.bottomLeftX))+" "+parseFloat(F(I.mediaBox.bottomLeftY))+" "+F(I.mediaBox.topRightX)+" "+F(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ie("/CropBox ["+F(I.cropBox.bottomLeftX)+" "+F(I.cropBox.bottomLeftY)+" "+F(I.cropBox.topRightX)+" "+F(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ie("/BleedBox ["+F(I.bleedBox.bottomLeftX)+" "+F(I.bleedBox.bottomLeftY)+" "+F(I.bleedBox.topRightX)+" "+F(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ie("/TrimBox ["+F(I.trimBox.bottomLeftX)+" "+F(I.trimBox.bottomLeftY)+" "+F(I.trimBox.topRightX)+" "+F(I.trimBox.topRightY)+"]"),I.artBox!==null&&ie("/ArtBox ["+F(I.artBox.bottomLeftX)+" "+F(I.artBox.bottomLeftY)+" "+F(I.artBox.topRightX)+" "+F(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ie("/UserUnit "+I.userUnit),Ye.publish("putPage",{objId:Be,pageContext:Oe[ee],pageNumber:ee,page:me}),ie("/Contents "+Qe+" 0 R"),ie(">>"),ie("endobj");var tt=me.join(`
`);return b===C.ADVANCED&&(tt+=`
Q`),Nn(Qe,!0),Vi({data:tt,filters:Aa(),objectId:Qe}),ie("endobj"),Be},Zs=f.__private__.putPages=function(){var I,ee,me=[];for(I=1;I<=ut;I++)Oe[I].objId=rn(),Oe[I].contentsObjId=rn();for(I=1;I<=ut;I++)me.push(Sa({number:I,data:ce[I],objId:Oe[I].objId,contentsObjId:Oe[I].contentsObjId,mediaBox:Oe[I].mediaBox,cropBox:Oe[I].cropBox,bleedBox:Oe[I].bleedBox,trimBox:Oe[I].trimBox,artBox:Oe[I].artBox,userUnit:Oe[I].userUnit,rootDictionaryObjId:kr,resourceDictionaryObjId:ai}));Nn(kr,!0),ie("<</Type /Pages");var Be="/Kids [";for(ee=0;ee<ut;ee++)Be+=me[ee]+" 0 R ";ie(Be+"]"),ie("/Count "+ut),ie(">>"),ie("endobj"),Ye.publish("postPutPages")},on=function(I){Ye.publish("putFont",{font:I,out:ie,newObject:Yt,putStream:Vi}),I.isAlreadyPutted!==!0&&(I.objectNumber=Yt(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+ud(I.postScriptName)),ie("/Subtype /Type1"),typeof I.encoding=="string"&&ie("/Encoding /"+I.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Ir=function(){for(var I in he)he.hasOwnProperty(I)&&(d===!1||d===!0&&h.hasOwnProperty(I))&&on(he[I])},sl=function(I){I.objectNumber=Yt();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[F(I.x),F(I.y),F(I.x+I.width),F(I.y+I.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var me=I.pages[1].join(`
`);Vi({data:me,additionalKeyValues:ee,objectId:I.objectNumber}),ie("endobj")},Wr=function(){for(var I in Ve)Ve.hasOwnProperty(I)&&sl(Ve[I])},mu=function(I,ee){var me,Be=[],Qe=1/(ee-1);for(me=0;me<1;me+=Qe)Be.push(me);if(Be.push(1),I[0].offset!=0){var tt={offset:0,color:I[0].color};I.unshift(tt)}if(I[I.length-1].offset!=1){var yt={offset:1,color:I[I.length-1].color};I.push(yt)}for(var Ut="",Xt=0,dn=0;dn<Be.length;dn++){for(me=Be[dn];me>I[Xt+1].offset;)Xt++;var An=I[Xt].offset,Fn=(me-An)/(I[Xt+1].offset-An),Fr=I[Xt].color,Dr=I[Xt+1].color;Ut+=L(Math.round((1-Fn)*Fr[0]+Fn*Dr[0]).toString(16))+L(Math.round((1-Fn)*Fr[1]+Fn*Dr[1]).toString(16))+L(Math.round((1-Fn)*Fr[2]+Fn*Dr[2]).toString(16))}return Ut.trim()},cr=function(I,ee){ee||(ee=21);var me=Yt(),Be=mu(I.colors,ee),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+ee+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vi({data:Be,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ie("endobj"),I.objectNumber=Yt(),ie("<< /ShadingType "+I.type),ie("/ColorSpace /DeviceRGB");var tt="/Coords ["+F(parseFloat(I.coords[0]))+" "+F(parseFloat(I.coords[1]))+" ";I.type===2?tt+=F(parseFloat(I.coords[2]))+" "+F(parseFloat(I.coords[3])):tt+=F(parseFloat(I.coords[2]))+" "+F(parseFloat(I.coords[3]))+" "+F(parseFloat(I.coords[4]))+" "+F(parseFloat(I.coords[5])),ie(tt+="]"),I.matrix&&ie("/Matrix ["+I.matrix.toString()+"]"),ie("/Function "+me+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},gn=function(I,ee){var me=rn(),Be=Yt();ee.push({resourcesOid:me,objectOid:Be}),I.objectNumber=Be;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+I.boundingBox.map(F).join(" ")+"]"}),Qe.push({key:"XStep",value:F(I.xStep)}),Qe.push({key:"YStep",value:F(I.yStep)}),Qe.push({key:"Resources",value:me+" 0 R"}),I.matrix&&Qe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Vi({data:I.stream,additionalKeyValues:Qe,objectId:I.objectNumber}),ie("endobj")},gi=function(I){var ee;for(ee in De)De.hasOwnProperty(ee)&&(De[ee]instanceof jA?cr(De[ee]):De[ee]instanceof yd&&gn(De[ee],I))},mi=function(I){for(var ee in I.objectNumber=Yt(),ie("<<"),I)switch(ee){case"opacity":ie("/ca "+Q(I[ee]));break;case"stroke-opacity":ie("/CA "+Q(I[ee]))}ie(">>"),ie("endobj")},Xl=function(){var I;for(I in Se)Se.hasOwnProperty(I)&&mi(Se[I])},fs=function(){for(var I in ie("/XObject <<"),Ve)Ve.hasOwnProperty(I)&&Ve[I].objectNumber>=0&&ie("/"+I+" "+Ve[I].objectNumber+" 0 R");Ye.publish("putXobjectDict"),ie(">>")},ua=function(){Gi.oid=Yt(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Gi.v),ie("/R "+Gi.r),ie("/U <"+Gi.toHexString(Gi.U)+">"),ie("/O <"+Gi.toHexString(Gi.O)+">"),ie("/P "+Gi.P),ie(">>"),ie("endobj")},Tr=function(){for(var I in ie("/Font <<"),he)he.hasOwnProperty(I)&&(d===!1||d===!0&&h.hasOwnProperty(I))&&ie("/"+I+" "+he[I].objectNumber+" 0 R");ie(">>")},vu=function(){if(Object.keys(De).length>0){for(var I in ie("/Shading <<"),De)De.hasOwnProperty(I)&&De[I]instanceof jA&&De[I].objectNumber>=0&&ie("/"+I+" "+De[I].objectNumber+" 0 R");Ye.publish("putShadingPatternDict"),ie(">>")}},Jl=function(I){if(Object.keys(De).length>0){for(var ee in ie("/Pattern <<"),De)De.hasOwnProperty(ee)&&De[ee]instanceof f.TilingPattern&&De[ee].objectNumber>=0&&De[ee].objectNumber<I&&ie("/"+ee+" "+De[ee].objectNumber+" 0 R");Ye.publish("putTilingPatternDict"),ie(">>")}},$f=function(){if(Object.keys(Se).length>0){var I;for(I in ie("/ExtGState <<"),Se)Se.hasOwnProperty(I)&&Se[I].objectNumber>=0&&ie("/"+I+" "+Se[I].objectNumber+" 0 R");Ye.publish("putGStateDict"),ie(">>")}},Nr=function(I){Nn(I.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Tr(),vu(),Jl(I.objectOid),$f(),fs(),ie(">>"),ie("endobj")},yu=function(){var I=[];Ir(),Xl(),Wr(),gi(I),Ye.publish("putResources"),I.forEach(Nr),Nr({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),Ye.publish("postPutResources")},xu=function(){Ye.publish("putAdditionalObjects");for(var I=0;I<ge.length;I++){var ee=ge[I];Nn(ee.objId,!0),ie(ee.content),ie("endobj")}Ye.publish("postPutAdditionalObjects")},zf=function(I){Le[I.fontName]=Le[I.fontName]||{},Le[I.fontName][I.fontStyle]=I.id},Wf=function(I,ee,me,Be,Qe){var tt={id:"F"+(Object.keys(he).length+1).toString(10),postScriptName:I,fontName:ee,fontStyle:me,encoding:Be,isStandardFont:Qe||!1,metadata:{}};return Ye.publish("addFont",{font:tt,instance:this}),he[tt.id]=tt,zf(tt),tt.id},L1=function(I){for(var ee=0,me=xe.length;ee<me;ee++){var Be=Wf.call(this,I[ee][0],I[ee][1],I[ee][2],xe[ee][3],!0);d===!1&&(h[Be]=!0);var Qe=I[ee][0].split("-");zf({id:Be,fontName:Qe[0],fontStyle:Qe[1]||""})}Ye.publish("addFonts",{fonts:he,dictionary:Le})},eo=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(Be){var ee=Be.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var me="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Be.message;if(!an.console)throw new Error(me);an.console.error(me,Be),an.alert&&alert(me)}},I.foo.bar=I,I.foo},bu=function(I,ee){var me,Be,Qe,tt,yt,Ut,Xt,dn,An;if(Qe=(ee=ee||{}).sourceEncoding||"Unicode",yt=ee.outputEncoding,(ee.autoencode||yt)&&he[rt].metadata&&he[rt].metadata[Qe]&&he[rt].metadata[Qe].encoding&&(tt=he[rt].metadata[Qe].encoding,!yt&&he[rt].encoding&&(yt=he[rt].encoding),!yt&&tt.codePages&&(yt=tt.codePages[0]),typeof yt=="string"&&(yt=tt[yt]),yt)){for(Xt=!1,Ut=[],me=0,Be=I.length;me<Be;me++)(dn=yt[I.charCodeAt(me)])?Ut.push(String.fromCharCode(dn)):Ut.push(I[me]),Ut[me].charCodeAt(0)>>8&&(Xt=!0);I=Ut.join("")}for(me=I.length;Xt===void 0&&me!==0;)I.charCodeAt(me-1)>>8&&(Xt=!0),me--;if(!Xt)return I;for(Ut=ee.noBOM?[]:[254,255],me=0,Be=I.length;me<Be;me++){if((An=(dn=I.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(An),Ut.push(dn-(An<<8))}return String.fromCharCode.apply(void 0,Ut)},ja=f.__private__.pdfEscape=f.pdfEscape=function(I,ee){return bu(I,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kf=f.__private__.beginPage=function(I){ce[++ut]=[],Oe[ut]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Gg(ut),fe(ce[O])},Vg=function(I,ee){var me,Be,Qe;switch(n=ee||n,typeof I=="string"&&(me=x(I.toLowerCase()),Array.isArray(me)&&(Be=me[0],Qe=me[1])),Array.isArray(I)&&(Be=I[0]*Ie,Qe=I[1]*Ie),isNaN(Be)&&(Be=i[0],Qe=i[1]),(Be>14400||Qe>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Qe=Math.min(14400,Qe)),i=[Be,Qe],n.substr(0,1)){case"l":Qe>Be&&(i=[Qe,Be]);break;case"p":Be>Qe&&(i=[Qe,Be])}Kf(i),em(Yf),ie(to),Jf!==0&&ie(Jf+" J"),Zf!==0&&ie(Zf+" j"),Ye.publish("addPage",{pageNumber:ut})},O1=function(I){I>0&&I<=ut&&(ce.splice(I,1),Oe.splice(I,1),ut--,O>ut&&(O=ut),this.setPage(O))},Gg=function(I){I>0&&I<=ut&&(O=I)},R1=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ce.length-1},qg=function(I,ee,me){var Be,Qe=void 0;return me=me||{},I=I!==void 0?I:he[rt].fontName,ee=ee!==void 0?ee:he[rt].fontStyle,Be=I.toLowerCase(),Le[Be]!==void 0&&Le[Be][ee]!==void 0?Qe=Le[Be][ee]:Le[I]!==void 0&&Le[I][ee]!==void 0?Qe=Le[I][ee]:me.disableWarning===!1&&sr.warn("Unable to look up font label for font '"+I+"', '"+ee+"'. Refer to getFontList() for available fonts."),Qe||me.noFallback||(Qe=Le.times[ee])==null&&(Qe=Le.times.normal),Qe},Q1=f.__private__.putInfo=function(){var I=Yt(),ee=function(Be){return Be};for(var me in u!==null&&(ee=Gi.encryptor(I,0)),ie("<<"),ie("/Producer ("+ja(ee("jsPDF "+nn.version))+")"),ke)ke.hasOwnProperty(me)&&ke[me]&&ie("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+ja(ee(ke[me]))+")");ie("/CreationDate ("+ja(ee(R))+")"),ie(">>"),ie("endobj")},Vf=f.__private__.putCatalog=function(I){var ee=(I=I||{}).rootDictionaryObjId||kr;switch(Yt(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+ee+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Fe;me.substr(me.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+Q(Fe)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}lt&&ie("/PageMode /"+lt),Ye.publish("putCatalog"),ie(">>"),ie("endobj")},H1=f.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(W+1)),ie("/Root "+W+" 0 R"),ie("/Info "+(W-1)+" 0 R"),u!==null&&ie("/Encrypt "+Gi.oid+" 0 R"),ie("/ID [ <"+H+"> <"+H+"> ]"),ie(">>")},$1=f.__private__.putHeader=function(){ie("%PDF-"+p),ie("%ºß¬à")},z1=f.__private__.putXRef=function(){var I="0000000000";ie("xref"),ie("0 "+(W+1)),ie("0000000000 65535 f ");for(var ee=1;ee<=W;ee++)typeof G[ee]=="function"?ie((I+G[ee]()).slice(-10)+" 00000 n "):G[ee]!==void 0?ie((I+G[ee]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},ol=f.__private__.buildDocument=function(){oe(),fe(se),Ye.publish("buildDocument"),$1(),Zs(),xu(),yu(),u!==null&&ua(),Q1(),Vf();var I=X;return z1(),H1(),ie("startxref"),ie(""+I),ie("%%EOF"),fe(ce[O]),se.join(`
`)},wu=f.__private__.getBlob=function(I){return new Blob([be(I)],{type:"application/pdf"})},Cu=f.output=f.__private__.output=eo(function(I,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",I){case void 0:return ol();case"save":f.save(ee.filename);break;case"arraybuffer":return be(ol());case"blob":return wu(ol());case"bloburi":case"bloburl":if(an.URL!==void 0&&typeof an.URL.createObjectURL=="function")return an.URL&&an.URL.createObjectURL(wu(ol()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Be=ol();try{me=Ww(Be)}catch{me=Ww(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+ee.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Qe=ee.pdfObjectUrl,tt="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Ut=an.open();return Ut!==null&&Ut.document.write(yt),Ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',dn=an.open();if(dn!==null){dn.document.write(Xt);var An=this;dn.document.documentElement.querySelector("#pdfViewer").onload=function(){dn.document.title=ee.filename,dn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return dn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(an)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Fr=an.open();if(Fr!==null&&(Fr.document.write(Fn),Fr.document.title=ee.filename),Fr||typeof safari>"u")return Fr;break;case"datauri":case"dataurl":return an.document.location.href=this.output("datauristring",ee);default:return null}}),Yg=function(I){return Array.isArray(We)===!0&&We.indexOf(I)>-1};switch(r){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=Yg("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ie=r}var Gi=null;Ae(),V();var W1=function(I){return u!==null?Gi.encryptor(I,0):function(ee){return ee}},Xg=f.__private__.getPageInfo=f.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[I].objId,pageNumber:I,pageContext:Oe[I]}},ln=f.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Oe)if(Oe[ee].objId===I)break;return Xg(ee)},K1=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Oe[O].objId,pageNumber:O,pageContext:Oe[O]}};f.addPage=function(){return Vg.apply(this,arguments),this},f.setPage=function(){return Gg.apply(this,arguments),fe.call(this,ce[O]),this},f.insertPage=function(I){return this.addPage(),this.movePage(O,I),this},f.movePage=function(I,ee){var me,Be;if(I>ee){me=ce[I],Be=Oe[I];for(var Qe=I;Qe>ee;Qe--)ce[Qe]=ce[Qe-1],Oe[Qe]=Oe[Qe-1];ce[ee]=me,Oe[ee]=Be,this.setPage(ee)}else if(I<ee){me=ce[I],Be=Oe[I];for(var tt=I;tt<ee;tt++)ce[tt]=ce[tt+1],Oe[tt]=Oe[tt+1];ce[ee]=me,Oe[ee]=Be,this.setPage(ee)}return this},f.deletePage=function(){return O1.apply(this,arguments),this},f.__private__.text=f.text=function(I,ee,me,Be,Qe){var tt,yt,Ut,Xt,dn,An,Fn,Fr,Dr,si=(Be=Be||{}).scope||this;if(typeof I=="number"&&typeof ee=="number"&&(typeof me=="string"||Array.isArray(me))){var qi=me;me=ee,ee=I,I=qi}if(arguments[3]instanceof at?(N("The transform parameter of text() with a Matrix value"),Dr=Qe):(Ut=arguments[4],Xt=arguments[5],En(Fn=arguments[3])==="object"&&Fn!==null||(typeof Ut=="string"&&(Xt=Ut,Ut=null),typeof Fn=="string"&&(Xt=Fn,Fn=null),typeof Fn=="number"&&(Ut=Fn,Fn=null),Be={flags:Fn,angle:Ut,align:Xt})),isNaN(ee)||isNaN(me)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return si;var Bi="",no=!1,Wa=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:aA,So=si.internal.scaleFactor;function sm(Ar){return Ar=Ar.split("	").join(Array(Be.TabLen||9).join(" ")),ja(Ar,Fn)}function ih(Ar){for(var ur,Vr=Ar.concat(),vi=[],dl=Vr.length;dl--;)typeof(ur=Vr.shift())=="string"?vi.push(ur):Array.isArray(Ar)&&(ur.length===1||ur[1]===void 0&&ur[2]===void 0)?vi.push(ur[0]):vi.push([ur[0],ur[1],ur[2]]);return vi}function ah(Ar,ur){var Vr;if(typeof Ar=="string")Vr=ur(Ar)[0];else if(Array.isArray(Ar)){for(var vi,dl,fh=Ar.concat(),Lu=[],um=fh.length;um--;)typeof(vi=fh.shift())=="string"?Lu.push(ur(vi)[0]):Array.isArray(vi)&&typeof vi[0]=="string"&&(dl=ur(vi[0],vi[1],vi[2]),Lu.push([dl[0],dl[1],dl[2]]));Vr=Lu}return Vr}var Iu=!1,sh=!0;if(typeof I=="string")Iu=!0;else if(Array.isArray(I)){var oh=I.concat();yt=[];for(var Tu,Ui=oh.length;Ui--;)(typeof(Tu=oh.shift())!="string"||Array.isArray(Tu)&&typeof Tu[0]!="string")&&(sh=!1);Iu=sh}if(Iu===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Nu=Ne/si.internal.scaleFactor,Fu=Nu*(Wa-1);switch(Be.baseline){case"bottom":me-=Fu;break;case"top":me+=Nu-Fu;break;case"hanging":me+=Nu-2*Fu;break;case"middle":me+=Nu/2-Fu}if((An=Be.maxWidth||0)>0&&(typeof I=="string"?I=si.splitTextToSize(I,An):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Ar,ur){return Ar.concat(si.splitTextToSize(ur,An))},[]))),tt={text:I,x:ee,y:me,options:Be,mutex:{pdfEscape:ja,activeFontKey:rt,fonts:he,activeFontSize:Ne}},Ye.publish("preProcessText",tt),I=tt.text,Ut=(Be=tt.options).angle,!(Dr instanceof at)&&Ut&&typeof Ut=="number"){Ut*=Math.PI/180,Be.rotationDirection===0&&(Ut=-Ut),b===C.ADVANCED&&(Ut=-Ut);var Pu=Math.cos(Ut),lh=Math.sin(Ut);Dr=new at(Pu,lh,-lh,Pu,0,0)}else Ut&&Ut instanceof at&&(Dr=Ut);b!==C.ADVANCED||Dr||(Dr=xt),(dn=Be.charSpace||ju)!==void 0&&(Bi+=F(k(dn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fr=Be.horizontalScale)!==void 0&&(Bi+=F(100*Fr)+` Tz
`),Be.lang;var Ea=-1,nb=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,ch=si.internal.getCurrentPageInfo().pageContext;switch(nb){case 0:case!1:case"fill":Ea=0;break;case 1:case!0:case"stroke":Ea=1;break;case 2:case"fillThenStroke":Ea=2;break;case 3:case"invisible":Ea=3;break;case 4:case"fillAndAddForClipping":Ea=4;break;case 5:case"strokeAndAddPathForClipping":Ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ea=6;break;case 7:case"addToPathForClipping":Ea=7}var om=ch.usedRenderingMode!==void 0?ch.usedRenderingMode:-1;Ea!==-1?Bi+=Ea+` Tr
`:om!==-1&&(Bi+=`0 Tr
`),Ea!==-1&&(ch.usedRenderingMode=Ea),Xt=Be.align||"left";var hs,_u=Ne*Wa,lm=si.internal.pageSize.getWidth(),cm=he[rt];dn=Be.charSpace||ju,An=Be.maxWidth||0,Fn=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var nc=[],lA=function(Ar){return si.getStringUnitWidth(Ar,{font:cm,charSpace:dn,fontSize:Ne,doKerning:!1})*Ne/So};if(Object.prototype.toString.call(I)==="[object Array]"){var ka;yt=ih(I),Xt!=="left"&&(hs=yt.map(lA));var da,rc=0;if(Xt==="right"){ee-=hs[0],I=[],Ui=yt.length;for(var cl=0;cl<Ui;cl++)cl===0?(da=Bo(ee),ka=ll(me)):(da=k(rc-hs[cl]),ka=-_u),I.push([yt[cl],da,ka]),rc=hs[cl]}else if(Xt==="center"){ee-=hs[0]/2,I=[],Ui=yt.length;for(var Al=0;Al<Ui;Al++)Al===0?(da=Bo(ee),ka=ll(me)):(da=k((rc-hs[Al])/2),ka=-_u),I.push([yt[Al],da,ka]),rc=hs[Al]}else if(Xt==="left"){I=[],Ui=yt.length;for(var Du=0;Du<Ui;Du++)I.push(yt[Du])}else if(Xt==="justify"&&cm.encoding==="Identity-H"){I=[],Ui=yt.length,An=An!==0?An:lm;for(var ul=0,Kr=0;Kr<Ui;Kr++)if(ka=Kr===0?ll(me):-_u,da=Kr===0?Bo(ee):ul,Kr<Ui-1){var Ah=k((An-hs[Kr])/(yt[Kr].split(" ").length-1)),fa=yt[Kr].split(" ");I.push([fa[0]+" ",da,ka]),ul=0;for(var ps=1;ps<fa.length;ps++){var Mu=(lA(fa[ps-1]+" "+fa[ps])-lA(fa[ps]))*So+Ah;ps==fa.length-1?I.push([fa[ps],Mu,0]):I.push([fa[ps]+" ",Mu,0]),ul-=Mu}}else I.push([yt[Kr],da,ka]);I.push(["",ul,0])}else{if(Xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Ui=yt.length,An=An!==0?An:lm,Kr=0;Kr<Ui;Kr++)ka=Kr===0?ll(me):-_u,da=Kr===0?Bo(ee):0,Kr<Ui-1?nc.push(F(k((An-hs[Kr])/(yt[Kr].split(" ").length-1)))):nc.push(0),I.push([yt[Kr],da,ka])}}var Am=typeof Be.R2L=="boolean"?Be.R2L:Ge;Am===!0&&(I=ah(I,function(Ar,ur,Vr){return[Ar.split("").reverse().join(""),ur,Vr]})),tt={text:I,x:ee,y:me,options:Be,mutex:{pdfEscape:ja,activeFontKey:rt,fonts:he,activeFontSize:Ne}},Ye.publish("postProcessText",tt),I=tt.text,no=tt.mutex.isHex||!1;var uh=he[rt].encoding;uh!=="WinAnsiEncoding"&&uh!=="StandardEncoding"||(I=ah(I,function(Ar,ur,Vr){return[sm(Ar),ur,Vr]})),yt=ih(I),I=[];for(var cA,AA,ic,uA=0,Uu=1,dA=Array.isArray(yt[0])?Uu:uA,ac="",dh=function(Ar,ur,Vr){var vi="";return Vr instanceof at?(Vr=typeof Be.angle=="number"?Bt(Vr,new at(1,0,0,1,Ar,ur)):Bt(new at(1,0,0,1,Ar,ur),Vr),b===C.ADVANCED&&(Vr=Bt(new at(1,0,0,-1,0,0),Vr)),vi=Vr.join(" ")+` Tm
`):vi=F(Ar)+" "+F(ur)+` Td
`,vi},gs=0;gs<yt.length;gs++){switch(ac="",dA){case Uu:ic=(no?"<":"(")+yt[gs][0]+(no?">":")"),cA=parseFloat(yt[gs][1]),AA=parseFloat(yt[gs][2]);break;case uA:ic=(no?"<":"(")+yt[gs]+(no?">":")"),cA=Bo(ee),AA=ll(me)}nc!==void 0&&nc[gs]!==void 0&&(ac=nc[gs]+` Tw
`),gs===0?I.push(ac+dh(cA,AA,Dr)+ic):dA===uA?I.push(ac+ic):dA===Uu&&I.push(ac+dh(cA,AA,Dr)+ic)}I=dA===uA?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var ms=`BT
/`;return ms+=rt+" "+Ne+` Tf
`,ms+=F(Ne*Wa)+` TL
`,ms+=sA+`
`,ms+=Bi,ms+=I,ie(ms+="ET"),h[rt]=!0,si};var V1=f.__private__.clip=f.clip=function(I){return ie(I==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return V1("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ie("n"),this};var Co=f.__private__.isValidStyle=function(I){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ee=!0),ee};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(I){return Co(I)&&(A=I),this};var Jg=f.__private__.getStyle=f.getStyle=function(I){var ee=A;switch(I){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=I}return ee},Zg=f.close=function(){return ie("h"),this};f.stroke=function(){return ie("S"),this},f.fill=function(I){return Bu("f",I),this},f.fillEvenOdd=function(I){return Bu("f*",I),this},f.fillStroke=function(I){return Bu("B",I),this},f.fillStrokeEvenOdd=function(I){return Bu("B*",I),this};var Bu=function(I,ee){En(ee)==="object"?q1(ee,I):ie(I)},Gf=function(I){I===null||b===C.ADVANCED&&I===void 0||(I=Jg(I),ie(I))};function G1(I,ee,me,Be,Qe){var tt=new yd(ee||this.boundingBox,me||this.xStep,Be||this.yStep,this.gState,Qe||this.matrix);tt.stream=this.stream;var yt=I+"$$"+this.cloneIndex+++"$$";return Ht(yt,tt),tt}var q1=function(I,ee){var me=de[I.key],Be=De[me];if(Be instanceof jA)ie("q"),ie(Y1(ee)),Be.gState&&f.setGState(Be.gState),ie(I.matrix.toString()+" cm"),ie("/"+me+" sh"),ie("Q");else if(Be instanceof yd){var Qe=new at(1,0,0,-1,0,tc());I.matrix&&(Qe=Qe.multiply(I.matrix||xt),me=G1.call(Be,I.key,I.boundingBox,I.xStep,I.yStep,Qe).id),ie("q"),ie("/Pattern cs"),ie("/"+me+" scn"),Be.gState&&f.setGState(Be.gState),ie(ee),ie("Q")}},Y1=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},qf=f.moveTo=function(I,ee){return ie(F(k(I))+" "+F(D(ee))+" m"),this},iA=f.lineTo=function(I,ee){return ie(F(k(I))+" "+F(D(ee))+" l"),this},Zl=f.curveTo=function(I,ee,me,Be,Qe,tt){return ie([F(k(I)),F(D(ee)),F(k(me)),F(D(Be)),F(k(Qe)),F(D(tt)),"c"].join(" ")),this};f.__private__.line=f.line=function(I,ee,me,Be,Qe){if(isNaN(I)||isNaN(ee)||isNaN(me)||isNaN(Be)||!Co(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return b===C.COMPAT?this.lines([[me-I,Be-ee]],I,ee,[1,1],Qe||"S"):this.lines([[me-I,Be-ee]],I,ee,[1,1]).stroke()},f.__private__.lines=f.lines=function(I,ee,me,Be,Qe,tt){var yt,Ut,Xt,dn,An,Fn,Fr,Dr,si,qi,Bi,no;if(typeof I=="number"&&(no=me,me=ee,ee=I,I=no),Be=Be||[1,1],tt=tt||!1,isNaN(ee)||isNaN(me)||!Array.isArray(I)||!Array.isArray(Be)||!Co(Qe)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qf(ee,me),yt=Be[0],Ut=Be[1],dn=I.length,qi=ee,Bi=me,Xt=0;Xt<dn;Xt++)(An=I[Xt]).length===2?(qi=An[0]*yt+qi,Bi=An[1]*Ut+Bi,iA(qi,Bi)):(Fn=An[0]*yt+qi,Fr=An[1]*Ut+Bi,Dr=An[2]*yt+qi,si=An[3]*Ut+Bi,qi=An[4]*yt+qi,Bi=An[5]*Ut+Bi,Zl(Fn,Fr,Dr,si,qi,Bi));return tt&&Zg(),Gf(Qe),this},f.path=function(I){for(var ee=0;ee<I.length;ee++){var me=I[ee],Be=me.c;switch(me.op){case"m":qf(Be[0],Be[1]);break;case"l":iA(Be[0],Be[1]);break;case"c":Zl.apply(this,Be);break;case"h":Zg()}}return this},f.__private__.rect=f.rect=function(I,ee,me,Be,Qe){if(isNaN(I)||isNaN(ee)||isNaN(me)||isNaN(Be)||!Co(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return b===C.COMPAT&&(Be=-Be),ie([F(k(I)),F(D(ee)),F(k(me)),F(k(Be)),"re"].join(" ")),Gf(Qe),this},f.__private__.triangle=f.triangle=function(I,ee,me,Be,Qe,tt,yt){if(isNaN(I)||isNaN(ee)||isNaN(me)||isNaN(Be)||isNaN(Qe)||isNaN(tt)||!Co(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-I,Be-ee],[Qe-me,tt-Be],[I-Qe,ee-tt]],I,ee,[1,1],yt,!0),this},f.__private__.roundedRect=f.roundedRect=function(I,ee,me,Be,Qe,tt,yt){if(isNaN(I)||isNaN(ee)||isNaN(me)||isNaN(Be)||isNaN(Qe)||isNaN(tt)||!Co(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ut=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*me),tt=Math.min(tt,.5*Be),this.lines([[me-2*Qe,0],[Qe*Ut,0,Qe,tt-tt*Ut,Qe,tt],[0,Be-2*tt],[0,tt*Ut,-Qe*Ut,tt,-Qe,tt],[2*Qe-me,0],[-Qe*Ut,0,-Qe,-tt*Ut,-Qe,-tt],[0,2*tt-Be],[0,-tt*Ut,Qe*Ut,-tt,Qe,-tt]],I+Qe,ee,[1,1],yt,!0),this},f.__private__.ellipse=f.ellipse=function(I,ee,me,Be,Qe){if(isNaN(I)||isNaN(ee)||isNaN(me)||isNaN(Be)||!Co(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*me,yt=4/3*(Math.SQRT2-1)*Be;return qf(I+me,ee),Zl(I+me,ee-yt,I+tt,ee-Be,I,ee-Be),Zl(I-tt,ee-Be,I-me,ee-yt,I-me,ee),Zl(I-me,ee+yt,I-tt,ee+Be,I,ee+Be),Zl(I+tt,ee+Be,I+me,ee+yt,I+me,ee),Gf(Qe),this},f.__private__.circle=f.circle=function(I,ee,me,Be){if(isNaN(I)||isNaN(ee)||isNaN(me)||!Co(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ee,me,me,Be)},f.setFont=function(I,ee,me){return me&&(ee=S(ee,me)),rt=qg(I,ee,{disableWarning:!1}),this};var X1=f.__private__.getFont=f.getFont=function(){return he[qg.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var I,ee,me={};for(I in Le)if(Le.hasOwnProperty(I))for(ee in me[I]=[],Le[I])Le[I].hasOwnProperty(ee)&&me[I].push(ee);return me},f.addFont=function(I,ee,me,Be,Qe){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(me=S(me,Be)),Qe=Qe||"Identity-H",Wf.call(this,I,ee,me,Qe)};var aA,Yf=e.lineWidth||.200025,Su=f.__private__.getLineWidth=f.getLineWidth=function(){return Yf},em=f.__private__.setLineWidth=f.setLineWidth=function(I){return Yf=I,ie(F(k(I))+" w"),this};f.__private__.setLineDash=nn.API.setLineDash=nn.API.setLineDashPattern=function(I,ee){if(I=I||[],ee=ee||0,isNaN(ee)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(me){return F(k(me))}).join(" "),ee=F(k(ee)),ie("["+I+"] "+ee+" d"),this};var tm=f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*aA};f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*aA};var nm=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(aA=I),this},rm=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return aA};nm(e.lineHeight);var Bo=f.__private__.getHorizontalCoordinate=function(I){return k(I)},ll=f.__private__.getVerticalCoordinate=function(I){return b===C.ADVANCED?I:Oe[O].mediaBox.topRightY-Oe[O].mediaBox.bottomLeftY-k(I)},J1=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(I){return F(Bo(I))},ec=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(I){return F(ll(I))},to=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return zr(to)},f.__private__.setStrokeColor=f.setDrawColor=function(I,ee,me,Be){return to=pi({ch1:I,ch2:ee,ch3:me,ch4:Be,pdfColorType:"draw",precision:2}),ie(to),this};var Xf=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return zr(Xf)},f.__private__.setFillColor=f.setFillColor=function(I,ee,me,Be){return Xf=pi({ch1:I,ch2:ee,ch3:me,ch4:Be,pdfColorType:"fill",precision:2}),ie(Xf),this};var sA=e.textColor||"0 g",Z1=f.__private__.getTextColor=f.getTextColor=function(){return zr(sA)};f.__private__.setTextColor=f.setTextColor=function(I,ee,me,Be){return sA=pi({ch1:I,ch2:ee,ch3:me,ch4:Be,pdfColorType:"text",precision:3}),this};var ju=e.charSpace,eb=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ju||0)};f.__private__.setCharSpace=f.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ju=I,this};var Jf=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(I){var ee=f.CapJoinStyles[I];if(ee===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jf=ee,ie(ee+" J"),this};var Zf=0;f.__private__.setLineJoin=f.setLineJoin=function(I){var ee=f.CapJoinStyles[I];if(ee===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zf=ee,ie(ee+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(F(k(I))+" M"),this},f.GState=D0,f.setGState=function(I){(I=typeof I=="string"?Se[Re[I]]:im(null,I)).equals(it)||(ie("/"+I.id+" gs"),it=I)};var im=function(I,ee){if(!I||!Re[I]){var me=!1;for(var Be in Se)if(Se.hasOwnProperty(Be)&&Se[Be].equals(ee)){me=!0;break}if(me)ee=Se[Be];else{var Qe="GS"+(Object.keys(Se).length+1).toString(10);Se[Qe]=ee,ee.id=Qe}return I&&(Re[I]=ee.id),Ye.publish("addGState",ee),ee}};f.addGState=function(I,ee){return im(I,ee),this},f.saveGraphicsState=function(){return ie("q"),ve.push({key:rt,size:Ne,color:sA}),this},f.restoreGraphicsState=function(){ie("Q");var I=ve.pop();return rt=I.key,Ne=I.size,sA=I.color,it=null,this},f.setCurrentTransformationMatrix=function(I){return ie(I.toString()+" cm"),this},f.comment=function(I){return ie("#"+I),this};var Eu=function(I,ee){var me=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(tt){isNaN(tt)||(me=parseFloat(tt))}});var Be=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(tt){isNaN(tt)||(Be=parseFloat(tt))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(tt){Qe=tt.toString()}}),this},eh=function(I,ee,me,Be){Eu.call(this,I,ee),this.type="rect";var Qe=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(yt){isNaN(yt)||(Qe=parseFloat(yt))}});var tt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(yt){isNaN(yt)||(tt=parseFloat(yt))}}),this},th=function(){this.page=ut,this.currentPage=O,this.pages=ce.slice(0),this.pagesContext=Oe.slice(0),this.x=_t,this.y=qe,this.matrix=we,this.width=oA(O),this.height=tc(O),this.outputDestination=ne,this.id="",this.objectNumber=-1};th.prototype.restore=function(){ut=this.page,O=this.currentPage,Oe=this.pagesContext,ce=this.pages,_t=this.x,qe=this.y,we=this.matrix,nh(O,this.width),rh(O,this.height),ne=this.outputDestination};var am=function(I,ee,me,Be,Qe){ft.push(new th),ut=O=0,ce=[],_t=I,qe=ee,we=Qe,Kf([me,Be])},tb=function(I){if(nt[I])ft.pop().restore();else{var ee=new th,me="Xo"+(Object.keys(Ve).length+1).toString(10);ee.id=me,nt[I]=me,Ve[me]=ee,Ye.publish("addFormObject",ee),ft.pop().restore()}};for(var ku in f.beginFormObject=function(I,ee,me,Be,Qe){return am(I,ee,me,Be,Qe),this},f.endFormObject=function(I){return tb(I),this},f.doFormObject=function(I,ee){var me=Ve[nt[I]];return ie("q"),ie(ee.toString()+" cm"),ie("/"+me.id+" Do"),ie("Q"),this},f.getFormObject=function(I){var ee=Ve[nt[I]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},f.save=function(I,ee){return I=I||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(bA(wu(ol()),I),typeof bA.unload=="function"&&an.setTimeout&&setTimeout(bA.unload,911),this):new Promise(function(me,Be){try{var Qe=bA(wu(ol()),I);typeof bA.unload=="function"&&an.setTimeout&&setTimeout(bA.unload,911),me(Qe)}catch(tt){Be(tt.message)}})},nn.API)nn.API.hasOwnProperty(ku)&&(ku==="events"&&nn.API.events.length?function(I,ee){var me,Be,Qe;for(Qe=ee.length-1;Qe!==-1;Qe--)me=ee[Qe][0],Be=ee[Qe][1],I.subscribe.apply(I,[me].concat(typeof Be=="function"?[Be]:Be))}(Ye,nn.API.events):f[ku]=nn.API[ku]);var oA=f.getPageWidth=function(I){return(Oe[I=I||O].mediaBox.topRightX-Oe[I].mediaBox.bottomLeftX)/Ie},nh=f.setPageWidth=function(I,ee){Oe[I].mediaBox.topRightX=ee*Ie+Oe[I].mediaBox.bottomLeftX},tc=f.getPageHeight=function(I){return(Oe[I=I||O].mediaBox.topRightY-Oe[I].mediaBox.bottomLeftY)/Ie},rh=f.setPageHeight=function(I,ee){Oe[I].mediaBox.topRightY=ee*Ie+Oe[I].mediaBox.bottomLeftY};return f.internal={pdfEscape:ja,getStyle:Jg,getFont:X1,getFontSize:He,getCharSpace:eb,getTextColor:Z1,getLineHeight:tm,getLineHeightFactor:rm,getLineWidth:Su,write:Te,getHorizontalCoordinate:Bo,getVerticalCoordinate:ll,getCoordinateString:J1,getVerticalCoordinateString:ec,collections:{},newObject:Yt,newAdditionalObject:Kn,newObjectDeferred:rn,newObjectDeferredBegin:Nn,getFilters:Aa,putStream:Vi,events:Ye,scaleFactor:Ie,pageSize:{getWidth:function(){return oA(O)},setWidth:function(I){nh(O,I)},getHeight:function(){return tc(O)},setHeight:function(I){rh(O,I)}},encryptionOptions:u,encryption:Gi,getEncryptor:W1,output:Cu,getNumberOfPages:R1,pages:ce,out:ie,f2:Q,f3:j,getPageInfo:Xg,getPageInfoByObjId:ln,getCurrentPageInfo:K1,getPDFVersion:g,Point:Eu,Rectangle:eh,Matrix:at,hasHotfix:Yg},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return oA(O)},set:function(I){nh(O,I)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return tc(O)},set:function(I){rh(O,I)},enumerable:!0,configurable:!0}),L1.call(f,xe),rt="F1",Vg(i,n),Ye.publish("initialized"),f}Ad.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ad.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ad.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ad.prototype.processOwnerPassword=function(e,t){return Vw(Kw(t).substr(0,5),e)},Ad.prototype.encryptor=function(e,t){var n=Kw(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Vw(n,r)}},D0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||En(e)!==En(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},nn.API={events:[]},nn.version="3.0.1";var Rr=nn.API,_5=1,uu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(e){return e.toFixed(2)},mc=function(e){return e.toFixed(5)};Rr.__acroform__={};var za=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},c3=function(e){return e*_5},ko=function(e){var t=new aM,n=Gt.internal.getHeight(e)||0,r=Gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(un(r)),Number(un(n))],t},_ie=Rr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Die=Rr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Mie=Rr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Yr=Rr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mie(e,t-1)},Xr=Rr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _ie(e,t-1)},Jr=Rr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Die(e,t-1)},Uie=Rr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(a)||0,[Number(un(c.lowerLeft_X)),Number(un(c.lowerLeft_Y)),Number(un(c.upperRight_X)),Number(un(c.upperRight_Y))]},Lie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Gw(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+un(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ko(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Gw=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var a=n,o=Gt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Gt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(j,k,T){if(j+1<i.length){var D=k+" "+i[j+1][0];return Wm(D,e,T).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var A,u,d=Wm("3",e,a).height,h=e.multiline?o-a:(o-d)/2,f=h+=2,p=0,g=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Wm(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var x="",C=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(i[b].length!==1&&v!==i[b].length-1){if((d+2)*(C+2)+2>o)continue e;x+=i[b][v],w=!0,g=b,b--}else{x=(x+=i[b][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var E=parseInt(b),S=c(E,x,a),F=b>=i.length-1;if(S&&!F){x+=" ",v=0;continue}if(S||F){if(F)g=E;else if(e.multiline&&(d+2)*(C+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(C+2)+2>o)continue e;g=E}}for(var N="",P=p;P<=g;P++){var Q=i[P];if(e.multiline){if(P===g){N+=Q[v]+" ",v=(v+1)%Q.length;continue}if(P===p){N+=Q[Q.length-1]+" ";continue}}N+=Q[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=Wm(N,e,a).width,e.textAlign){case"right":A=l-u-2;break;case"center":A=(l-u)/2;break;case"left":default:A=2}t+=un(A)+" "+un(f)+` Td
`,t+="("+uu(N)+`) Tj
`,t+=-un(A)+` 0 Td
`,f=-(a+2),u=0,p=w?g:g+1,C++,x=""}break}return r.text=t,r.fontSize=a,r},Wm=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Oie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rie=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Qie=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),En(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},Hie=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Oie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new sM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Rie(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],A=l.Rect;if(l.Rect&&(l.Rect=Uie(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Gt.createDefaultAppearanceStream(l),En(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=A,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Lie(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var d="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var f=l.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var p=f[o];typeof p=="function"&&(p=p.call(i,l)),d+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(i,l)),d+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&Qie(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},iM=Rr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),En(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+uu(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xb=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+uu(r(e))+")"},Qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qo.prototype.toString=function(){return this.objId+" 0 R"},Qo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Qo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:iM(i,this.objId,this.scope)}):i instanceof Qo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var aM=function(){Qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};za(aM,Qo);var sM=function(){Qo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+uu(n(e))+")"}},set:function(n){e=n}})};za(sM,Qo);var yo=function e(){Qo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(t,3)},set:function(x){x?this.F=Xr(t,3):this.F=Jr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof M0)return;a="FieldObject"+e.FieldNum++}var x=function(C){return C};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+uu(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/_5:A},set:function(x){A=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof M0||this instanceof OA))return Xb(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ni?h:Xb(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof Ni?x:x.substr(0,1)==="("?Xu(x.substr(1,x.length-2)):Xu(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni?Xu(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Ni?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ni?f:Xb(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Ni?x:x.substr(0,1)==="("?Xu(x.substr(1,x.length-2)):Xu(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni?Xu(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ni?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(x){p=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(x){x?this.Ff=Xr(this.Ff,1):this.Ff=Jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(x){x?this.Ff=Xr(this.Ff,2):this.Ff=Jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(x){x?this.Ff=Xr(this.Ff,3):this.Ff=Jr(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};za(yo,Qo);var Nd=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iM(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,A=[];c=o.exec(a);)A.push(c[l]);return A}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(n){n?this.Ff=Xr(this.Ff,18):this.Ff=Jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Xr(this.Ff,19):this.Ff=Jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(n){n?(this.Ff=Xr(this.Ff,20),t.sort()):this.Ff=Jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(n){n?this.Ff=Xr(this.Ff,22):this.Ff=Jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(n){n?this.Ff=Xr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(n){n?this.Ff=Xr(this.Ff,27):this.Ff=Jr(this.Ff,27)}}),this.hasAppearanceStream=!1};za(Nd,yo);var Fd=function(){Nd.call(this),this.fontName="helvetica",this.combo=!1};za(Fd,Nd);var Pd=function(){Fd.call(this),this.combo=!0};za(Pd,Fd);var Yv=function(){Pd.call(this),this.edit=!0};za(Yv,Pd);var Ni=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(n){n?this.Ff=Xr(this.Ff,15):this.Ff=Jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(n){n?this.Ff=Xr(this.Ff,16):this.Ff=Jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(n){n?this.Ff=Xr(this.Ff,17):this.Ff=Jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(n){n?this.Ff=Xr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+uu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){En(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};za(Ni,yo);var Xv=function(){Ni.call(this),this.pushButton=!0};za(Xv,Ni);var _d=function(){Ni.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};za(_d,Ni);var M0=function(){var e,t;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+uu(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){En(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};za(M0,yo),_d.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},_d.prototype.createOption=function(e){var t=new M0;return t.Parent=this,t.optionName=e,this.Kids.push(t),$ie.call(this.scope,t),t};var Jv=function(){Ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};za(Jv,Ni);var OA=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(t){t?this.Ff=Xr(this.Ff,13):this.Ff=Jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(t){t?this.Ff=Xr(this.Ff,21):this.Ff=Jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(t){t?this.Ff=Xr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(t){t?this.Ff=Xr(this.Ff,24):this.Ff=Jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(t){t?this.Ff=Xr(this.Ff,25):this.Ff=Jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(t){t?this.Ff=Xr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};za(OA,yo);var Zv=function(){OA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(e){e?this.Ff=Xr(this.Ff,14):this.Ff=Jr(this.Ff,14)}}),this.password=!0};za(Zv,OA);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ko(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Gw(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+un(Gt.internal.getWidth(e))+" "+un(Gt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+un(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ko(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Gt.internal.getHeight(e),o=Gt.internal.getWidth(e),l=Gw(e,e.caption);return i.push("1 g"),i.push("0 0 "+un(o)+" "+un(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+un(o-1)+" "+un(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+un(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ko(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Gt.internal.getWidth(e))+" "+un(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Circle.YesNormal,t.D[e]=Gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ko(e);t.scope=e.scope;var n=[],r=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Gt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+mc(Gt.internal.getWidth(e)/2)+" "+mc(Gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ko(e);t.scope=e.scope;var n=[],r=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Gt.internal.Bezier_C).toFixed(5)),o=Number((r*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mc(Gt.internal.getWidth(e)/2)+" "+mc(Gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+mc(Gt.internal.getWidth(e)/2)+" "+mc(Gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ko(e);t.scope=e.scope;var n=[],r=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mc(Gt.internal.getWidth(e)/2)+" "+mc(Gt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Cross.YesNormal,t.D[e]=Gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ko(e);t.scope=e.scope;var n=[],r=Gt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+un(Gt.internal.getWidth(e)-2)+" "+un(Gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(un(r.x1.x)+" "+un(r.x1.y)+" m"),n.push(un(r.x2.x)+" "+un(r.x2.y)+" l"),n.push(un(r.x4.x)+" "+un(r.x4.y)+" m"),n.push(un(r.x3.x)+" "+un(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ko(e);t.scope=e.scope;var n=Gt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+un(Gt.internal.getWidth(e))+" "+un(Gt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+un(Gt.internal.getWidth(e)-2)+" "+un(Gt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),r.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),r.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),r.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ko(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Gt.internal.getWidth(e))+" "+un(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gt.internal.getWidth(e),n=Gt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Gt.internal.getWidth=function(e){var t=0;return En(e)==="object"&&(t=c3(e.Rect[2])),t},Gt.internal.getHeight=function(e){var t=0;return En(e)==="object"&&(t=c3(e.Rect[3])),t};var $ie=Rr.addField=function(e){if(Hie(this,e),!(e instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Rr.AcroFormChoiceField=Nd,Rr.AcroFormListBox=Fd,Rr.AcroFormComboBox=Pd,Rr.AcroFormEditBox=Yv,Rr.AcroFormButton=Ni,Rr.AcroFormPushButton=Xv,Rr.AcroFormRadioButton=_d,Rr.AcroFormCheckBox=Jv,Rr.AcroFormTextField=OA,Rr.AcroFormPasswordField=Zv,Rr.AcroFormAppearance=Gt,Rr.AcroForm={ChoiceField:Nd,ListBox:Fd,ComboBox:Pd,EditBox:Yv,Button:Ni,PushButton:Xv,RadioButton:_d,CheckBox:Jv,TextField:OA,PasswordField:Zv,Appearance:Gt},nn.AcroForm={ChoiceField:Nd,ListBox:Fd,ComboBox:Pd,EditBox:Yv,Button:Ni,PushButton:Xv,RadioButton:_d,CheckBox:Jv,TextField:OA,PasswordField:Zv,Appearance:Gt};nn.AcroForm;function oM(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(j,k){var T,D,R,H,z,V=t;if((k=k||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(S(j))for(z in n)for(R=n[z],T=0;T<R.length;T+=1){for(H=!0,D=0;D<R[T].length;D+=1)if(R[T][D]!==void 0&&R[T][D]!==j[D]){H=!1;break}if(H===!0){V=z;break}}else for(z in n)for(R=n[z],T=0;T<R.length;T+=1){for(H=!0,D=0;D<R[T].length;D+=1)if(R[T][D]!==void 0&&R[T][D]!==j.charCodeAt(D)){H=!1;break}if(H===!0){V=z;break}}return V===t&&k!==t&&(V=k),V},i=function j(k){for(var T=this.internal.write,D=this.internal.putStream,R=(0,this.internal.getFilters)();R.indexOf("FlateEncode")!==-1;)R.splice(R.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:k.width}),H.push({key:"Height",value:k.height}),k.colorSpace===v.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===v.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var z="",V=0,J=k.transparency.length;V<J;V++)z+=k.transparency[V]+" "+k.transparency[V]+" ";H.push({key:"Mask",value:"["+z+"]"})}k.sMask!==void 0&&H.push({key:"SMask",value:k.objectId+1+" 0 R"});var te=k.filter!==void 0?["/"+k.filter]:void 0;if(D({data:k.data,additionalKeyValues:H,alreadyAppliedFilters:te,objectId:k.objectId}),T("endobj"),"sMask"in k&&k.sMask!==void 0){var Ae="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,U={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:Ae,data:k.sMask};"filter"in k&&(U.filter=k.filter),j.call(this,U)}if(k.colorSpace===v.INDEXED){var O=this.internal.newObject();D({data:N(new Uint8Array(k.palette)),objectId:O}),T("endobj")}},a=function(){var j=this.internal.collections.addImage_images;for(var k in j)i.call(this,j[k])},o=function(){var j,k=this.internal.collections.addImage_images,T=this.internal.write;for(var D in k)T("/I"+(j=k[D]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},A=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(j){return typeof e["process"+j.toUpperCase()]=="function"},d=function(j){return En(j)==="object"&&j.nodeType===1},h=function(j,k){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var T=""+j.getAttribute("src");if(T.indexOf("data:image/")===0)return Cp(unescape(T).split("base64,").pop());var D=e.loadFile(T,!0);if(D!==void 0)return D}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var R;switch(k){case"PNG":R="image/png";break;case"WEBP":R="image/webp";break;case"JPEG":case"JPG":default:R="image/jpeg"}return Cp(j.toDataURL(R,1).split("base64,").pop())}},f=function(j){var k=this.internal.collections.addImage_images;if(k){for(var T in k)if(j===k[T].alias)return k[T]}},p=function(j,k,T){return j||k||(j=-96,k=-96),j<0&&(j=-1*T.width*72/j/this.internal.scaleFactor),k<0&&(k=-1*T.height*72/k/this.internal.scaleFactor),j===0&&(j=k*T.width/T.height),k===0&&(k=j*T.height/T.width),[j,k]},g=function(j,k,T,D,R,H){var z=p.call(this,T,D,R),V=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,te=c.call(this);if(T=z[0],D=z[1],te[R.index]=R,H){H*=Math.PI/180;var Ae=Math.cos(H),U=Math.sin(H),O=function(L){return L.toFixed(4)},M=[O(Ae),O(U),O(-1*U),O(Ae),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,V(j),J(k+D),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([V(T),"0","0",V(D),"0","0","cm"].join(" "))):this.internal.write([V(T),"0","0",V(D),V(j),J(k+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+R.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(j){var k,T,D=0;if(typeof j=="string")for(T=j.length,k=0;k<T;k++)D=(D<<5)-D+j.charCodeAt(k),D|=0;else if(S(j))for(T=j.byteLength/2,k=0;k<T;k++)D=(D<<5)-D+j[k],D|=0;return D},b=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var k=!0;return j.length===0&&(k=!1),j.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(k=!1),k},w=e.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var k=j.indexOf(",");return k<0?null:j.substring(0,k).trim().endsWith("base64")?j.substring(k+1):null},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return E()&&j instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(j){return E()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(j){for(var k=j.length,T=new Uint8Array(k),D=0;D<k;D++)T[D]=j.charCodeAt(D);return T},N=e.__addimage__.arrayBufferToBinaryString=function(j){for(var k="",T=S(j)?j:new Uint8Array(j),D=0;D<T.length;D+=8192)k+=String.fromCharCode.apply(null,T.subarray(D,D+8192));return k};e.addImage=function(){var j,k,T,D,R,H,z,V,J;if(typeof arguments[1]=="number"?(k=t,T=arguments[1],D=arguments[2],R=arguments[3],H=arguments[4],z=arguments[5],V=arguments[6],J=arguments[7]):(k=arguments[1],T=arguments[2],D=arguments[3],R=arguments[4],H=arguments[5],z=arguments[6],V=arguments[7],J=arguments[8]),En(j=arguments[0])==="object"&&!d(j)&&"imageData"in j){var te=j;j=te.imageData,k=te.format||k||t,T=te.x||T||0,D=te.y||D||0,R=te.w||te.width||R,H=te.h||te.height||H,z=te.alias||z,V=te.compression||V,J=te.rotation||te.angle||J}var Ae=this.internal.getFilters();if(V===void 0&&Ae.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(T)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=P.call(this,j,k,z,V);return g.call(this,T,D,R,H,U,J),this};var P=function(j,k,T,D){var R,H,z;if(typeof j=="string"&&r(j)===t){j=unescape(j);var V=Q(j,!1);(V!==""||(V=e.loadFile(j,!0))!==void 0)&&(j=V)}if(d(j)&&(j=h(j,k)),k=r(j,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((z=T)==null||z.length===0)&&(T=function(J){return typeof J=="string"||S(J)?C(J):S(J.data)?C(J.data):null}(j)),(R=f.call(this,T))||(E()&&(j instanceof Uint8Array||k==="RGBA"||(H=j,j=F(j))),R=this["process"+k.toUpperCase()](j,A.call(this),T,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:x.NONE}(D),H)),!R)throw new Error("An unknown error occurred whilst processing the image.");return R},Q=e.__addimage__.convertBase64ToBinaryString=function(j,k){k=typeof k!="boolean"||k;var T,D="";if(typeof j=="string"){var R;T=(R=w(j))!==null&&R!==void 0?R:j;try{D=Cp(T)}catch(H){if(k)throw b(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};e.getImageProperties=function(j){var k,T,D="";if(d(j)&&(j=h(j)),typeof j=="string"&&r(j)===t&&((D=Q(j,!1))===""&&(D=e.loadFile(j)||""),j=D),T=r(j),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!E()||j instanceof Uint8Array||(j=F(j)),!(k=this["process"+T.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=T,k}})(nn.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};nn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),A=n.pageContext.annotations,u=!1,d=0;d<A.length&&!u;d++)switch((r=A[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<A.length;h++){r=A[h];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+f(x(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(x(C))+") >>",g.content=a;var b=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var w=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(p(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var S=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+S+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:A(r),w:c(n+i),h:A(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,l,c=this.getTextWidth(n),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(n,l).length;o=Math.ceil(A*u)}else l=c,o=A;return this.text(n,r,i,a),i+=.2*A,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-A,l,o,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(nn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var v=0,x=n,C="",b=0;for(v=0;v<g.length;v+=1)x[g.charCodeAt(v)]!==void 0?(b++,typeof(x=x[g.charCodeAt(v)])=="number"&&(C+=String.fromCharCode(x),x=n,b=0),v===g.length-1&&(x=n,C+=g.charAt(v-(b-1)),v-=b-1,b=0)):(x=n,C+=g.charAt(v-b),v-=b,b=0);return C};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,v,x){return o(g)?a(g)===!1?-1:!A(g)||!o(v)&&!o(x)||!o(x)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:u(g)&&o(v)&&!l(v)&&o(x)&&A(x)?3:l(g)||!o(x)?1:2:-1},f=function(g){var v=0,x=0,C=0,b="",w="",E="",S=(g=g||"").split("\\s+"),F=[];for(v=0;v<S.length;v+=1){for(F.push(""),x=0;x<S[v].length;x+=1)b=S[v][x],w=S[v][x-1],E=S[v][x+1],o(b)?(C=h(b,w,E),F[v]+=C!==-1?String.fromCharCode(t[b.charCodeAt(0)][C]):b):F[v]+=b;F[v]=d(F[v])}return F.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var C=0;for(x=[],C=0;C<v.length;C+=1)Array.isArray(v[C])?x.push([f(v[C][0]),v[C][1],v[C][2]]):x.push([f(v[C])]);g=x}else g=f(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(nn.API),nn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(nn.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,A){r.call(this);var u=(A=A||{}).fontSize||this.getFontSize(),d=A.font||this.getFont(),h=A.scaleFactor||this.internal.scaleFactor,f=0,p=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=A.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,w){return b.concat(v.splitTextToSize(w,x))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)f<(g=this.getStringUnitWidth(c[C],{font:d})*u)&&(f=g);return f!==0&&(p=c.length),{w:f/=h,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var A=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,A,u,d,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,p,g,v,x=[],C=[],b=[],w={},E={},S=[],F=[],N=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,Q=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,j=h.margins||Object.assign({width:this.getPageWidth()},t),k=typeof h.padding=="number"?h.padding:3,T=h.headerBackgroundColor||"#c8c8c8",D=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=D,this.setFontSize(Q),d==null)C=x=Object.keys(u[0]),b=x.map(function(){return"left"});else if(Array.isArray(d)&&En(d[0])==="object")for(x=d.map(function(te){return te.name}),C=d.map(function(te){return te.prompt||te.name||""}),b=d.map(function(te){return te.align||"left"}),f=0;f<d.length;f+=1)E[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(C=x=d,b=x.map(function(){return"left"}));if(N||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<x.length;f+=1){for(w[v=x[f]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(C[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[v],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)S.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,S)+k+k,S=[]}if(P){var R={};for(f=0;f<x.length;f+=1)R[x[f]]={},R[x[f]].text=C[f],R[x[f]].align=b[f];var H=l.call(this,R,E);F=x.map(function(te){return new a(c,A,E[te],H,R[te].text,void 0,R[te].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var z=d.reduce(function(te,Ae){return te[Ae.name]=Ae.align,te},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var V=l.call(this,u[f],E);for(g=0;g<x.length;g+=1){var J=u[f][x[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:J},this),o.call(this,new a(c,A,E[x[g]],V,J,f+2,z[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var l=function(c,A){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var p=c[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,A[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,p){return Math.max(f,p)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,A){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),A&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(nn.API);var lM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qw=oM(cM),AM=[100,200,300,400,500,600,700,800,900],zie=oM(AM);function Yw(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return lM[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof qw[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function A3(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Wie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function d3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Kie(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Wie,n.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=Yw(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+d3(a)+"' and default family '"+r+"'.");if(o=function(c,A){if(A[c])return A[c];var u=qw[c],d=u<=qw.normal?-1:1,h=A3(A,cM,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(a.stretch,o),o=function(c,A){if(A[c])return A[c];for(var u=lM[c],d=0;d<u.length;++d)if(A[u[d]])return A[u[d]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,A){if(A[c])return A[c];if(c===400&&A[500])return A[500];if(c===500&&A[400])return A[400];var u=zie[c],d=A3(A,AM,u,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+d3(a)+"'.");return o}function f3(e){return e.trimLeft()}function Vie(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Gie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Km,h3,p3,Jb=["times"];(function(e){var t,n,r,i,a,o,l,c,A,u=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,A=new u}]);var d=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=U;Object.defineProperty(this,"pdf",{get:function(){return O}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(fe){M=!!fe}});var L=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return L},set:function(fe){L=!!fe}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(fe){isNaN(fe)||(W=fe)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(fe){isNaN(fe)||(G=fe)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(fe){var ie;typeof fe=="number"?ie=[fe,fe,fe,fe]:((ie=new Array(4))[0]=fe[0],ie[1]=fe.length>=2?fe[1]:ie[0],ie[2]=fe.length>=3?fe[2]:ie[0],ie[3]=fe.length>=4?fe[3]:ie[1]),A.margin=ie}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(fe){se=fe}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(fe){X=fe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(fe){ge=fe}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(fe){fe instanceof u&&(A=fe)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(fe){A.path=fe}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(fe){ce=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ie;ie=h(fe),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ie=h(fe);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var Y=null;function ne(fe,ie){if(Y===null){var Te=function(be){var xe=[];return Object.keys(be).forEach(function(Ne){be[Ne].forEach(function(Fe){var He=null;switch(Fe){case"bold":He={family:Ne,weight:"bold"};break;case"italic":He={family:Ne,style:"italic"};break;case"bolditalic":He={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Ne}}He!==null&&(He.ref={name:Ne,style:Fe},xe.push(He))})}),xe}(fe.getFontList());Y=function(be){for(var xe={},Ne=0;Ne<be.length;++Ne){var Fe=Yw(be[Ne]),He=Fe.family,Ge=Fe.stretch,lt=Fe.style,bt=Fe.weight;xe[He]=xe[He]||{},xe[He][Ge]=xe[He][Ge]||{},xe[He][Ge][lt]=xe[He][Ge][lt]||{},xe[He][Ge][lt][bt]=Fe}return xe}(Te.concat(ie))}return Y}var oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(fe){Y=null,oe=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ie;if(this.ctx.font=fe,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Te=ie[1];ie[2];var be=ie[3],xe=ie[4];ie[5];var Ne=ie[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(Fe==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var He=function(ke){var rt,Ie,_t=[],qe=ke.trim();if(qe==="")return Jb;if(qe in u3)return[u3[qe]];for(;qe!=="";){switch(Ie=null,rt=(qe=f3(qe)).charAt(0)){case'"':case"'":Ie=Vie(qe.substring(1),rt);break;default:Ie=Gie(qe)}if(Ie===null||(_t.push(Ie[0]),(qe=f3(Ie[1]))!==""&&qe.charAt(0)!==","))return Jb;qe=qe.replace(/^,/,"")}return _t}(Ne);if(this.fontFaces){var Ge=Kie(ne(this.pdf,this.fontFaces),He.map(function(ke){return{family:ke,stretch:"normal",weight:be,style:Te}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var lt="";(be==="bold"||parseInt(be,10)>=700||Te==="bold")&&(lt="bold"),Te==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var bt="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ye=0;ye<He.length;ye++){if(this.pdf.internal.getFont(He[ye],lt,{noFallback:!0,disableWarning:!0})!==void 0){bt=He[ye];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(He[ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=He[ye],lt="bold";else if(this.pdf.internal.getFont(He[ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=He[ye],lt="normal";break}}if(bt===""){for(var Ue=0;Ue<He.length;Ue++)if(Ze[He[Ue]]){bt=Ze[He[Ue]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};d.prototype.setLineDash=function(U){this.lineDash=U},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(U,O){if(isNaN(U)||isNaN(O))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new o(U,O));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(U,O)},d.prototype.closePath=function(){var U=new o(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&En(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){U=new o(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},d.prototype.lineTo=function(U,O){if(isNaN(U)||isNaN(O))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new o(U,O));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(U,O,M,L){if(isNaN(M)||isNaN(L)||isNaN(U)||isNaN(O))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new o(M,L)),G=this.ctx.transform.applyToPoint(new o(U,O));this.path.push({type:"qct",x1:G.x,y1:G.y,x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},d.prototype.bezierCurveTo=function(U,O,M,L,W,G){if(isNaN(W)||isNaN(G)||isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new o(W,G)),X=this.ctx.transform.applyToPoint(new o(U,O)),ge=this.ctx.transform.applyToPoint(new o(M,L));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:ge.x,y2:ge.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},d.prototype.arc=function(U,O,M,L,W,G){if(isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L)||isNaN(W))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new o(U,O));U=se.x,O=se.y;var X=this.ctx.transform.applyToPoint(new o(0,M)),ge=this.ctx.transform.applyToPoint(new o(0,0));M=Math.sqrt(Math.pow(X.x-ge.x,2)+Math.pow(X.y-ge.y,2))}Math.abs(W-L)>=2*Math.PI&&(L=0,W=2*Math.PI),this.path.push({type:"arc",x:U,y:O,radius:M,startAngle:L,endAngle:W,counterclockwise:G})},d.prototype.arcTo=function(U,O,M,L,W){throw new Error("arcTo not implemented.")},d.prototype.rect=function(U,O,M,L){if(isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,O),this.lineTo(U+M,O),this.lineTo(U+M,O+L),this.lineTo(U,O+L),this.lineTo(U,O),this.lineTo(U+M,O),this.lineTo(U,O)},d.prototype.fillRect=function(U,O,M,L){if(isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,O,M,L),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},d.prototype.strokeRect=function(U,O,M,L){if(isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(U,O,M,L),this.stroke())},d.prototype.clearRect=function(U,O,M,L){if(isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,O,M,L))},d.prototype.save=function(U){U=typeof U!="boolean"||U;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var L=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=L}},d.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(O),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(U){var O,M,L,W;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))O=0,M=0,L=0,W=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(G!==null)O=parseInt(G[1]),M=parseInt(G[2]),L=parseInt(G[3]),W=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)O=parseInt(G[1]),M=parseInt(G[2]),L=parseInt(G[3]),W=parseFloat(G[4]);else{if(W=1,typeof U=="string"&&U.charAt(0)!=="#"){var se=new tM(U);U=se.ok?se.toHex():"#000000"}U.length===4?(O=U.substring(1,2),O+=O,M=U.substring(2,3),M+=M,L=U.substring(3,4),L+=L):(O=U.substring(1,3),M=U.substring(3,5),L=U.substring(5,7)),O=parseInt(O,16),M=parseInt(M,16),L=parseInt(L,16)}}return{r:O,g:M,b:L,a:W,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(U,O,M,L){if(isNaN(O)||isNaN(M)||typeof U!="string")throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(L=isNaN(L)?void 0:L,!f.call(this)){var W=V(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;k.call(this,{text:U,x:O,y:M,scale:G,angle:W,align:this.textAlign,maxWidth:L})}},d.prototype.strokeText=function(U,O,M,L){if(isNaN(O)||isNaN(M)||typeof U!="string")throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){L=isNaN(L)?void 0:L;var W=V(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;k.call(this,{text:U,x:O,y:M,scale:G,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:L})}},d.prototype.measureText=function(U){if(typeof U!="string")throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,M=this.pdf.internal.scaleFactor,L=O.internal.getFontSize(),W=O.getStringUnitWidth(U)*L/O.internal.scaleFactor,G=function(se){var X=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this};return new G({width:W*=Math.round(96*M/72*1e4)/1e4})},d.prototype.scale=function(U,O){if(isNaN(U)||isNaN(O))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new c(U,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.rotate=function(U){if(isNaN(U))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},d.prototype.translate=function(U,O){if(isNaN(U)||isNaN(O))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new c(1,0,0,1,U,O);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.transform=function(U,O,M,L,W,G){if(isNaN(U)||isNaN(O)||isNaN(M)||isNaN(L)||isNaN(W)||isNaN(G))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new c(U,O,M,L,W,G);this.ctx.transform=this.ctx.transform.multiply(se)},d.prototype.setTransform=function(U,O,M,L,W,G){U=isNaN(U)?1:U,O=isNaN(O)?0:O,M=isNaN(M)?0:M,L=isNaN(L)?1:L,W=isNaN(W)?0:W,G=isNaN(G)?0:G,this.ctx.transform=new c(U,O,M,L,W,G)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(U,O,M,L,W,G,se,X,ge){var ce=this.pdf.getImageProperties(U),Y=1,ne=1,oe=1,fe=1;L!==void 0&&X!==void 0&&(oe=X/L,fe=ge/W,Y=ce.width/L*X/L,ne=ce.height/W*ge/W),G===void 0&&(G=O,se=M,O=0,M=0),L!==void 0&&X===void 0&&(X=L,ge=W),L===void 0&&X===void 0&&(X=ce.width,ge=ce.height);for(var ie,Te=this.ctx.transform.decompose(),be=V(Te.rotate.shx),xe=new c,Ne=(xe=(xe=(xe=xe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new l(G-O*oe,se-M*fe,L*Y,W*ne)),Fe=v.call(this,Ne),He=[],Ge=0;Ge<Fe.length;Ge+=1)He.indexOf(Fe[Ge])===-1&&He.push(Fe[Ge]);if(b(He),this.autoPaging)for(var lt=He[0],bt=He[He.length-1],Ze=lt;Ze<bt+1;Ze++){this.pdf.setPage(Ze);var ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Ze===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=Ze===1?0:ke+(Ze-2)*rt;if(this.ctx.clip_path.length!==0){var _t=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ie,this.posX+this.margin[3],-Ie+Ue+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=_t}var qe=JSON.parse(JSON.stringify(Ne));qe=C([qe],this.posX+this.margin[3],-Ie+Ue+this.ctx.prevPageLastElemOffset)[0];var we=(Ze>lt||Ze<bt)&&g.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ye,rt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,be),we&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,be)};var v=function(U,O,M){var L=[];O=O||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":L.push(Math.floor((U.y+W)/M)+1);break;case"arc":L.push(Math.floor((U.y+W-U.radius)/M)+1),L.push(Math.floor((U.y+W+U.radius)/M)+1);break;case"qct":var G=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);L.push(Math.floor((G.y+W)/M)+1),L.push(Math.floor((G.y+G.h+W)/M)+1);break;case"bct":var se=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);L.push(Math.floor((se.y+W)/M)+1),L.push(Math.floor((se.y+se.h+W)/M)+1);break;case"rect":L.push(Math.floor((U.y+W)/M)+1),L.push(Math.floor((U.y+U.h+W)/M)+1)}for(var X=0;X<L.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<L[X];)x.call(this);return L},x=function(){var U=this.fillStyle,O=this.strokeStyle,M=this.font,L=this.lineCap,W=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=O,this.font=M,this.lineCap=L,this.lineWidth=W,this.lineJoin=G},C=function(U,O,M){for(var L=0;L<U.length;L++)switch(U[L].type){case"bct":U[L].x2+=O,U[L].y2+=M;case"qct":U[L].x1+=O,U[L].y1+=M;case"mt":case"lt":case"arc":default:U[L].x+=O,U[L].y+=M}return U},b=function(U){return U.sort(function(O,M){return O-M})},w=function(U,O){for(var M,L,W=this.fillStyle,G=this.strokeStyle,se=this.lineCap,X=this.lineWidth,ge=Math.abs(X*this.ctx.transform.scaleX),ce=this.lineJoin,Y=JSON.parse(JSON.stringify(this.path)),ne=JSON.parse(JSON.stringify(this.path)),oe=[],fe=0;fe<ne.length;fe++)if(ne[fe].x!==void 0)for(var ie=v.call(this,ne[fe]),Te=0;Te<ie.length;Te+=1)oe.indexOf(ie[Te])===-1&&oe.push(ie[Te]);for(var be=0;be<oe.length;be++)for(;this.pdf.internal.getNumberOfPages()<oe[be];)x.call(this);if(b(oe),this.autoPaging)for(var xe=oe[0],Ne=oe[oe.length-1],Fe=xe;Fe<Ne+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=W,this.strokeStyle=G,this.lineCap=se,this.lineWidth=ge,this.lineJoin=ce;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Fe===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Fe===1?0:lt+(Fe-2)*bt;if(this.ctx.clip_path.length!==0){var ye=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(M,this.posX+this.margin[3],-Ze+Ge+this.ctx.prevPageLastElemOffset),E.call(this,U,!0),this.path=ye}if(L=JSON.parse(JSON.stringify(Y)),this.path=C(L,this.posX+this.margin[3],-Ze+Ge+this.ctx.prevPageLastElemOffset),O===!1||Fe===0){var Ue=(Fe>xe||Fe<Ne)&&g.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,bt,null).clip().discardPath()),E.call(this,U,O),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=ge,E.call(this,U,O),this.lineWidth=X;this.path=Y},E=function(U,O){if((U!=="stroke"||O||!p.call(this))&&(U==="stroke"||O||!f.call(this))){for(var M,L,W=[],G=this.path,se=0;se<G.length;se++){var X=G[se];switch(X.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:X,deltas:[],abs:[]});break;case"lt":var ge=W.length;if(G[se-1]&&!isNaN(G[se-1].x)&&(M=[X.x-G[se-1].x,X.y-G[se-1].y],ge>0)){for(;ge>=0;ge--)if(W[ge-1].close!==!0&&W[ge-1].begin!==!0){W[ge-1].deltas.push(M),W[ge-1].abs.push(X);break}}break;case"bct":M=[X.x1-G[se-1].x,X.y1-G[se-1].y,X.x2-G[se-1].x,X.y2-G[se-1].y,X.x-G[se-1].x,X.y-G[se-1].y],W[W.length-1].deltas.push(M);break;case"qct":var ce=G[se-1].x+2/3*(X.x1-G[se-1].x),Y=G[se-1].y+2/3*(X.y1-G[se-1].y),ne=X.x+2/3*(X.x1-X.x),oe=X.y+2/3*(X.y1-X.y),fe=X.x,ie=X.y;M=[ce-G[se-1].x,Y-G[se-1].y,ne-G[se-1].x,oe-G[se-1].y,fe-G[se-1].x,ie-G[se-1].y],W[W.length-1].deltas.push(M);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(X)}}L=O?null:U==="stroke"?"stroke":"fill";for(var Te=!1,be=0;be<W.length;be++)if(W[be].arc)for(var xe=W[be].abs,Ne=0;Ne<xe.length;Ne++){var Fe=xe[Ne];Fe.type==="arc"?N.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,O,!Te):T.call(this,Fe.x,Fe.y),Te=!0}else if(W[be].close===!0)this.pdf.internal.out("h"),Te=!1;else if(W[be].begin!==!0){var He=W[be].start.x,Ge=W[be].start.y;D.call(this,W[be].deltas,He,Ge),Te=!0}L&&P.call(this,L),O&&Q.call(this)}},S=function(U){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-M;case"top":return U+O-M;case"hanging":return U+O-2*M;case"middle":return U+O/2-M;case"ideographic":return U;case"alphabetic":default:return U}},F=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(O,M){this.colorStops.push([O,M])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(U,O,M,L,W,G,se,X,ge){for(var ce=H.call(this,M,L,W,G),Y=0;Y<ce.length;Y++){var ne=ce[Y];Y===0&&(ge?j.call(this,ne.x1+U,ne.y1+O):T.call(this,ne.x1+U,ne.y1+O)),R.call(this,U,O,ne.x2,ne.y2,ne.x3,ne.y3,ne.x4,ne.y4)}X?Q.call(this):P.call(this,se)},P=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(U,O){this.pdf.internal.out(n(U)+" "+r(O)+" m")},k=function(U){var O;switch(U.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var M=this.pdf.getTextDimensions(U.text),L=S.call(this,U.y),W=F.call(this,L)-M.h,G=this.ctx.transform.applyToPoint(new o(U.x,L)),se=this.ctx.transform.decompose(),X=new c;X=(X=(X=X.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var ge,ce,Y,ne=this.ctx.transform.applyToRectangle(new l(U.x,L,M.w,M.h)),oe=X.applyToRectangle(new l(U.x,W,M.w,M.h)),fe=v.call(this,oe),ie=[],Te=0;Te<fe.length;Te+=1)ie.indexOf(fe[Te])===-1&&ie.push(fe[Te]);if(b(ie),this.autoPaging)for(var be=ie[0],xe=ie[ie.length-1],Ne=be;Ne<xe+1;Ne++){this.pdf.setPage(Ne);var Fe=Ne===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],lt=Ge-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],Ze=bt-this.margin[3],ye=Ne===1?0:He+(Ne-2)*lt;if(this.ctx.clip_path.length!==0){var Ue=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ge,this.posX+this.margin[3],-1*ye+Fe),E.call(this,"fill",!0),this.path=Ue}var ke=C([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-ye+Fe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*U.scale),Y=this.lineWidth,this.lineWidth=Y*U.scale);var rt=this.autoPaging!=="text";if(rt||ke.y+ke.h<=Ge){if(rt||ke.y>=Fe&&ke.x<=bt){var Ie=rt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||bt-ke.x)[0],_t=C([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-ye+Fe+this.ctx.prevPageLastElemOffset)[0],qe=rt&&(Ne>be||Ne<xe)&&g.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,lt,null).clip().discardPath()),this.pdf.text(Ie,_t.x,_t.y,{angle:U.angle,align:O,renderingMode:U.renderingMode}),qe&&this.pdf.restoreGraphicsState()}}else ke.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-ke.y);U.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=Y)}else U.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*U.scale),Y=this.lineWidth,this.lineWidth=Y*U.scale),this.pdf.text(U.text,G.x+this.posX,G.y+this.posY,{angle:U.angle,align:O,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=Y)},T=function(U,O,M,L){M=M||0,L=L||0,this.pdf.internal.out(n(U+M)+" "+r(O+L)+" l")},D=function(U,O,M){return this.pdf.lines(U,O,M,null,null)},R=function(U,O,M,L,W,G,se,X){this.pdf.internal.out([t(i(M+U)),t(a(L+O)),t(i(W+U)),t(a(G+O)),t(i(se+U)),t(a(X+O)),"c"].join(" "))},H=function(U,O,M,L){for(var W=2*Math.PI,G=Math.PI/2;O>M;)O-=W;var se=Math.abs(M-O);se<W&&L&&(se=W-se);for(var X=[],ge=L?-1:1,ce=O;se>1e-5;){var Y=ce+ge*Math.min(se,G);X.push(z.call(this,U,ce,Y)),se-=Math.abs(Y-ce),ce=Y}return X},z=function(U,O,M){var L=(M-O)/2,W=U*Math.cos(L),G=U*Math.sin(L),se=W,X=-G,ge=se*se+X*X,ce=ge+se*W+X*G,Y=4/3*(Math.sqrt(2*ge*ce)-ce)/(se*G-X*W),ne=se-Y*X,oe=X+Y*se,fe=ne,ie=-oe,Te=L+O,be=Math.cos(Te),xe=Math.sin(Te);return{x1:U*Math.cos(O),y1:U*Math.sin(O),x2:ne*be-oe*xe,y2:ne*xe+oe*be,x3:fe*be-ie*xe,y3:fe*xe+ie*be,x4:U*Math.cos(M),y4:U*Math.sin(M)}},V=function(U){return 180*U/Math.PI},J=function(U,O,M,L,W,G){var se=U+.5*(M-U),X=O+.5*(L-O),ge=W+.5*(M-W),ce=G+.5*(L-G),Y=Math.min(U,W,se,ge),ne=Math.max(U,W,se,ge),oe=Math.min(O,G,X,ce),fe=Math.max(O,G,X,ce);return new l(Y,oe,ne-Y,fe-oe)},te=function(U,O,M,L,W,G,se,X){var ge,ce,Y,ne,oe,fe,ie,Te,be,xe,Ne,Fe,He,Ge,lt=M-U,bt=L-O,Ze=W-M,ye=G-L,Ue=se-W,ke=X-G;for(ce=0;ce<41;ce++)be=(ie=(Y=U+(ge=ce/40)*lt)+ge*((oe=M+ge*Ze)-Y))+ge*(oe+ge*(W+ge*Ue-oe)-ie),xe=(Te=(ne=O+ge*bt)+ge*((fe=L+ge*ye)-ne))+ge*(fe+ge*(G+ge*ke-fe)-Te),ce==0?(Ne=be,Fe=xe,He=be,Ge=xe):(Ne=Math.min(Ne,be),Fe=Math.min(Fe,xe),He=Math.max(He,be),Ge=Math.max(Ge,xe));return new l(Math.round(Ne),Math.round(Fe),Math.round(He-Ne),Math.round(Ge-Fe))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,O,M=(U=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:O}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(nn.API),function(e){var t=function(a){var o,l,c,A,u,d,h,f,p,g;for(l=[],c=0,A=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;A>c;c+=4)(u=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(p=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,l.push(d+33,h+33,f+33,p+33,g+33)):l.push(122);return function(v,x){for(var C=x;C>0;C--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,A,u,d=String,h="length",f=255,p="charCodeAt",g="slice",v="replace";for(a[g](-2),a=a[g](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],A=0,u=(a+=o="uuuuu"[g](a[h]%5||5))[h];u>A;A+=5)l=52200625*(a[p](A)-33)+614125*(a[p](A+1)-33)+7225*(a[p](A+2)-33)+85*(a[p](A+3)-33)+(a[p](A+4)-33),c.push(f&l>>24,f&l>>16,f&l>>8,f&l);return function(x,C){for(var b=C;b>0;b--)x.pop()}(c,o[h]),d.fromCharCode.apply(d,c)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=zw(o)).reduce(function(c,A){return c+String.fromCharCode(A)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:A.reverse().join(" ")}}}(nn.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,A,u){var d=new XMLHttpRequest,h=0,f=function(p){var g=p.length,v=[],x=String.fromCharCode;for(h=0;h<g;h+=1)v.push(x(255&p.charCodeAt(h)));return v.join("")};if(d.open("GET",c,!A),d.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),A&&d.status===200)return f(d.responseText)}(i,a,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(nn.API),function(e){function t(){return(an.html2canvas?Promise.resolve(an.html2canvas):Ow(()=>Promise.resolve().then(()=>MAe),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(an.DOMPurify?Promise.resolve(an.DOMPurify):Ow(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=En(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var A in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[A]=l.style[A];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),c);return A=(A=A.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(A,u){for(var d=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(c(h,u));return A.nodeType===1&&(A.nodeName==="CANVAS"?(d.width=A.width,d.height=A.height,d.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(d.value=A.value),d.addEventListener("load",function(){d.scrollTop=A.scrollTop,d.scrollLeft=A.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,A=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=A,A)for(var h=0;h<A.length;++h){var f=A[h],p=f.src.find(function(g){return g.format==="truetype"});p&&c.addFont(p.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,A){return Math.floor(c*A/72*96)}return this.then(function(){(o=o||nn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,A){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(A,u){return c.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,A),d}).then(A,u).then(function(d){return c.updateProgress(1),d})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=c.call(A,o,l);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,nn.getPageSize=function(o,l,c){if(En(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,c=A.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var f,p=0,g=0;if(h.hasOwnProperty(d))p=h[d][1]/u,g=h[d][0]/u;else try{p=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>p&&(f=g,g=p,p=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>g&&(f=g,g=p,p=f)}return{width:g,height:p,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Yw):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(nn.API),nn.API.addJS=function(e){return p3=e,this.internal.events.subscribe("postPutResources",function(){Km=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Km+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Km!==void 0&&h3!==void 0&&this.internal.out("/Names <</JavaScript "+Km+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,u=[];for(a=0;a<A;a++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var A=0;A<r.children.length;A++)this.renderItems(r.children[A])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(nn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,l){var c,A=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,g={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=f,t.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),g={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}f=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:A,index:r,alias:i}}return u}}(nn.API);var Ju,Vm,g3,m3,v3,qie=function(){var e,t,n;function r(a){var o,l,c,A,u,d,h,f,p,g,v,x,C,b;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),p=(function(){var w,E;for(E=[],w=0;w<4;++w)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),A=this.readUInt16()||100,d.delay=1e3*u/A,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,o-=4),a=(d!=null?d.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(C=0;0<=g?C<g:C>g;0<=g?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(v=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,v.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,A=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(d,h,f,p){var g,v,x,C,b,w,E,S,F,N,P,Q,j,k,T,D,R,H,z,V,J,te=Math.ceil((A.width-d)/f),Ae=Math.ceil((A.height-h)/p),U=A.width==te&&A.height==Ae;for(k=o*te,Q=U?l:new Uint8Array(k*Ae),w=a.length,j=0,v=0;j<Ae&&c<w;){switch(a[c++]){case 0:for(C=R=0;R<k;C=R+=1)Q[v++]=a[c++];break;case 1:for(C=H=0;H<k;C=H+=1)g=a[c++],b=C<o?0:Q[v-o],Q[v++]=(g+b)%256;break;case 2:for(C=z=0;z<k;C=z+=1)g=a[c++],x=(C-C%o)/o,T=j&&Q[(j-1)*k+x*o+C%o],Q[v++]=(T+g)%256;break;case 3:for(C=V=0;V<k;C=V+=1)g=a[c++],x=(C-C%o)/o,b=C<o?0:Q[v-o],T=j&&Q[(j-1)*k+x*o+C%o],Q[v++]=(g+Math.floor((b+T)/2))%256;break;case 4:for(C=J=0;J<k;C=J+=1)g=a[c++],x=(C-C%o)/o,b=C<o?0:Q[v-o],j===0?T=D=0:(T=Q[(j-1)*k+x*o+C%o],D=x&&Q[(j-1)*k+(x-1)*o+C%o]),E=b+T-D,S=Math.abs(E-b),N=Math.abs(E-T),P=Math.abs(E-D),F=S<=N&&S<=P?b:N<=P?T:D,Q[v++]=(g+F)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!U){var O=((h+j*p)*A.width+d)*o,M=j*k;for(C=0;C<te;C+=1){for(var L=0;L<o;L+=1)l[O++]=Q[M++];O+=(f-1)*o}}j++}}return a=Eie(a),A.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},r.prototype.decodePalette=function(){var a,o,l,c,A,u,d,h,f;for(l=this.palette,u=this.transparency.indexed||[],A=new Uint8Array((u.length||0)+l.length),c=0,a=0,o=d=0,h=l.length;d<h;o=d+=3)A[c++]=l[o],A[c++]=l[o+1],A[c++]=l[o+2],A[c++]=(f=u[a++])!=null?f:255;return A},r.prototype.copyToImageData=function(a,o){var l,c,A,u,d,h,f,p,g,v,x;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),p=(A=a.data||a).length,d=g||o,u=h=0,c===1)for(;u<p;)f=g?4*o[u/4]:h,v=d[f++],A[u++]=v,A[u++]=v,A[u++]=v,A[u++]=l?d[f++]:255,h=f;else for(;u<p;)f=g?4*o[u/4]:h,A[u++]=d[f++],A[u++]=d[f++],A[u++]=d[f++],A[u++]=l?d[f++]:255,h=f},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(an)==="[object Window]"){try{t=an.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,l,c,A,u,d,h,f;if(this.animation){for(f=[],l=u=0,d=(h=this.animation.frames).length;u<d;l=++u)o=h[l],c=a.createImageData(o.width,o.height),A=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,A),o.imageData=c,f.push(o.image=e(c));return f}},r.prototype.renderFrame=function(a,o){var l,c,A;return l=(c=this.animation.frames)[o],A=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?a.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&a.putImageData(A.imageData,A.xOffset,A.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var o,l,c,A,u,d,h=this;return l=0,d=this.animation,A=d.numFrames,c=d.frames,u=d.numPlays,(o=function(){var f,p;if(f=l++%A,p=c[f],h.renderFrame(a,f),A>1&&l/A<u)return h.animation._timeout=setTimeout(o,p.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Yie(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var A=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=n,this.height=r;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++],E=w>>6&1,S=1<<(7&w)+1,F=l,N=c,P=!1;w>>7&&(P=!0,F=t,N=S,t+=3*S);var Q=t;for(t++;;){var j;if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}u.push({x:v,y:x,width:C,height:b,has_local_palette:P,palette_offset:F,palette_size:N,data_offset:Q,data_length:t-Q,transparent_index:h,interlaced:!!E,delay:d,disposal:f});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,T){var D=this.frameInfo(k),R=D.width*D.height,H=new Uint8Array(R);y3(e,D.data_offset,H,R);var z=D.palette_offset,V=D.transparent_index;V===null&&(V=256);var J=D.width,te=n-J,Ae=J,U=4*(D.y*n+D.x),O=4*((D.y+D.height)*n+D.x),M=U,L=4*te;D.interlaced===!0&&(L+=4*n*7);for(var W=8,G=0,se=H.length;G<se;++G){var X=H[G];if(Ae===0&&(Ae=J,(M+=L)>=O&&(L=4*te+4*n*(W-1),M=U+(J+te)*(W<<1),W>>=1)),X===V)M+=4;else{var ge=e[z+3*X],ce=e[z+3*X+1],Y=e[z+3*X+2];T[M++]=Y,T[M++]=ce,T[M++]=ge,T[M++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(k,T){var D=this.frameInfo(k),R=D.width*D.height,H=new Uint8Array(R);y3(e,D.data_offset,H,R);var z=D.palette_offset,V=D.transparent_index;V===null&&(V=256);var J=D.width,te=n-J,Ae=J,U=4*(D.y*n+D.x),O=4*((D.y+D.height)*n+D.x),M=U,L=4*te;D.interlaced===!0&&(L+=4*n*7);for(var W=8,G=0,se=H.length;G<se;++G){var X=H[G];if(Ae===0&&(Ae=J,(M+=L)>=O&&(L=4*te+4*n*(W-1),M=U+(J+te)*(W<<1),W>>=1)),X===V)M+=4;else{var ge=e[z+3*X],ce=e[z+3*X+1],Y=e[z+3*X+2];T[M++]=ge,T[M++]=ce,T[M++]=Y,T[M++]=255}--Ae}}}function y3(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,A=(1<<c)-1,u=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var v=d&A;if(d>>=c,u-=c,v!==a){if(v===o)break;for(var x=v<l?v:g,C=0,b=x;b>a;)b=p[b]>>8,++C;var w=b;if(h+C+(x!==v?1:0)>r)return void sr.log("Warning, gif stream longer than expected.");n[h++]=w;var E=h+=C;for(x!==v&&(n[h++]=w),b=x;C--;)b=p[b],n[--E]=255&b,b>>=8;g!==null&&l<4096&&(p[l++]=g<<8|w,l>=A+1&&c<12&&(++c,A=A<<1|1)),g=v}else l=o+1,A=(1<<(c=i+1))-1,g=null}return h!==r&&sr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zb(e){var t,n,r,i,a,o=Math.floor,l=new Array(64),c=new Array(64),A=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),g=[],v=0,x=7,C=new Array(64),b=new Array(64),w=new Array(64),E=new Array(256),S=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],R=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(U,O){for(var M=0,L=0,W=new Array,G=1;G<=16;G++){for(var se=1;se<=U[G];se++)W[O[L]]=[],W[O[L]][0]=M,W[O[L]][1]=G,L++,M++;M*=2}return W}function z(U){for(var O=U[0],M=U[1]-1;M>=0;)O&1<<M&&(v|=1<<x),M--,--x<0&&(v==255?(V(255),V(0)):V(v),x=7,v=0)}function V(U){g.push(U)}function J(U){V(U>>8&255),V(255&U)}function te(U,O,M,L,W){for(var G,se=W[0],X=W[240],ge=function(xe,Ne){var Fe,He,Ge,lt,bt,Ze,ye,Ue,ke,rt,Ie=0;for(ke=0;ke<8;++ke){Fe=xe[Ie],He=xe[Ie+1],Ge=xe[Ie+2],lt=xe[Ie+3],bt=xe[Ie+4],Ze=xe[Ie+5],ye=xe[Ie+6];var _t=Fe+(Ue=xe[Ie+7]),qe=Fe-Ue,we=He+ye,he=He-ye,Le=Ge+Ze,ve=Ge-Ze,De=lt+bt,de=lt-bt,Se=_t+De,Re=_t-De,it=we+Le,ut=we-Le;xe[Ie]=Se+it,xe[Ie+4]=Se-it;var Oe=.707106781*(ut+Re);xe[Ie+2]=Re+Oe,xe[Ie+6]=Re-Oe;var Ye=.382683433*((Se=de+ve)-(ut=he+qe)),We=.5411961*Se+Ye,Ve=1.306562965*ut+Ye,nt=.707106781*(it=ve+he),ft=qe+nt,at=qe-nt;xe[Ie+5]=at+We,xe[Ie+3]=at-We,xe[Ie+1]=ft+Ve,xe[Ie+7]=ft-Ve,Ie+=8}for(Ie=0,ke=0;ke<8;++ke){Fe=xe[Ie],He=xe[Ie+8],Ge=xe[Ie+16],lt=xe[Ie+24],bt=xe[Ie+32],Ze=xe[Ie+40],ye=xe[Ie+48];var Bt=Fe+(Ue=xe[Ie+56]),xt=Fe-Ue,Ht=He+ye,Yt=He-ye,rn=Ge+Ze,Nn=Ge-Ze,Kn=lt+bt,kr=lt-bt,ai=Bt+Kn,zr=Bt-Kn,pi=Ht+rn,Aa=Ht-rn;xe[Ie]=ai+pi,xe[Ie+32]=ai-pi;var Vi=.707106781*(Aa+zr);xe[Ie+16]=zr+Vi,xe[Ie+48]=zr-Vi;var Sa=.382683433*((ai=kr+Nn)-(Aa=Yt+xt)),Zs=.5411961*ai+Sa,on=1.306562965*Aa+Sa,Ir=.707106781*(pi=Nn+Yt),sl=xt+Ir,Wr=xt-Ir;xe[Ie+40]=Wr+Zs,xe[Ie+24]=Wr-Zs,xe[Ie+8]=sl+on,xe[Ie+56]=sl-on,Ie++}for(ke=0;ke<64;++ke)rt=xe[ke]*Ne[ke],f[ke]=rt>0?rt+.5|0:rt-.5|0;return f}(U,O),ce=0;ce<64;++ce)p[F[ce]]=ge[ce];var Y=p[0]-M;M=p[0],Y==0?z(L[0]):(z(L[h[G=32767+Y]]),z(d[G]));for(var ne=63;ne>0&&p[ne]==0;)ne--;if(ne==0)return z(se),M;for(var oe,fe=1;fe<=ne;){for(var ie=fe;p[fe]==0&&fe<=ne;)++fe;var Te=fe-ie;if(Te>=16){oe=Te>>4;for(var be=1;be<=oe;++be)z(X);Te&=15}G=32767+p[fe],z(W[(Te<<4)+h[G]]),z(d[G]),fe++}return ne!=63&&z(se),M}function Ae(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(O){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],L=0;L<64;L++){var W=o((M[L]*O+50)/100);W=Math.min(Math.max(W,1),255),l[F[L]]=W}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var X=o((G[se]*O+50)/100);X=Math.min(Math.max(X,1),255),c[F[se]]=X}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,Y=0;Y<8;Y++)for(var ne=0;ne<8;ne++)A[ce]=1/(l[F[ce]]*ge[Y]*ge[ne]*8),u[ce]=1/(c[F[ce]]*ge[Y]*ge[ne]*8),ce++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,O){O&&Ae(O),g=new Array,v=0,x=7,J(65496),J(65504),J(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),J(1),J(1),V(0),V(0),function(){J(65499),J(132),V(0);for(var He=0;He<64;He++)V(l[He]);V(1);for(var Ge=0;Ge<64;Ge++)V(c[Ge])}(),function(He,Ge){J(65472),J(17),V(8),J(Ge),J(He),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(U.width,U.height),function(){J(65476),J(418),V(0);for(var He=0;He<16;He++)V(N[He+1]);for(var Ge=0;Ge<=11;Ge++)V(P[Ge]);V(16);for(var lt=0;lt<16;lt++)V(Q[lt+1]);for(var bt=0;bt<=161;bt++)V(j[bt]);V(1);for(var Ze=0;Ze<16;Ze++)V(k[Ze+1]);for(var ye=0;ye<=11;ye++)V(T[ye]);V(17);for(var Ue=0;Ue<16;Ue++)V(D[Ue+1]);for(var ke=0;ke<=161;ke++)V(R[ke])}(),J(65498),J(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var M=0,L=0,W=0;v=0,x=7,this.encode.displayName="_encode_";for(var G,se,X,ge,ce,Y,ne,oe,fe,ie=U.data,Te=U.width,be=U.height,xe=4*Te,Ne=0;Ne<be;){for(G=0;G<xe;){for(ce=xe*Ne+G,ne=-1,oe=0,fe=0;fe<64;fe++)Y=ce+(oe=fe>>3)*xe+(ne=4*(7&fe)),Ne+oe>=be&&(Y-=xe*(Ne+1+oe-be)),G+ne>=xe&&(Y-=G+ne-xe+4),se=ie[Y++],X=ie[Y++],ge=ie[Y++],C[fe]=(S[se]+S[X+256>>0]+S[ge+512>>0]>>16)-128,b[fe]=(S[se+768>>0]+S[X+1024>>0]+S[ge+1280>>0]>>16)-128,w[fe]=(S[se+1280>>0]+S[X+1536>>0]+S[ge+1792>>0]>>16)-128;M=te(C,A,M,t,r),L=te(b,u,L,n,i),W=te(w,u,W,n,i),G+=32}Ne+=8}if(x>=0){var Fe=[];Fe[1]=x+1,Fe[0]=(1<<x+1)-1,z(Fe)}return J(65497),new Uint8Array(g)},e=e||50,function(){for(var U=String.fromCharCode,O=0;O<256;O++)E[O]=U(O)}(),t=H(N,P),n=H(k,T),r=H(Q,j),i=H(D,R),function(){for(var U=1,O=2,M=1;M<=15;M++){for(var L=U;L<O;L++)h[32767+L]=M,d[32767+L]=[],d[32767+L][1]=M,d[32767+L][0]=L;for(var W=-(O-1);W<=-U;W++)h[32767+W]=M,d[32767+W]=[],d[32767+W][1]=M,d[32767+W][0]=O-1+W;U<<=1,O<<=1}}(),function(){for(var U=0;U<256;U++)S[U]=19595*U,S[U+256>>0]=38470*U,S[U+512>>0]=7471*U+32768,S[U+768>>0]=-11059*U,S[U+1024>>0]=-21709*U,S[U+1280>>0]=32768*U+8421375,S[U+1536>>0]=-27439*U,S[U+1792>>0]=-5329*U}(),Ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function so(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function x3(e){function t(N){if(!N)throw Error("assert :P")}function n(N,P,Q){for(var j=0;4>j;j++)if(N[P+j]!=Q.charCodeAt(j))return!0;return!1}function r(N,P,Q,j,k){for(var T=0;T<k;T++)N[P+T]=Q[j+T]}function i(N,P,Q,j){for(var k=0;k<j;k++)N[P+k]=Q}function a(N){return new Int32Array(N)}function o(N,P){for(var Q=[],j=0;j<N;j++)Q.push(new P);return Q}function l(N,P){var Q=[];return function j(k,T,D){for(var R=D[T],H=0;H<R&&(k.push(D.length>T+1?[]:new P),!(D.length<T+1));H++)j(k[H],T+1,D)}(Q,0,N),Q}var c=function(){var N=this;function P(m,B){for(var _=1<<B-1>>>0;m&_;)_>>>=1;return _?(m&_-1)+_:m}function Q(m,B,_,$,Z){t(!($%_));do m[B+($-=_)]=Z;while(0<$)}function j(m,B,_,$,Z){if(t(2328>=Z),512>=Z)var re=a(512);else if((re=a(Z))==null)return 0;return function(ae,le,ue,pe,je,$e){var ze,Me,dt=le,Je=1<<ue,Ee=a(16),Pe=a(16);for(t(je!=0),t(pe!=null),t(ae!=null),t(0<ue),Me=0;Me<je;++Me){if(15<pe[Me])return 0;++Ee[pe[Me]]}if(Ee[0]==je)return 0;for(Pe[1]=0,ze=1;15>ze;++ze){if(Ee[ze]>1<<ze)return 0;Pe[ze+1]=Pe[ze]+Ee[ze]}for(Me=0;Me<je;++Me)ze=pe[Me],0<pe[Me]&&($e[Pe[ze]++]=Me);if(Pe[15]==1)return(pe=new k).g=0,pe.value=$e[0],Q(ae,dt,1,Je,pe),Je;var ct,mt=-1,At=Je-1,Qt=0,kt=1,Jt=1,Nt=1<<ue;for(Me=0,ze=1,je=2;ze<=ue;++ze,je<<=1){if(kt+=Jt<<=1,0>(Jt-=Ee[ze]))return 0;for(;0<Ee[ze];--Ee[ze])(pe=new k).g=ze,pe.value=$e[Me++],Q(ae,dt+Qt,je,Nt,pe),Qt=P(Qt,ze)}for(ze=ue+1,je=2;15>=ze;++ze,je<<=1){if(kt+=Jt<<=1,0>(Jt-=Ee[ze]))return 0;for(;0<Ee[ze];--Ee[ze]){if(pe=new k,(Qt&At)!=mt){for(dt+=Nt,ct=1<<(mt=ze)-ue;15>mt&&!(0>=(ct-=Ee[mt]));)++mt,ct<<=1;Je+=Nt=1<<(ct=mt-ue),ae[le+(mt=Qt&At)].g=ct+ue,ae[le+mt].value=dt-le-mt}pe.g=ze-ue,pe.value=$e[Me++],Q(ae,dt+(Qt>>ue),je,Nt,pe),Qt=P(Qt,ze)}}return kt!=2*Pe[15]-1?0:Je}(m,B,_,$,Z,re)}function k(){this.value=this.g=0}function T(){this.value=this.g=0}function D(){this.G=o(5,k),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ui,T)}function R(m,B,_,$){t(m!=null),t(B!=null),t(2147483648>$),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=B,m.pa=_,m.Jd=B,m.Yc=_+$,m.Zc=4<=$?_+$-4+1:_,G(m)}function H(m,B){for(var _=0;0<B--;)_|=X(m,128)<<B;return _}function z(m,B){var _=H(m,B);return se(m)?-_:_}function V(m,B,_,$){var Z,re=0;for(t(m!=null),t(B!=null),t(4294967288>$),m.Sb=$,m.Ra=0,m.u=0,m.h=0,4<$&&($=4),Z=0;Z<$;++Z)re+=B[_+Z]<<8*Z;m.Ra=re,m.bb=$,m.oa=B,m.pa=_}function J(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Pu-8>>>0,++m.bb,m.u-=8;M(m)&&(m.h=1,m.u=0)}function te(m,B){if(t(0<=B),!m.h&&B<=Fu){var _=O(m)&Nu[B];return m.u+=B,J(m),_}return m.h=1,m.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(m){return m.Ra>>>(m.u&Pu-1)>>>0}function M(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Pu}function L(m,B){m.u=B,m.h=M(m)}function W(m){m.u>=lh&&(t(m.u>=lh),J(m))}function G(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function se(m){return H(m,1)}function X(m,B){var _=m.Ca;0>m.b&&G(m);var $=m.b,Z=_*B>>>8,re=(m.I>>>$>Z)+0;for(re?(_-=Z,m.I-=Z+1<<$>>>0):_=Z+1,$=_,Z=0;256<=$;)Z+=8,$>>=8;return $=7^Z+Ea[$],m.b-=$,m.Ca=(_<<$)-1,re}function ge(m,B,_){m[B+0]=_>>24&255,m[B+1]=_>>16&255,m[B+2]=_>>8&255,m[B+3]=_>>0&255}function ce(m,B){return m[B+0]<<0|m[B+1]<<8}function Y(m,B){return ce(m,B)|m[B+2]<<16}function ne(m,B){return ce(m,B)|ce(m,B+2)<<16}function oe(m,B){var _=1<<B;return t(m!=null),t(0<B),m.X=a(_),m.X==null?0:(m.Mb=32-B,m.Xa=B,1)}function fe(m,B){t(m!=null),t(B!=null),t(m.Xa==B.Xa),r(B.X,0,m.X,0,1<<B.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Te(m,B,_,$){t(_!=null),t($!=null);var Z=_[0],re=$[0];return Z==0&&(Z=(m*re+B/2)/B),re==0&&(re=(B*Z+m/2)/m),0>=Z||0>=re?0:(_[0]=Z,$[0]=re,1)}function be(m,B){return m+(1<<B)-1>>>B}function xe(m,B){return((4278255360&m)+(4278255360&B)>>>0&4278255360)+((16711935&m)+(16711935&B)>>>0&16711935)>>>0}function Ne(m,B){N[B]=function(_,$,Z,re,ae,le,ue){var pe;for(pe=0;pe<ae;++pe){var je=N[m](le[ue+pe-1],Z,re+pe);le[ue+pe]=xe(_[$+pe],je)}}}function Fe(){this.ud=this.hd=this.jd=0}function He(m,B){return((4278124286&(m^B))>>>1)+(m&B)>>>0}function Ge(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function lt(m,B){return Ge(m+(m-B+.5>>1))}function bt(m,B,_){return Math.abs(B-_)-Math.abs(m-_)}function Ze(m,B,_,$,Z,re,ae){for($=re[ae-1],_=0;_<Z;++_)re[ae+_]=$=xe(m[B+_],$)}function ye(m,B,_,$,Z){var re;for(re=0;re<_;++re){var ae=m[B+re],le=ae>>8&255,ue=16711935&(ue=(ue=16711935&ae)+((le<<16)+le));$[Z+re]=(4278255360&ae)+ue>>>0}}function Ue(m,B){B.jd=m>>0&255,B.hd=m>>8&255,B.ud=m>>16&255}function ke(m,B,_,$,Z,re){var ae;for(ae=0;ae<$;++ae){var le=B[_+ae],ue=le>>>8,pe=le,je=255&(je=(je=le>>>16)+((m.jd<<24>>24)*(ue<<24>>24)>>>5));pe=255&(pe=(pe=pe+((m.hd<<24>>24)*(ue<<24>>24)>>>5))+((m.ud<<24>>24)*(je<<24>>24)>>>5)),Z[re+ae]=(4278255360&le)+(je<<16)+pe}}function rt(m,B,_,$,Z){N[B]=function(re,ae,le,ue,pe,je,$e,ze,Me){for(ue=$e;ue<ze;++ue)for($e=0;$e<Me;++$e)pe[je++]=Z(le[$(re[ae++])])},N[m]=function(re,ae,le,ue,pe,je,$e){var ze=8>>re.b,Me=re.Ea,dt=re.K[0],Je=re.w;if(8>ze)for(re=(1<<re.b)-1,Je=(1<<ze)-1;ae<le;++ae){var Ee,Pe=0;for(Ee=0;Ee<Me;++Ee)Ee&re||(Pe=$(ue[pe++])),je[$e++]=Z(dt[Pe&Je]),Pe>>=ze}else N["VP8LMapColor"+_](ue,pe,dt,Je,je,$e,ae,le,Me)}}function Ie(m,B,_,$,Z){for(_=B+_;B<_;){var re=m[B++];$[Z++]=re>>16&255,$[Z++]=re>>8&255,$[Z++]=re>>0&255}}function _t(m,B,_,$,Z){for(_=B+_;B<_;){var re=m[B++];$[Z++]=re>>16&255,$[Z++]=re>>8&255,$[Z++]=re>>0&255,$[Z++]=re>>24&255}}function qe(m,B,_,$,Z){for(_=B+_;B<_;){var re=(ae=m[B++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;$[Z++]=re,$[Z++]=ae}}function we(m,B,_,$,Z){for(_=B+_;B<_;){var re=(ae=m[B++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;$[Z++]=re,$[Z++]=ae}}function he(m,B,_,$,Z){for(_=B+_;B<_;){var re=m[B++];$[Z++]=re>>0&255,$[Z++]=re>>8&255,$[Z++]=re>>16&255}}function Le(m,B,_,$,Z,re){if(re==0)for(_=B+_;B<_;)ge($,((re=m[B++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Z+=32;else r($,Z,m,B,_)}function ve(m,B){N[B][0]=N[m+"0"],N[B][1]=N[m+"1"],N[B][2]=N[m+"2"],N[B][3]=N[m+"3"],N[B][4]=N[m+"4"],N[B][5]=N[m+"5"],N[B][6]=N[m+"6"],N[B][7]=N[m+"7"],N[B][8]=N[m+"8"],N[B][9]=N[m+"9"],N[B][10]=N[m+"10"],N[B][11]=N[m+"11"],N[B][12]=N[m+"12"],N[B][13]=N[m+"13"],N[B][14]=N[m+"0"],N[B][15]=N[m+"0"]}function De(m){return m==ab||m==sb||m==mm||m==ob}function de(){this.eb=[],this.size=this.A=this.fb=0}function Se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Re(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new de,this.f.kb=new Se,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ye(m,B){var _=m.T,$=B.ba.f.RGBA,Z=$.eb,re=$.fb+m.ka*$.A,ae=ys[B.ba.S],le=m.y,ue=m.O,pe=m.f,je=m.N,$e=m.ea,ze=m.W,Me=B.cc,dt=B.dc,Je=B.Mc,Ee=B.Nc,Pe=m.ka,ct=m.ka+m.T,mt=m.U,At=mt+1>>1;for(Pe==0?ae(le,ue,null,null,pe,je,$e,ze,pe,je,$e,ze,Z,re,null,null,mt):(ae(B.ec,B.fc,le,ue,Me,dt,Je,Ee,pe,je,$e,ze,Z,re-$.A,Z,re,mt),++_);Pe+2<ct;Pe+=2)Me=pe,dt=je,Je=$e,Ee=ze,je+=m.Rc,ze+=m.Rc,re+=2*$.A,ae(le,(ue+=2*m.fa)-m.fa,le,ue,Me,dt,Je,Ee,pe,je,$e,ze,Z,re-$.A,Z,re,mt);return ue+=m.fa,m.j+ct<m.o?(r(B.ec,B.fc,le,ue,mt),r(B.cc,B.dc,pe,je,At),r(B.Mc,B.Nc,$e,ze,At),_--):1&ct||ae(le,ue,null,null,pe,je,$e,ze,pe,je,$e,ze,Z,re+$.A,null,null,mt),_}function We(m,B,_){var $=m.F,Z=[m.J];if($!=null){var re=m.U,ae=B.ba.S,le=ae==gm||ae==mm;B=B.ba.f.RGBA;var ue=[0],pe=m.ka;ue[0]=m.T,m.Kb&&(pe==0?--ue[0]:(--pe,Z[0]-=m.width),m.j+m.ka+m.T==m.o&&(ue[0]=m.o-m.j-pe));var je=B.eb;pe=B.fb+pe*B.A,m=ur($,Z[0],m.width,re,ue,je,pe+(le?0:3),B.A),t(_==ue),m&&De(ae)&&ms(je,pe,le,re,ue,B.A)}return 0}function Ve(m){var B=m.ma,_=B.ba.S,$=11>_,Z=_==hm||_==pm||_==gm||_==ib||_==12||De(_);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!sh(B.Oa,m,Z?11:12))return 0;if(Z&&De(_)&&yt(),m.da)alert("todo:use_scaling");else{if($){if(B.Ib=Oe,m.Kb){if(_=m.U+1>>1,B.memory=a(m.U+2*_),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+m.U,B.Mc=B.cc,B.Nc=B.dc+_,B.Ib=Ye,yt()}}else alert("todo:EmitYUV");Z&&(B.Jb=We,$&&Qe())}if($&&!qj){for(m=0;256>m;++m)X8[m]=89858*(m-128)+ym>>vm,eQ[m]=-22014*(m-128)+ym,Z8[m]=-45773*(m-128),J8[m]=113618*(m-128)+ym>>vm;for(m=ph;m<Ab;++m)B=76283*(m-16)+ym>>vm,tQ[m-ph]=Wa(B,255),nQ[m-ph]=Wa(B+8>>4,15);qj=1}return 1}function nt(m){var B=m.ma,_=m.U,$=m.T;return t(!(1&m.ka)),0>=_||0>=$?0:(_=B.Ib(m,B),B.Jb!=null&&B.Jb(m,B,_),B.Dc+=_,1)}function ft(m){m.ma.memory=null}function at(m,B,_,$){return te(m,8)!=47?0:(B[0]=te(m,14)+1,_[0]=te(m,14)+1,$[0]=te(m,1),te(m,3)!=0?0:!m.h)}function Bt(m,B){if(4>m)return m+1;var _=m-2>>1;return(2+(1&m)<<_)+te(B,_)+1}function xt(m,B){return 120<B?B-120:1<=(_=((_=U8[B-1])>>4)*m+(8-(15&_)))?_:1;var _}function Ht(m,B,_){var $=O(_),Z=m[B+=255&$].g-8;return 0<Z&&(L(_,_.u+8),$=O(_),B+=m[B].value,B+=$&(1<<Z)-1),L(_,_.u+m[B].g),m[B].value}function Yt(m,B,_){return _.g+=m.g,_.value+=m.value<<B>>>0,t(8>=_.g),m.g}function rn(m,B,_){var $=m.xc;return t((B=$==0?0:m.vc[m.md*(_>>$)+(B>>$)])<m.Wb),m.Ya[B]}function Nn(m,B,_,$){var Z=m.ab,re=m.c*B,ae=m.C;B=ae+B;var le=_,ue=$;for($=m.Ta,_=m.Ua;0<Z--;){var pe=m.gc[Z],je=ae,$e=B,ze=le,Me=ue,dt=(ue=$,le=_,pe.Ea);switch(t(je<$e),t($e<=pe.nc),pe.hc){case 2:om(ze,Me,($e-je)*dt,ue,le);break;case 0:var Je=je,Ee=$e,Pe=ue,ct=le,mt=(Nt=pe).Ea;Je==0&&(nb(ze,Me,null,null,1,Pe,ct),Ze(ze,Me+1,0,0,mt-1,Pe,ct+1),Me+=mt,ct+=mt,++Je);for(var At=1<<Nt.b,Qt=At-1,kt=be(mt,Nt.b),Jt=Nt.K,Nt=Nt.w+(Je>>Nt.b)*kt;Je<Ee;){var Hn=Jt,Yn=Nt,Mn=1;for(ch(ze,Me,Pe,ct-mt,1,Pe,ct);Mn<mt;){var Cn=(Mn&~Qt)+At;Cn>mt&&(Cn=mt),(0,nc[Hn[Yn++]>>8&15])(ze,Me+ +Mn,Pe,ct+Mn-mt,Cn-Mn,Pe,ct+Mn),Mn=Cn}Me+=mt,ct+=mt,++Je&Qt||(Nt+=kt)}$e!=pe.nc&&r(ue,le-dt,ue,le+($e-je-1)*dt,dt);break;case 1:for(dt=ze,Ee=Me,mt=(ze=pe.Ea)-(ct=ze&~(Pe=(Me=1<<pe.b)-1)),Je=be(ze,pe.b),At=pe.K,pe=pe.w+(je>>pe.b)*Je;je<$e;){for(Qt=At,kt=pe,Jt=new Fe,Nt=Ee+ct,Hn=Ee+ze;Ee<Nt;)Ue(Qt[kt++],Jt),lA(Jt,dt,Ee,Me,ue,le),Ee+=Me,le+=Me;Ee<Hn&&(Ue(Qt[kt++],Jt),lA(Jt,dt,Ee,mt,ue,le),Ee+=mt,le+=mt),++je&Pe||(pe+=Je)}break;case 3:if(ze==ue&&Me==le&&0<pe.b){for(Ee=ue,ze=dt=le+($e-je)*dt-(ct=($e-je)*be(pe.Ea,pe.b)),Me=ue,Pe=le,Je=[],ct=(mt=ct)-1;0<=ct;--ct)Je[ct]=Me[Pe+ct];for(ct=mt-1;0<=ct;--ct)Ee[ze+ct]=Je[ct];hs(pe,je,$e,ue,dt,ue,le)}else hs(pe,je,$e,ze,Me,ue,le)}le=$,ue=_}ue!=_&&r($,_,le,ue,re)}function Kn(m,B){var _=m.V,$=m.Ba+m.c*m.C,Z=B-m.C;if(t(B<=m.l.o),t(16>=Z),0<Z){var re=m.l,ae=m.Ta,le=m.Ua,ue=re.width;if(Nn(m,Z,_,$),Z=le=[le],t((_=m.C)<($=B)),t(re.v<re.va),$>re.o&&($=re.o),_<re.j){var pe=re.j-_;_=re.j,Z[0]+=pe*ue}if(_>=$?_=0:(Z[0]+=4*re.v,re.ka=_-re.j,re.U=re.va-re.v,re.T=$-_,_=1),_){if(le=le[0],11>(_=m.ca).S){var je=_.f.RGBA,$e=($=_.S,Z=re.U,re=re.T,pe=je.eb,je.A),ze=re;for(je=je.fb+m.Ma*je.A;0<ze--;){var Me=ae,dt=le,Je=Z,Ee=pe,Pe=je;switch($){case fm:ka(Me,dt,Je,Ee,Pe);break;case hm:da(Me,dt,Je,Ee,Pe);break;case ab:da(Me,dt,Je,Ee,Pe),ms(Ee,Pe,0,Je,1,0);break;case Rj:Al(Me,dt,Je,Ee,Pe);break;case pm:Le(Me,dt,Je,Ee,Pe,1);break;case sb:Le(Me,dt,Je,Ee,Pe,1),ms(Ee,Pe,0,Je,1,0);break;case gm:Le(Me,dt,Je,Ee,Pe,0);break;case mm:Le(Me,dt,Je,Ee,Pe,0),ms(Ee,Pe,1,Je,1,0);break;case ib:rc(Me,dt,Je,Ee,Pe);break;case ob:rc(Me,dt,Je,Ee,Pe),Ar(Ee,Pe,Je,1,0);break;case Qj:cl(Me,dt,Je,Ee,Pe);break;default:t(0)}le+=ue,je+=$e}m.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=_.height)}}m.C=B,t(m.C<=m.i)}function kr(m){var B;if(0<m.ua)return 0;for(B=0;B<m.Wb;++B){var _=m.Ya[B].G,$=m.Ya[B].H;if(0<_[1][$[1]+0].g||0<_[2][$[2]+0].g||0<_[3][$[3]+0].g)return 0}return 1}function ai(m,B,_,$,Z,re){if(m.Z!=0){var ae=m.qd,le=m.rd;for(t(oc[m.Z]!=null);B<_;++B)oc[m.Z](ae,le,$,Z,$,Z,re),ae=$,le=Z,Z+=re;m.qd=ae,m.rd=le}}function zr(m,B){var _=m.l.ma,$=_.Z==0||_.Z==1?m.l.j:m.C;if($=m.C<$?$:m.C,t(B<=m.l.o),B>$){var Z=m.l.width,re=_.ca,ae=_.tb+Z*$,le=m.V,ue=m.Ba+m.c*$,pe=m.gc;t(m.ab==1),t(pe[0].hc==3),lm(pe[0],$,B,le,ue,re,ae),ai(_,$,B,re,ae,Z)}m.C=m.Ma=B}function pi(m,B,_,$,Z,re,ae){var le=m.$/$,ue=m.$%$,pe=m.m,je=m.s,$e=_+m.$,ze=$e;Z=_+$*Z;var Me=_+$*re,dt=280+je.ua,Je=m.Pb?le:16777216,Ee=0<je.ua?je.Wa:null,Pe=je.wc,ct=$e<Me?rn(je,ue,le):null;t(m.C<re),t(Me<=Z);var mt=!1;e:for(;;){for(;mt||$e<Me;){var At=0;if(le>=Je){var Qt=$e-_;t((Je=m).Pb),Je.wd=Je.m,Je.xd=Qt,0<Je.s.ua&&fe(Je.s.Wa,Je.s.vb),Je=le+O8}if(ue&Pe||(ct=rn(je,ue,le)),t(ct!=null),ct.Qb&&(B[$e]=ct.qb,mt=!0),!mt)if(W(pe),ct.jc){At=pe,Qt=B;var kt=$e,Jt=ct.pd[O(At)&Ui-1];t(ct.jc),256>Jt.g?(L(At,At.u+Jt.g),Qt[kt]=Jt.value,At=0):(L(At,At.u+Jt.g-256),t(256<=Jt.value),At=Jt.value),At==0&&(mt=!0)}else At=Ht(ct.G[0],ct.H[0],pe);if(pe.h)break;if(mt||256>At){if(!mt)if(ct.nd)B[$e]=(ct.qb|At<<8)>>>0;else{if(W(pe),mt=Ht(ct.G[1],ct.H[1],pe),W(pe),Qt=Ht(ct.G[2],ct.H[2],pe),kt=Ht(ct.G[3],ct.H[3],pe),pe.h)break;B[$e]=(kt<<24|mt<<16|At<<8|Qt)>>>0}if(mt=!1,++$e,++ue>=$&&(ue=0,++le,ae!=null&&le<=re&&!(le%16)&&ae(m,le),Ee!=null))for(;ze<$e;)At=B[ze++],Ee.X[(506832829*At&4294967295)>>>Ee.Mb]=At}else if(280>At){if(At=Bt(At-256,pe),Qt=Ht(ct.G[4],ct.H[4],pe),W(pe),Qt=xt($,Qt=Bt(Qt,pe)),pe.h)break;if($e-_<Qt||Z-$e<At)break e;for(kt=0;kt<At;++kt)B[$e+kt]=B[$e+kt-Qt];for($e+=At,ue+=At;ue>=$;)ue-=$,++le,ae!=null&&le<=re&&!(le%16)&&ae(m,le);if(t($e<=Z),ue&Pe&&(ct=rn(je,ue,le)),Ee!=null)for(;ze<$e;)At=B[ze++],Ee.X[(506832829*At&4294967295)>>>Ee.Mb]=At}else{if(!(At<dt))break e;for(mt=At-280,t(Ee!=null);ze<$e;)At=B[ze++],Ee.X[(506832829*At&4294967295)>>>Ee.Mb]=At;At=$e,t(!(mt>>>(Qt=Ee).Xa)),B[At]=Qt.X[mt],mt=!0}mt||t(pe.h==M(pe))}if(m.Pb&&pe.h&&$e<Z)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&fe(m.s.vb,m.s.Wa);else{if(pe.h)break e;ae!=null&&ae(m,le>re?re:le),m.a=0,m.$=$e-_}return 1}return m.a=3,0}function Aa(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var B=m.Wa;B!=null&&(B.X=null),m.vb=null,t(m!=null)}function Vi(){var m=new tb;return m==null?null:(m.a=0,m.xb=zj,ve("Predictor","VP8LPredictors"),ve("Predictor","VP8LPredictors_C"),ve("PredictorAdd","VP8LPredictorsAdd"),ve("PredictorAdd","VP8LPredictorsAdd_C"),om=ye,lA=ke,ka=Ie,da=_t,rc=qe,cl=we,Al=he,N.VP8LMapColor32b=_u,N.VP8LMapColor8b=cm,m)}function Sa(m,B,_,$,Z){var re=1,ae=[m],le=[B],ue=$.m,pe=$.s,je=null,$e=0;e:for(;;){if(_)for(;re&&te(ue,1);){var ze=ae,Me=le,dt=$,Je=1,Ee=dt.m,Pe=dt.gc[dt.ab],ct=te(Ee,2);if(dt.Oc&1<<ct)re=0;else{switch(dt.Oc|=1<<ct,Pe.hc=ct,Pe.Ea=ze[0],Pe.nc=Me[0],Pe.K=[null],++dt.ab,t(4>=dt.ab),ct){case 0:case 1:Pe.b=te(Ee,3)+2,Je=Sa(be(Pe.Ea,Pe.b),be(Pe.nc,Pe.b),0,dt,Pe.K),Pe.K=Pe.K[0];break;case 3:var mt,At=te(Ee,8)+1,Qt=16<At?0:4<At?1:2<At?2:3;if(ze[0]=be(Pe.Ea,Qt),Pe.b=Qt,mt=Je=Sa(At,1,0,dt,Pe.K)){var kt,Jt=At,Nt=Pe,Hn=1<<(8>>Nt.b),Yn=a(Hn);if(Yn==null)mt=0;else{var Mn=Nt.K[0],Cn=Nt.w;for(Yn[0]=Nt.K[0][0],kt=1;kt<1*Jt;++kt)Yn[kt]=xe(Mn[Cn+kt],Yn[kt-1]);for(;kt<4*Hn;++kt)Yn[kt]=0;Nt.K[0]=null,Nt.K[0]=Yn,mt=1}}Je=mt;break;case 2:break;default:t(0)}re=Je}}if(ae=ae[0],le=le[0],re&&te(ue,1)&&!(re=1<=($e=te(ue,4))&&11>=$e)){$.a=3;break e}var ar;if(ar=re)t:{var tr,hn,oi,Ia=$,li=ae,Ta=le,Xn=$e,Va=_,Ga=Ia.m,Si=Ia.s,Li=[null],ha=1,xs=0,jo=L8[Xn];n:for(;;){if(Va&&te(Ga,1)){var ji=te(Ga,3)+2,hl=be(li,ji),fA=be(Ta,ji),Ou=hl*fA;if(!Sa(hl,fA,0,Ia,Li))break n;for(Li=Li[0],Si.xc=ji,tr=0;tr<Ou;++tr){var lc=Li[tr]>>8&65535;Li[tr]=lc,lc>=ha&&(ha=lc+1)}}if(Ga.h)break n;for(hn=0;5>hn;++hn){var Mr=Hj[hn];!hn&&0<Xn&&(Mr+=1<<Xn),xs<Mr&&(xs=Mr)}var ub=o(ha*jo,k),Jj=ha,Zj=o(Jj,D);if(Zj==null)var bm=null;else t(65536>=Jj),bm=Zj;var gh=a(xs);if(bm==null||gh==null||ub==null){Ia.a=1;break n}var wm=ub;for(tr=oi=0;tr<ha;++tr){var io=bm[tr],Ru=io.G,Qu=io.H,e4=0,Cm=1,t4=0;for(hn=0;5>hn;++hn){Mr=Hj[hn],Ru[hn]=wm,Qu[hn]=oi,!hn&&0<Xn&&(Mr+=1<<Xn);i:{var Bm,db=Mr,Sm=Ia,mh=gh,aQ=wm,sQ=oi,fb=0,cc=Sm.m,oQ=te(cc,1);if(i(mh,0,0,db),oQ){var lQ=te(cc,1)+1,cQ=te(cc,1),n4=te(cc,cQ==0?1:8);mh[n4]=1,lQ==2&&(mh[n4=te(cc,8)]=1);var jm=1}else{var r4=a(19),i4=te(cc,4)+4;if(19<i4){Sm.a=3;var Em=0;break i}for(Bm=0;Bm<i4;++Bm)r4[M8[Bm]]=te(cc,3);var hb=void 0,vh=void 0,a4=Sm,AQ=r4,km=db,s4=mh,pb=0,Ac=a4.m,o4=8,l4=o(128,k);r:for(;j(l4,0,7,AQ,19);){if(te(Ac,1)){var uQ=2+2*te(Ac,3);if((hb=2+te(Ac,uQ))>km)break r}else hb=km;for(vh=0;vh<km&&hb--;){W(Ac);var c4=l4[0+(127&O(Ac))];L(Ac,Ac.u+c4.g);var Hu=c4.value;if(16>Hu)s4[vh++]=Hu,Hu!=0&&(o4=Hu);else{var dQ=Hu==16,A4=Hu-16,fQ=_8[A4],u4=te(Ac,P8[A4])+fQ;if(vh+u4>km)break r;for(var hQ=dQ?o4:0;0<u4--;)s4[vh++]=hQ}}pb=1;break r}pb||(a4.a=3),jm=pb}(jm=jm&&!cc.h)&&(fb=j(aQ,sQ,8,mh,db)),jm&&fb!=0?Em=fb:(Sm.a=3,Em=0)}if(Em==0)break n;if(Cm&&D8[hn]==1&&(Cm=wm[oi].g==0),e4+=wm[oi].g,oi+=Em,3>=hn){var yh,gb=gh[0];for(yh=1;yh<Mr;++yh)gh[yh]>gb&&(gb=gh[yh]);t4+=gb}}if(io.nd=Cm,io.Qb=0,Cm&&(io.qb=(Ru[3][Qu[3]+0].value<<24|Ru[1][Qu[1]+0].value<<16|Ru[2][Qu[2]+0].value)>>>0,e4==0&&256>Ru[0][Qu[0]+0].value&&(io.Qb=1,io.qb+=Ru[0][Qu[0]+0].value<<8)),io.jc=!io.Qb&&6>t4,io.jc){var Im,pl=io;for(Im=0;Im<Ui;++Im){var uc=Im,dc=pl.pd[uc],Tm=pl.G[0][pl.H[0]+uc];256<=Tm.value?(dc.g=Tm.g+256,dc.value=Tm.value):(dc.g=0,dc.value=0,uc>>=Yt(Tm,8,dc),uc>>=Yt(pl.G[1][pl.H[1]+uc],16,dc),uc>>=Yt(pl.G[2][pl.H[2]+uc],0,dc),Yt(pl.G[3][pl.H[3]+uc],24,dc))}}}Si.vc=Li,Si.Wb=ha,Si.Ya=bm,Si.yc=ub,ar=1;break t}ar=0}if(!(re=ar)){$.a=3;break e}if(0<$e){if(pe.ua=1<<$e,!oe(pe.Wa,$e)){$.a=1,re=0;break e}}else pe.ua=0;var mb=$,d4=ae,pQ=le,vb=mb.s,yb=vb.xc;if(mb.c=d4,mb.i=pQ,vb.md=be(d4,yb),vb.wc=yb==0?-1:(1<<yb)-1,_){$.xb=K8;break e}if((je=a(ae*le))==null){$.a=1,re=0;break e}re=(re=pi($,je,0,ae,le,le,null))&&!ue.h;break e}return re?(Z!=null?Z[0]=je:(t(je==null),t(_)),$.$=0,_||Aa(pe)):Aa(pe),re}function Zs(m,B){var _=m.c*m.i,$=_+B+16*B;return t(m.c<=B),m.V=a($),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+_+B,1)}function on(m,B){var _=m.C,$=B-_,Z=m.V,re=m.Ba+m.c*_;for(t(B<=m.l.o);0<$;){var ae=16<$?16:$,le=m.l.ma,ue=m.l.width,pe=ue*ae,je=le.ca,$e=le.tb+ue*_,ze=m.Ta,Me=m.Ua;Nn(m,ae,Z,re),Vr(ze,Me,je,$e,pe),ai(le,_,_+ae,je,$e,ue),$-=ae,Z+=ae*m.c,_+=ae}t(_==B),m.C=m.Ma=B}function Ir(){this.ub=this.yd=this.td=this.Rb=0}function sl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function mu(){this.Yb=function(){var m=[];return function B(_,$,Z){for(var re=Z[$],ae=0;ae<re&&(_.push(Z.length>$+1?[]:0),!(Z.length<$+1));ae++)B(_[ae],$+1,Z)}(m,0,[3,11]),m}()}function cr(){this.jb=a(3),this.Wc=l([4,8],mu),this.Xc=l([4,17],mu)}function gn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function gi(){this.ld=this.La=this.dd=this.tc=0}function mi(){this.Na=this.la=0}function Xl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ua(){this.uc=this.M=this.Nb=0,this.wa=Array(new gi),this.Y=0,this.ya=Array(new fs),this.aa=0,this.l=new Jl}function Tr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function vu(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new Ir,this.Kc=new sl,this.ed=new gn,this.Qa=new Wr,this.Ic=this.$c=this.Aa=0,this.D=new ua,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ae),this.ia=0,this.pb=o(4,Xl),this.Pa=new cr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tr),this.Hd=0,this.rb=Array(new mi),this.sb=0,this.wa=Array(new gi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fs),this.L=this.aa=0,this.gd=l([4,2],gi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $f(){var m=new vu;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,hh||(hh=zf)),m}function Nr(m,B,_){return m.a==0&&(m.a=B,m.sc=_,m.cb=0),0}function yu(m,B,_){return 3<=_&&m[B+0]==157&&m[B+1]==1&&m[B+2]==42}function xu(m,B){if(m==null)return 0;if(m.a=0,m.sc="OK",B==null)return Nr(m,2,"null VP8Io passed to VP8GetHeaders()");var _=B.data,$=B.w,Z=B.ha;if(4>Z)return Nr(m,7,"Truncated header.");var re=_[$+0]|_[$+1]<<8|_[$+2]<<16,ae=m.Od;if(ae.Rb=!(1&re),ae.td=re>>1&7,ae.yd=re>>4&1,ae.ub=re>>5,3<ae.td)return Nr(m,3,"Incorrect keyframe parameters.");if(!ae.yd)return Nr(m,4,"Frame not displayable.");$+=3,Z-=3;var le=m.Kc;if(ae.Rb){if(7>Z)return Nr(m,7,"cannot parse picture header");if(!yu(_,$,Z))return Nr(m,3,"Bad code word");le.c=16383&(_[$+4]<<8|_[$+3]),le.Td=_[$+4]>>6,le.i=16383&(_[$+6]<<8|_[$+5]),le.Ud=_[$+6]>>6,$+=7,Z-=7,m.za=le.c+15>>4,m.Ub=le.i+15>>4,B.width=le.c,B.height=le.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,i((re=m.Pa).jb,0,255,re.jb.length),t((re=m.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(ae.ub>Z)return Nr(m,7,"bad partition length");R(re=m.m,_,$,ae.ub),$+=ae.ub,Z-=ae.ub,ae.Rb&&(le.Ld=se(re),le.Kd=se(re)),le=m.Qa;var ue,pe=m.Pa;if(t(re!=null),t(le!=null),le.Cb=se(re),le.Cb){if(le.Bb=se(re),se(re)){for(le.Fb=se(re),ue=0;4>ue;++ue)le.Zb[ue]=se(re)?z(re,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=se(re)?z(re,6):0}if(le.Bb)for(ue=0;3>ue;++ue)pe.jb[ue]=se(re)?H(re,8):255}else le.Bb=0;if(re.Ka)return Nr(m,3,"cannot parse segment header");if((le=m.ed).zd=se(re),le.Tb=H(re,6),le.wb=H(re,3),le.Pc=se(re),le.Pc&&se(re)){for(pe=0;4>pe;++pe)se(re)&&(le.vd[pe]=z(re,6));for(pe=0;4>pe;++pe)se(re)&&(le.od[pe]=z(re,6))}if(m.L=le.Tb==0?0:le.zd?1:2,re.Ka)return Nr(m,3,"cannot parse filter header");var je=Z;if(Z=ue=$,$=ue+je,le=je,m.Xb=(1<<H(m.m,2))-1,je<3*(pe=m.Xb))_=7;else{for(ue+=3*pe,le-=3*pe,je=0;je<pe;++je){var $e=_[Z+0]|_[Z+1]<<8|_[Z+2]<<16;$e>le&&($e=le),R(m.Jc[+je],_,ue,$e),ue+=$e,le-=$e,Z+=3}R(m.Jc[+pe],_,ue,le),_=ue<$?0:5}if(_!=0)return Nr(m,_,"cannot parse partitions");for(_=H(ue=m.m,7),Z=se(ue)?z(ue,4):0,$=se(ue)?z(ue,4):0,le=se(ue)?z(ue,4):0,pe=se(ue)?z(ue,4):0,ue=se(ue)?z(ue,4):0,je=m.Qa,$e=0;4>$e;++$e){if(je.Cb){var ze=je.Zb[$e];je.Fb||(ze+=_)}else{if(0<$e){m.pb[$e]=m.pb[0];continue}ze=_}var Me=m.pb[$e];Me.Sc[0]=lb[Wa(ze+Z,127)],Me.Sc[1]=cb[Wa(ze+0,127)],Me.Eb[0]=2*lb[Wa(ze+$,127)],Me.Eb[1]=101581*cb[Wa(ze+le,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=lb[Wa(ze+pe,117)],Me.Qc[1]=cb[Wa(ze+ue,127)],Me.lc=ze+ue}if(!ae.Rb)return Nr(m,4,"Not a key frame.");for(se(re),ae=m.Pa,_=0;4>_;++_){for(Z=0;8>Z;++Z)for($=0;3>$;++$)for(le=0;11>le;++le)pe=X(re,z8[_][Z][$][le])?H(re,8):H8[_][Z][$][le],ae.Wc[_][Z].Yb[$][le]=pe;for(Z=0;17>Z;++Z)ae.Xc[_][Z]=ae.Wc[_][W8[Z]]}return m.kc=se(re),m.kc&&(m.Bd=H(re,8)),m.cb=1}function zf(m,B,_,$,Z,re,ae){var le=B[Z].Yb[_];for(_=0;16>Z;++Z){if(!X(m,le[_+0]))return Z;for(;!X(m,le[_+1]);)if(le=B[++Z].Yb[0],_=0,Z==16)return 16;var ue=B[Z+1].Yb;if(X(m,le[_+2])){var pe=m,je=0;if(X(pe,(ze=le)[($e=_)+3]))if(X(pe,ze[$e+6])){for(le=0,$e=2*(je=X(pe,ze[$e+8]))+(ze=X(pe,ze[$e+9+je])),je=0,ze=R8[$e];ze[le];++le)je+=je+X(pe,ze[le]);je+=3+(8<<$e)}else X(pe,ze[$e+7])?(je=7+2*X(pe,165),je+=X(pe,145)):je=5+X(pe,159);else je=X(pe,ze[$e+4])?3+X(pe,ze[$e+5]):2;le=ue[2]}else je=1,le=ue[1];ue=ae+Q8[Z],0>(pe=m).b&&G(pe);var $e,ze=pe.b,Me=($e=pe.Ca>>1)-(pe.I>>ze)>>31;--pe.b,pe.Ca+=Me,pe.Ca|=1,pe.I-=($e+1&Me)<<ze,re[ue]=((je^Me)-Me)*$[(0<Z)+0]}return 16}function Wf(m){var B=m.rb[m.sb-1];B.la=0,B.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function L1(m,B){if(m==null)return 0;if(B==null)return Nr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!xu(m,B))return 0;if(t(m.cb),B.ac==null||B.ac(B)){B.ob&&(m.L=0);var _=xm[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=B.v-_>>4,m.zb=B.j-_>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=B.o+15+_>>4,m.Hb=B.va+15+_>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var $=m.ed;for(_=0;4>_;++_){var Z;if(m.Qa.Cb){var re=m.Qa.Lb[_];m.Qa.Fb||(re+=$.Tb)}else re=$.Tb;for(Z=0;1>=Z;++Z){var ae=m.gd[_][Z],le=re;if($.Pc&&(le+=$.vd[0],Z&&(le+=$.od[0])),0<(le=0>le?0:63<le?63:le)){var ue=le;0<$.wb&&(ue=4<$.wb?ue>>2:ue>>1)>9-$.wb&&(ue=9-$.wb),1>ue&&(ue=1),ae.dd=ue,ae.tc=2*le+ue,ae.ld=40<=le?2:15<=le?1:0}else ae.tc=0;ae.La=Z}}}_=0}else Nr(m,6,"Frame setup failed"),_=m.a;if(_=_==0){if(_){m.$c=0,0<m.Aa||(m.Ic=iQ);e:{_=m.Ic,$=4*(ue=m.za);var pe=32*ue,je=ue+1,$e=0<m.L?ue*(0<m.Aa?2:1):0,ze=(m.Aa==2?2:1)*ue;if((ae=$+832+(Z=3*(16*_+xm[m.L])/2*pe)+(re=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=ae)_=0;else{if(ae>m.Vb){if(m.Vb=0,m.Ec=a(ae),m.Fc=0,m.Ec==null){_=Nr(m,1,"no memory during frame initialization.");break e}m.Vb=ae}ae=m.Ec,le=m.Fc,m.Ac=ae,m.Bc=le,le+=$,m.Gd=o(pe,Tr),m.Hd=0,m.rb=o(je+1,mi),m.sb=1,m.wa=$e?o($e,gi):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=ue),t(!0),m.oc=ae,m.pc=le,le+=832,m.ya=o(ze,fs),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=ue),m.R=16*ue,m.B=8*ue,ue=(pe=xm[m.L])*m.R,pe=pe/2*m.B,m.sa=ae,m.ta=le+ue,m.qa=m.sa,m.ra=m.ta+16*_*m.R+pe,m.Ha=m.qa,m.Ia=m.ra+8*_*m.B+pe,m.$c=0,le+=Z,m.mb=re?ae:null,m.nb=re?le:null,t(le+re<=m.Fc+m.Vb),Wf(m),i(m.Ac,m.Bc,0,$),_=1}}if(_){if(B.ka=0,B.y=m.sa,B.O=m.ta,B.f=m.qa,B.N=m.ra,B.ea=m.Ha,B.Vd=m.Ia,B.fa=m.R,B.Rc=m.B,B.F=null,B.J=0,!um){for(_=-255;255>=_;++_)vi[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)dl[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)fh[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Lu[255+_]=0>_?0:255<_?255:_;um=1}Du=Q1,ul=O1,Ah=Gg,fa=R1,ps=qg,Kr=Vg,Mu=Xf,Am=sA,uh=eb,cA=Jf,AA=Z1,ic=ju,uA=Zf,Uu=im,dA=rm,ac=Bo,dh=ll,gs=J1,ro[0]=Co,ro[1]=H1,ro[2]=K1,ro[3]=V1,ro[4]=Jg,ro[5]=Bu,ro[6]=Zg,ro[7]=Gf,ro[8]=q1,ro[9]=G1,sc[0]=Yg,sc[1]=z1,sc[2]=ol,sc[3]=wu,sc[4]=Gi,sc[5]=W1,sc[6]=Xg,fl[0]=Zl,fl[1]=$1,fl[2]=Y1,fl[3]=qf,fl[4]=aA,fl[5]=X1,fl[6]=Yf,_=1}else _=0}_&&(_=function(Me,dt){for(Me.M=0;Me.M<Me.Va;++Me.M){var Je,Ee=Me.Jc[Me.M&Me.Xb],Pe=Me.m,ct=Me;for(Je=0;Je<ct.za;++Je){var mt=Pe,At=ct,Qt=At.Ac,kt=At.Bc+4*Je,Jt=At.zc,Nt=At.ya[At.aa+Je];if(At.Qa.Bb?Nt.$b=X(mt,At.Pa.jb[0])?2+X(mt,At.Pa.jb[2]):X(mt,At.Pa.jb[1]):Nt.$b=0,At.kc&&(Nt.Ad=X(mt,At.Bd)),Nt.Za=!X(mt,145)+0,Nt.Za){var Hn=Nt.Ob,Yn=0;for(At=0;4>At;++At){var Mn,Cn=Jt[0+At];for(Mn=0;4>Mn;++Mn){Cn=$8[Qt[kt+Mn]][Cn];for(var ar=$j[X(mt,Cn[0])];0<ar;)ar=$j[2*ar+X(mt,Cn[ar])];Cn=-ar,Qt[kt+Mn]=Cn}r(Hn,Yn,Qt,kt,4),Yn+=4,Jt[0+At]=Cn}}else Cn=X(mt,156)?X(mt,128)?1:3:X(mt,163)?2:0,Nt.Ob[0]=Cn,i(Qt,kt,Cn,4),i(Jt,0,Cn,4);Nt.Dd=X(mt,142)?X(mt,114)?X(mt,183)?1:3:2:0}if(ct.m.Ka)return Nr(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(ct=Ee,mt=(Pe=Me).rb[Pe.sb-1],Qt=Pe.rb[Pe.sb+Pe.ja],Je=Pe.ya[Pe.aa+Pe.ja],kt=Pe.kc?Je.Ad:0)mt.la=Qt.la=0,Je.Za||(mt.Na=Qt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var tr,hn;if(mt=Qt,Qt=ct,kt=Pe.Pa.Xc,Jt=Pe.ya[Pe.aa+Pe.ja],Nt=Pe.pb[Jt.$b],At=Jt.ad,Hn=0,Yn=Pe.rb[Pe.sb-1],Cn=Mn=0,i(At,Hn,0,384),Jt.Za)var oi=0,Ia=kt[3];else{ar=a(16);var li=mt.Na+Yn.Na;if(li=hh(Qt,kt[1],li,Nt.Eb,0,ar,0),mt.Na=Yn.Na=(0<li)+0,1<li)Du(ar,0,At,Hn);else{var Ta=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)At[Hn+ar]=Ta}oi=1,Ia=kt[0]}var Xn=15&mt.la,Va=15&Yn.la;for(ar=0;4>ar;++ar){var Ga=1&Va;for(Ta=hn=0;4>Ta;++Ta)Xn=Xn>>1|(Ga=(li=hh(Qt,Ia,li=Ga+(1&Xn),Nt.Sc,oi,At,Hn))>oi)<<7,hn=hn<<2|(3<li?3:1<li?2:At[Hn+0]!=0),Hn+=16;Xn>>=4,Va=Va>>1|Ga<<7,Mn=(Mn<<8|hn)>>>0}for(Ia=Xn,oi=Va>>4,tr=0;4>tr;tr+=2){for(hn=0,Xn=mt.la>>4+tr,Va=Yn.la>>4+tr,ar=0;2>ar;++ar){for(Ga=1&Va,Ta=0;2>Ta;++Ta)li=Ga+(1&Xn),Xn=Xn>>1|(Ga=0<(li=hh(Qt,kt[2],li,Nt.Qc,0,At,Hn)))<<3,hn=hn<<2|(3<li?3:1<li?2:At[Hn+0]!=0),Hn+=16;Xn>>=2,Va=Va>>1|Ga<<5}Cn|=hn<<4*tr,Ia|=Xn<<4<<tr,oi|=(240&Va)<<tr}mt.la=Ia,Yn.la=oi,Jt.Hc=Mn,Jt.Gc=Cn,Jt.ia=43690&Cn?0:Nt.ia,kt=!(Mn|Cn)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Je.$b][Je.Za],Pe.wa[Pe.Y+Pe.ja].La|=!kt),ct.Ka)return Nr(Me,7,"Premature end-of-file encountered.")}if(Wf(Me),Pe=dt,ct=1,Je=(Ee=Me).D,mt=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(Je.M=Ee.M,Je.uc=mt,ah(Ee,Je),ct=1,Je=(hn=Ee.D).Nb,mt=(Cn=xm[Ee.L])*Ee.R,Qt=Cn/2*Ee.B,ar=16*Je*Ee.R,Ta=8*Je*Ee.B,kt=Ee.sa,Jt=Ee.ta-mt+ar,Nt=Ee.qa,At=Ee.ra-Qt+Ta,Hn=Ee.Ha,Yn=Ee.Ia-Qt+Ta,Va=(Xn=hn.M)==0,Mn=Xn>=Ee.Va-1,Ee.Aa==2&&ah(Ee,hn),hn.uc)for(Ga=(li=Ee).D.M,t(li.D.uc),hn=li.yb;hn<li.Hb;++hn){oi=hn,Ia=Ga;var Si=(Li=(Mr=li).D).Nb;tr=Mr.R;var Li=Li.wa[Li.Y+oi],ha=Mr.sa,xs=Mr.ta+16*Si*tr+16*oi,jo=Li.dd,ji=Li.tc;if(ji!=0)if(t(3<=ji),Mr.L==1)0<oi&&ac(ha,xs,tr,ji+4),Li.La&&gs(ha,xs,tr,ji),0<Ia&&dA(ha,xs,tr,ji+4),Li.La&&dh(ha,xs,tr,ji);else{var hl=Mr.B,fA=Mr.qa,Ou=Mr.ra+8*Si*hl+8*oi,lc=Mr.Ha,Mr=Mr.Ia+8*Si*hl+8*oi;Si=Li.ld,0<oi&&(Am(ha,xs,tr,ji+4,jo,Si),cA(fA,Ou,lc,Mr,hl,ji+4,jo,Si)),Li.La&&(ic(ha,xs,tr,ji,jo,Si),Uu(fA,Ou,lc,Mr,hl,ji,jo,Si)),0<Ia&&(Mu(ha,xs,tr,ji+4,jo,Si),uh(fA,Ou,lc,Mr,hl,ji+4,jo,Si)),Li.La&&(AA(ha,xs,tr,ji,jo,Si),uA(fA,Ou,lc,Mr,hl,ji,jo,Si))}}if(Ee.ia&&alert("todo:DitherRow"),Pe.put!=null){if(hn=16*Xn,Xn=16*(Xn+1),Va?(Pe.y=Ee.sa,Pe.O=Ee.ta+ar,Pe.f=Ee.qa,Pe.N=Ee.ra+Ta,Pe.ea=Ee.Ha,Pe.W=Ee.Ia+Ta):(hn-=Cn,Pe.y=kt,Pe.O=Jt,Pe.f=Nt,Pe.N=At,Pe.ea=Hn,Pe.W=Yn),Mn||(Xn-=Cn),Xn>Pe.o&&(Xn=Pe.o),Pe.F=null,Pe.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&hn<Xn&&(Pe.J=rh(Ee,Pe,hn,Xn-hn),Pe.F=Ee.mb,Pe.F==null&&Pe.F.length==0)){ct=Nr(Ee,3,"Could not decode alpha data.");break e}hn<Pe.j&&(Cn=Pe.j-hn,hn=Pe.j,t(!(1&Cn)),Pe.O+=Ee.R*Cn,Pe.N+=Ee.B*(Cn>>1),Pe.W+=Ee.B*(Cn>>1),Pe.F!=null&&(Pe.J+=Pe.width*Cn)),hn<Xn&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=hn-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=Xn-hn,ct=Pe.put(Pe))}Je+1!=Ee.Ic||Mn||(r(Ee.sa,Ee.ta-mt,kt,Jt+16*Ee.R,mt),r(Ee.qa,Ee.ra-Qt,Nt,At+8*Ee.B,Qt),r(Ee.Ha,Ee.Ia-Qt,Hn,Yn+8*Ee.B,Qt))}if(!ct)return Nr(Me,6,"Output aborted.")}return 1}(m,B)),B.bc!=null&&B.bc(B),_&=1}return _?(m.cb=0,_):0}function eo(m,B,_,$,Z){Z=m[B+_+32*$]+(Z>>3),m[B+_+32*$]=-256&Z?0>Z?0:255:Z}function bu(m,B,_,$,Z,re){eo(m,B,0,_,$+Z),eo(m,B,1,_,$+re),eo(m,B,2,_,$-re),eo(m,B,3,_,$-Z)}function ja(m){return(20091*m>>16)+m}function Kf(m,B,_,$){var Z,re=0,ae=a(16);for(Z=0;4>Z;++Z){var le=m[B+0]+m[B+8],ue=m[B+0]-m[B+8],pe=(35468*m[B+4]>>16)-ja(m[B+12]),je=ja(m[B+4])+(35468*m[B+12]>>16);ae[re+0]=le+je,ae[re+1]=ue+pe,ae[re+2]=ue-pe,ae[re+3]=le-je,re+=4,B++}for(Z=re=0;4>Z;++Z)le=(m=ae[re+0]+4)+ae[re+8],ue=m-ae[re+8],pe=(35468*ae[re+4]>>16)-ja(ae[re+12]),eo(_,$,0,0,le+(je=ja(ae[re+4])+(35468*ae[re+12]>>16))),eo(_,$,1,0,ue+pe),eo(_,$,2,0,ue-pe),eo(_,$,3,0,le-je),re++,$+=32}function Vg(m,B,_,$){var Z=m[B+0]+4,re=35468*m[B+4]>>16,ae=ja(m[B+4]),le=35468*m[B+1]>>16;bu(_,$,0,Z+ae,m=ja(m[B+1]),le),bu(_,$,1,Z+re,m,le),bu(_,$,2,Z-re,m,le),bu(_,$,3,Z-ae,m,le)}function O1(m,B,_,$,Z){Kf(m,B,_,$),Z&&Kf(m,B+16,_,$+4)}function Gg(m,B,_,$){ul(m,B+0,_,$,1),ul(m,B+32,_,$+128,1)}function R1(m,B,_,$){var Z;for(m=m[B+0]+4,Z=0;4>Z;++Z)for(B=0;4>B;++B)eo(_,$,B,Z,m)}function qg(m,B,_,$){m[B+0]&&fa(m,B+0,_,$),m[B+16]&&fa(m,B+16,_,$+4),m[B+32]&&fa(m,B+32,_,$+128),m[B+48]&&fa(m,B+48,_,$+128+4)}function Q1(m,B,_,$){var Z,re=a(16);for(Z=0;4>Z;++Z){var ae=m[B+0+Z]+m[B+12+Z],le=m[B+4+Z]+m[B+8+Z],ue=m[B+4+Z]-m[B+8+Z],pe=m[B+0+Z]-m[B+12+Z];re[0+Z]=ae+le,re[8+Z]=ae-le,re[4+Z]=pe+ue,re[12+Z]=pe-ue}for(Z=0;4>Z;++Z)ae=(m=re[0+4*Z]+3)+re[3+4*Z],le=re[1+4*Z]+re[2+4*Z],ue=re[1+4*Z]-re[2+4*Z],pe=m-re[3+4*Z],_[$+0]=ae+le>>3,_[$+16]=pe+ue>>3,_[$+32]=ae-le>>3,_[$+48]=pe-ue>>3,$+=64}function Vf(m,B,_){var $,Z=B-32,re=Ka,ae=255-m[Z-1];for($=0;$<_;++$){var le,ue=re,pe=ae+m[B-1];for(le=0;le<_;++le)m[B+le]=ue[pe+m[Z+le]];B+=32}}function H1(m,B){Vf(m,B,4)}function $1(m,B){Vf(m,B,8)}function z1(m,B){Vf(m,B,16)}function ol(m,B){var _;for(_=0;16>_;++_)r(m,B+32*_,m,B-32,16)}function wu(m,B){var _;for(_=16;0<_;--_)i(m,B,m[B-1],16),B+=32}function Cu(m,B,_){var $;for($=0;16>$;++$)i(B,_+32*$,m,16)}function Yg(m,B){var _,$=16;for(_=0;16>_;++_)$+=m[B-1+32*_]+m[B+_-32];Cu($>>5,m,B)}function Gi(m,B){var _,$=8;for(_=0;16>_;++_)$+=m[B-1+32*_];Cu($>>4,m,B)}function W1(m,B){var _,$=8;for(_=0;16>_;++_)$+=m[B+_-32];Cu($>>4,m,B)}function Xg(m,B){Cu(128,m,B)}function ln(m,B,_){return m+2*B+_+2>>2}function K1(m,B){var _,$=B-32;for($=new Uint8Array([ln(m[$-1],m[$+0],m[$+1]),ln(m[$+0],m[$+1],m[$+2]),ln(m[$+1],m[$+2],m[$+3]),ln(m[$+2],m[$+3],m[$+4])]),_=0;4>_;++_)r(m,B+32*_,$,0,$.length)}function V1(m,B){var _=m[B-1],$=m[B-1+32],Z=m[B-1+64],re=m[B-1+96];ge(m,B+0,16843009*ln(m[B-1-32],_,$)),ge(m,B+32,16843009*ln(_,$,Z)),ge(m,B+64,16843009*ln($,Z,re)),ge(m,B+96,16843009*ln(Z,re,re))}function Co(m,B){var _,$=4;for(_=0;4>_;++_)$+=m[B+_-32]+m[B-1+32*_];for($>>=3,_=0;4>_;++_)i(m,B+32*_,$,4)}function Jg(m,B){var _=m[B-1+0],$=m[B-1+32],Z=m[B-1+64],re=m[B-1-32],ae=m[B+0-32],le=m[B+1-32],ue=m[B+2-32],pe=m[B+3-32];m[B+0+96]=ln($,Z,m[B-1+96]),m[B+1+96]=m[B+0+64]=ln(_,$,Z),m[B+2+96]=m[B+1+64]=m[B+0+32]=ln(re,_,$),m[B+3+96]=m[B+2+64]=m[B+1+32]=m[B+0+0]=ln(ae,re,_),m[B+3+64]=m[B+2+32]=m[B+1+0]=ln(le,ae,re),m[B+3+32]=m[B+2+0]=ln(ue,le,ae),m[B+3+0]=ln(pe,ue,le)}function Zg(m,B){var _=m[B+1-32],$=m[B+2-32],Z=m[B+3-32],re=m[B+4-32],ae=m[B+5-32],le=m[B+6-32],ue=m[B+7-32];m[B+0+0]=ln(m[B+0-32],_,$),m[B+1+0]=m[B+0+32]=ln(_,$,Z),m[B+2+0]=m[B+1+32]=m[B+0+64]=ln($,Z,re),m[B+3+0]=m[B+2+32]=m[B+1+64]=m[B+0+96]=ln(Z,re,ae),m[B+3+32]=m[B+2+64]=m[B+1+96]=ln(re,ae,le),m[B+3+64]=m[B+2+96]=ln(ae,le,ue),m[B+3+96]=ln(le,ue,ue)}function Bu(m,B){var _=m[B-1+0],$=m[B-1+32],Z=m[B-1+64],re=m[B-1-32],ae=m[B+0-32],le=m[B+1-32],ue=m[B+2-32],pe=m[B+3-32];m[B+0+0]=m[B+1+64]=re+ae+1>>1,m[B+1+0]=m[B+2+64]=ae+le+1>>1,m[B+2+0]=m[B+3+64]=le+ue+1>>1,m[B+3+0]=ue+pe+1>>1,m[B+0+96]=ln(Z,$,_),m[B+0+64]=ln($,_,re),m[B+0+32]=m[B+1+96]=ln(_,re,ae),m[B+1+32]=m[B+2+96]=ln(re,ae,le),m[B+2+32]=m[B+3+96]=ln(ae,le,ue),m[B+3+32]=ln(le,ue,pe)}function Gf(m,B){var _=m[B+0-32],$=m[B+1-32],Z=m[B+2-32],re=m[B+3-32],ae=m[B+4-32],le=m[B+5-32],ue=m[B+6-32],pe=m[B+7-32];m[B+0+0]=_+$+1>>1,m[B+1+0]=m[B+0+64]=$+Z+1>>1,m[B+2+0]=m[B+1+64]=Z+re+1>>1,m[B+3+0]=m[B+2+64]=re+ae+1>>1,m[B+0+32]=ln(_,$,Z),m[B+1+32]=m[B+0+96]=ln($,Z,re),m[B+2+32]=m[B+1+96]=ln(Z,re,ae),m[B+3+32]=m[B+2+96]=ln(re,ae,le),m[B+3+64]=ln(ae,le,ue),m[B+3+96]=ln(le,ue,pe)}function G1(m,B){var _=m[B-1+0],$=m[B-1+32],Z=m[B-1+64],re=m[B-1+96];m[B+0+0]=_+$+1>>1,m[B+2+0]=m[B+0+32]=$+Z+1>>1,m[B+2+32]=m[B+0+64]=Z+re+1>>1,m[B+1+0]=ln(_,$,Z),m[B+3+0]=m[B+1+32]=ln($,Z,re),m[B+3+32]=m[B+1+64]=ln(Z,re,re),m[B+3+64]=m[B+2+64]=m[B+0+96]=m[B+1+96]=m[B+2+96]=m[B+3+96]=re}function q1(m,B){var _=m[B-1+0],$=m[B-1+32],Z=m[B-1+64],re=m[B-1+96],ae=m[B-1-32],le=m[B+0-32],ue=m[B+1-32],pe=m[B+2-32];m[B+0+0]=m[B+2+32]=_+ae+1>>1,m[B+0+32]=m[B+2+64]=$+_+1>>1,m[B+0+64]=m[B+2+96]=Z+$+1>>1,m[B+0+96]=re+Z+1>>1,m[B+3+0]=ln(le,ue,pe),m[B+2+0]=ln(ae,le,ue),m[B+1+0]=m[B+3+32]=ln(_,ae,le),m[B+1+32]=m[B+3+64]=ln($,_,ae),m[B+1+64]=m[B+3+96]=ln(Z,$,_),m[B+1+96]=ln(re,Z,$)}function Y1(m,B){var _;for(_=0;8>_;++_)r(m,B+32*_,m,B-32,8)}function qf(m,B){var _;for(_=0;8>_;++_)i(m,B,m[B-1],8),B+=32}function iA(m,B,_){var $;for($=0;8>$;++$)i(B,_+32*$,m,8)}function Zl(m,B){var _,$=8;for(_=0;8>_;++_)$+=m[B+_-32]+m[B-1+32*_];iA($>>4,m,B)}function X1(m,B){var _,$=4;for(_=0;8>_;++_)$+=m[B+_-32];iA($>>3,m,B)}function aA(m,B){var _,$=4;for(_=0;8>_;++_)$+=m[B-1+32*_];iA($>>3,m,B)}function Yf(m,B){iA(128,m,B)}function Su(m,B,_){var $=m[B-_],Z=m[B+0],re=3*(Z-$)+rb[1020+m[B-2*_]-m[B+_]],ae=dm[112+(re+4>>3)];m[B-_]=Ka[255+$+dm[112+(re+3>>3)]],m[B+0]=Ka[255+Z-ae]}function em(m,B,_,$){var Z=m[B+0],re=m[B+_];return vs[255+m[B-2*_]-m[B-_]]>$||vs[255+re-Z]>$}function tm(m,B,_,$){return 4*vs[255+m[B-_]-m[B+0]]+vs[255+m[B-2*_]-m[B+_]]<=$}function nm(m,B,_,$,Z){var re=m[B-3*_],ae=m[B-2*_],le=m[B-_],ue=m[B+0],pe=m[B+_],je=m[B+2*_],$e=m[B+3*_];return 4*vs[255+le-ue]+vs[255+ae-pe]>$?0:vs[255+m[B-4*_]-re]<=Z&&vs[255+re-ae]<=Z&&vs[255+ae-le]<=Z&&vs[255+$e-je]<=Z&&vs[255+je-pe]<=Z&&vs[255+pe-ue]<=Z}function rm(m,B,_,$){var Z=2*$+1;for($=0;16>$;++$)tm(m,B+$,_,Z)&&Su(m,B+$,_)}function Bo(m,B,_,$){var Z=2*$+1;for($=0;16>$;++$)tm(m,B+$*_,1,Z)&&Su(m,B+$*_,1)}function ll(m,B,_,$){var Z;for(Z=3;0<Z;--Z)rm(m,B+=4*_,_,$)}function J1(m,B,_,$){var Z;for(Z=3;0<Z;--Z)Bo(m,B+=4,_,$)}function ec(m,B,_,$,Z,re,ae,le){for(re=2*re+1;0<Z--;){if(nm(m,B,_,re,ae))if(em(m,B,_,le))Su(m,B,_);else{var ue=m,pe=B,je=_,$e=ue[pe-2*je],ze=ue[pe-je],Me=ue[pe+0],dt=ue[pe+je],Je=ue[pe+2*je],Ee=27*(ct=rb[1020+3*(Me-ze)+rb[1020+$e-dt]])+63>>7,Pe=18*ct+63>>7,ct=9*ct+63>>7;ue[pe-3*je]=Ka[255+ue[pe-3*je]+ct],ue[pe-2*je]=Ka[255+$e+Pe],ue[pe-je]=Ka[255+ze+Ee],ue[pe+0]=Ka[255+Me-Ee],ue[pe+je]=Ka[255+dt-Pe],ue[pe+2*je]=Ka[255+Je-ct]}B+=$}}function to(m,B,_,$,Z,re,ae,le){for(re=2*re+1;0<Z--;){if(nm(m,B,_,re,ae))if(em(m,B,_,le))Su(m,B,_);else{var ue=m,pe=B,je=_,$e=ue[pe-je],ze=ue[pe+0],Me=ue[pe+je],dt=dm[112+((Je=3*(ze-$e))+4>>3)],Je=dm[112+(Je+3>>3)],Ee=dt+1>>1;ue[pe-2*je]=Ka[255+ue[pe-2*je]+Ee],ue[pe-je]=Ka[255+$e+Je],ue[pe+0]=Ka[255+ze-dt],ue[pe+je]=Ka[255+Me-Ee]}B+=$}}function Xf(m,B,_,$,Z,re){ec(m,B,_,1,16,$,Z,re)}function sA(m,B,_,$,Z,re){ec(m,B,1,_,16,$,Z,re)}function Z1(m,B,_,$,Z,re){var ae;for(ae=3;0<ae;--ae)to(m,B+=4*_,_,1,16,$,Z,re)}function ju(m,B,_,$,Z,re){var ae;for(ae=3;0<ae;--ae)to(m,B+=4,1,_,16,$,Z,re)}function eb(m,B,_,$,Z,re,ae,le){ec(m,B,Z,1,8,re,ae,le),ec(_,$,Z,1,8,re,ae,le)}function Jf(m,B,_,$,Z,re,ae,le){ec(m,B,1,Z,8,re,ae,le),ec(_,$,1,Z,8,re,ae,le)}function Zf(m,B,_,$,Z,re,ae,le){to(m,B+4*Z,Z,1,8,re,ae,le),to(_,$+4*Z,Z,1,8,re,ae,le)}function im(m,B,_,$,Z,re,ae,le){to(m,B+4,1,Z,8,re,ae,le),to(_,$+4,1,Z,8,re,ae,le)}function Eu(){this.ba=new Re,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function eh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function th(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function am(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new k}function tb(){this.xb=this.a=0,this.l=new Jl,this.ca=new Re,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new am,this.ab=0,this.gc=o(4,th),this.Oc=0}function ku(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function oA(m,B,_,$,Z,re,ae){for(m=m==null?0:m[B+0],B=0;B<ae;++B)Z[re+B]=m+_[$+B]&255,m=Z[re+B]}function nh(m,B,_,$,Z,re,ae){var le;if(m==null)oA(null,null,_,$,Z,re,ae);else for(le=0;le<ae;++le)Z[re+le]=m[B+le]+_[$+le]&255}function tc(m,B,_,$,Z,re,ae){if(m==null)oA(null,null,_,$,Z,re,ae);else{var le,ue=m[B+0],pe=ue,je=ue;for(le=0;le<ae;++le)pe=je+(ue=m[B+le])-pe,je=_[$+le]+(-256&pe?0>pe?0:255:pe)&255,pe=ue,Z[re+le]=je}}function rh(m,B,_,$){var Z=B.width,re=B.o;if(t(m!=null&&B!=null),0>_||0>=$||_+$>re)return null;if(!m.Cc){if(m.ga==null){var ae;if(m.ga=new ku,(ae=m.ga==null)||(ae=B.width*B.o,t(m.Gb.length==0),m.Gb=a(ae),m.Uc=0,m.Gb==null?ae=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,ae=1),ae=!ae),!ae){ae=m.ga;var le=m.Fa,ue=m.P,pe=m.qc,je=m.mb,$e=m.nb,ze=ue+1,Me=pe-1,dt=ae.l;if(t(le!=null&&je!=null&&B!=null),oc[0]=null,oc[1]=oA,oc[2]=nh,oc[3]=tc,ae.ca=je,ae.tb=$e,ae.c=B.width,ae.i=B.height,t(0<ae.c&&0<ae.i),1>=pe)B=0;else if(ae.$a=le[ue+0]>>0&3,ae.Z=le[ue+0]>>2&3,ae.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ue)B=0;else if(dt.put=nt,dt.ac=Ve,dt.bc=ft,dt.ma=ae,dt.width=B.width,dt.height=B.height,dt.Da=B.Da,dt.v=B.v,dt.va=B.va,dt.j=B.j,dt.o=B.o,ae.$a)e:{t(ae.$a==1),B=Vi();t:for(;;){if(B==null){B=0;break e}if(t(ae!=null),ae.mc=B,B.c=ae.c,B.i=ae.i,B.l=ae.l,B.l.ma=ae,B.l.width=ae.c,B.l.height=ae.i,B.a=0,V(B.m,le,ze,Me),!Sa(ae.c,ae.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&kr(B.s)?(ae.ic=1,le=B.c*B.i,B.Ta=null,B.Ua=0,B.V=a(le),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ae.ic=0,B=Zs(B,ae.c)),!B))break t;B=1;break e}ae.mc=null,B=0}else B=Me>=ae.c*ae.i;ae=!B}if(ae)return null;m.ga.Lc!=1?m.Ga=0:$=re-_}t(m.ga!=null),t(_+$<=re);e:{if(B=(le=m.ga).c,re=le.l.o,le.$a==0){if(ze=m.rc,Me=m.Vc,dt=m.Fa,ue=m.P+1+_*B,pe=m.mb,je=m.nb+_*B,t(ue<=m.P+m.qc),le.Z!=0)for(t(oc[le.Z]!=null),ae=0;ae<$;++ae)oc[le.Z](ze,Me,dt,ue,pe,je,B),ze=pe,Me=je,je+=B,ue+=B;else for(ae=0;ae<$;++ae)r(pe,je,dt,ue,B),ze=pe,Me=je,je+=B,ue+=B;m.rc=ze,m.Vc=Me}else{if(t(le.mc!=null),B=_+$,t((ae=le.mc)!=null),t(B<=ae.i),ae.C>=B)B=1;else if(le.ic||Qe(),le.ic){le=ae.V,ze=ae.Ba,Me=ae.c;var Je=ae.i,Ee=(dt=1,ue=ae.$/Me,pe=ae.$%Me,je=ae.m,$e=ae.s,ae.$),Pe=Me*Je,ct=Me*B,mt=$e.wc,At=Ee<ct?rn($e,pe,ue):null;t(Ee<=Pe),t(B<=Je),t(kr($e));t:for(;;){for(;!je.h&&Ee<ct;){if(pe&mt||(At=rn($e,pe,ue)),t(At!=null),W(je),256>(Je=Ht(At.G[0],At.H[0],je)))le[ze+Ee]=Je,++Ee,++pe>=Me&&(pe=0,++ue<=B&&!(ue%16)&&zr(ae,ue));else{if(!(280>Je)){dt=0;break t}Je=Bt(Je-256,je);var Qt,kt=Ht(At.G[4],At.H[4],je);if(W(je),!(Ee>=(kt=xt(Me,kt=Bt(kt,je)))&&Pe-Ee>=Je)){dt=0;break t}for(Qt=0;Qt<Je;++Qt)le[ze+Ee+Qt]=le[ze+Ee+Qt-kt];for(Ee+=Je,pe+=Je;pe>=Me;)pe-=Me,++ue<=B&&!(ue%16)&&zr(ae,ue);Ee<ct&&pe&mt&&(At=rn($e,pe,ue))}t(je.h==M(je))}zr(ae,ue>B?B:ue);break t}!dt||je.h&&Ee<Pe?(dt=0,ae.a=je.h?5:3):ae.$=Ee,B=dt}else B=pi(ae,ae.V,ae.Ba,ae.c,ae.i,B,on);if(!B){$=0;break e}}_+$>=re&&(m.Cc=1),$=1}if(!$)return null;if(m.Cc&&(($=m.ga)!=null&&($.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+_*Z}function I(m,B,_,$,Z,re){for(;0<Z--;){var ae,le=m,ue=B+(_?1:0),pe=m,je=B+(_?0:3);for(ae=0;ae<$;++ae){var $e=pe[je+4*ae];$e!=255&&($e*=32897,le[ue+4*ae+0]=le[ue+4*ae+0]*$e>>23,le[ue+4*ae+1]=le[ue+4*ae+1]*$e>>23,le[ue+4*ae+2]=le[ue+4*ae+2]*$e>>23)}B+=re}}function ee(m,B,_,$,Z){for(;0<$--;){var re;for(re=0;re<_;++re){var ae=m[B+2*re+0],le=15&(pe=m[B+2*re+1]),ue=4369*le,pe=(240&pe|pe>>4)*ue>>16;m[B+2*re+0]=(240&ae|ae>>4)*ue>>16&240|(15&ae|ae<<4)*ue>>16>>4&15,m[B+2*re+1]=240&pe|le}B+=Z}}function me(m,B,_,$,Z,re,ae,le){var ue,pe,je=255;for(pe=0;pe<Z;++pe){for(ue=0;ue<$;++ue){var $e=m[B+ue];re[ae+4*ue]=$e,je&=$e}B+=_,ae+=le}return je!=255}function Be(m,B,_,$,Z){var re;for(re=0;re<Z;++re)_[$+re]=m[B+re]>>8}function Qe(){ms=I,Ar=ee,ur=me,Vr=Be}function tt(m,B,_){N[m]=function($,Z,re,ae,le,ue,pe,je,$e,ze,Me,dt,Je,Ee,Pe,ct,mt){var At,Qt=mt-1>>1,kt=le[ue+0]|pe[je+0]<<16,Jt=$e[ze+0]|Me[dt+0]<<16;t($!=null);var Nt=3*kt+Jt+131074>>2;for(B($[Z+0],255&Nt,Nt>>16,Je,Ee),re!=null&&(Nt=3*Jt+kt+131074>>2,B(re[ae+0],255&Nt,Nt>>16,Pe,ct)),At=1;At<=Qt;++At){var Hn=le[ue+At]|pe[je+At]<<16,Yn=$e[ze+At]|Me[dt+At]<<16,Mn=kt+Hn+Jt+Yn+524296,Cn=Mn+2*(Hn+Jt)>>3;Nt=Cn+kt>>1,kt=(Mn=Mn+2*(kt+Yn)>>3)+Hn>>1,B($[Z+2*At-1],255&Nt,Nt>>16,Je,Ee+(2*At-1)*_),B($[Z+2*At-0],255&kt,kt>>16,Je,Ee+(2*At-0)*_),re!=null&&(Nt=Mn+Jt>>1,kt=Cn+Yn>>1,B(re[ae+2*At-1],255&Nt,Nt>>16,Pe,ct+(2*At-1)*_),B(re[ae+2*At+0],255&kt,kt>>16,Pe,ct+(2*At+0)*_)),kt=Hn,Jt=Yn}1&mt||(Nt=3*kt+Jt+131074>>2,B($[Z+mt-1],255&Nt,Nt>>16,Je,Ee+(mt-1)*_),re!=null&&(Nt=3*Jt+kt+131074>>2,B(re[ae+mt-1],255&Nt,Nt>>16,Pe,ct+(mt-1)*_)))}}function yt(){ys[fm]=V8,ys[hm]=Wj,ys[Rj]=G8,ys[pm]=Kj,ys[gm]=Vj,ys[ib]=Gj,ys[Qj]=q8,ys[ab]=Wj,ys[sb]=Kj,ys[mm]=Vj,ys[ob]=Gj}function Ut(m){return m&-16384?0>m?0:255:m>>Y8}function Xt(m,B){return Ut((19077*m>>8)+(26149*B>>8)-14234)}function dn(m,B,_){return Ut((19077*m>>8)-(6419*B>>8)-(13320*_>>8)+8708)}function An(m,B){return Ut((19077*m>>8)+(33050*B>>8)-17685)}function Fn(m,B,_,$,Z){$[Z+0]=Xt(m,_),$[Z+1]=dn(m,B,_),$[Z+2]=An(m,B)}function Fr(m,B,_,$,Z){$[Z+0]=An(m,B),$[Z+1]=dn(m,B,_),$[Z+2]=Xt(m,_)}function Dr(m,B,_,$,Z){var re=dn(m,B,_);B=re<<3&224|An(m,B)>>3,$[Z+0]=248&Xt(m,_)|re>>5,$[Z+1]=B}function si(m,B,_,$,Z){var re=240&An(m,B)|15;$[Z+0]=240&Xt(m,_)|dn(m,B,_)>>4,$[Z+1]=re}function qi(m,B,_,$,Z){$[Z+0]=255,Fn(m,B,_,$,Z+1)}function Bi(m,B,_,$,Z){Fr(m,B,_,$,Z),$[Z+3]=255}function no(m,B,_,$,Z){Fn(m,B,_,$,Z),$[Z+3]=255}function Wa(m,B){return 0>m?0:m>B?B:m}function So(m,B,_){N[m]=function($,Z,re,ae,le,ue,pe,je,$e){for(var ze=je+(-2&$e)*_;je!=ze;)B($[Z+0],re[ae+0],le[ue+0],pe,je),B($[Z+1],re[ae+0],le[ue+0],pe,je+_),Z+=2,++ae,++ue,je+=2*_;1&$e&&B($[Z+0],re[ae+0],le[ue+0],pe,je)}}function sm(m,B,_){return _==0?m==0?B==0?6:5:B==0?4:0:_}function ih(m,B,_,$,Z){switch(m>>>30){case 3:ul(B,_,$,Z,0);break;case 2:Kr(B,_,$,Z);break;case 1:fa(B,_,$,Z)}}function ah(m,B){var _,$,Z=B.M,re=B.Nb,ae=m.oc,le=m.pc+40,ue=m.oc,pe=m.pc+584,je=m.oc,$e=m.pc+600;for(_=0;16>_;++_)ae[le+32*_-1]=129;for(_=0;8>_;++_)ue[pe+32*_-1]=129,je[$e+32*_-1]=129;for(0<Z?ae[le-1-32]=ue[pe-1-32]=je[$e-1-32]=129:(i(ae,le-32-1,127,21),i(ue,pe-32-1,127,9),i(je,$e-32-1,127,9)),$=0;$<m.za;++$){var ze=B.ya[B.aa+$];if(0<$){for(_=-1;16>_;++_)r(ae,le+32*_-4,ae,le+32*_+12,4);for(_=-1;8>_;++_)r(ue,pe+32*_-4,ue,pe+32*_+4,4),r(je,$e+32*_-4,je,$e+32*_+4,4)}var Me=m.Gd,dt=m.Hd+$,Je=ze.ad,Ee=ze.Hc;if(0<Z&&(r(ae,le-32,Me[dt].y,0,16),r(ue,pe-32,Me[dt].f,0,8),r(je,$e-32,Me[dt].ea,0,8)),ze.Za){var Pe=ae,ct=le-32+16;for(0<Z&&($>=m.za-1?i(Pe,ct,Me[dt].y[15],4):r(Pe,ct,Me[dt+1].y,0,4)),_=0;4>_;_++)Pe[ct+128+_]=Pe[ct+256+_]=Pe[ct+384+_]=Pe[ct+0+_];for(_=0;16>_;++_,Ee<<=2)Pe=ae,ct=le+Yj[_],ro[ze.Ob[_]](Pe,ct),ih(Ee,Je,16*+_,Pe,ct)}else if(Pe=sm($,Z,ze.Ob[0]),sc[Pe](ae,le),Ee!=0)for(_=0;16>_;++_,Ee<<=2)ih(Ee,Je,16*+_,ae,le+Yj[_]);for(_=ze.Gc,Pe=sm($,Z,ze.Dd),fl[Pe](ue,pe),fl[Pe](je,$e),Ee=Je,Pe=ue,ct=pe,255&(ze=_>>0)&&(170&ze?Ah(Ee,256,Pe,ct):ps(Ee,256,Pe,ct)),ze=je,Ee=$e,255&(_>>=8)&&(170&_?Ah(Je,320,ze,Ee):ps(Je,320,ze,Ee)),Z<m.Ub-1&&(r(Me[dt].y,0,ae,le+480,16),r(Me[dt].f,0,ue,pe+224,8),r(Me[dt].ea,0,je,$e+224,8)),_=8*re*m.B,Me=m.sa,dt=m.ta+16*$+16*re*m.R,Je=m.qa,ze=m.ra+8*$+_,Ee=m.Ha,Pe=m.Ia+8*$+_,_=0;16>_;++_)r(Me,dt+_*m.R,ae,le+32*_,16);for(_=0;8>_;++_)r(Je,ze+_*m.B,ue,pe+32*_,8),r(Ee,Pe+_*m.B,je,$e+32*_,8)}}function Iu(m,B,_,$,Z,re,ae,le,ue){var pe=[0],je=[0],$e=0,ze=ue!=null?ue.kd:0,Me=ue??new eh;if(m==null||12>_)return 7;Me.data=m,Me.w=B,Me.ha=_,B=[B],_=[_],Me.gb=[Me.gb];e:{var dt=B,Je=_,Ee=Me.gb;if(t(m!=null),t(Je!=null),t(Ee!=null),Ee[0]=0,12<=Je[0]&&!n(m,dt[0],"RIFF")){if(n(m,dt[0]+8,"WEBP")){Ee=3;break e}var Pe=ne(m,dt[0]+4);if(12>Pe||4294967286<Pe){Ee=3;break e}if(ze&&Pe>Je[0]-8){Ee=7;break e}Ee[0]=Pe,dt[0]+=12,Je[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Pe=0<Me.gb[0],_=_[0];;){e:{var ct=m;Je=B,Ee=_;var mt=pe,At=je,Qt=dt=[0];if((Nt=$e=[$e])[0]=0,8>Ee[0])Ee=7;else{if(!n(ct,Je[0],"VP8X")){if(ne(ct,Je[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var kt=ne(ct,Je[0]+8),Jt=1+Y(ct,Je[0]+12);if(2147483648<=Jt*(ct=1+Y(ct,Je[0]+15))){Ee=3;break e}Qt!=null&&(Qt[0]=kt),mt!=null&&(mt[0]=Jt),At!=null&&(At[0]=ct),Je[0]+=18,Ee[0]-=18,Nt[0]=1}Ee=0}}if($e=$e[0],dt=dt[0],Ee!=0)return Ee;if(Je=!!(2&dt),!Pe&&$e)return 3;if(re!=null&&(re[0]=!!(16&dt)),ae!=null&&(ae[0]=Je),le!=null&&(le[0]=0),ae=pe[0],dt=je[0],$e&&Je&&ue==null){Ee=0;break}if(4>_){Ee=7;break}if(Pe&&$e||!Pe&&!$e&&!n(m,B[0],"ALPH")){_=[_],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{kt=m,Ee=B,Pe=_;var Nt=Me.gb;mt=Me.na,At=Me.P,Qt=Me.Sa,Jt=22,t(kt!=null),t(Pe!=null),ct=Ee[0];var Hn=Pe[0];for(t(mt!=null),t(Qt!=null),mt[0]=null,At[0]=null,Qt[0]=0;;){if(Ee[0]=ct,Pe[0]=Hn,8>Hn){Ee=7;break e}var Yn=ne(kt,ct+4);if(4294967286<Yn){Ee=3;break e}var Mn=8+Yn+1&-2;if(Jt+=Mn,0<Nt&&Jt>Nt){Ee=3;break e}if(!n(kt,ct,"VP8 ")||!n(kt,ct,"VP8L")){Ee=0;break e}if(Hn[0]<Mn){Ee=7;break e}n(kt,ct,"ALPH")||(mt[0]=kt,At[0]=ct+8,Qt[0]=Yn),ct+=Mn,Hn-=Mn}}if(_=_[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ee!=0)break}_=[_],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Nt=m,Ee=B,Pe=_,mt=Me.gb[0],At=Me.Ja,Qt=Me.xa,kt=Ee[0],ct=!n(Nt,kt,"VP8 "),Jt=!n(Nt,kt,"VP8L"),t(Nt!=null),t(Pe!=null),t(At!=null),t(Qt!=null),8>Pe[0])Ee=7;else{if(ct||Jt){if(Nt=ne(Nt,kt+4),12<=mt&&Nt>mt-12){Ee=3;break e}if(ze&&Nt>Pe[0]-8){Ee=7;break e}At[0]=Nt,Ee[0]+=8,Pe[0]-=8,Qt[0]=Jt}else Qt[0]=5<=Pe[0]&&Nt[kt+0]==47&&!(Nt[kt+4]>>5),At[0]=Pe[0];Ee=0}if(_=_[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],B=B[0],Ee!=0)break;if(4294967286<Me.Ja)return 3;if(le==null||Je||(le[0]=Me.xa?2:1),ae=[ae],dt=[dt],Me.xa){if(5>_){Ee=7;break}le=ae,ze=dt,Je=re,m==null||5>_?m=0:5<=_&&m[B+0]==47&&!(m[B+4]>>5)?(Pe=[0],Nt=[0],mt=[0],V(At=new U,m,B,_),at(At,Pe,Nt,mt)?(le!=null&&(le[0]=Pe[0]),ze!=null&&(ze[0]=Nt[0]),Je!=null&&(Je[0]=mt[0]),m=1):m=0):m=0}else{if(10>_){Ee=7;break}le=dt,m==null||10>_||!yu(m,B+3,_-3)?m=0:(ze=m[B+0]|m[B+1]<<8|m[B+2]<<16,Je=16383&(m[B+7]<<8|m[B+6]),m=16383&(m[B+9]<<8|m[B+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Me.Ja||!Je||!m?m=0:(ae&&(ae[0]=Je),le&&(le[0]=m),m=1))}if(!m||(ae=ae[0],dt=dt[0],$e&&(pe[0]!=ae||je[0]!=dt)))return 3;ue!=null&&(ue[0]=Me,ue.offset=B-ue.w,t(4294967286>B-ue.w),t(ue.offset==ue.ha-_));break}return Ee==0||Ee==7&&$e&&ue==null?(re!=null&&(re[0]|=Me.na!=null&&0<Me.na.length),$!=null&&($[0]=ae),Z!=null&&(Z[0]=dt),0):Ee}function sh(m,B,_){var $=B.width,Z=B.height,re=0,ae=0,le=$,ue=Z;if(B.Da=m!=null&&0<m.Da,B.Da&&(le=m.cd,ue=m.bd,re=m.v,ae=m.j,11>_||(re&=-2,ae&=-2),0>re||0>ae||0>=le||0>=ue||re+le>$||ae+ue>Z))return 0;if(B.v=re,B.j=ae,B.va=re+le,B.o=ae+ue,B.U=le,B.T=ue,B.da=m!=null&&0<m.da,B.da){if(!Te(le,ue,_=[m.ib],re=[m.hb]))return 0;B.ib=_[0],B.hb=re[0]}return B.ob=m!=null&&m.ob,B.Kb=m==null||!m.Sd,B.da&&(B.ob=B.ib<3*$/4&&B.hb<3*Z/4,B.Kb=0),1}function oh(m){if(m==null)return 2;if(11>m.S){var B=m.f.RGBA;B.fb+=(m.height-1)*B.A,B.A=-B.A}else B=m.f.kb,m=m.height,B.O+=(m-1)*B.fa,B.fa=-B.fa,B.N+=(m-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(m-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(m-1)*B.lb,B.lb=-B.lb);return 0}function Tu(m,B,_,$){if($==null||0>=m||0>=B)return 2;if(_!=null){if(_.Da){var Z=_.cd,re=_.bd,ae=-2&_.v,le=-2&_.j;if(0>ae||0>le||0>=Z||0>=re||ae+Z>m||le+re>B)return 2;m=Z,B=re}if(_.da){if(!Te(m,B,Z=[_.ib],re=[_.hb]))return 2;m=Z[0],B=re[0]}}$.width=m,$.height=B;e:{var ue=$.width,pe=$.height;if(m=$.S,0>=ue||0>=pe||!(m>=fm&&13>m))m=2;else{if(0>=$.Rd&&$.sd==null){ae=re=Z=B=0;var je=(le=ue*Xj[m])*pe;if(11>m||(re=(pe+1)/2*(B=(ue+1)/2),m==12&&(ae=(Z=ue)*pe)),(pe=a(je+2*re+ae))==null){m=1;break e}$.sd=pe,11>m?((ue=$.f.RGBA).eb=pe,ue.fb=0,ue.A=le,ue.size=je):((ue=$.f.kb).y=pe,ue.O=0,ue.fa=le,ue.Fd=je,ue.f=pe,ue.N=0+je,ue.Ab=B,ue.Cd=re,ue.ea=pe,ue.W=0+je+re,ue.Db=B,ue.Ed=re,m==12&&(ue.F=pe,ue.J=0+je+2*re),ue.Tc=ae,ue.lb=Z)}if(B=1,Z=$.S,re=$.width,ae=$.height,Z>=fm&&13>Z)if(11>Z)m=$.f.RGBA,B&=(le=Math.abs(m.A))*(ae-1)+re<=m.size,B&=le>=re*Xj[Z],B&=m.eb!=null;else{m=$.f.kb,le=(re+1)/2,je=(ae+1)/2,ue=Math.abs(m.fa),pe=Math.abs(m.Ab);var $e=Math.abs(m.Db),ze=Math.abs(m.lb),Me=ze*(ae-1)+re;B&=ue*(ae-1)+re<=m.Fd,B&=pe*(je-1)+le<=m.Cd,B=(B&=$e*(je-1)+le<=m.Ed)&ue>=re&pe>=le&$e>=le,B&=m.y!=null,B&=m.f!=null,B&=m.ea!=null,Z==12&&(B&=ze>=re,B&=Me<=m.Tc,B&=m.F!=null)}else B=0;m=B?0:2}}return m!=0||_!=null&&_.fd&&(m=oh($)),m}var Ui=64,Nu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fu=24,Pu=32,lh=8,Ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(m){return m},N.Predictor2=function(m,B,_){return B[_+0]},N.Predictor3=function(m,B,_){return B[_+1]},N.Predictor4=function(m,B,_){return B[_-1]},N.Predictor5=function(m,B,_){return He(He(m,B[_+1]),B[_+0])},N.Predictor6=function(m,B,_){return He(m,B[_-1])},N.Predictor7=function(m,B,_){return He(m,B[_+0])},N.Predictor8=function(m,B,_){return He(B[_-1],B[_+0])},N.Predictor9=function(m,B,_){return He(B[_+0],B[_+1])},N.Predictor10=function(m,B,_){return He(He(m,B[_-1]),He(B[_+0],B[_+1]))},N.Predictor11=function(m,B,_){var $=B[_+0];return 0>=bt($>>24&255,m>>24&255,(B=B[_-1])>>24&255)+bt($>>16&255,m>>16&255,B>>16&255)+bt($>>8&255,m>>8&255,B>>8&255)+bt(255&$,255&m,255&B)?$:m},N.Predictor12=function(m,B,_){var $=B[_+0];return(Ge((m>>24&255)+($>>24&255)-((B=B[_-1])>>24&255))<<24|Ge((m>>16&255)+($>>16&255)-(B>>16&255))<<16|Ge((m>>8&255)+($>>8&255)-(B>>8&255))<<8|Ge((255&m)+(255&$)-(255&B)))>>>0},N.Predictor13=function(m,B,_){var $=B[_-1];return(lt((m=He(m,B[_+0]))>>24&255,$>>24&255)<<24|lt(m>>16&255,$>>16&255)<<16|lt(m>>8&255,$>>8&255)<<8|lt(m>>0&255,$>>0&255))>>>0};var nb=N.PredictorAdd0;N.PredictorAdd1=Ze,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var ch=N.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var om,hs=N.ColorIndexInverseTransform,_u=N.MapARGB,lm=N.VP8LColorIndexInverseTransformAlpha,cm=N.MapAlpha,nc=N.VP8LPredictorsAdd=[];nc.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var lA,ka,da,rc,cl,Al,Du,ul,Kr,Ah,fa,ps,Mu,Am,uh,cA,AA,ic,uA,Uu,dA,ac,dh,gs,ms,Ar,ur,Vr,vi=a(511),dl=a(2041),fh=a(225),Lu=a(767),um=0,rb=dl,dm=fh,Ka=Lu,vs=vi,fm=0,hm=1,Rj=2,pm=3,gm=4,ib=5,Qj=6,ab=7,sb=8,mm=9,ob=10,P8=[2,3,7],_8=[3,3,11],Hj=[280,256,256,256,40],D8=[0,1,1,1,0],M8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],U8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],L8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],O8=8,lb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hh=null,R8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Q8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$j=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],H8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],z8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sc=[],ro=[],fl=[],K8=1,zj=2,oc=[],ys=[];tt("UpsampleRgbLinePair",Fn,3),tt("UpsampleBgrLinePair",Fr,3),tt("UpsampleRgbaLinePair",no,4),tt("UpsampleBgraLinePair",Bi,4),tt("UpsampleArgbLinePair",qi,4),tt("UpsampleRgba4444LinePair",si,2),tt("UpsampleRgb565LinePair",Dr,2);var V8=N.UpsampleRgbLinePair,G8=N.UpsampleBgrLinePair,Wj=N.UpsampleRgbaLinePair,Kj=N.UpsampleBgraLinePair,Vj=N.UpsampleArgbLinePair,Gj=N.UpsampleRgba4444LinePair,q8=N.UpsampleRgb565LinePair,vm=16,ym=1<<vm-1,ph=-227,Ab=482,Y8=6,qj=0,X8=a(256),J8=a(256),Z8=a(256),eQ=a(256),tQ=a(Ab-ph),nQ=a(Ab-ph);So("YuvToRgbRow",Fn,3),So("YuvToBgrRow",Fr,3),So("YuvToRgbaRow",no,4),So("YuvToBgraRow",Bi,4),So("YuvToArgbRow",qi,4),So("YuvToRgba4444Row",si,2),So("YuvToRgb565Row",Dr,2);var Yj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xm=[0,2,8],rQ=[8,7,6,4,4,2,2,2,1,1,1,1],iQ=1;this.WebPDecodeRGBA=function(m,B,_,$,Z){var re=hm,ae=new Eu,le=new Re;ae.ba=le,le.S=re,le.width=[le.width],le.height=[le.height];var ue=le.width,pe=le.height,je=new it;if(je==null||m==null)var $e=2;else t(je!=null),$e=Iu(m,B,_,je.width,je.height,je.Pd,je.Qd,je.format,null);if($e!=0?ue=0:(ue!=null&&(ue[0]=je.width[0]),pe!=null&&(pe[0]=je.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],$!=null&&($[0]=le.width),Z!=null&&(Z[0]=le.height);e:{if($=new Jl,(Z=new eh).data=m,Z.w=B,Z.ha=_,Z.kd=1,B=[0],t(Z!=null),((m=Iu(Z.data,Z.w,Z.ha,null,null,null,B,null,Z))==0||m==7)&&B[0]&&(m=4),(B=m)==0){if(t(ae!=null),$.data=Z.data,$.w=Z.w+Z.offset,$.ha=Z.ha-Z.offset,$.put=nt,$.ac=Ve,$.bc=ft,$.ma=ae,Z.xa){if((m=Vi())==null){ae=1;break e}if(function(ze,Me){var dt=[0],Je=[0],Ee=[0];t:for(;;){if(ze==null)return 0;if(Me==null)return ze.a=2,0;if(ze.l=Me,ze.a=0,V(ze.m,Me.data,Me.w,Me.ha),!at(ze.m,dt,Je,Ee)){ze.a=3;break t}if(ze.xb=zj,Me.width=dt[0],Me.height=Je[0],!Sa(dt[0],Je[0],1,ze,null))break t;return 1}return t(ze.a!=0),0}(m,$)){if($=(B=Tu($.width,$.height,ae.Oa,ae.ba))==0){t:{$=m;n:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((_=$.l)!=null),t((Z=_.ma)!=null),$.xb!=0){if($.ca=Z.ba,$.tb=Z.tb,t($.ca!=null),!sh(Z.Oa,_,pm)){$.a=2;break n}if(!Zs($,_.width)||_.da)break n;if((_.da||De($.ca.S))&&Qe(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Qe()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!oe($.s.vb,$.s.Wa.Xa)){$.a=1;break n}$.xb=0}if(!pi($,$.V,$.Ba,$.c,$.i,_.o,Kn))break n;Z.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(B=m.a)}else B=m.a}else{if((m=new $f)==null){ae=1;break e}if(m.Fa=Z.na,m.P=Z.P,m.qc=Z.Sa,xu(m,$)){if((B=Tu($.width,$.height,ae.Oa,ae.ba))==0){if(m.Aa=0,_=ae.Oa,t((Z=m)!=null),_!=null){if(0<(ue=0>(ue=_.Md)?0:100<ue?255:255*ue/100)){for(pe=je=0;4>pe;++pe)12>($e=Z.pb[pe]).lc&&($e.ia=ue*rQ[0>$e.lc?0:$e.lc]>>3),je|=$e.ia;je&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=_.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}L1(m,$)||(B=m.a)}}else B=m.a}B==0&&ae.Oa!=null&&ae.Oa.fd&&(B=oh(ae.ba))}ae=B}re=ae!=0?null:11>re?le.f.RGBA.eb:le.f.kb.y}else re=null;return re};var Xj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(N,P){for(var Q="",j=0;j<4;j++)Q+=String.fromCharCode(N[P++]);return Q}function u(N,P){return(N[P+0]<<0|N[P+1]<<8|N[P+2]<<16)>>>0}function d(N,P){return(N[P+0]<<0|N[P+1]<<8|N[P+2]<<16|N[P+3]<<24)>>>0}new c;var h=[0],f=[0],p=[],g=new c,v=e,x=function(N,P){var Q={},j=0,k=!1,T=0,D=0;if(Q.frames=[],!function(O,M,L,W){for(var G=0;G<W;G++)if(O[M+G]!=L.charCodeAt(G))return!0;return!1}(N,P,"RIFF",4)){for(d(N,P+=4),P+=8;P<N.length;){var R=A(N,P),H=d(N,P+=4);P+=4;var z=H+(1&H);switch(R){case"VP8 ":case"VP8L":Q.frames[j]===void 0&&(Q.frames[j]={}),(te=Q.frames[j]).src_off=k?D:P-8,te.src_size=T+H+8,j++,k&&(k=!1,T=0,D=0);break;case"VP8X":(te=Q.header={}).feature_flags=N[P];var V=P+4;te.canvas_width=1+u(N,V),V+=3,te.canvas_height=1+u(N,V),V+=3;break;case"ALPH":k=!0,T=z+8,D=P-8;break;case"ANIM":(te=Q.header).bgcolor=d(N,P),V=P+4,te.loop_count=(Ae=N)[(U=V)+0]<<0|Ae[U+1]<<8,V+=2;break;case"ANMF":var J,te;(te=Q.frames[j]={}).offset_x=2*u(N,P),P+=3,te.offset_y=2*u(N,P),P+=3,te.width=1+u(N,P),P+=3,te.height=1+u(N,P),P+=3,te.duration=u(N,P),P+=3,J=N[P++],te.dispose=1&J,te.blend=J>>1&1}R!="ANMF"&&(P+=z)}var Ae,U;return Q}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var C=x.header?x.header:null,b=x.frames?x.frames:null;if(C){C.loop_counter=C.loop_count,h=[C.canvas_height],f=[C.canvas_width];for(var w=0;w<b.length&&b[w].blend!=0;w++);}var E=b[0],S=g.WebPDecodeRGBA(v,E.src_off,E.src_size,f,h);E.rgba=S,E.imgwidth=f[0],E.imgheight=h[0];for(var F=0;F<f[0]*h[0]*4;F++)p[F]=S[F];return this.width=f,this.height=h,this.data=p,this}(function(e){var t=function(){return typeof zw=="function"},n=function(h,f,p,g){var v=4,x=o;switch(g){case e.image_compression.FAST:v=1,x=a;break;case e.image_compression.MEDIUM:v=6,x=l;break;case e.image_compression.SLOW:v=9,x=c}h=r(h,f,p,x);var C=zw(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(h,f,p,g){for(var v,x,C,b=h.length/f,w=new Uint8Array(h.length+b),E=u(),S=0;S<b;S+=1){if(C=S*f,v=h.subarray(C,C+f),g)w.set(g(v,p,x),C+S);else{for(var F,N=E.length,P=[];F<N;F+=1)P[F]=E[F](v,p,x);var Q=d(P.concat());w.set(P[Q],C+S)}x=v}return w},i=function(h){var f=Array.apply([],h);return f.unshift(0),f},a=function(h,f){var p,g=[],v=h.length;g[0]=1;for(var x=0;x<v;x+=1)p=h[x-f]||0,g[x+1]=h[x]-p+256&255;return g},o=function(h,f,p){var g,v=[],x=h.length;v[0]=2;for(var C=0;C<x;C+=1)g=p&&p[C]||0,v[C+1]=h[C]-g+256&255;return v},l=function(h,f,p){var g,v,x=[],C=h.length;x[0]=3;for(var b=0;b<C;b+=1)g=h[b-f]||0,v=p&&p[b]||0,x[b+1]=h[b]+256-(g+v>>>1)&255;return x},c=function(h,f,p){var g,v,x,C,b=[],w=h.length;b[0]=4;for(var E=0;E<w;E+=1)g=h[E-f]||0,v=p&&p[E]||0,x=p&&p[E-f]||0,C=A(g,v,x),b[E+1]=h[E]-C+256&255;return b},A=function(h,f,p){if(h===f&&f===p)return h;var g=Math.abs(f-p),v=Math.abs(h-p),x=Math.abs(h+f-p-p);return g<=v&&g<=x?h:v<=x?f:p},u=function(){return[i,a,o,l,c]},d=function(h){var f=h.map(function(p){return p.reduce(function(g,v){return g+Math.abs(v)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(h,f,p,g){var v,x,C,b,w,E,S,F,N,P,Q,j,k,T,D,R=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(C=new qie(h)).imgData,x=C.bits,v=C.colorSpace,w=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){N=(F=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,Q=new Uint8Array(N*C.colors),P=new Uint8Array(N);var z,V=C.pixelBitlength-C.bits;for(T=0,D=0;T<N;T++){for(k=F[T],z=0;z<V;)Q[D++]=k>>>z&255,z+=C.bits;P[T]=k>>>z&255}}if(C.bits===16){N=(F=new Uint32Array(C.decodePixels().buffer)).length,Q=new Uint8Array(N*(32/C.pixelBitlength)*C.colors),P=new Uint8Array(N*(32/C.pixelBitlength)),j=C.colors>1,T=0,D=0;for(var J=0;T<N;)k=F[T++],Q[D++]=k>>>0&255,j&&(Q[D++]=k>>>16&255,k=F[T++],Q[D++]=k>>>0&255),P[J++]=k>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(h=n(Q,C.width*C.colors,C.colors,g),S=n(P,C.width,1,g)):(h=Q,S=P,R=void 0)}if(C.colorType===3&&(v=this.color_spaces.INDEXED,E=C.palette,C.transparency.indexed)){var te=C.transparency.indexed,Ae=0;for(T=0,N=te.length;T<N;++T)Ae+=te[T];if((Ae/=255)===N-1&&te.indexOf(0)!==-1)b=[te.indexOf(0)];else if(Ae!==N){for(F=C.decodePixels(),P=new Uint8Array(F.length),T=0,N=F.length;T<N;T++)P[T]=te[F[T]];S=n(P,C.width,1)}}var U=function(O){var M;switch(O){case e.image_compression.FAST:M=11;break;case e.image_compression.MEDIUM:M=13;break;case e.image_compression.SLOW:M=14;break;default:M=12}return M}(g);return R===this.decode.FLATE_DECODE&&(H="/Predictor "+U+" "),H+="/Colors "+w+" /BitsPerComponent "+x+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:p,data:h,index:f,filter:R,decodeParameters:H,transparency:b,palette:E,sMask:S,predictor:U,width:C.width,height:C.height,bitsPerComponent:x,colorSpace:v}}}})(nn.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new Yie(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:o,height:l},u=new Zb(100).encode(A,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(nn.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){sr.log("bit decode error:"+n)}},so.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=a>>4,c=15&a,A=this.palette[l];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*i+1>=this.width)break;A=this.palette[c],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,A=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=A}this.pos+=e}},so.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,A=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=A,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},so.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},so.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new so(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},A=new Zb(100).encode(c,100);return e.processJPEG.call(this,A,n,r,i)}}(nn.API),x3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new x3(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},A=new Zb(100).encode(c,100);return e.processJPEG.call(this,A,n,r,i)}}(nn.API),nn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,A=0;A<i;A+=4){var u=r[A],d=r[A+1],h=r[A+2],f=r[A+3];a[l++]=u,a[l++]=d,a[l++]=h,o[c++]=f}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ju=nn.API,Vm=Ju.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,A=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=A.fof?A.fof:1,d=t.doKerning!==!1,h=0,f=e.length,p=0,g=l[0]||c,v=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=d&&En(A[r])==="object"&&!isNaN(parseInt(A[r][p],10))?A[r][p]/u:0,v.push((l[r]||g)/c+h)),p=r;return v},g3=Ju.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ju.processArabic&&(e=Ju.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vm.apply(this,arguments).reduce(function(a,o){return a+o},0)},m3=function(e,t,n,r){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},v3=function(e,t,n){n||(n={});var r,i,a,o,l,c,A,u=[],d=[u],h=n.textIndent||0,f=0,p=0,g=e.split(" "),v=Vm.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),C=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?C=C.concat(w.map(function(E,S){return(S&&E.length?`
`:"")+E})):C.push(w[0])}),g=C,c=g3.apply(this,[x,n])}for(a=0,o=g.length;a<o;a++){var b=0;if(r=g[a],c&&r[0]==`
`&&(r=r.substr(1),b=1),h+f+(p=(i=Vm.apply(this,[r,n])).reduce(function(w,E){return w+E},0))>t||b){if(p>t){for(l=m3.apply(this,[r,i,t-(h+f),t]),u.push(l.shift()),u=[l.pop()];l.length;)d.push([l.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(w,E){return w+E},0)}else u=[r];d.push(u),h=p+c,f=v}else u.push(r),h+=f+p,f=v}return A=c?function(w,E){return(E?x:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(A)},Ju.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,A=[];for(l=0,c=r.length;l<c;l++)A=A.concat(v3.apply(this,[r[l],o,a]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var h,f,p,g,v=["{"];for(var x in d){if(h=d[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=a(x).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof h=="number")h<0?(p=a(h).slice(3),g="-"):(p=a(h).slice(2),g=""),p=g+p.slice(0,-1)+r[p.slice(-1)];else{if(En(h)!=="object")throw new Error("Don't know what to do with value type "+En(h)+".");p=o(h)}v.push(f+p)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,p,g,v={},x=1,C=v,b=[],w="",E="",S=d.length-1,F=1;F<S;F+=1)(g=d[F])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([C,p]),C={},p=void 0):g=="}"?((f=b.pop())[0][f[1]]=C,p=void 0,C=f[0]):g=="-"?x=-1:p===void 0?n.hasOwnProperty(g)?(w+=n[g],p=parseInt(w,16)*x,x=1,w=""):w+=g:n.hasOwnProperty(g)?(E+=n[g],C[p]=parseInt(E,16)*x,x=1,p=void 0,E=""):E+=g;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var p=A.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(nn.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Cp(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(nn),function(e){function t(){return(an.canvg?Promise.resolve(an.canvg):Ow(()=>import("./index.es-D8rrpjOe.js"),__vite__mapDeps([0,1,2]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}nn.API.addSvgAsImage=function(n,r,i,a,o,l,c,A){if(isNaN(r)||isNaN(i))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(p){return p.fromString(d,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,a,o,c,A)})}}(),nn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},nn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],A=0,u=0,d=0;function h(p,g){var v,x=!1;for(v=0;v<p.length;v+=1)p[v]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(d=0;d<f;d+=1)n[l[d]].value=n[l[d]].defaultValue,n[l[d]].explicitSet=!1}if(En(e)==="object"){for(i in e)if(a=e[i],h(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(A=0;A<a.length;A+=1)if(r=!0,a[A].length===1&&typeof a[A][0]=="number")c.push(String(a[A]-1));else if(a[A].length>1){for(u=0;u<a[A].length;u+=1)typeof a[A][u]!="number"&&(r=!1);r===!0&&c.push([a[A][0]-1,a[A][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?g.push("/"+p+" /"+n[p].value):g.push("/"+p+" "+n[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(nn.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,A=["","0","00","000","0000"],u=[""],d=0,h=a.length;d<h;++d){if(l=o.metadata.characterToGlyph(a.charCodeAt(d)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(d),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(A[4-l.length],l)}return u.join("")},r=function(a){var o,l,c,A,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,h=(l=Object.keys(a).sort(function(f,p){return f-p})).length;d<h;d++)o=l[d],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(A=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+A+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,A=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=A();u({data:f,addLength1:!0,objectId:g}),c("endobj");var v=A();u({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ud(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+ud(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+ud(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,A=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var p=A();u({data:h,addLength1:!0,objectId:p}),c("endobj");var g=A();u({data:r(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=A();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ud(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=A();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ud(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,A=a.y,u=a.options||{},d=a.mutex||{},h=d.pdfEscape,f=d.activeFontKey,p=d.fonts,g=f,v="",x=0,C="",b=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:l,x:c,y:A,options:u,mutex:d};for(C=l,g=f,Array.isArray(l)&&(C=l[0]),x=0;x<C.length;x+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[C[x].charCodeAt(0)]),o||C[x].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?v+=C[x]:v+="";var w="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?w=h(v,g).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(w=n(v,p[g])),d.isHex=!0,{text:w,x:c,y:A,options:u,mutex:d}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?l.push([i(Object.assign({},c,{text:o[A][0]})).text,o[A][1],o[A][2]]):l.push(i(Object.assign({},c,{text:o[A]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(nn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(nn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,l,c,A,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,b=0;this.__bidiEngine__={};var w=function(j){var k=j.charCodeAt(),T=k>>8,D=g[T];return D!==void 0?d[256*D+(255&k)]:T===252||T===253?"AL":x.test(T)?"L":T===8?"R":"N"},E=function(j){for(var k,T=0;T<j.length;T++){if((k=w(j.charAt(T)))==="L")return!1;if(k==="R")return!0}return!1},S=function(j,k,T,D){var R,H,z,V,J=k[D];switch(J){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(J="AN");break;case"AL":C=!0,J="R";break;case"WS":J="N";break;case"CS":D<1||D+1>=k.length||(R=T[D-1])!=="EN"&&R!=="AN"||(H=k[D+1])!=="EN"&&H!=="AN"?J="N":C&&(H="AN"),J=H===R?H:"N";break;case"ES":J=(R=D>0?T[D-1]:"B")==="EN"&&D+1<k.length&&k[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&T[D-1]==="EN"){J="EN";break}if(C){J="N";break}for(z=D+1,V=k.length;z<V&&k[z]==="ET";)z++;J=z<V&&k[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=k.length,z=D+1;z<V&&k[z]==="NSM";)z++;if(z<V){var te=j[D],Ae=te>=1425&&te<=2303||te===64286;if(R=k[z],Ae&&(R==="R"||R==="AL")){J="R";break}}}J=D<1||(R=k[D-1])==="B"?"N":T[D-1];break;case"B":C=!1,i=!0,J=b;break;case"S":a=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":J="N"}return J},F=function(j,k,T){var D=j.split("");return T&&N(D,T,{hiLevel:b}),D.reverse(),k&&k.reverse(),D.join("")},N=function(j,k,T){var D,R,H,z,V,J=-1,te=j.length,Ae=0,U=[],O=b?f:h,M=[];for(C=!1,i=!1,a=!1,R=0;R<te;R++)M[R]=w(j[R]);for(H=0;H<te;H++){if(V=Ae,U[H]=S(j,M,U,H),D=240&(Ae=O[V][p[U[H]]]),Ae&=15,k[H]=z=O[Ae][5],D>0)if(D===16){for(R=J;R<H;R++)k[R]=1;J=-1}else J=-1;if(O[Ae][6])J===-1&&(J=H);else if(J>-1){for(R=J;R<H;R++)k[R]=z;J=-1}M[H]==="B"&&(k[H]=0),T.hiLevel|=z}a&&function(L,W,G){for(var se=0;se<G;se++)if(L[se]==="S"){W[se]=b;for(var X=se-1;X>=0&&L[X]==="WS";X--)W[X]=b}}(M,k,te)},P=function(j,k,T,D,R){if(!(R.hiLevel<j)){if(j===1&&b===1&&!i)return k.reverse(),void(T&&T.reverse());for(var H,z,V,J,te=k.length,Ae=0;Ae<te;){if(D[Ae]>=j){for(V=Ae+1;V<te&&D[V]>=j;)V++;for(J=Ae,z=V-1;J<z;J++,z--)H=k[J],k[J]=k[z],k[z]=H,T&&(H=T[J],T[J]=T[z],T[z]=H);Ae=V}Ae++}}},Q=function(j,k,T){var D=j.split(""),R={hiLevel:b};return T||(T=[]),N(D,T,R),function(H,z,V){if(V.hiLevel!==0&&u)for(var J,te=0;te<H.length;te++)z[te]===1&&(J=v.indexOf(H[te]))>=0&&(H[te]=v[J+1])}(D,T,R),P(2,D,k,T,R),P(1,D,k,T,R),D.join("")};return this.__bidiEngine__.doBidiReorder=function(j,k,T){if(function(R,H){if(H)for(var z=0;z<R.length;z++)H[z]=z;l===void 0&&(l=E(R)),A===void 0&&(A=E(R))}(j,k),o||!c||A)if(o&&c&&l^A)b=l?1:0,j=F(j,k,T);else if(!o&&c&&A)b=l?1:0,j=Q(j,k,T),j=F(j,k);else if(!o||l||c||A){if(o&&!c&&l^A)j=F(j,k),l?(b=0,j=Q(j,k,T)):(b=1,j=Q(j,k,T),j=F(j,k));else if(o&&l&&!c&&A)b=1,j=Q(j,k,T),j=F(j,k);else if(!o&&!c&&l^A){var D=u;l?(b=1,j=Q(j,k,T),b=0,u=!1,j=Q(j,k,T),u=D):(b=0,j=Q(j,k,T),j=F(j,k),b=1,u=!1,j=Q(j,k,T),u=D,j=F(j,k))}}else b=0,j=Q(j,k,T);else b=l?1:0,j=Q(j,k,T);return j},this.__bidiEngine__.setOptions=function(j){j&&(o=j.isInputVisual,c=j.isOutputVisual,l=j.isInputRtl,A=j.isOutputRtl,u=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(nn),nn.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Kc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new uae(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Xie(this.contents),this.head=new Zie(this),this.name=new iae(this),this.cmap=new uM(this),this.toUnicode={},this.hhea=new eae(this),this.maxp=new aae(this),this.hmtx=new sae(this),this.post=new nae(this),this.os2=new tae(this),this.loca=new Aae(this),this.glyf=new oae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,A;for(A=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var xo,Kc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),Xie=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,l,c,A,u,d,h,f,p,g;for(g in f=Object.keys(n).length,c=Math.log(2),d=16*Math.floor(Math.log(f)/c),o=Math.floor(d/c),u=16*f-d,(i=new Kc).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(u),a=16*f,A=i.pos+a,l=null,p=[],n)for(h=n[g],i.writeString(g),i.writeInt(e(h)),i.writeInt(A),i.writeInt(h.length),p=p.concat(h),g==="head"&&(l=A),A+=h.length;A%4;)p.push(0),A++;return i.write(p),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=dM.call(n);n.length%4;)n.push(0);for(a=new Kc(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),Jie={}.hasOwnProperty,nl=function(e,t){for(var n in t)Jie.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};xo=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Zie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Kc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),b3=function(){function e(t,n){var r,i,a,o,l,c,A,u,d,h,f,p,g,v,x,C,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,a=function(){var w,E;for(E=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)E.push(t.readUInt16());return E}(),t.pos+=2,g=function(){var w,E;for(E=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)E.push(t.readUInt16());return E}(),A=function(){var w,E;for(E=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)E.push(t.readUInt16());return E}(),u=function(){var w,E;for(E=[],c=w=0;0<=h?w<h:w>h;c=0<=h?++w:--w)E.push(t.readUInt16());return E}(),i=(this.length-t.pos+this.offset)/2,l=function(){var w,E;for(E=[],c=w=0;0<=i?w<i:w>i;c=0<=i?++w:--w)E.push(t.readUInt16());return E}(),c=x=0,b=a.length;x<b;c=++x)for(v=a[c],r=C=p=g[c];p<=v?C<=v:C>=v;r=p<=v?++C:--C)u[c]===0?o=r+A[c]:(o=l[u[c]/2+(r-p)-(h-c)]||0)!==0&&(o+=A[c]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,i,a,o,l,c,A,u,d,h,f,p,g,v,x,C,b,w,E,S,F,N,P,Q,j,k,T,D,R,H,z,V,J,te,Ae,U,O,M,L,W,G,se,X,ge,ce,Y;switch(D=new Kc,o=Object.keys(t).sort(function(ne,oe){return ne-oe}),n){case"macroman":for(g=0,v=function(){var ne=[];for(p=0;p<256;++p)ne.push(0);return ne}(),C={0:0},a={},R=0,J=o.length;R<J;R++)C[X=t[i=o[R]]]==null&&(C[X]=++g),a[i]={old:t[i],new:C[t[i]]},v[i]=C[t[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:a,subtable:D.data,maxGlyphID:g+1};case"unicode":for(k=[],d=[],b=0,C={},r={},x=A=null,H=0,te=o.length;H<te;H++)C[E=t[i=o[H]]]==null&&(C[E]=++b),r[i]={old:E,new:C[E]},l=C[E]-i,x!=null&&l===A||(x&&d.push(x),k.push(i),A=l),x=i;for(x&&d.push(x),d.push(65535),k.push(65535),Q=2*(P=k.length),N=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(N/2)/Math.LN2,F=2*P-N,c=[],S=[],f=[],p=z=0,Ae=k.length;z<Ae;p=++z){if(j=k[p],u=d[p],j===65535){c.push(0),S.push(0);break}if(j-(T=r[j].new)>=32768)for(c.push(0),S.push(2*(f.length+P-p)),i=V=j;j<=u?V<=u:V>=u;i=j<=u?++V:--V)f.push(r[i].new);else c.push(T-j),S.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*P+2*f.length),D.writeUInt16(0),D.writeUInt16(Q),D.writeUInt16(N),D.writeUInt16(h),D.writeUInt16(F),G=0,U=d.length;G<U;G++)i=d[G],D.writeUInt16(i);for(D.writeUInt16(0),se=0,O=k.length;se<O;se++)i=k[se],D.writeUInt16(i);for(ge=0,M=c.length;ge<M;ge++)l=c[ge],D.writeUInt16(l);for(ce=0,L=S.length;ce<L;ce++)w=S[ce],D.writeUInt16(w);for(Y=0,W=f.length;Y<W;Y++)g=f[Y],D.writeUInt16(g);return{charMap:r,subtable:D.data,maxGlyphID:b+1}}},e}(),uM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new b3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=b3.encode(n,r),(a=new Kc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),eae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),tae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),nae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,A;for(A=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)A.push(n.readUInt32());return A}).call(this)}},t}(),rae=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},iae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,o,l,c,A,u,d,h,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(A={},o=d=0,h=i.length;d<h;o=++d)a=i[o],n.pos=a.offset,u=n.readString(a.length),l=new rae(u,a),A[f=a.nameID]==null&&(A[f]=[]),A[a.nameID].push(l);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t}(),aae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),sae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,o,l,c,A;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)o=h[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],A=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)A.push(this.widths.push(i));return A},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),dM=[].slice,oae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,o,l,c,A,u,d,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Kc(r.read(a))).readShort(),u=c.readShort(),h=c.readShort(),A=c.readShort(),d=c.readShort(),this.cache[n]=l===-1?new cae(c,u,h,A,d):new lae(c,l,u,h,A,d),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,o,l,c,A;for(l=[],o=[],c=0,A=r.length;c<A;c++)a=n[r[c]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),lae=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),cae=function(){function e(t,n,r,i,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Kc(dM.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Aae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,xo),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<r.length&&r[o]==l){++o,i[l]=a;var c=this.offsets[l],A=this.offsets[l+1]-c;A>0&&(a+=A)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},t}(),uae=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,l,c,A,u,d,h,f,p,g,v,x;for(i in r=uM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},x=r.charMap)f[(c=x[i]).old]=c.new;for(p in h=r.maxGlyphID,o)p in f||(f[p]=h++);return u=function(C){var b,w;for(b in w={},C)w[C[b]]=b;return w}(f),d=Object.keys(u).sort(function(C,b){return C-b}),g=function(){var C,b,w;for(w=[],C=0,b=d.length;C<b;C++)l=d[C],w.push(u[l]);return w}(),a=this.font.glyf.encode(o,g,f),A=this.font.loca.encode(a.offsets,g),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();nn.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var l,c,A;for(A=[],l=0,c=n.length;l<c;l++)r=n[l],A.push(t.convert(r));return A}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xw=function(e,t){return Xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xw(e,t)};function bo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Jw=function(){return Jw=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Jw.apply(this,arguments)};function ma(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{A(r.next(u))}catch(d){o(d)}}function c(u){try{A(r.throw(u))}catch(d){o(d)}}function A(u){u.done?a(u.value):i(u.value).then(l,c)}A((r=r.apply(e,[])).next())})}function ta(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(A){return function(u){return c([A,u])}}function c(A){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=A[0]&2?i.return:A[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,A[1])).done)return a;switch(i=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,i=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){n.label=A[1];break}if(A[0]===6&&n.label<a[1]){n.label=a[1],a=A;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(A);break}a[2]&&n.ops.pop(),n.trys.pop();continue}A=t.call(e,n)}catch(u){A=[6,u],i=0}finally{r=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function Gm(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||t)}var Ml=function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Lx=function(e,t){return Ml.fromClientRect(e,t.getBoundingClientRect())},dae=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Ml(0,0,r,i)},Ox=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},qr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},w3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qm=0;qm<w3.length;qm++)fae[w3.charCodeAt(qm)]=qm;var C3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ym=0;Ym<C3.length;Ym++)tp[C3.charCodeAt(Ym)]=Ym;var hae=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)a=tp[e.charCodeAt(r)],o=tp[e.charCodeAt(r+1)],l=tp[e.charCodeAt(r+2)],c=tp[e.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return A},pae=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},gae=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},RA=5,D5=11,e2=2,mae=D5-RA,fM=65536>>RA,vae=1<<RA,t2=vae-1,yae=1024>>RA,xae=fM+yae,bae=xae,wae=32,Cae=bae+wae,Bae=65536>>D5,Sae=1<<mae,jae=Sae-1,B3=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Eae=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},kae=function(e,t){var n=hae(e),r=Array.isArray(n)?gae(n):new Uint32Array(n),i=Array.isArray(n)?pae(n):new Uint16Array(n),a=24,o=B3(i,a/2,r[4]/2),l=r[5]===2?B3(i,(a+r[4])/2):Eae(r,Math.ceil((a+r[4])/4));return new Iae(r[0],r[1],r[2],r[3],o,l)},Iae=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>RA],n=(n<<e2)+(t&t2),this.data[n];if(t<=65535)return n=this.index[fM+(t-55296>>RA)],n=(n<<e2)+(t&t2),this.data[n];if(t<this.highStart)return n=Cae-Bae+(t>>D5),n=this.index[n],n+=t>>RA&jae,n=this.index[n],n=(n<<e2)+(t&t2),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),S3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xm=0;Xm<S3.length;Xm++)Tae[S3.charCodeAt(Xm)]=Xm;var Nae="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",j3=50,Fae=1,hM=2,pM=3,Pae=4,_ae=5,E3=7,gM=8,k3=9,Tc=10,Zw=11,I3=12,eC=13,Dae=14,np=15,tC=16,Jm=17,Dh=18,Mae=19,T3=20,nC=21,Mh=22,n2=23,Zu=24,qa=25,rp=26,ip=27,ed=28,Uae=29,EA=30,Lae=31,Zm=32,ev=33,rC=34,iC=35,aC=36,Kp=37,sC=38,e0=39,t0=40,r2=41,mM=42,Oae=43,Rae=[9001,65288],vM="!",Bn="×",tv="÷",oC=kae(Nae),ml=[EA,aC],lC=[Fae,hM,pM,_ae],yM=[Tc,gM],N3=[ip,rp],Qae=lC.concat(yM),F3=[sC,e0,t0,rC,iC],Hae=[np,eC],$ae=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(a,o){var l=oC.get(a);if(l>j3?(i.push(!0),l-=j3):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(tC);if(l===Pae||l===Zw){if(o===0)return r.push(o),n.push(EA);var c=n[o-1];return Qae.indexOf(c)===-1?(r.push(r[o-1]),n.push(c)):(r.push(o),n.push(EA))}if(r.push(o),l===Lae)return n.push(t==="strict"?nC:Kp);if(l===mM||l===Uae)return n.push(EA);if(l===Oae)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Kp):n.push(EA);n.push(l)}),[r,n,i]},i2=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===t)return!0;if(o!==Tc)break}if(i===Tc)for(var a=n;a>0;){a--;var l=r[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=n;c<=r.length;){c++;var o=r[c];if(o===t)return!0;if(o!==Tc)break}if(l!==Tc)break}return!1},P3=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===Tc)n--;else return r}return 0},zae=function(e,t,n,r,i){if(n[r]===0)return Bn;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return Bn;var o=a-1,l=a+1,c=t[a],A=o>=0?t[o]:0,u=t[l];if(c===hM&&u===pM)return Bn;if(lC.indexOf(c)!==-1)return vM;if(lC.indexOf(u)!==-1||yM.indexOf(u)!==-1)return Bn;if(P3(a,t)===gM)return tv;if(oC.get(e[a])===Zw||(c===Zm||c===ev)&&oC.get(e[l])===Zw||c===E3||u===E3||c===k3||[Tc,eC,np].indexOf(c)===-1&&u===k3||[Jm,Dh,Mae,Zu,ed].indexOf(u)!==-1||P3(a,t)===Mh||i2(n2,Mh,a,t)||i2([Jm,Dh],nC,a,t)||i2(I3,I3,a,t))return Bn;if(c===Tc)return tv;if(c===n2||u===n2)return Bn;if(u===tC||c===tC)return tv;if([eC,np,nC].indexOf(u)!==-1||c===Dae||A===aC&&Hae.indexOf(c)!==-1||c===ed&&u===aC||u===T3||ml.indexOf(u)!==-1&&c===qa||ml.indexOf(c)!==-1&&u===qa||c===ip&&[Kp,Zm,ev].indexOf(u)!==-1||[Kp,Zm,ev].indexOf(c)!==-1&&u===rp||ml.indexOf(c)!==-1&&N3.indexOf(u)!==-1||N3.indexOf(c)!==-1&&ml.indexOf(u)!==-1||[ip,rp].indexOf(c)!==-1&&(u===qa||[Mh,np].indexOf(u)!==-1&&t[l+1]===qa)||[Mh,np].indexOf(c)!==-1&&u===qa||c===qa&&[qa,ed,Zu].indexOf(u)!==-1)return Bn;if([qa,ed,Zu,Jm,Dh].indexOf(u)!==-1)for(var d=a;d>=0;){var h=t[d];if(h===qa)return Bn;if([ed,Zu].indexOf(h)!==-1)d--;else break}if([ip,rp].indexOf(u)!==-1)for(var d=[Jm,Dh].indexOf(c)!==-1?o:a;d>=0;){var h=t[d];if(h===qa)return Bn;if([ed,Zu].indexOf(h)!==-1)d--;else break}if(sC===c&&[sC,e0,rC,iC].indexOf(u)!==-1||[e0,rC].indexOf(c)!==-1&&[e0,t0].indexOf(u)!==-1||[t0,iC].indexOf(c)!==-1&&u===t0||F3.indexOf(c)!==-1&&[T3,rp].indexOf(u)!==-1||F3.indexOf(u)!==-1&&c===ip||ml.indexOf(c)!==-1&&ml.indexOf(u)!==-1||c===Zu&&ml.indexOf(u)!==-1||ml.concat(qa).indexOf(c)!==-1&&u===Mh&&Rae.indexOf(e[l])===-1||ml.concat(qa).indexOf(u)!==-1&&c===Dh)return Bn;if(c===r2&&u===r2){for(var f=n[a],p=1;f>0&&(f--,t[f]===r2);)p++;if(p%2!==0)return Bn}return c===Zm&&u===ev?Bn:tv},Wae=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=$ae(e,t.lineBreak),r=n[0],i=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[qa,EA,mM].indexOf(l)!==-1?Kp:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[r,i,o]},Kae=function(){function e(t,n,r,i){this.codePoints=t,this.required=n===vM,this.start=r,this.end=i}return e.prototype.slice=function(){return qr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Vae=function(e,t){var n=Ox(e),r=Wae(n,t),i=r[0],a=r[1],o=r[2],l=n.length,c=0,A=0;return{next:function(){if(A>=l)return{done:!0,value:null};for(var u=Bn;A<l&&(u=zae(n,a,i,++A,o))===Bn;);if(u!==Bn||A===l){var d=new Kae(n,u,c,A);return c=A,{value:d,done:!1}}return{done:!0,value:null}}}},Gae=1,qae=2,Ig=4,_3=8,U0=10,D3=47,Bp=92,Yae=9,Xae=32,nv=34,Uh=61,Jae=35,Zae=36,ese=37,rv=39,iv=40,Lh=41,tse=95,Pa=45,nse=33,rse=60,ise=62,ase=64,sse=91,ose=93,lse=61,cse=123,av=63,Ase=125,M3=124,use=126,dse=128,U3=65533,a2=42,NA=43,fse=44,hse=58,pse=59,Vp=46,gse=0,mse=8,vse=11,yse=14,xse=31,bse=127,Eo=-1,xM=48,bM=97,wM=101,wse=102,Cse=117,Bse=122,CM=65,BM=69,SM=70,Sse=85,jse=90,na=function(e){return e>=xM&&e<=57},Ese=function(e){return e>=55296&&e<=57343},td=function(e){return na(e)||e>=CM&&e<=SM||e>=bM&&e<=wse},kse=function(e){return e>=bM&&e<=Bse},Ise=function(e){return e>=CM&&e<=jse},Tse=function(e){return kse(e)||Ise(e)},Nse=function(e){return e>=dse},sv=function(e){return e===U0||e===Yae||e===Xae},L0=function(e){return Tse(e)||Nse(e)||e===tse},L3=function(e){return L0(e)||na(e)||e===Pa},Fse=function(e){return e>=gse&&e<=mse||e===vse||e>=yse&&e<=xse||e===bse},Cc=function(e,t){return e!==Bp?!1:t!==U0},ov=function(e,t,n){return e===Pa?L0(t)||Cc(t,n):L0(e)?!0:!!(e===Bp&&Cc(e,t))},s2=function(e,t,n){return e===NA||e===Pa?na(t)?!0:t===Vp&&na(n):na(e===Vp?t:e)},Pse=function(e){var t=0,n=1;(e[t]===NA||e[t]===Pa)&&(e[t]===Pa&&(n=-1),t++);for(var r=[];na(e[t]);)r.push(e[t++]);var i=r.length?parseInt(qr.apply(void 0,r),10):0;e[t]===Vp&&t++;for(var a=[];na(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(qr.apply(void 0,a),10):0;(e[t]===BM||e[t]===wM)&&t++;var c=1;(e[t]===NA||e[t]===Pa)&&(e[t]===Pa&&(c=-1),t++);for(var A=[];na(e[t]);)A.push(e[t++]);var u=A.length?parseInt(qr.apply(void 0,A),10):0;return n*(i+l*Math.pow(10,-o))*Math.pow(10,c*u)},_se={type:2},Dse={type:3},Mse={type:4},Use={type:13},Lse={type:8},Ose={type:21},Rse={type:9},Qse={type:10},Hse={type:11},$se={type:12},zse={type:14},lv={type:23},Wse={type:1},Kse={type:25},Vse={type:24},Gse={type:26},qse={type:27},Yse={type:28},Xse={type:29},Jse={type:31},cC={type:32},jM=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Ox(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==cC;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case nv:return this.consumeStringToken(nv);case Jae:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(L3(n)||Cc(r,i)){var a=ov(n,r,i)?qae:Gae,o=this.consumeName();return{type:5,value:o,flags:a}}break;case Zae:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),Use;break;case rv:return this.consumeStringToken(rv);case iv:return _se;case Lh:return Dse;case a2:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),zse;break;case NA:if(s2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case fse:return Mse;case Pa:var l=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(s2(l,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(ov(l,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Pa&&A===ise)return this.consumeCodePoint(),this.consumeCodePoint(),Vse;break;case Vp:if(s2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case D3:if(this.peekCodePoint(0)===a2)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===a2&&(u=this.consumeCodePoint(),u===D3))return this.consumeToken();if(u===Eo)return this.consumeToken()}break;case hse:return Gse;case pse:return qse;case rse:if(this.peekCodePoint(0)===nse&&this.peekCodePoint(1)===Pa&&this.peekCodePoint(2)===Pa)return this.consumeCodePoint(),this.consumeCodePoint(),Kse;break;case ase:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(ov(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case sse:return Yse;case Bp:if(Cc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case ose:return Xse;case lse:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),Lse;break;case cse:return Hse;case Ase:return $se;case Cse:case Sse:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===NA&&(td(g)||g===av)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case M3:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),Rse;if(this.peekCodePoint(0)===M3)return this.consumeCodePoint(),Ose;break;case use:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),Qse;break;case Eo:return cC}return sv(t)?(this.consumeWhiteSpace(),Jse):na(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):L0(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:qr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();td(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===av&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(qr.apply(void 0,t.map(function(c){return c===av?xM:c})),16),a=parseInt(qr.apply(void 0,t.map(function(c){return c===av?SM:c})),16);return{type:30,start:i,end:a}}var o=parseInt(qr.apply(void 0,t),16);if(this.peekCodePoint(0)===Pa&&td(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];td(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var a=parseInt(qr.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===iv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===iv?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===rv||n===nv){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo||this.peekCodePoint(0)===Lh)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),lv)}for(;;){var i=this.consumeCodePoint();if(i===Eo||i===Lh)return{type:22,value:qr.apply(void 0,t)};if(sv(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo||this.peekCodePoint(0)===Lh?(this.consumeCodePoint(),{type:22,value:qr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),lv);if(i===nv||i===rv||i===iv||Fse(i))return this.consumeBadUrlRemnants(),lv;if(i===Bp)if(Cc(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),lv;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;sv(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Lh||t===Eo)return;Cc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=qr.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===Eo||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===U0)return this._value.splice(0,r),Wse;if(i===Bp){var a=this._value[r+1];a!==Eo&&a!==void 0&&(a===U0?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Cc(i,a)&&(n+=this.consumeStringSlice(r),n+=qr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Ig,r=this.peekCodePoint(0);for((r===NA||r===Pa)&&t.push(this.consumeCodePoint());na(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Vp&&na(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=_3;na(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===BM||r===wM)&&((i===NA||i===Pa)&&na(a)||na(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=_3;na(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Pse(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(ov(i,a,o)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return i===ese?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(td(t)){for(var n=qr(t);td(this.peekCodePoint(0))&&n.length<6;)n+=qr(this.consumeCodePoint());sv(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Ese(r)||r>1114111?U3:r}return t===Eo?U3:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(L3(n))t+=qr(n);else if(Cc(n,this.peekCodePoint(0)))t+=qr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),EM=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new jM;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||eoe(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?cC:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Tg=function(e){return e.type===15},If=function(e){return e.type===17},ir=function(e){return e.type===20},Zse=function(e){return e.type===0},AC=function(e,t){return ir(e)&&e.value===t},kM=function(e){return e.type!==31},nf=function(e){return e.type!==31&&e.type!==4},rl=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},eoe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Vc=function(e){return e.type===17||e.type===15},ui=function(e){return e.type===16||Vc(e)},IM=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ki={type:17,number:0,flags:Ig},M5={type:16,number:50,flags:Ig},Nc={type:16,number:100,flags:Ig},ap=function(e,t,n){var r=e[0],i=e[1];return[fr(r,t),fr(typeof i<"u"?i:r,n)]},fr=function(e,t){if(e.type===16)return e.number/100*t;if(Tg(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},TM="deg",NM="grad",FM="rad",PM="turn",Rx={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case TM:return Math.PI*t.number/180;case NM:return Math.PI/200*t.number;case FM:return t.number;case PM:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},_M=function(e){return e.type===15&&(e.unit===TM||e.unit===NM||e.unit===FM||e.unit===PM)},DM=function(e){var t=e.filter(ir).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ki,Ki];case"to top":case"bottom":return Ms(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ki,Nc];case"to right":case"left":return Ms(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Nc,Nc];case"to bottom":case"top":return Ms(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Nc,Ki];case"to left":case"right":return Ms(270)}return 0},Ms=function(e){return Math.PI*e/180},Mc={name:"color",parse:function(e,t){if(t.type===18){var n=toe[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return Fc(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return Fc(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return Fc(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return Fc(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=kl[t.value.toUpperCase()];if(typeof l<"u")return l}return kl.TRANSPARENT}},Uc=function(e){return(255&e)===0},Ei=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},Fc=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},O3=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},R3=function(e,t){var n=t.filter(nf);if(n.length===3){var r=n.map(O3),i=r[0],a=r[1],o=r[2];return Fc(i,a,o,1)}if(n.length===4){var l=n.map(O3),i=l[0],a=l[1],o=l[2],c=l[3];return Fc(i,a,o,c)}return 0};function o2(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var Q3=function(e,t){var n=t.filter(nf),r=n[0],i=n[1],a=n[2],o=n[3],l=(r.type===17?Ms(r.number):Rx.parse(e,r))/(Math.PI*2),c=ui(i)?i.number/100:0,A=ui(a)?a.number/100:0,u=typeof o<"u"&&ui(o)?fr(o,1):1;if(c===0)return Fc(A*255,A*255,A*255,1);var d=A<=.5?A*(c+1):A+c-A*c,h=A*2-d,f=o2(h,d,l+1/3),p=o2(h,d,l),g=o2(h,d,l-1/3);return Fc(f*255,p*255,g*255,u)},toe={hsl:Q3,hsla:Q3,rgb:R3,rgba:R3},Sp=function(e,t){return Mc.parse(e,EM.create(t).parseComponentValue())},kl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},noe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(ir(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},roe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qx=function(e,t){var n=Mc.parse(e,t[0]),r=t[1];return r&&ui(r)?{color:n,stop:r}:{color:n,stop:null}},H3=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Ki),r.stop===null&&(r.stop=Nc);for(var i=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=fr(l,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var A=null,o=0;o<i.length;o++){var u=i[o];if(u===null)A===null&&(A=o);else if(A!==null){for(var d=o-A,h=i[A-1],f=(u-h)/(d+1),p=1;p<=d;p++)i[A+p-1]=f*p;A=null}}return e.map(function(g,v){var x=g.color;return{color:x,stop:Math.max(Math.min(1,i[v]/t),0)}})},ioe=function(e,t,n){var r=t/2,i=n/2,a=fr(e[0],t)-r,o=i-fr(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},aoe=function(e,t,n){var r=typeof e=="number"?e:ioe(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,l=i/2,c=Math.sin(r-Math.PI/2)*l,A=Math.cos(r-Math.PI/2)*l;return[i,a-A,a+A,o-c,o+c]},oo=function(e,t){return Math.sqrt(e*e+t*t)},$3=function(e,t,n,r,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var c=l[0],A=l[1],u=oo(n-c,r-A);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},soe=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=o=Math.min(oo(t,n),oo(t,n-i),oo(t-r,n),oo(t-r,n-i));else if(e.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),c=$3(r,i,t,n,!0),A=c[0],u=c[1];a=oo(A-t,(u-n)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=o=Math.max(oo(t,n),oo(t,n-i),oo(t-r,n),oo(t-r,n-i));else if(e.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),d=$3(r,i,t,n,!1),A=d[0],u=d[1];a=oo(A-t,(u-n)/l),o=l*a}break}return Array.isArray(e.size)&&(a=fr(e.size[0],r),o=e.size.length===2?fr(e.size[1],i):a),[a,o]},ooe=function(e,t){var n=Ms(180),r=[];return rl(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){n=DM(i);return}else if(_M(o)){n=Rx.parse(e,o);return}}var l=Qx(e,i);r.push(l)}),{angle:n,stops:r,type:1}},cv=function(e,t){var n=Ms(180),r=[];return rl(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=DM(i);return}else if(_M(o)){n=(Rx.parse(e,o)+Ms(270))%Ms(360);return}}var l=Qx(e,i);r.push(l)}),{angle:n,stops:r,type:1}},loe=function(e,t){var n=Ms(180),r=[],i=1,a=0,o=3,l=[];return rl(t).forEach(function(c,A){var u=c[0];if(A===0){if(ir(u)&&u.value==="linear"){i=1;return}else if(ir(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=Mc.parse(e,u.values[0]);r.push({stop:Ki,color:d})}else if(u.name==="to"){var d=Mc.parse(e,u.values[0]);r.push({stop:Nc,color:d})}else if(u.name==="color-stop"){var h=u.values.filter(nf);if(h.length===2){var d=Mc.parse(e,h[1]),f=h[0];If(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),i===1?{angle:(n+Ms(180))%Ms(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:l,type:i}},MM="closest-side",UM="farthest-side",LM="closest-corner",OM="farthest-corner",RM="circle",QM="ellipse",HM="cover",$M="contain",coe=function(e,t){var n=0,r=3,i=[],a=[];return rl(t).forEach(function(o,l){var c=!0;if(l===0){var A=!1;c=o.reduce(function(d,h){if(A)if(ir(h))switch(h.value){case"center":return a.push(M5),d;case"top":case"left":return a.push(Ki),d;case"right":case"bottom":return a.push(Nc),d}else(ui(h)||Vc(h))&&a.push(h);else if(ir(h))switch(h.value){case RM:return n=0,!1;case QM:return n=1,!1;case"at":return A=!0,!1;case MM:return r=0,!1;case HM:case UM:return r=1,!1;case $M:case LM:return r=2,!1;case OM:return r=3,!1}else if(Vc(h)||ui(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},c)}if(c){var u=Qx(e,o);i.push(u)}}),{size:r,shape:n,stops:i,position:a,type:2}},Av=function(e,t){var n=0,r=3,i=[],a=[];return rl(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,d){if(ir(d))switch(d.value){case"center":return a.push(M5),!1;case"top":case"left":return a.push(Ki),!1;case"right":case"bottom":return a.push(Nc),!1}else if(ui(d)||Vc(d))return a.push(d),!1;return u},c):l===1&&(c=o.reduce(function(u,d){if(ir(d))switch(d.value){case RM:return n=0,!1;case QM:return n=1,!1;case $M:case MM:return r=0,!1;case UM:return r=1,!1;case LM:return r=2,!1;case HM:case OM:return r=3,!1}else if(Vc(d)||ui(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return u},c)),c){var A=Qx(e,o);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},Aoe=function(e){return e.type===1},uoe=function(e){return e.type===2},U5={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=zM[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function doe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!zM[e.name])}var zM={"linear-gradient":ooe,"-moz-linear-gradient":cv,"-ms-linear-gradient":cv,"-o-linear-gradient":cv,"-webkit-linear-gradient":cv,"radial-gradient":coe,"-moz-radial-gradient":Av,"-ms-radial-gradient":Av,"-o-radial-gradient":Av,"-webkit-radial-gradient":Av,"-webkit-gradient":loe},foe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return nf(r)&&doe(r)}).map(function(r){return U5.parse(e,r)})}},hoe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(ir(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},poe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return rl(t).map(function(n){return n.filter(ui)}).map(IM)}},goe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return rl(t).map(function(n){return n.filter(ir).map(function(r){return r.value}).join(" ")}).map(moe)}},moe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Dd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Dd||(Dd={}));var voe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return rl(t).map(function(n){return n.filter(yoe)})}},yoe=function(e){return ir(e)||ui(e)},Hx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},xoe=Hx("top"),boe=Hx("right"),woe=Hx("bottom"),Coe=Hx("left"),$x=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return IM(n.filter(ui))}}},Boe=$x("top-left"),Soe=$x("top-right"),joe=$x("bottom-right"),Eoe=$x("bottom-left"),zx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},koe=zx("top"),Ioe=zx("right"),Toe=zx("bottom"),Noe=zx("left"),Wx=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Tg(n)?n.number:0}}},Foe=Wx("top"),Poe=Wx("right"),_oe=Wx("bottom"),Doe=Wx("left"),Moe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uoe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Loe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(ir).reduce(function(n,r){return n|Ooe(r.value)},0)}},Ooe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Roe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Qoe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},O0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(O0||(O0={}));var Hoe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return O0.STRICT;case"normal":default:return O0.NORMAL}}},$oe={name:"line-height",initialValue:"normal",prefix:!1,type:4},z3=function(e,t){return ir(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:ui(e)?fr(e,t):t},zoe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:U5.parse(e,t)}},Woe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},uC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Kx=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Koe=Kx("top"),Voe=Kx("right"),Goe=Kx("bottom"),qoe=Kx("left"),Yoe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(ir).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Xoe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vx=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Joe=Vx("top"),Zoe=Vx("right"),ele=Vx("bottom"),tle=Vx("left"),nle={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},rle={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ile={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&AC(t[0],"none")?[]:rl(t).map(function(n){for(var r={color:kl.TRANSPARENT,offsetX:Ki,offsetY:Ki,blur:Ki},i=0,a=0;a<n.length;a++){var o=n[a];Vc(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Mc.parse(e,o)}return r})}},ale={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sle={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=cle[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ole=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},lle=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[n,r,i,a,o,l]:null},cle={matrix:ole,matrix3d:lle},W3={type:16,number:50,flags:Ig},Ale=[W3,W3],ule={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(ui);return n.length!==2?Ale:[n[0],n[1]]}},dle={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},jp;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(jp||(jp={}));var fle={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return jp.BREAK_ALL;case"keep-all":return jp.KEEP_ALL;case"normal":default:return jp.NORMAL}}},hle={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(If(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},WM={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},ple={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return If(t)?t.number:1}},gle={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mle={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(ir).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},vle={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},yle={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},xle={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(If(t))return t.number;if(ir(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},ble={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(ir).map(function(n){return n.value})}},wle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},yi=function(e,t){return(e&t)!==0},Cle={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},Ble={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=t.filter(kM),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var c=l&&If(l)?l.number:1;r.push({counter:o.value,increment:c})}}return r}},Sle={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(kM),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(ir(a)&&a.value!=="none"){var l=o&&If(o)?o.number:0;n.push({counter:a.value,reset:l})}}return n}},jle={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Tg).map(function(n){return WM.parse(e,n)})}},Ele={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],i=t.filter(Zse);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;r.push({open:o,close:l})}return r}},K3=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},kle={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&AC(t[0],"none")?[]:rl(t).map(function(n){for(var r={color:255,offsetX:Ki,offsetY:Ki,blur:Ki,spread:Ki,inset:!1},i=0,a=0;a<n.length;a++){var o=n[a];AC(o,"inset")?r.inset=!0:Vc(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Mc.parse(e,o)}return r})}},Ile={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(ir).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Tle={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Nle={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tg(t)?t.number:0}},Fle=function(){function e(t,n){var r,i;this.animationDuration=$t(t,jle,n.animationDuration),this.backgroundClip=$t(t,noe,n.backgroundClip),this.backgroundColor=$t(t,roe,n.backgroundColor),this.backgroundImage=$t(t,foe,n.backgroundImage),this.backgroundOrigin=$t(t,hoe,n.backgroundOrigin),this.backgroundPosition=$t(t,poe,n.backgroundPosition),this.backgroundRepeat=$t(t,goe,n.backgroundRepeat),this.backgroundSize=$t(t,voe,n.backgroundSize),this.borderTopColor=$t(t,xoe,n.borderTopColor),this.borderRightColor=$t(t,boe,n.borderRightColor),this.borderBottomColor=$t(t,woe,n.borderBottomColor),this.borderLeftColor=$t(t,Coe,n.borderLeftColor),this.borderTopLeftRadius=$t(t,Boe,n.borderTopLeftRadius),this.borderTopRightRadius=$t(t,Soe,n.borderTopRightRadius),this.borderBottomRightRadius=$t(t,joe,n.borderBottomRightRadius),this.borderBottomLeftRadius=$t(t,Eoe,n.borderBottomLeftRadius),this.borderTopStyle=$t(t,koe,n.borderTopStyle),this.borderRightStyle=$t(t,Ioe,n.borderRightStyle),this.borderBottomStyle=$t(t,Toe,n.borderBottomStyle),this.borderLeftStyle=$t(t,Noe,n.borderLeftStyle),this.borderTopWidth=$t(t,Foe,n.borderTopWidth),this.borderRightWidth=$t(t,Poe,n.borderRightWidth),this.borderBottomWidth=$t(t,_oe,n.borderBottomWidth),this.borderLeftWidth=$t(t,Doe,n.borderLeftWidth),this.boxShadow=$t(t,kle,n.boxShadow),this.color=$t(t,Moe,n.color),this.direction=$t(t,Uoe,n.direction),this.display=$t(t,Loe,n.display),this.float=$t(t,Roe,n.cssFloat),this.fontFamily=$t(t,vle,n.fontFamily),this.fontSize=$t(t,yle,n.fontSize),this.fontStyle=$t(t,wle,n.fontStyle),this.fontVariant=$t(t,ble,n.fontVariant),this.fontWeight=$t(t,xle,n.fontWeight),this.letterSpacing=$t(t,Qoe,n.letterSpacing),this.lineBreak=$t(t,Hoe,n.lineBreak),this.lineHeight=$t(t,$oe,n.lineHeight),this.listStyleImage=$t(t,zoe,n.listStyleImage),this.listStylePosition=$t(t,Woe,n.listStylePosition),this.listStyleType=$t(t,uC,n.listStyleType),this.marginTop=$t(t,Koe,n.marginTop),this.marginRight=$t(t,Voe,n.marginRight),this.marginBottom=$t(t,Goe,n.marginBottom),this.marginLeft=$t(t,qoe,n.marginLeft),this.opacity=$t(t,ple,n.opacity);var a=$t(t,Yoe,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=$t(t,Xoe,n.overflowWrap),this.paddingTop=$t(t,Joe,n.paddingTop),this.paddingRight=$t(t,Zoe,n.paddingRight),this.paddingBottom=$t(t,ele,n.paddingBottom),this.paddingLeft=$t(t,tle,n.paddingLeft),this.paintOrder=$t(t,Ile,n.paintOrder),this.position=$t(t,rle,n.position),this.textAlign=$t(t,nle,n.textAlign),this.textDecorationColor=$t(t,gle,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=$t(t,mle,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=$t(t,ile,n.textShadow),this.textTransform=$t(t,ale,n.textTransform),this.transform=$t(t,sle,n.transform),this.transformOrigin=$t(t,ule,n.transformOrigin),this.visibility=$t(t,dle,n.visibility),this.webkitTextStrokeColor=$t(t,Tle,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=$t(t,Nle,n.webkitTextStrokeWidth),this.wordBreak=$t(t,fle,n.wordBreak),this.zIndex=$t(t,hle,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Uc(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return yi(this.display,4)||yi(this.display,33554432)||yi(this.display,268435456)||yi(this.display,536870912)||yi(this.display,67108864)||yi(this.display,134217728)},e}(),Ple=function(){function e(t,n){this.content=$t(t,Cle,n.content),this.quotes=$t(t,Ele,n.quotes)}return e}(),V3=function(){function e(t,n){this.counterIncrement=$t(t,Ble,n.counterIncrement),this.counterReset=$t(t,Sle,n.counterReset)}return e}(),$t=function(e,t,n){var r=new jM,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(i);var a=new EM(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,ir(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Rx.parse(e,a.parseComponentValue());case"color":return Mc.parse(e,a.parseComponentValue());case"image":return U5.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return Vc(l)?l:Ki;case"length-percentage":var c=a.parseComponentValue();return ui(c)?c:Ki;case"time":return WM.parse(e,a.parseComponentValue())}break}},_le="data-html2canvas-debug",Dle=function(e){var t=e.getAttribute(_le);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},dC=function(e,t){var n=Dle(e);return n===1||t===n},il=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,dC(n,3))debugger;this.styles=new Fle(t,window.getComputedStyle(n,null)),pC(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Lx(this.context,n),dC(n,4)&&(this.flags|=16)}return e}(),Mle="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",G3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uv=0;uv<G3.length;uv++)sp[G3.charCodeAt(uv)]=uv;var Ule=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)a=sp[e.charCodeAt(r)],o=sp[e.charCodeAt(r+1)],l=sp[e.charCodeAt(r+2)],c=sp[e.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return A},Lle=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ole=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},QA=5,L5=11,l2=2,Rle=L5-QA,KM=65536>>QA,Qle=1<<QA,c2=Qle-1,Hle=1024>>QA,$le=KM+Hle,zle=$le,Wle=32,Kle=zle+Wle,Vle=65536>>L5,Gle=1<<Rle,qle=Gle-1,q3=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Yle=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Xle=function(e,t){var n=Ule(e),r=Array.isArray(n)?Ole(n):new Uint32Array(n),i=Array.isArray(n)?Lle(n):new Uint16Array(n),a=24,o=q3(i,a/2,r[4]/2),l=r[5]===2?q3(i,(a+r[4])/2):Yle(r,Math.ceil((a+r[4])/4));return new Jle(r[0],r[1],r[2],r[3],o,l)},Jle=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>QA],n=(n<<l2)+(t&c2),this.data[n];if(t<=65535)return n=this.index[KM+(t-55296>>QA)],n=(n<<l2)+(t&c2),this.data[n];if(t<this.highStart)return n=Kle-Vle+(t>>L5),n=this.index[n],n+=t>>QA&qle,n=this.index[n],n=(n<<l2)+(t&c2),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Y3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zle=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dv=0;dv<Y3.length;dv++)Zle[Y3.charCodeAt(dv)]=dv;var ece=1,A2=2,u2=3,X3=4,J3=5,tce=7,Z3=8,d2=9,f2=10,eI=11,tI=12,nI=13,rI=14,h2=15,nce=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},rce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},ice=Xle(Mle),js="×",p2="÷",ace=function(e){return ice.get(e)},sce=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===A2&&o===u2)return js;if(a===A2||a===u2||a===X3||o===A2||o===u2||o===X3)return p2;if(a===Z3&&[Z3,d2,eI,tI].indexOf(o)!==-1||(a===eI||a===d2)&&(o===d2||o===f2)||(a===tI||a===f2)&&o===f2||o===nI||o===J3||o===tce||a===ece)return js;if(a===nI&&o===rI){for(;i===J3;)i=t[--r];if(i===rI)return js}if(a===h2&&o===h2){for(var l=0;i===h2;)l++,i=t[--r];if(l%2===0)return js}return p2},oce=function(e){var t=nce(e),n=t.length,r=0,i=0,a=t.map(ace);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=js;r<n&&(o=sce(t,a,++r))===js;);if(o!==js||r===n){var l=rce.apply(null,t.slice(i,r));return i=r,{value:l,done:!1}}return{done:!0,value:null}}}},lce=function(e){for(var t=oce(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},cce=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},Ace=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=Ox(r.data).map(function(c){return qr(c)}),a=0,o={},l=i.every(function(c,A){n.setStart(r,a),n.setEnd(r,a+c.length);var u=n.getBoundingClientRect();a+=c.length;var d=u.x>o.x||u.y>o.y;return o=u,A===0?!0:d});return e.body.removeChild(t),l},uce=function(){return typeof new Image().crossOrigin<"u"},dce=function(){return typeof new XMLHttpRequest().responseType=="string"},fce=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},iI=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},hce=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=fC(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),aI(o).then(function(l){r.drawImage(l,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=n+"px",iI(c)?aI(fC(n,n,0,0,A)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),iI(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},fC=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},aI=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ri={get SUPPORT_RANGE_BOUNDS(){var e=cce(document);return Object.defineProperty(Ri,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ri.SUPPORT_RANGE_BOUNDS&&Ace(document);return Object.defineProperty(Ri,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=fce(document);return Object.defineProperty(Ri,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?hce(document):Promise.resolve(!1);return Object.defineProperty(Ri,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=uce();return Object.defineProperty(Ri,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=dce();return Object.defineProperty(Ri,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ri,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ri,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ep=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),pce=function(e,t,n,r){var i=vce(t,n),a=[],o=0;return i.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(Ri.SUPPORT_RANGE_BOUNDS){var c=sI(r,o,l.length).getClientRects();if(c.length>1){var A=O5(l),u=0;A.forEach(function(h){a.push(new Ep(h,Ml.fromDOMRectList(e,sI(r,u+o,h.length).getClientRects()))),u+=h.length})}else a.push(new Ep(l,Ml.fromDOMRectList(e,c)))}else{var d=r.splitText(l.length);a.push(new Ep(l,gce(e,r))),r=d}else Ri.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));o+=l.length}),a},gce=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=Lx(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return Ml.EMPTY},sI=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},O5=function(e){if(Ri.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return lce(e)},mce=function(e,t){if(Ri.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return xce(e,t)},vce=function(e,t){return t.letterSpacing!==0?O5(e):mce(e,t)},yce=[32,160,4961,65792,65793,4153,4241],xce=function(e,t){for(var n=Vae(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,a=function(){if(i.value){var o=i.value.slice(),l=Ox(o),c="";l.forEach(function(A){yce.indexOf(A)===-1?c+=qr(A):(c.length&&r.push(c),r.push(qr(A)),c="")}),c.length&&r.push(c)}};!(i=n.next()).done;)a();return r},bce=function(){function e(t,n,r){this.text=wce(n.data,r.textTransform),this.textBounds=pce(t,this.text,r,n)}return e}(),wce=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Cce,Bce);case 2:return e.toUpperCase();default:return e}},Cce=/(^|\s|:|-|\(|\))([a-z])/g,Bce=function(e,t,n){return e.length>0?t+n.toUpperCase():e},VM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t}(il),GM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t}(il),qM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=new XMLSerializer,o=Lx(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(il),YM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(il),hC=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t}(il),Sce=[{type:15,flags:0,unit:"px",number:3}],jce=[{type:16,flags:0,number:50}],Ece=function(e){return e.width>e.height?new Ml(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Ml(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},kce=function(e){var t=e.type===Ice?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},R0="checkbox",Q0="radio",Ice="password",oI=707406591,R5=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=kce(r),(i.type===R0||i.type===Q0)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Ece(i.bounds)),i.type){case R0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Sce;break;case Q0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=jce;break}return i}return t}(il),XM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(il),JM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(il),ZM=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=t6(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Sp(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):kl.TRANSPARENT,o=r.contentWindow.document.body?Sp(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):kl.TRANSPARENT;i.backgroundColor=Uc(a)?Uc(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(il),Tce=["OL","UL","MENU"],n0=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,n6(i)&&i.data.trim().length>0)n.textNodes.push(new bce(e,i,n.styles));else if(xd(i))if(s6(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return n0(e,l,n,r)});else{var o=e6(e,i);o.styles.isVisible()&&(Nce(i,o,r)?o.flags|=4:Fce(o.styles)&&(o.flags|=2),Tce.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?n0(e,i.shadowRoot,o,r):!H0(i)&&!r6(i)&&!$0(i)&&n0(e,i,o,r))}},e6=function(e,t){return gC(t)?new VM(e,t):i6(t)?new GM(e,t):r6(t)?new qM(e,t):Pce(t)?new YM(e,t):_ce(t)?new hC(e,t):Dce(t)?new R5(e,t):$0(t)?new XM(e,t):H0(t)?new JM(e,t):a6(t)?new ZM(e,t):new il(e,t)},t6=function(e,t){var n=e6(e,t);return n.flags|=4,n0(e,t,n,n),n},Nce=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Q5(e)&&n.styles.isTransparent()},Fce=function(e){return e.isPositioned()||e.isFloating()},n6=function(e){return e.nodeType===Node.TEXT_NODE},xd=function(e){return e.nodeType===Node.ELEMENT_NODE},pC=function(e){return xd(e)&&typeof e.style<"u"&&!r0(e)},r0=function(e){return typeof e.className=="object"},Pce=function(e){return e.tagName==="LI"},_ce=function(e){return e.tagName==="OL"},Dce=function(e){return e.tagName==="INPUT"},Mce=function(e){return e.tagName==="HTML"},r6=function(e){return e.tagName==="svg"},Q5=function(e){return e.tagName==="BODY"},i6=function(e){return e.tagName==="CANVAS"},lI=function(e){return e.tagName==="VIDEO"},gC=function(e){return e.tagName==="IMG"},a6=function(e){return e.tagName==="IFRAME"},cI=function(e){return e.tagName==="STYLE"},Uce=function(e){return e.tagName==="SCRIPT"},H0=function(e){return e.tagName==="TEXTAREA"},$0=function(e){return e.tagName==="SELECT"},s6=function(e){return e.tagName==="SLOT"},AI=function(e){return e.tagName.indexOf("-")>0},Lce=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,i=t.counterReset,a=!0;r!==null&&r.forEach(function(l){var c=n.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var c=n.counters[l.counter];o.push(l.counter),c||(c=n.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),uI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},dI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Oce={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Rce={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},nd=function(e,t,n,r,i,a){return e<t||e>n?Gp(e,i,a.length>0):r.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=r.values[c];return o},"")+a},o6=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},Gr=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(o6(Math.abs(e),a,r,function(o){return qr(Math.floor(o%a)+t)})+i)},pA=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return o6(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},dd=1,bc=2,wc=4,op=8,vl=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Gp(e,4,i.length>0);var o=Math.abs(e),l=i;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var A=o%10;A===0&&yi(a,dd)&&l!==""?l=t[A]+l:A>1||A===1&&c===0||A===1&&c===1&&yi(a,bc)||A===1&&c===1&&yi(a,wc)&&e>100||A===1&&c>1&&yi(a,op)?l=t[A]+(c>0?n[c-1]:"")+l:A===1&&c>0&&(l=n[c-1]+l),o=Math.floor(o/10)}return(e<0?r:"")+l},fI="十百千萬",hI="拾佰仟萬",pI="マイナス",g2="마이너스",Gp=function(e,t,n){var r=n?". ":"",i=n?"、":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Gr(e,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return pA(e,"〇一二三四五六七八九",i);case 6:return nd(e,1,3999,uI,3,r).toLowerCase();case 7:return nd(e,1,3999,uI,3,r);case 8:return Gr(e,945,969,!1,r);case 9:return Gr(e,97,122,!1,r);case 10:return Gr(e,65,90,!1,r);case 11:return Gr(e,1632,1641,!0,r);case 12:case 49:return nd(e,1,9999,dI,3,r);case 35:return nd(e,1,9999,dI,3,r).toLowerCase();case 13:return Gr(e,2534,2543,!0,r);case 14:case 30:return Gr(e,6112,6121,!0,r);case 15:return pA(e,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return pA(e,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return vl(e,"零一二三四五六七八九",fI,"負",i,bc|wc|op);case 47:return vl(e,"零壹貳參肆伍陸柒捌玖",hI,"負",i,dd|bc|wc|op);case 42:return vl(e,"零一二三四五六七八九",fI,"负",i,bc|wc|op);case 41:return vl(e,"零壹贰叁肆伍陆柒捌玖",hI,"负",i,dd|bc|wc|op);case 26:return vl(e,"〇一二三四五六七八九","十百千万",pI,i,0);case 25:return vl(e,"零壱弐参四伍六七八九","拾百千万",pI,i,dd|bc|wc);case 31:return vl(e,"영일이삼사오육칠팔구","십백천만",g2,a,dd|bc|wc);case 33:return vl(e,"零一二三四五六七八九","十百千萬",g2,a,0);case 32:return vl(e,"零壹貳參四五六七八九","拾百千",g2,a,dd|bc|wc);case 18:return Gr(e,2406,2415,!0,r);case 20:return nd(e,1,19999,Rce,3,r);case 21:return Gr(e,2790,2799,!0,r);case 22:return Gr(e,2662,2671,!0,r);case 22:return nd(e,1,10999,Oce,3,r);case 23:return pA(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return pA(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Gr(e,3302,3311,!0,r);case 28:return pA(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return pA(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Gr(e,3792,3801,!0,r);case 37:return Gr(e,6160,6169,!0,r);case 38:return Gr(e,4160,4169,!0,r);case 39:return Gr(e,2918,2927,!0,r);case 40:return Gr(e,1776,1785,!0,r);case 43:return Gr(e,3046,3055,!0,r);case 44:return Gr(e,3174,3183,!0,r);case 45:return Gr(e,3664,3673,!0,r);case 46:return Gr(e,3872,3881,!0,r);case 3:default:return Gr(e,48,57,!0,r)}},l6="data-html2canvas-ignore",gI=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Lce,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,i=Qce(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=i.contentWindow,c=l.document,A=zce(i).then(function(){return ma(r,void 0,void 0,function(){var u,d;return ta(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Gce),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,$ce(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,d)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(Kce(document.doctype)+"<html></html>"),Vce(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(dC(t,2))debugger;if(i6(t))return this.createCanvasClone(t);if(lI(t))return this.createVideoClone(t);if(cI(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return gC(n)&&(gC(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),AI(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return m2(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,r){(!xd(n)||!Uce(n)&&!n.hasAttribute(l6)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!xd(n)||!cI(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(xd(a)&&s6(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(n,l,r)})}else this.appendChildNode(n,a,r)},e.prototype.cloneNode=function(t,n){if(n6(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&xd(t)&&(pC(t)||r0(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=r.getComputedStyle(t),o=r.getComputedStyle(t,":before"),l=r.getComputedStyle(t,":after");this.referenceElement===t&&pC(i)&&(this.clonedReferenceElement=i),Q5(i)&&Xce(i);var c=this.counters.parse(new V3(this.context,a)),A=this.resolvePseudoContent(t,i,o,kp.BEFORE);AI(t)&&(n=!0),lI(t)||this.cloneChildNodes(t,i,n),A&&i.insertBefore(A,i.firstChild);var u=this.resolvePseudoContent(t,i,l,kp.AFTER);return u&&i.appendChild(u),this.counters.pop(c),(a&&(this.options.copyStyles||r0(t))&&!a6(t)||n)&&m2(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(H0(t)||$0(t))&&(H0(i)||$0(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,i){var a=this;if(r){var o=r.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new V3(this.context,r));var c=new Ple(this.context,r),A=l.createElement("html2canvaspseudoelement");m2(r,A),c.content.forEach(function(d){if(d.type===0)A.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",A.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(ir);f.length&&A.appendChild(l.createTextNode(t.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(nf),g=p[0],v=p[1];if(g&&ir(g)){var x=a.counters.getCounterValue(g.value),C=v&&ir(v)?uC.parse(a.context,v.value):3;A.appendChild(l.createTextNode(Gp(x,C,!1)))}}else if(d.name==="counters"){var b=d.values.filter(nf),g=b[0],w=b[1],v=b[2];if(g&&ir(g)){var E=a.counters.getCounterValues(g.value),S=v&&ir(v)?uC.parse(a.context,v.value):3,F=w&&w.type===0?w.value:"",N=E.map(function(j){return Gp(j,S,!1)}).join(F);A.appendChild(l.createTextNode(N))}}}else if(d.type===20)switch(d.value){case"open-quote":A.appendChild(l.createTextNode(K3(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":A.appendChild(l.createTextNode(K3(c.quotes,--a.quoteDepth,!1)));break;default:A.appendChild(l.createTextNode(d.value))}}),A.className=mC+" "+vC;var u=i===kp.BEFORE?" "+mC:" "+vC;return r0(n)?n.className.baseValue+=u:n.className+=u,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),kp;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(kp||(kp={}));var Qce=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(l6,"true"),e.body.appendChild(n),n},Hce=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},$ce=function(e){return Promise.all([].slice.call(e.images,0).map(Hce))},zce=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},Wce=["all","d","content"],m2=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);Wce.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Kce=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Vce=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Gce=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},qce=":before",Yce=":after",mC="___html2canvas___pseudoelement_before",vC="___html2canvas___pseudoelement_after",mI=`{
    content: "" !important;
    display: none !important;
}`,Xce=function(e){Jce(e,"."+mC+qce+mI+`
         .`+vC+Yce+mI)},Jce=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},c6=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Zce=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(y2(t)||rAe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ma(this,void 0,void 0,function(){var n,r,i,a,o=this;return ta(this,function(l){switch(l.label){case 0:return n=c6.isSameOrigin(t),r=!v2(t)&&this._options.useCORS===!0&&Ri.SUPPORT_CORS_IMAGES&&!n,i=!v2(t)&&!n&&!y2(t)&&typeof this._options.proxy=="string"&&Ri.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!v2(t)&&!y2(t)&&!i&&!r?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var u=new Image;u.onload=function(){return c(u)},u.onerror=A,(iAe(a)||r)&&(u.crossOrigin="anonymous"),u.src=a,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var l=Ri.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var A=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+A+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),n._options.imageTimeout){var u=n._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}c.send()})},e}(),eAe=/^data:image\/svg\+xml/i,tAe=/^data:image\/.*;base64,/i,nAe=/^data:image\/.*/i,rAe=function(e){return Ri.SUPPORT_SVG_DRAWING||!aAe(e)},v2=function(e){return nAe.test(e)},iAe=function(e){return tAe.test(e)},y2=function(e){return e.substr(0,4)==="blob"},aAe=function(e){return e.substr(-3).toLowerCase()==="svg"||eAe.test(e)},Dt=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),rd=function(e,t,n){return new Dt(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},fv=function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=rd(this.start,this.startControl,t),i=rd(this.startControl,this.endControl,t),a=rd(this.endControl,this.end,t),o=rd(r,i,t),l=rd(i,a,t),c=rd(o,l,t);return n?new e(this.start,r,o,c):new e(c,l,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Fs=function(e){return e.type===1},sAe=function(){function e(t){var n=t.styles,r=t.bounds,i=ap(n.borderTopLeftRadius,r.width,r.height),a=i[0],o=i[1],l=ap(n.borderTopRightRadius,r.width,r.height),c=l[0],A=l[1],u=ap(n.borderBottomRightRadius,r.width,r.height),d=u[0],h=u[1],f=ap(n.borderBottomLeftRadius,r.width,r.height),p=f[0],g=f[1],v=[];v.push((a+c)/r.width),v.push((p+d)/r.width),v.push((o+g)/r.height),v.push((A+h)/r.height);var x=Math.max.apply(Math,v);x>1&&(a/=x,o/=x,c/=x,A/=x,d/=x,h/=x,p/=x,g/=x);var C=r.width-c,b=r.height-h,w=r.width-d,E=r.height-g,S=n.borderTopWidth,F=n.borderRightWidth,N=n.borderBottomWidth,P=n.borderLeftWidth,Q=fr(n.paddingTop,t.bounds.width),j=fr(n.paddingRight,t.bounds.width),k=fr(n.paddingBottom,t.bounds.width),T=fr(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Br(r.left+P/3,r.top+S/3,a-P/3,o-S/3,Vn.TOP_LEFT):new Dt(r.left+P/3,r.top+S/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Br(r.left+C,r.top+S/3,c-F/3,A-S/3,Vn.TOP_RIGHT):new Dt(r.left+r.width-F/3,r.top+S/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Br(r.left+w,r.top+b,d-F/3,h-N/3,Vn.BOTTOM_RIGHT):new Dt(r.left+r.width-F/3,r.top+r.height-N/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?Br(r.left+P/3,r.top+E,p-P/3,g-N/3,Vn.BOTTOM_LEFT):new Dt(r.left+P/3,r.top+r.height-N/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Br(r.left+P*2/3,r.top+S*2/3,a-P*2/3,o-S*2/3,Vn.TOP_LEFT):new Dt(r.left+P*2/3,r.top+S*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Br(r.left+C,r.top+S*2/3,c-F*2/3,A-S*2/3,Vn.TOP_RIGHT):new Dt(r.left+r.width-F*2/3,r.top+S*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Br(r.left+w,r.top+b,d-F*2/3,h-N*2/3,Vn.BOTTOM_RIGHT):new Dt(r.left+r.width-F*2/3,r.top+r.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?Br(r.left+P*2/3,r.top+E,p-P*2/3,g-N*2/3,Vn.BOTTOM_LEFT):new Dt(r.left+P*2/3,r.top+r.height-N*2/3),this.topLeftBorderStroke=a>0||o>0?Br(r.left+P/2,r.top+S/2,a-P/2,o-S/2,Vn.TOP_LEFT):new Dt(r.left+P/2,r.top+S/2),this.topRightBorderStroke=a>0||o>0?Br(r.left+C,r.top+S/2,c-F/2,A-S/2,Vn.TOP_RIGHT):new Dt(r.left+r.width-F/2,r.top+S/2),this.bottomRightBorderStroke=d>0||h>0?Br(r.left+w,r.top+b,d-F/2,h-N/2,Vn.BOTTOM_RIGHT):new Dt(r.left+r.width-F/2,r.top+r.height-N/2),this.bottomLeftBorderStroke=p>0||g>0?Br(r.left+P/2,r.top+E,p-P/2,g-N/2,Vn.BOTTOM_LEFT):new Dt(r.left+P/2,r.top+r.height-N/2),this.topLeftBorderBox=a>0||o>0?Br(r.left,r.top,a,o,Vn.TOP_LEFT):new Dt(r.left,r.top),this.topRightBorderBox=c>0||A>0?Br(r.left+C,r.top,c,A,Vn.TOP_RIGHT):new Dt(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||h>0?Br(r.left+w,r.top+b,d,h,Vn.BOTTOM_RIGHT):new Dt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||g>0?Br(r.left,r.top+E,p,g,Vn.BOTTOM_LEFT):new Dt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?Br(r.left+P,r.top+S,Math.max(0,a-P),Math.max(0,o-S),Vn.TOP_LEFT):new Dt(r.left+P,r.top+S),this.topRightPaddingBox=c>0||A>0?Br(r.left+Math.min(C,r.width-F),r.top+S,C>r.width+F?0:Math.max(0,c-F),Math.max(0,A-S),Vn.TOP_RIGHT):new Dt(r.left+r.width-F,r.top+S),this.bottomRightPaddingBox=d>0||h>0?Br(r.left+Math.min(w,r.width-P),r.top+Math.min(b,r.height-N),Math.max(0,d-F),Math.max(0,h-N),Vn.BOTTOM_RIGHT):new Dt(r.left+r.width-F,r.top+r.height-N),this.bottomLeftPaddingBox=p>0||g>0?Br(r.left+P,r.top+Math.min(E,r.height-N),Math.max(0,p-P),Math.max(0,g-N),Vn.BOTTOM_LEFT):new Dt(r.left+P,r.top+r.height-N),this.topLeftContentBox=a>0||o>0?Br(r.left+P+T,r.top+S+Q,Math.max(0,a-(P+T)),Math.max(0,o-(S+Q)),Vn.TOP_LEFT):new Dt(r.left+P+T,r.top+S+Q),this.topRightContentBox=c>0||A>0?Br(r.left+Math.min(C,r.width+P+T),r.top+S+Q,C>r.width+P+T?0:c-P+T,A-(S+Q),Vn.TOP_RIGHT):new Dt(r.left+r.width-(F+j),r.top+S+Q),this.bottomRightContentBox=d>0||h>0?Br(r.left+Math.min(w,r.width-(P+T)),r.top+Math.min(b,r.height+S+Q),Math.max(0,d-(F+j)),h-(N+k),Vn.BOTTOM_RIGHT):new Dt(r.left+r.width-(F+j),r.top+r.height-(N+k)),this.bottomLeftContentBox=p>0||g>0?Br(r.left+P+T,r.top+E,Math.max(0,p-(P+T)),g-(N+k),Vn.BOTTOM_LEFT):new Dt(r.left+P+T,r.top+r.height-(N+k))}return e}(),Vn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Vn||(Vn={}));var Br=function(e,t,n,r,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,l=r*a,c=e+n,A=t+r;switch(i){case Vn.TOP_LEFT:return new fv(new Dt(e,A),new Dt(e,A-l),new Dt(c-o,t),new Dt(c,t));case Vn.TOP_RIGHT:return new fv(new Dt(e,t),new Dt(e+o,t),new Dt(c,A-l),new Dt(c,A));case Vn.BOTTOM_RIGHT:return new fv(new Dt(c,t),new Dt(c,t+l),new Dt(e+o,A),new Dt(e,A));case Vn.BOTTOM_LEFT:default:return new fv(new Dt(c,A),new Dt(c-o,A),new Dt(e,t+l),new Dt(e,t))}},z0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},oAe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},W0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},lAe=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),hv=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),cAe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),AAe=function(e){return e.type===0},A6=function(e){return e.type===1},uAe=function(e){return e.type===2},vI=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},dAe=function(e,t,n,r,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+i);case 3:return a.add(t,n+i)}return a})},u6=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),d6=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new sAe(this.container),this.container.styles.opacity<1&&this.effects.push(new cAe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new lAe(r,i,a))}if(this.container.styles.overflowX!==0){var o=z0(this.curves),l=W0(this.curves);vI(o,l)?this.effects.push(new hv(o,6)):(this.effects.push(new hv(o,2)),this.effects.push(new hv(l,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(c){return!A6(c)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=z0(r.curves),l=W0(r.curves);vI(o,l)||i.unshift(new hv(l,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(c){return yi(c.target,t)})},e}(),yC=function(e,t,n,r){e.container.elements.forEach(function(i){var a=yi(i.flags,4),o=yi(i.flags,2),l=new d6(i,e);yi(i.styles.display,2048)&&r.push(l);var c=yi(i.flags,8)?[]:r;if(a||o){var A=a||i.styles.isPositioned()?n:t,u=new u6(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var h=0;A.negativeZIndex.some(function(p,g){return d>p.element.container.styles.zIndex.order?(h=g,!1):h>0}),A.negativeZIndex.splice(h,0,u)}else if(d>0){var f=0;A.positiveZIndex.some(function(p,g){return d>=p.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),A.positiveZIndex.splice(f,0,u)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?A.nonPositionedFloats.push(u):A.nonPositionedInlineLevel.push(u);yC(l,u,a?u:n,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),yC(l,t,n,c);yi(i.flags,8)&&f6(i,c)})},f6=function(e,t){for(var n=e instanceof hC?e.start:1,r=e instanceof hC?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof YM&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Gp(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},fAe=function(e){var t=new d6(e,null),n=new u6(t),r=[];return yC(t,n,n,r),f6(t.container,r),n},yI=function(e,t){switch(t){case 0:return Us(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Us(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Us(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Us(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},hAe=function(e,t){switch(t){case 0:return Us(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Us(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Us(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Us(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},pAe=function(e,t){switch(t){case 0:return Us(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Us(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Us(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Us(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},gAe=function(e,t){switch(t){case 0:return pv(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return pv(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return pv(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return pv(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},pv=function(e,t){var n=[];return Fs(e)?n.push(e.subdivide(.5,!1)):n.push(e),Fs(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Us=function(e,t,n,r){var i=[];return Fs(e)?i.push(e.subdivide(.5,!1)):i.push(e),Fs(n)?i.push(n.subdivide(.5,!0)):i.push(n),Fs(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Fs(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},h6=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},K0=function(e){var t=e.styles,n=e.bounds,r=fr(t.paddingLeft,n.width),i=fr(t.paddingRight,n.width),a=fr(t.paddingTop,n.width),o=fr(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},mAe=function(e,t){return e===0?t.bounds:e===2?K0(t):h6(t)},vAe=function(e,t){return e===0?t.bounds:e===2?K0(t):h6(t)},x2=function(e,t,n){var r=mAe(fd(e.styles.backgroundOrigin,t),e),i=vAe(fd(e.styles.backgroundClip,t),e),a=yAe(fd(e.styles.backgroundSize,t),n,r),o=a[0],l=a[1],c=ap(fd(e.styles.backgroundPosition,t),r.width-o,r.height-l),A=xAe(fd(e.styles.backgroundRepeat,t),c,a,r,i),u=Math.round(r.left+c[0]),d=Math.round(r.top+c[1]);return[A,u,d,o,l]},id=function(e){return ir(e)&&e.value===Dd.AUTO},gv=function(e){return typeof e=="number"},yAe=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(ui(o)&&l&&ui(l))return[fr(o,n.width),fr(l,n.height)];var c=gv(a);if(ir(o)&&(o.value===Dd.CONTAIN||o.value===Dd.COVER)){if(gv(a)){var A=n.width/n.height;return A<a!=(o.value===Dd.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var u=gv(r),d=gv(i),h=u||d;if(id(o)&&(!l||id(l))){if(u&&d)return[r,i];if(!c&&!h)return[n.width,n.height];if(h&&c){var f=u?r:i*a,p=d?i:r/a;return[f,p]}var g=u?r:n.width,v=d?i:n.height;return[g,v]}if(c){var x=0,C=0;return ui(o)?x=fr(o,n.width):ui(l)&&(C=fr(l,n.height)),id(o)?x=C*a:(!l||id(l))&&(C=x/a),[x,C]}var b=null,w=null;if(ui(o)?b=fr(o,n.width):l&&ui(l)&&(w=fr(l,n.height)),b!==null&&(!l||id(l))&&(w=u&&d?b/r*i:n.height),w!==null&&id(o)&&(b=u&&d?w/i*r:n.width),b!==null&&w!==null)return[b,w];throw new Error("Unable to calculate background-size for element")},fd=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},xAe=function(e,t,n,r,i){var a=t[0],o=t[1],l=n[0],c=n[1];switch(e){case 2:return[new Dt(Math.round(r.left),Math.round(r.top+o)),new Dt(Math.round(r.left+r.width),Math.round(r.top+o)),new Dt(Math.round(r.left+r.width),Math.round(c+r.top+o)),new Dt(Math.round(r.left),Math.round(c+r.top+o))];case 3:return[new Dt(Math.round(r.left+a),Math.round(r.top)),new Dt(Math.round(r.left+a+l),Math.round(r.top)),new Dt(Math.round(r.left+a+l),Math.round(r.height+r.top)),new Dt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Dt(Math.round(r.left+a),Math.round(r.top+o)),new Dt(Math.round(r.left+a+l),Math.round(r.top+o)),new Dt(Math.round(r.left+a+l),Math.round(r.top+o+c)),new Dt(Math.round(r.left+a),Math.round(r.top+o+c))];default:return[new Dt(Math.round(i.left),Math.round(i.top)),new Dt(Math.round(i.left+i.width),Math.round(i.top)),new Dt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Dt(Math.round(i.left),Math.round(i.height+i.top))]}},bAe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",xI="Hidden Text",wAe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=bAe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(xI)),r.appendChild(a),r.appendChild(i);var l=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(xI)),r.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),p6=function(){function e(t,n){this.context=t,this.options=n}return e}(),CAe=1e4,BAe=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new wAe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),uAe(n)&&(this.ctx.globalAlpha=n.opacity),AAe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),A6(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return ma(this,void 0,void 0,function(){var r;return ta(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return ma(this,void 0,void 0,function(){return ta(this,function(r){switch(r.label){case 0:if(yi(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=O5(n.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,n.bounds.top+i),l+a.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=IAe(n.fontFamily).join(", "),a=Tg(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(n,r){return ma(this,void 0,void 0,function(){var i,a,o,l,c,A,u,d,h=this;return ta(this,function(f){return i=this.createFontStyle(r),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),A=c.baseline,u=c.middle,d=r.paintOrder,n.textBounds.forEach(function(p){d.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=Ei(r.color),h.renderTextWithLetterSpacing(p,r.letterSpacing,A);var v=r.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(x){h.ctx.shadowColor=Ei(x.color),h.ctx.shadowOffsetX=x.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=x.offsetY.number*h.options.scale,h.ctx.shadowBlur=x.blur.number,h.renderTextWithLetterSpacing(p,r.letterSpacing,A)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),r.textDecorationLine.length&&(h.ctx.fillStyle=Ei(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+A),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=Ei(r.webkitTextStrokeColor),h.ctx.lineWidth=r.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+A)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=K0(n),o=W0(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return ma(this,void 0,void 0,function(){var r,i,a,o,l,c,C,C,A,u,d,h,w,f,p,E,g,v,x,C,b,w,E;return ta(this,function(S){switch(S.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,o=0,l=r.textNodes,S.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:S.sent(),S.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof VM))return[3,8];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return C=S.sent(),this.renderReplacedElement(r,i,C),[3,8];case 7:return S.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof GM&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof qM))return[3,12];S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return C=S.sent(),this.renderReplacedElement(r,i,C),[3,12];case 11:return S.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof ZM&&r.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,A.render(r.tree)]):[3,14];case 13:u=S.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),S.label=14;case 14:if(r instanceof R5&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===R0?r.checked&&(this.ctx.save(),this.path([new Dt(r.bounds.left+d*.39363,r.bounds.top+d*.79),new Dt(r.bounds.left+d*.16,r.bounds.top+d*.5549),new Dt(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new Dt(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new Dt(r.bounds.left+d*.72983,r.bounds.top+d*.23),new Dt(r.bounds.left+d*.84,r.bounds.top+d*.34085),new Dt(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=Ei(oI),this.ctx.fill(),this.ctx.restore()):r.type===Q0&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ei(oI),this.ctx.fill(),this.ctx.restore())),SAe(r)&&r.value.length){switch(h=this.createFontStyle(a),w=h[0],f=h[1],p=this.fontMetrics.getMetrics(w,f).baseline,this.ctx.font=w,this.ctx.fillStyle=Ei(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=EAe(r.styles.textAlign),E=K0(r),g=0,r.styles.textAlign){case 1:g+=E.width/2;break;case 2:g+=E.width;break}v=E.add(g,0,0,-E.height/2+1),this.ctx.save(),this.path([new Dt(E.left,E.top),new Dt(E.left+E.width,E.top),new Dt(E.left+E.width,E.top+E.height),new Dt(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ep(r.value,v),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!yi(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];C=void 0,b=x.url,S.label=15;case 15:return S.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return C=S.sent(),this.ctx.drawImage(C,r.bounds.left-(C.width+10),r.bounds.top),[3,18];case 17:return S.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=Ei(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new Ml(r.bounds.left,r.bounds.top+fr(r.styles.paddingTop,r.bounds.width),r.bounds.width,z3(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ep(n.listValue,E),a.letterSpacing,z3(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),S.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return ma(this,void 0,void 0,function(){var r,i,x,a,o,x,l,c,x,A,u,x,d,h,x,f,p,x,g,v,x;return ta(this,function(C){switch(C.label){case 0:if(yi(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:C.sent(),r=0,i=n.negativeZIndex,C.label=2;case 2:return r<i.length?(x=i[r],[4,this.renderStack(x)]):[3,5];case 3:C.sent(),C.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:C.sent(),a=0,o=n.nonInlineLevel,C.label=7;case 7:return a<o.length?(x=o[a],[4,this.renderNode(x)]):[3,10];case 8:C.sent(),C.label=9;case 9:return a++,[3,7];case 10:l=0,c=n.nonPositionedFloats,C.label=11;case 11:return l<c.length?(x=c[l],[4,this.renderStack(x)]):[3,14];case 12:C.sent(),C.label=13;case 13:return l++,[3,11];case 14:A=0,u=n.nonPositionedInlineLevel,C.label=15;case 15:return A<u.length?(x=u[A],[4,this.renderStack(x)]):[3,18];case 16:C.sent(),C.label=17;case 17:return A++,[3,15];case 18:d=0,h=n.inlineLevel,C.label=19;case 19:return d<h.length?(x=h[d],[4,this.renderNode(x)]):[3,22];case 20:C.sent(),C.label=21;case 21:return d++,[3,19];case 22:f=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,C.label=23;case 23:return f<p.length?(x=p[f],[4,this.renderStack(x)]):[3,26];case 24:C.sent(),C.label=25;case 25:return f++,[3,23];case 26:g=0,v=n.positiveZIndex,C.label=27;case 27:return g<v.length?(x=v[g],[4,this.renderStack(x)]):[3,30];case 28:C.sent(),C.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var o=Fs(i)?i.start:i;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Fs(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,i),l},t.prototype.renderBackgroundImage=function(n){return ma(this,void 0,void 0,function(){var r,i,a,o,l,c;return ta(this,function(A){switch(A.label){case 0:r=n.styles.backgroundImage.length-1,i=function(u){var d,h,f,Q,H,z,T,D,N,p,Q,H,z,T,D,g,v,x,C,b,w,E,S,F,N,P,Q,j,k,T,D,R,H,z,V,J,te,Ae,U,O,M,L;return ta(this,function(W){switch(W.label){case 0:if(u.type!==0)return[3,5];d=void 0,h=u.url,W.label=1;case 1:return W.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return d=W.sent(),[3,4];case 3:return W.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=x2(n,r,[d.width,d.height,d.width/d.height]),Q=f[0],H=f[1],z=f[2],T=f[3],D=f[4],N=a.ctx.createPattern(a.resizeImage(d,T,D),"repeat"),a.renderRepeat(Q,N,H,z)),[3,6];case 5:Aoe(u)?(p=x2(n,r,[null,null,null]),Q=p[0],H=p[1],z=p[2],T=p[3],D=p[4],g=aoe(u.angle,T,D),v=g[0],x=g[1],C=g[2],b=g[3],w=g[4],E=document.createElement("canvas"),E.width=T,E.height=D,S=E.getContext("2d"),F=S.createLinearGradient(x,b,C,w),H3(u.stops,v).forEach(function(G){return F.addColorStop(G.stop,Ei(G.color))}),S.fillStyle=F,S.fillRect(0,0,T,D),T>0&&D>0&&(N=a.ctx.createPattern(E,"repeat"),a.renderRepeat(Q,N,H,z))):uoe(u)&&(P=x2(n,r,[null,null,null]),Q=P[0],j=P[1],k=P[2],T=P[3],D=P[4],R=u.position.length===0?[M5]:u.position,H=fr(R[0],T),z=fr(R[R.length-1],D),V=soe(u,H,z,T,D),J=V[0],te=V[1],J>0&&te>0&&(Ae=a.ctx.createRadialGradient(j+H,k+z,0,j+H,k+z,J),H3(u.stops,J*2).forEach(function(G){return Ae.addColorStop(G.stop,Ei(G.color))}),a.path(Q),a.ctx.fillStyle=Ae,J!==te?(U=n.bounds.left+.5*n.bounds.width,O=n.bounds.top+.5*n.bounds.height,M=te/J,L=1/M,a.ctx.save(),a.ctx.translate(U,O),a.ctx.transform(1,0,0,M,0,0),a.ctx.translate(-U,-O),a.ctx.fillRect(j,L*(k-O)+O,T,D*L),a.ctx.restore()):a.ctx.fill())),W.label=6;case 6:return r--,[2]}})},a=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<l.length?(c=l[o],[5,i(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return ma(this,void 0,void 0,function(){return ta(this,function(a){return this.path(yI(i,r)),this.ctx.fillStyle=Ei(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,a){return ma(this,void 0,void 0,function(){var o,l;return ta(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=hAe(a,i),this.path(o),this.ctx.fillStyle=Ei(n),this.ctx.fill(),l=pAe(a,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return ma(this,void 0,void 0,function(){var r,i,a,o,l,c,A,u,d=this;return ta(this,function(h){switch(h.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Uc(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=jAe(fd(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Uc(r.backgroundColor)||(this.ctx.fillStyle=Ei(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var p=z0(n.curves),g=f.inset?0:CAe,v=dAe(p,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(p),d.ctx.clip(),d.mask(v)):(d.mask(p),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=f.offsetX.number+g,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=Ei(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?Ei(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,A=a,h.label=3;case 3:return c<A.length?(u=A[c],u.style!==0&&!Uc(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,n.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,n.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,n.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,a,o){return ma(this,void 0,void 0,function(){var l,c,A,u,d,h,f,p,g,v,x,C,b,w,E,S,E,S;return ta(this,function(F){return this.ctx.save(),l=gAe(a,i),c=yI(a,i),o===2&&(this.path(c),this.ctx.clip()),Fs(c[0])?(A=c[0].start.x,u=c[0].start.y):(A=c[0].x,u=c[0].y),Fs(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),i===0||i===2?f=Math.abs(A-d):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),p=r<3?r*3:r*2,g=r<3?r*2:r,o===3&&(p=r,g=r),v=!0,f<=p*2?v=!1:f<=p*2+g?(x=f/(2*p+g),p*=x,g*=x):(C=Math.floor((f+g)/(p+g)),b=(f-C*p)/(C-1),w=(f-(C+1)*p)/C,g=w<=0||Math.abs(g-b)<Math.abs(g-w)?b:w),v&&(o===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ei(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Fs(c[0])&&(E=c[3],S=c[0],this.ctx.beginPath(),this.formatPath([new Dt(E.end.x,E.end.y),new Dt(S.start.x,S.start.y)]),this.ctx.stroke()),Fs(c[1])&&(E=c[1],S=c[2],this.ctx.beginPath(),this.formatPath([new Dt(E.end.x,E.end.y),new Dt(S.start.x,S.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return ma(this,void 0,void 0,function(){var r;return ta(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ei(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=fAe(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(p6),SAe=function(e){return e instanceof JM||e instanceof XM?!0:e instanceof R5&&e.type!==Q0&&e.type!==R0},jAe=function(e,t){switch(e){case 0:return z0(t);case 2:return oAe(t);case 1:default:return W0(t)}},EAe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},kAe=["-apple-system","system-ui"],IAe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return kAe.indexOf(t)===-1}):e},TAe=function(e){bo(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return ma(this,void 0,void 0,function(){var r,i;return ta(this,function(a){switch(a.label){case 0:return r=fC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,NAe(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ei(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(p6),NAe=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},FAe=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Gm([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Gm([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Gm([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Gm([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),PAe=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new FAe({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new Zce(this,t)}return e.instanceCount=1,e}(),g6=function(e,t){return t===void 0&&(t={}),_Ae(e,t)};typeof window<"u"&&c6.setContext(window);var _Ae=function(e,t){return ma(void 0,void 0,void 0,function(){var n,r,i,a,o,l,c,A,u,d,h,f,p,g,v,x,C,b,w,E,F,S,F,N,P,Q,j,k,T,D,R,H,z,V,J,te,Ae,U,O,M;return ta(this,function(L){switch(L.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(N=t.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(P=t.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:t.proxy,useCORS:(Q=t.useCORS)!==null&&Q!==void 0?Q:!1},a=Jw({logging:(j=t.logging)!==null&&j!==void 0?j:!0,cache:t.cache},i),o={windowWidth:(k=t.windowWidth)!==null&&k!==void 0?k:r.innerWidth,windowHeight:(T=t.windowHeight)!==null&&T!==void 0?T:r.innerHeight,scrollX:(D=t.scrollX)!==null&&D!==void 0?D:r.pageXOffset,scrollY:(R=t.scrollY)!==null&&R!==void 0?R:r.pageYOffset},l=new Ml(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new PAe(a,l),A=(H=t.foreignObjectRendering)!==null&&H!==void 0?H:!1,u={allowTaint:(z=t.allowTaint)!==null&&z!==void 0?z:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new gI(c,e,u),h=d.clonedReferenceElement,h?[4,d.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=L.sent(),p=Q5(h)||Mce(h)?dae(h.ownerDocument):Lx(c,h),g=p.width,v=p.height,x=p.left,C=p.top,b=DAe(c,h,t.backgroundColor),w={canvas:t.canvas,backgroundColor:b,scale:(J=(V=t.scale)!==null&&V!==void 0?V:r.devicePixelRatio)!==null&&J!==void 0?J:1,x:((te=t.x)!==null&&te!==void 0?te:0)+x,y:((Ae=t.y)!==null&&Ae!==void 0?Ae:0)+C,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(g),height:(O=t.height)!==null&&O!==void 0?O:Math.ceil(v)},A?(c.logger.debug("Document cloned, using foreign object rendering"),F=new TAe(c,w),[4,F.render(h)]):[3,3];case 2:return E=L.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+C+" with size "+g+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),S=t6(c,h),b===S.styles.backgroundColor&&(S.styles.backgroundColor=kl.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),F=new BAe(c,w),[4,F.render(S)];case 4:E=L.sent(),L.label=5;case 5:return(!((M=t.removeContainer)!==null&&M!==void 0)||M)&&(gI.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,E]}})})},DAe=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Sp(e,getComputedStyle(r.documentElement).backgroundColor):kl.TRANSPARENT,a=r.body?Sp(e,getComputedStyle(r.body).backgroundColor):kl.TRANSPARENT,o=typeof n=="string"?Sp(e,n):n===null?kl.TRANSPARENT:4294967295;return t===r.documentElement?Uc(i)?Uc(a)?o:a:i:o};const MAe=Object.freeze(Object.defineProperty({__proto__:null,default:g6},Symbol.toStringTag,{value:"Module"})),Oh=({title:e,value:t,icon:n,change:r,isPositive:i,description:a})=>s.jsxs("div",{className:"stat-card",style:{position:"relative"},children:[s.jsxs("div",{className:"stat-header",children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx("span",{className:"stat-label",children:e}),a&&s.jsx("span",{style:{fontSize:"11px",color:"var(--light-gray)",lineHeight:"1.3",maxWidth:"200px"},children:a})]}),s.jsx("div",{className:"stat-icon",children:n})]}),s.jsx("div",{className:"stat-value",children:t}),r!=null&&s.jsxs("div",{className:`stat-change ${i?"":"negative"}`,children:[i?s.jsx(fre,{fontSize:"small"}):s.jsx(ure,{fontSize:"small"}),r]})]});function UAe(){var j,k;const{currentUser:e,admin:t}=er(),{isSuperAdmin:n}=ri();if((t==null?void 0:t.role)==="trainer")return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",gap:"16px"},children:[s.jsx("h2",{style:{color:"var(--dark)"},children:"Доступ запрещен"}),s.jsx("p",{style:{color:"var(--gray)"},children:"У вас нет прав для просмотра этой страницы"})]});const[r,i]=y.useState(null),[a,o]=y.useState(!1),[l,c]=y.useState(!1),[A,u]=y.useState([]),[d,h]=y.useState({todayBookings:0,todayRevenue:0,todayIncome:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,incomeChange:0,utilizationChange:0}),[f,p]=y.useState(!0),[g,v]=y.useState([]),[x,C]=y.useState("all"),[b,w]=y.useState("");y.useEffect(()=>{(async()=>{if(n)await E(),x==="all"?await S():await F(x);else if(t!=null&&t.venueId){i(t.venueId);try{const D=await fn(wt(_e,"venues",t.venueId));if(D.exists()){const R=D.data();w(R.name||""),v([{id:t.venueId,name:R.name||""}])}}catch(D){console.error("Error loading venue data:",D)}await F(t.venueId)}p(!1)})()},[e,t,n,x]);const E=async()=>{try{const T=qt(Ct(_e,"venues"),vt("status","==","active")),R=(await Mt(T)).docs.map(H=>({id:H.id,name:H.data().name}));v(R)}catch(T){console.error("Error loading venues:",T)}},S=async()=>{var T;try{const D=new Date,R=new Date(D.getFullYear(),D.getMonth(),D.getDate()),H=new Date(D.getFullYear(),D.getMonth(),D.getDate(),23,59,59);let z=g;if(z.length===0){const ne=qt(Ct(_e,"venues"),vt("status","==","active"));z=(await Mt(ne)).docs.map(fe=>({id:fe.id,name:fe.data().name}))}const V=qt(Ct(_e,"bookings")),J=await Mt(V),te=J.docs.filter(ne=>{var ie,Te;const oe=ne.data(),fe=(Te=(ie=oe.date)==null?void 0:ie.toDate)==null?void 0:Te.call(ie);return fe?fe>=R&&fe<=H&&oe.status==="confirmed":!1}),Ae=te.filter(ne=>ne.data().paymentStatus==="paid"),U=te.length,O=Ae.reduce((ne,oe)=>ne+(oe.data().amount||0),0),M=J.docs.sort((ne,oe)=>{var Te,be,xe,Ne,Fe,He,Ge,lt;const fe=((be=(Te=ne.data().createdAt)==null?void 0:Te.toDate)==null?void 0:be.call(Te))||((Ne=(xe=ne.data().date)==null?void 0:xe.toDate)==null?void 0:Ne.call(xe))||new Date(0);return(((He=(Fe=oe.data().createdAt)==null?void 0:Fe.toDate)==null?void 0:He.call(Fe))||((lt=(Ge=oe.data().date)==null?void 0:Ge.toDate)==null?void 0:lt.call(Ge))||new Date(0)).getTime()-fe.getTime()}).slice(0,10),L=[];for(const ne of M){const oe=ne.data();let fe="",ie="Корт";if(oe.venueId){const Te=z.find(be=>be.id===oe.venueId);if(fe=(Te==null?void 0:Te.name)||"",oe.courtId)try{const be=await fn(wt(_e,"venues",oe.venueId,"courts",oe.courtId));be.exists()&&(ie=be.data().name)}catch(be){console.error("Error fetching court:",be)}}L.push({id:ne.id,clientName:oe.clientName||oe.customerName||"Неизвестный клиент",courtName:fe?`${fe} - ${ie}`:ie,date:((T=oe.date)==null?void 0:T.toDate())||new Date,startTime:oe.startTime||oe.time||"",endTime:oe.endTime||"",status:oe.status||"pending",paymentStatus:oe.paymentStatus,amount:oe.amount||0})}u(L);let W=0;for(const ne of z){const oe=qt(Ct(_e,"venues",ne.id,"courts"),vt("status","==","active")),fe=await Mt(oe);W+=fe.size}const G=W*16,se=G>0?Math.round(U/G*100):0,X=new Date;X.setDate(X.getDate()-30);const ge=J.docs.filter(ne=>{var ie,Te;const fe=(Te=(ie=ne.data().date)==null?void 0:ie.toDate)==null?void 0:Te.call(ie);return fe&&fe>=X}),ce=new Set(ge.map(ne=>ne.data().clientPhone||ne.data().customerPhone)),Y=J.docs.reduce((ne,oe)=>{var be,xe;const fe=oe.data(),Te=(fe.paymentHistory||[]).some(Ne=>{var Fe,He;if(Ne.action==="paid"||Ne.action==="payment_completed"){const Ge=((He=(Fe=Ne.timestamp)==null?void 0:Fe.toDate)==null?void 0:He.call(Fe))||new Date(Ne.timestamp);return Ge>=R&&Ge<=H}return!1});if(!Te&&fe.paymentStatus==="paid"){const Ne=((xe=(be=fe.createdAt)==null?void 0:be.toDate)==null?void 0:xe.call(be))||new Date(fe.createdAt);if(Ne>=R&&Ne<=H)return ne+(fe.amount||0)}return Te?ne+(fe.amount||0):ne},0);h({todayBookings:U,todayRevenue:O,todayIncome:Y,utilization:se,activeCustomers:ce.size,bookingsChange:15,revenueChange:10,incomeChange:8,utilizationChange:-3})}catch(D){console.error("Error loading all venues data:",D)}},F=async T=>{var D,R;try{const H=new Date,z=new Date(H.getFullYear(),H.getMonth(),H.getDate()),V=new Date(H.getFullYear(),H.getMonth(),H.getDate(),23,59,59),J=qt(Ct(_e,"bookings"),vt("venueId","==",T)),Ae=(await Mt(J)).docs.map(be=>({id:be.id,...be.data()})).sort((be,xe)=>{var He,Ge,lt,bt,Ze,ye,Ue,ke;const Ne=((Ge=(He=be.createdAt)==null?void 0:He.toDate)==null?void 0:Ge.call(He))||((bt=(lt=be.date)==null?void 0:lt.toDate)==null?void 0:bt.call(lt))||new Date(0);return(((ye=(Ze=xe.createdAt)==null?void 0:Ze.toDate)==null?void 0:ye.call(Ze))||((ke=(Ue=xe.date)==null?void 0:Ue.toDate)==null?void 0:ke.call(Ue))||new Date(0)).getTime()-Ne.getTime()}).slice(0,5),U=[];for(const be of Ae){let xe=be.courtName||"Корт";if(be.courtId&&!be.courtName)try{const Ne=await fn(wt(_e,"venues",T,"courts",be.courtId));Ne.exists()&&(xe=Ne.data().name)}catch(Ne){console.error("Error fetching court:",Ne)}U.push({id:be.id,clientName:be.clientName||be.customerName||"Неизвестный клиент",courtName:xe,date:((R=(D=be.date)==null?void 0:D.toDate)==null?void 0:R.call(D))||new Date,startTime:be.startTime||be.time||"",endTime:be.endTime||"",status:be.status||"pending",paymentStatus:be.paymentStatus,amount:be.amount||0})}u(U);const O=qt(Ct(_e,"bookings"),vt("venueId","==",T)),M=await Mt(O),L=M.docs.filter(be=>{var Fe,He;const xe=be.data(),Ne=(He=(Fe=xe.date)==null?void 0:Fe.toDate)==null?void 0:He.call(Fe);return Ne?Ne>=z&&Ne<=V&&xe.status==="confirmed":!1}),W=L.filter(be=>be.data().paymentStatus==="paid"),G=L.length,se=W.reduce((be,xe)=>be+(xe.data().amount||0),0),X=qt(Ct(_e,"venues",T,"courts"),vt("status","==","active")),Y=(await Mt(X)).size*16,ne=Y>0?Math.round(G/Y*100):0,oe=new Date;oe.setDate(oe.getDate()-30);const fe=M.docs.filter(be=>{var Fe,He;const Ne=(He=(Fe=be.data().date)==null?void 0:Fe.toDate)==null?void 0:He.call(Fe);return Ne&&Ne>=oe}),ie=new Set(fe.map(be=>be.data().clientPhone||be.data().customerPhone)),Te=M.docs.reduce((be,xe)=>{var Ge,lt;const Ne=xe.data(),He=(Ne.paymentHistory||[]).some(bt=>{var Ze,ye;if(bt.action==="paid"||bt.action==="payment_completed"){const Ue=((ye=(Ze=bt.timestamp)==null?void 0:Ze.toDate)==null?void 0:ye.call(Ze))||new Date(bt.timestamp);return Ue>=z&&Ue<=V}return!1});if(!He&&Ne.paymentStatus==="paid"){const bt=((lt=(Ge=Ne.createdAt)==null?void 0:Ge.toDate)==null?void 0:lt.call(Ge))||new Date(Ne.createdAt);if(bt>=z&&bt<=V)return be+(Ne.amount||0)}return He?be+(Ne.amount||0):be},0);h({todayBookings:G,todayRevenue:se,todayIncome:Te,utilization:ne,activeCustomers:ie.size,bookingsChange:12,revenueChange:8,incomeChange:5,utilizationChange:-5})}catch(H){console.error("Error loading dashboard data:",H)}},N=()=>{const T=n?x:r;return!T||T==="all"?"":`https://allcourt.ru/club/${T}`},P=()=>{const T=N();T&&(navigator.clipboard.writeText(T),c(!0),setTimeout(()=>c(!1),2e3))},Q=async()=>{const T=N();if(T)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:T})}catch(D){console.log("Share failed:",D)}else P()};return f?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:s.jsx("div",{children:"Загрузка..."})}):s.jsxs("div",{children:[n&&s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),s.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:T=>C(T.target.value),children:[s.jsx("option",{value:"all",children:"Все клубы"}),g.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]})]})})}),(r&&!n||n&&x!=="all")&&s.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[s.jsx("div",{className:"section-header",children:s.jsxs("h2",{className:"section-title",children:["Ссылка для бронирования",n&&x!=="all"&&s.jsxs("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"8px"},children:["(",(j=g.find(T=>T.id===x))==null?void 0:j.name,")"]})]})}),s.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[s.jsxs("div",{onClick:()=>o(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:T=>T.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:T=>T.currentTarget.style.boxShadow="none",children:[s.jsx(_0,{value:N(),size:120,level:"M",includeMargin:!0}),s.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:s.jsxs("button",{className:"btn btn-secondary btn-icon",children:[s.jsx(E5,{fontSize:"small"}),s.jsx("span",{children:"Увеличить"})]})})]}),s.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[s.jsxs("div",{style:{marginBottom:"12px"},children:[s.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),s.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:N(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),s.jsxs("button",{className:"btn btn-primary btn-icon",onClick:P,children:[l?s.jsx(ya,{fontSize:"small"}):s.jsx(jD,{fontSize:"small"}),s.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),s.jsx("div",{style:{display:"flex",gap:"8px"},children:s.jsxs("button",{className:"btn btn-secondary",onClick:Q,children:[s.jsx(ND,{fontSize:"small"}),s.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&s.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(k=g.find(T=>T.id===x))==null?void 0:k.name}"`}),s.jsxs("div",{className:"stats-grid",children:[s.jsx(Oh,{title:"Бронирований сегодня",value:d.todayBookings,icon:s.jsx($p,{}),change:`${d.bookingsChange>0?"+":""}${d.bookingsChange}% от вчера`,isPositive:d.bookingsChange>0,description:"Количество игр на сегодня"}),s.jsx(Oh,{title:"Поступления за сегодня",value:`${d.todayIncome.toLocaleString("ru-RU")}₽`,icon:s.jsx(Hc,{}),change:`${d.incomeChange>0?"+":""}${d.incomeChange}% от вчера`,isPositive:d.incomeChange>0,description:"Все платежи, пришедшие сегодня (независимо от даты игры)"}),s.jsx(Oh,{title:"Доход за сегодня",value:`${d.todayRevenue.toLocaleString("ru-RU")}₽`,icon:s.jsx(Hc,{}),change:`${d.revenueChange>0?"+":""}${d.revenueChange}% от вчера`,isPositive:d.revenueChange>0,description:"Деньги от игр, состоявшихся сегодня (со статусом оплачен)"}),s.jsx(Oh,{title:"Загрузка кортов",value:`${d.utilization}%`,icon:s.jsx(kg,{}),change:`${d.utilizationChange>0?"+":""}${d.utilizationChange}% от вчера`,isPositive:d.utilizationChange>0,description:"Процент занятых слотов от максимума"}),s.jsx(Oh,{title:"Активных клиентов",value:d.activeCustomers,icon:s.jsx(j5,{}),change:"за последние 30 дней",isPositive:!0,description:"Уникальные клиенты за месяц"})]}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Последние бронирования"}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),s.jsx("div",{className:"table-wrapper",children:f?s.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):A.length===0?s.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Статус"}),s.jsx("th",{children:"Сумма"})]})}),s.jsx("tbody",{children:A.map(T=>s.jsxs("tr",{children:[s.jsx("td",{children:T.clientName}),s.jsx("td",{children:T.courtName}),s.jsxs("td",{children:[T.date.toLocaleDateString("ru-RU"),", ",T.startTime,T.endTime&&`-${T.endTime}`]}),s.jsxs("td",{children:[T.status==="confirmed"&&s.jsxs(s.Fragment,{children:[T.paymentStatus==="paid"&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Оплачено"}),T.paymentStatus==="awaiting_payment"&&s.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),T.paymentStatus==="not_required"&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),!T.paymentStatus&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"})]}),T.status==="pending"&&s.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает подтверждения"}),T.status==="cancelled"&&s.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),s.jsxs("td",{children:[T.amount.toLocaleString("ru-RU"),"₽"]})]},T.id))})]})})]}),a&&s.jsx("div",{className:"modal active",onClick:()=>o(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[s.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[s.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),s.jsx("button",{className:"modal-close",onClick:()=>o(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx(_0,{id:"modal-qr-code",value:N(),size:256,level:"H",includeMargin:!0}),s.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",s.jsx("br",{}),"чтобы забронировать корт"]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{className:"btn btn-primary",onClick:async()=>{var T;try{const D=document.getElementById("modal-qr-code");if(!D){console.error("QR code SVG element not found"),alert("Не удалось найти QR код. Попробуйте еще раз.");return}const R=document.createElement("div");R.style.position="absolute",R.style.left="-9999px",R.style.top="-9999px",R.style.backgroundColor="white",R.style.width="1600px",R.style.height="1600px",R.style.display="flex",R.style.alignItems="center",R.style.justifyContent="center",document.body.appendChild(R);const H=document.createElement("div");H.style.width="1600px",H.style.height="1600px",H.innerHTML=`
                        <svg width="1600" height="1600" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
                          ${D.innerHTML}
                        </svg>
                      `,R.appendChild(H);const z=await g6(R,{backgroundColor:"white",scale:1,width:1600,height:1600}),V=new nn({orientation:"portrait",unit:"mm",format:"a4"}),J=210,te=297,Ae=180,U=(J-Ae)/2,O=(te-Ae)/2,M=z.toDataURL("image/png");V.addImage(M,"PNG",U,O,Ae,Ae);const W=`qr-code-${(n?(T=g.find(G=>G.id===x))==null?void 0:T.name:b)||"booking"}-${new Date().getTime()}.pdf`;V.save(W),document.body.removeChild(R)}catch(D){console.error("Error downloading QR code:",D),alert("Ошибка при скачивании QR кода. Попробуйте еще раз.")}},children:"Скачать QR код"})})]})]})})]})}const Tf=({children:e,permission:t,role:n,requireAll:r=!1,fallback:i,allowTrainer:a=!1})=>{const{hasPermission:o,hasAllPermissions:l,hasRole:c}=ri(),{admin:A}=er();return a&&(A==null?void 0:A.role)==="trainer"?s.jsx(s.Fragment,{children:e}):n&&!c(n)?i?s.jsx(s.Fragment,{children:i}):s.jsxs(Kt,{severity:"error",sx:{mt:2},children:[s.jsx(qd,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?l(t):o(t))?i?s.jsx(s.Fragment,{children:i}):s.jsxs(Kt,{severity:"error",sx:{mt:2},children:[s.jsx(qd,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):s.jsx(s.Fragment,{children:e})},du=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[i,a]=y.useState([]),[o,l]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{try{const A=qt(Ct(_e,"venues"),vt("status","==","active")),d=(await Mt(A)).docs.map(h=>({id:h.id,...h.data()}));a(d)}catch(A){console.error("Error fetching venues:",A)}finally{l(!1)}};return o?s.jsx("div",{children:"Загрузка клубов..."}):s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[s.jsx("label",{className:"form-label",children:n}),s.jsxs("select",{className:"form-select",value:e||"",onChange:A=>t(A.target.value),style:{maxWidth:"400px"},children:[s.jsx("option",{value:"",children:"Выберите клуб"}),i.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]}),r&&s.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},Nf=({title:e})=>{const[t,n]=y.useState([]),[r,i]=y.useState(!0);y.useEffect(()=>{a()},[]);const a=async()=>{try{const l=qt(Ct(_e,"venues"),vt("status","==","active")),A=(await Mt(l)).docs.map(u=>({id:u.id,...u.data()}));n(A)}catch(l){console.error("Error fetching venues:",l)}finally{i(!1)}},o=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?s.jsx("div",{children:"Загрузка..."}):s.jsx("div",{children:s.jsxs("div",{className:"section-card",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:e})}),s.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[s.jsx("label",{className:"form-label",children:"Клуб"}),s.jsxs("select",{className:"form-select",value:"",onChange:l=>o(l.target.value),children:[s.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(l=>s.jsx("option",{value:l.id,children:l.name},l.id))]}),s.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function mv(e){const{children:t,value:n,index:r,...i}=e;return s.jsx("div",{role:"tabpanel",hidden:n!==r,id:`club-tabpanel-${r}`,"aria-labelledby":`club-tab-${r}`,...i,children:n===r&&s.jsx(Ce,{sx:{py:3},children:t})})}function LAe(){const e=$r(),[t,n]=iu(),{club:r,admin:i,refreshClubData:a}=er(),{isSuperAdmin:o}=ri(),[l,c]=y.useState(null),[A,u]=y.useState(null),[d,h]=y.useState(!1),[f,p]=y.useState(!1),[g,v]=y.useState(null),[x,C]=y.useState(0),[b,w]=y.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",timezone:"Europe/Moscow",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",settlementAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bik:"",correspondentAccount:"",directorName:"",directorPosition:"",financeEmail:"",financePhone:"",okpo:"",okved:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:60}),[E,S]=y.useState([]),[F,N]=y.useState(!1);y.useEffect(()=>{const Ae=t.get("tab");C(Ae==="requisites"?1:Ae==="photos"?2:Ae==="settings"?3:0)},[t]);const P=(Ae,U)=>{C(U);const O=["","requisites","photos","settings"];O[U]?n({tab:O[U]}):n({})};y.useEffect(()=>{var Ae,U,O,M,L,W,G,se;if(o){const X=localStorage.getItem("selectedVenueId");X&&(c(X),j(X))}else r&&(console.log("Updating form data from club:",r),w({name:r.name||"",phone:r.phone||"",address:r.address||"",city:r.city||"",latitude:((U=(Ae=r.location)==null?void 0:Ae._lat)==null?void 0:U.toString())||((M=(O=r.location)==null?void 0:O.latitude)==null?void 0:M.toString())||"",longitude:((W=(L=r.location)==null?void 0:L._long)==null?void 0:W.toString())||((se=(G=r.location)==null?void 0:G.longitude)==null?void 0:se.toString())||"",description:r.description||"",timezone:r.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(r.amenities)&&r.amenities.includes("showers")||!1,parking:Array.isArray(r.amenities)&&r.amenities.includes("parking")||!1,cafe:Array.isArray(r.amenities)&&r.amenities.includes("cafe")||!1,proshop:Array.isArray(r.amenities)&&r.amenities.includes("proshop")||!1,lockers:Array.isArray(r.amenities)&&r.amenities.includes("lockers")||!1},organizationType:r.organizationType||"",inn:r.inn||"",settlementAccount:r.settlementAccount||"",legalName:r.legalName||"",ogrn:r.ogrn||"",kpp:r.kpp||"",legalAddress:r.legalAddress||"",bankName:r.bankName||"",bik:r.bik||"",correspondentAccount:r.correspondentAccount||"",directorName:r.directorName||"",directorPosition:r.directorPosition||"",financeEmail:r.financeEmail||"",financePhone:r.financePhone||"",okpo:r.okpo||"",okved:r.okved||"",workingHours:r.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:r.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:r.bookingSlotInterval||60}),S(r.photos||[]))},[r,o]);const Q=Ae=>{c(Ae),localStorage.setItem("selectedVenueId",Ae),Ae&&j(Ae)},j=async Ae=>{var U,O,M,L,W,G,se,X,ge,ce;try{console.log("Loading venue data for:",Ae);const Y=await fn(wt(_e,"venues",Ae));if(Y.exists()){const ne=Y.data();console.log("Venue data loaded:",ne),u({id:Y.id,...ne}),w({name:ne.name||"",phone:ne.phone||"",address:ne.address||"",city:ne.city||"",latitude:((U=ne.latitude)==null?void 0:U.toString())||((M=(O=ne.location)==null?void 0:O._lat)==null?void 0:M.toString())||((W=(L=ne.location)==null?void 0:L.latitude)==null?void 0:W.toString())||"",longitude:((G=ne.longitude)==null?void 0:G.toString())||((X=(se=ne.location)==null?void 0:se._long)==null?void 0:X.toString())||((ce=(ge=ne.location)==null?void 0:ge.longitude)==null?void 0:ce.toString())||"",description:ne.description||"",timezone:ne.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(ne.amenities)&&ne.amenities.includes("showers")||!1,parking:Array.isArray(ne.amenities)&&ne.amenities.includes("parking")||!1,cafe:Array.isArray(ne.amenities)&&ne.amenities.includes("cafe")||!1,proshop:Array.isArray(ne.amenities)&&ne.amenities.includes("proshop")||!1,lockers:Array.isArray(ne.amenities)&&ne.amenities.includes("lockers")||!1},organizationType:ne.organizationType||"",inn:ne.inn||"",settlementAccount:ne.settlementAccount||"",legalName:ne.legalName||"",ogrn:ne.ogrn||"",kpp:ne.kpp||"",legalAddress:ne.legalAddress||"",bankName:ne.bankName||"",bik:ne.bik||"",correspondentAccount:ne.correspondentAccount||"",directorName:ne.directorName||"",directorPosition:ne.directorPosition||"",financeEmail:ne.financeEmail||"",financePhone:ne.financePhone||"",okpo:ne.okpo||"",okved:ne.okved||"",workingHours:ne.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:ne.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:ne.bookingSlotInterval||60}),S(ne.photos||[])}}catch(Y){console.error("Error loading venue:",Y)}},k=Ae=>{const{name:U,value:O}=Ae.target;w(M=>({...M,[U]:O}))},T=Ae=>{w(U=>({...U,amenities:{...U.amenities,[Ae]:!U.amenities[Ae]}}))},D=async Ae=>{var M;const U=(M=Ae.target.files)==null?void 0:M[0];if(!U)return;const O=o?l:i==null?void 0:i.venueId;if(!O){v("Не выбран клуб");return}try{h(!0);const L=p4(ME,`clubs/${O}/logo.${U.name.split(".").pop()}`),W=await g4(L,U),G=await m4(W.ref);await en(wt(_e,"venues",O),{logoUrl:G}),o&&A?u({...A,logoUrl:G}):await a(),p(!0),setTimeout(()=>p(!1),3e3)}catch(L){console.error("Error uploading logo:",L),v("Ошибка при загрузке логотипа")}finally{h(!1)}},R=async Ae=>{const U=Ae.target.files;if(!U||U.length===0)return;const O=o?l:i==null?void 0:i.venueId;if(!O){v("Не выбран клуб");return}const M=5-E.length;if(M<=0){v("Максимум 5 фотографий");return}const L=Array.from(U).slice(0,M);try{N(!0);const W=L.map(async X=>{if(X.size>5*1024*1024)throw new Error(`Файл ${X.name} превышает 5 МБ`);const ge=`${Date.now()}_${X.name}`,ce=p4(ME,`clubs/${O}/photos/${ge}`),Y=await g4(ce,X);return m4(Y.ref)}),G=await Promise.all(W),se=[...E,...G];await en(wt(_e,"venues",O),{photos:se}),S(se),p(!0),setTimeout(()=>p(!1),3e3)}catch(W){console.error("Error uploading photos:",W),v(W.message||"Ошибка при загрузке фотографий"),setTimeout(()=>v(null),5e3)}finally{N(!1)}},H=async(Ae,U)=>{const O=o?l:i==null?void 0:i.venueId;if(O)try{h(!0);const M=E.filter((L,W)=>W!==U);await en(wt(_e,"venues",O),{photos:M}),S(M),p(!0),setTimeout(()=>p(!1),3e3)}catch(M){console.error("Error deleting photo:",M),v("Ошибка при удалении фотографии")}finally{h(!1)}},z=async Ae=>{Ae.preventDefault();const U=o?l:i==null?void 0:i.venueId;if(U)try{h(!0);const O=Object.entries(b.amenities).filter(([W,G])=>G).map(([W,G])=>W);let M={};b.latitude&&b.longitude&&(M.location=new $Q(parseFloat(b.latitude),parseFloat(b.longitude)),M.latitude=parseFloat(b.latitude),M.longitude=parseFloat(b.longitude));const L={name:b.name,phone:b.phone,address:b.address,city:b.city,description:b.description,timezone:b.timezone,amenities:O,...M,updatedAt:new Date};await en(wt(_e,"venues",U),L),o&&A?await j(U):(await a(),console.log("Club data refreshed successfully")),p(!0),setTimeout(()=>p(!1),3e3)}catch(O){console.error("Error saving club info:",O),v("Ошибка при сохранении")}finally{h(!1)}},V=async Ae=>{Ae.preventDefault();const U=o?l:i==null?void 0:i.venueId;if(U)try{h(!0);const O={organizationType:b.organizationType,inn:b.inn,settlementAccount:b.settlementAccount,legalName:b.legalName,ogrn:b.ogrn,kpp:b.kpp,legalAddress:b.legalAddress,bankName:b.bankName,bik:b.bik,correspondentAccount:b.correspondentAccount,directorName:b.directorName,directorPosition:b.directorPosition,financeEmail:b.financeEmail,financePhone:b.financePhone,okpo:b.okpo,okved:b.okved,updatedAt:new Date};await en(wt(_e,"venues",U),O),o&&A?await j(U):(await a(),console.log("Club data refreshed successfully")),p(!0),setTimeout(()=>p(!1),3e3)}catch(O){console.error("Error saving requisites:",O),v("Ошибка при сохранении реквизитов")}finally{h(!1)}},J=async Ae=>{Ae.preventDefault();const U=o?l:i==null?void 0:i.venueId;if(U)try{h(!0);const O={workingHours:b.workingHours,bookingDurations:b.bookingDurations,bookingSlotInterval:b.bookingSlotInterval,updatedAt:new Date};await en(wt(_e,"venues",U),O),o&&A?await j(U):await a(),p(!0),setTimeout(()=>p(!1),3e3)}catch(O){console.error("Error saving booking settings:",O),v("Ошибка при сохранении настроек")}finally{h(!1)}},te=o?A:r;return s.jsx(Tf,{permission:["manage_club","manage_all_venues"],children:s.jsxs("div",{children:[o&&s.jsx(du,{selectedVenueId:l,onVenueChange:Q}),s.jsxs("div",{className:"section-card",children:[s.jsxs("h2",{className:"section-title",children:["Управление клубом",o&&A&&s.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:A.name})]}),s.jsx(Ce,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:s.jsxs(Fx,{value:x,onChange:P,"aria-label":"club management tabs",children:[s.jsx(xa,{label:"Основная информация"}),s.jsx(xa,{label:"Реквизиты"}),s.jsx(xa,{label:"Фотографии"}),s.jsx(xa,{label:"Настройки бронирования"})]})}),s.jsxs(mv,{value:x,index:0,children:[s.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[s.jsx("strong",{children:"💡 Как получить координаты:"}),s.jsx("br",{}),"1. Откройте ",s.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),s.jsx("br",{}),"2. Найдите ваш клуб на карте",s.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",s.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),s.jsxs("form",{onSubmit:z,children:[g&&s.jsx(Kt,{severity:"error",sx:{mb:3},onClose:()=>v(null),children:g}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Логотип клуба"}),s.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[te!=null&&te.logoUrl?s.jsx("img",{src:te.logoUrl,alt:"Club Logo",style:{width:"100px",height:"100px",objectFit:"contain",borderRadius:"8px",background:"var(--background)",padding:"8px"}}):s.jsx("div",{style:{width:"100px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--background)",borderRadius:"8px",border:"1px dashed var(--light-gray)"},children:s.jsx("span",{style:{color:"var(--gray)",fontSize:"12px"},children:"Нет логотипа"})}),s.jsxs("div",{children:[s.jsx("input",{type:"file",id:"logoInput",accept:"image/*",onChange:D,style:{display:"none"}}),s.jsx("button",{type:"button",onClick:()=>{var Ae;return(Ae=document.getElementById("logoInput"))==null?void 0:Ae.click()},className:"btn btn-secondary",disabled:d,children:te!=null&&te.logoUrl?"Заменить логотип":"Загрузить логотип"}),s.jsx("p",{className:"form-hint",style:{marginTop:"8px",marginBottom:0},children:"Рекомендуемый размер: 512x512px, формат PNG или JPG"})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Название клуба"}),s.jsx("input",{type:"text",className:"form-input",name:"name",value:b.name,onChange:k,required:!0})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",className:"form-input",value:(te==null?void 0:te.email)||"",disabled:!0,style:{background:"var(--background)",cursor:"not-allowed"}}),s.jsx("span",{className:"form-hint",children:"Email нельзя изменить"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",name:"phone",value:b.phone,onChange:k,required:!0})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Адрес"}),s.jsx("input",{type:"text",className:"form-input",name:"address",value:b.address,onChange:k,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Город"}),s.jsx("input",{type:"text",className:"form-input",name:"city",value:b.city,onChange:k,placeholder:"Например: Москва"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),s.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:b.latitude,onChange:k,placeholder:"55.755831"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),s.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:b.longitude,onChange:k,placeholder:"37.617673"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Описание"}),s.jsx("textarea",{className:"form-textarea",name:"description",value:b.description,onChange:k,rows:4})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Часовой пояс"}),s.jsxs("select",{className:"form-select",name:"timezone",value:b.timezone,onChange:k,required:!0,children:[s.jsx("option",{value:"Europe/Kaliningrad",children:"Калининград (UTC+2)"}),s.jsx("option",{value:"Europe/Moscow",children:"Москва (UTC+3)"}),s.jsx("option",{value:"Europe/Samara",children:"Самара (UTC+4)"}),s.jsx("option",{value:"Asia/Yekaterinburg",children:"Екатеринбург (UTC+5)"}),s.jsx("option",{value:"Asia/Omsk",children:"Омск (UTC+6)"}),s.jsx("option",{value:"Asia/Krasnoyarsk",children:"Красноярск (UTC+7)"}),s.jsx("option",{value:"Asia/Irkutsk",children:"Иркутск (UTC+8)"}),s.jsx("option",{value:"Asia/Yakutsk",children:"Якутск (UTC+9)"}),s.jsx("option",{value:"Asia/Vladivostok",children:"Владивосток (UTC+10)"}),s.jsx("option",{value:"Asia/Magadan",children:"Магадан (UTC+11)"}),s.jsx("option",{value:"Asia/Kamchatka",children:"Камчатка (UTC+12)"})]}),s.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:"Выберите часовой пояс, в котором работает ваш клуб. Это важно для корректного отображения времени в уведомлениях."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Удобства"}),s.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.amenities.showers,onChange:()=>T("showers")}),"Душевые"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.amenities.parking,onChange:()=>T("parking")}),"Парковка"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.amenities.cafe,onChange:()=>T("cafe")}),"Кафе"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.amenities.proshop,onChange:()=>T("proshop")}),"Pro Shop"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.amenities.lockers,onChange:()=>T("lockers")}),"Раздевалки"]})]})]}),s.jsx("div",{style:{display:"flex",gap:"12px"},children:s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить изменения"})}),f&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),s.jsxs(mv,{value:x,index:1,children:[s.jsx("div",{style:{padding:"16px",backgroundColor:"#e3f2fd",borderRadius:"8px",marginBottom:"24px",border:"1px solid #1976d2"},children:s.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#1976d2"},children:[s.jsx("strong",{children:"Важно для подключения мультирасчетов:"})," Поля, отмеченные красной звездочкой ",s.jsx("span",{style:{color:"red"},children:"*"}),", являются обязательными для подключения приема платежей через систему мультирасчетов Т-Банка. Убедитесь, что все они заполнены корректно."]})}),s.jsxs("form",{onSubmit:V,children:[s.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[s.jsxs("label",{className:"form-label",children:["Тип организации ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsxs("select",{className:"form-select",name:"organizationType",value:b.organizationType,onChange:k,children:[s.jsx("option",{value:"",children:"Выберите тип"}),s.jsx("option",{value:"ИП",children:"ИП"}),s.jsx("option",{value:"ООО",children:"ООО"}),s.jsx("option",{value:"АО",children:"АО"}),s.jsx("option",{value:"НКО",children:"НКО"}),s.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Юридическое наименование ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"legalName",value:b.legalName,onChange:k,placeholder:"ООО «Название организации»"})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["ИНН ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"inn",value:b.inn,onChange:k,placeholder:"1234567890"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"КПП"}),s.jsx("input",{type:"text",className:"form-input",name:"kpp",value:b.kpp,onChange:k,placeholder:"123456789"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["ОГРН / ОГРНИП ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:b.ogrn,onChange:k,placeholder:"1234567890123"})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Юридический адрес ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:b.legalAddress,onChange:k,placeholder:"123456, г. Москва, ул. Примерная, д. 1, офис 1"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Банковские реквизиты"}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Наименование банка ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"bankName",value:b.bankName,onChange:k,placeholder:"ПАО Сбербанк"})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["БИК банка ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"bik",value:b.bik,onChange:k,placeholder:"044525225"})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Корр. счет ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"correspondentAccount",value:b.correspondentAccount,onChange:k,placeholder:"30101810400000000225"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Расчетный счет ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"text",className:"form-input",name:"settlementAccount",value:b.settlementAccount,onChange:k,placeholder:"40702810900000123456"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Руководитель"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ФИО руководителя"}),s.jsx("input",{type:"text",className:"form-input",name:"directorName",value:b.directorName,onChange:k,placeholder:"Иванов Иван Иванович"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Должность"}),s.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:b.directorPosition,onChange:k,placeholder:"Генеральный директор"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Контакты для финансовых вопросов"}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Email для финансовых уведомлений ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"email",className:"form-input",name:"financeEmail",value:b.financeEmail,onChange:k,placeholder:"finance@company.ru",required:!0}),s.jsx("span",{className:"form-hint",children:"На этот email будут приходить уведомления о выплатах"})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Телефон для финансовых вопросов ",s.jsx("span",{style:{color:"red"},children:"*"})]}),s.jsx("input",{type:"tel",className:"form-input",name:"financePhone",value:b.financePhone,onChange:k,placeholder:"+7 (999) 123-45-67"}),s.jsx("span",{className:"form-hint",children:"Контактный телефон бухгалтерии"})]})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Дополнительные реквизиты"}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ОКПО"}),s.jsx("input",{type:"text",className:"form-input",name:"okpo",value:b.okpo,onChange:k,placeholder:"12345678"}),s.jsx("span",{className:"form-hint",children:"Код по общероссийскому классификатору"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ОКВЭД (основной)"}),s.jsx("input",{type:"text",className:"form-input",name:"okved",value:b.okved,onChange:k,placeholder:"93.11"}),s.jsx("span",{className:"form-hint",children:"Код основного вида деятельности"})]})]}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить реквизиты"}),f&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Реквизиты успешно сохранены"})]}),s.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[s.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]}),s.jsx(mv,{value:x,index:2,children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Фотографии клуба"}),s.jsx("div",{style:{marginBottom:"16px"},children:s.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[E.map((Ae,U)=>s.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[s.jsx("img",{src:Ae,alt:`Фото ${U+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("button",{type:"button",onClick:()=>H(Ae,U),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:d,children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},U)),E.length<5&&s.jsx("div",{onClick:()=>{var Ae;return(Ae=document.getElementById("photosInput"))==null?void 0:Ae.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Ae=>{Ae.currentTarget.style.borderColor="var(--primary)",Ae.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:Ae=>{Ae.currentTarget.style.borderColor="var(--extra-light-gray)",Ae.currentTarget.style.background="var(--background)"},children:s.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),s.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:F?"Загрузка...":"Добавить фото"})]})})]}),s.jsx("input",{type:"file",id:"photosInput",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:R,style:{display:"none"}})]})}),s.jsx(mv,{value:x,index:3,children:s.jsxs("form",{onSubmit:J,children:[s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(Ae=>s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:Ae.label}),s.jsx("input",{type:"text",className:"form-input",value:b.workingHours[Ae.key],onChange:U=>w(O=>({...O,workingHours:{...O.workingHours,[Ae.key]:U.target.value}})),placeholder:"07:00-23:00"}),s.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},Ae.key))})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),s.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.bookingDurations[60],onChange:()=>w(Ae=>({...Ae,bookingDurations:{...Ae.bookingDurations,60:!Ae.bookingDurations[60]}}))}),"1 час"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.bookingDurations[90],onChange:()=>w(Ae=>({...Ae,bookingDurations:{...Ae.bookingDurations,90:!Ae.bookingDurations[90]}}))}),"1.5 часа"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:b.bookingDurations[120],onChange:()=>w(Ae=>({...Ae,bookingDurations:{...Ae.bookingDurations,120:!Ae.bookingDurations[120]}}))}),"2 часа"]})]})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:b.bookingSlotInterval===30,onChange:()=>w(Ae=>({...Ae,bookingSlotInterval:30}))}),"Каждые 30 минут"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:b.bookingSlotInterval===60,onChange:()=>w(Ae=>({...Ae,bookingSlotInterval:60}))}),"Только с 00 минут (стандарт)"]})]}),s.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),s.jsx("div",{style:{marginTop:"32px"},children:s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить настройки"})}),f&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Настройки успешно сохранены"})]})})]})]})})}const vv=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function OAe(){const{admin:e,club:t}=er(),{isSuperAdmin:n,canManageCourts:r}=ri(),[i,a]=y.useState(null),[o,l]=y.useState([]),[c,A]=y.useState(!0),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[p,g]=y.useState(null),[v,x]=y.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:"#00A86B"});y.useEffect(()=>{if(n){const j=localStorage.getItem("selectedVenueId");j&&(a(j),b(j))}else e!=null&&e.venueId&&b(e.venueId)},[e,n]);const C=j=>{a(j),localStorage.setItem("selectedVenueId",j),j&&b(j)},b=async j=>{if(j)try{A(!0);const k=qt(Ct(_e,"venues",j,"courts")),D=(await Mt(k)).docs.map((R,H)=>{const z=R.data();if(!z.color){const V=H%vv.length;z.color=vv[V],en(R.ref,{color:z.color})}return{id:R.id,...z}});l(D)}catch(k){console.error("Error fetching courts:",k)}finally{A(!1)}},w=()=>{const j=o.map(T=>T.color).filter(Boolean);for(const T of vv)if(!j.includes(T))return T;const k=vv.reduce((T,D)=>(T[D]=j.filter(R=>R===D).length,T),{});return Object.entries(k).sort((T,D)=>T[1]-D[1])[0][0]},E=j=>{const{name:k,value:T}=j.target;x(D=>({...D,[k]:k.includes("price")?Number(T):T}))},S=async j=>{var D,R,H,z,V,J,te,Ae,U,O,M,L,W,G;j.preventDefault();const k=n?i:e==null?void 0:e.venueId;if(!k)return;const T=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];for(const se of T){const X=v.pricing[se];if(X&&X.intervals&&X.intervals.length>0){const ge=X.intervals;for(const ce of ge){const[Y,ne]=ce.from.split(":").map(Number),[oe,fe]=ce.to.split(":").map(Number),ie=Y*60+ne,Te=oe*60+fe;if(Te<=ie&&Te!==0){alert(`Неверный интервал в ${se}: время окончания должно быть больше времени начала`);return}}for(let ce=0;ce<ge.length;ce++)for(let Y=ce+1;Y<ge.length;Y++){const[ne,oe]=ge[ce].from.split(":").map(Number),[fe,ie]=ge[ce].to.split(":").map(Number),[Te,be]=ge[Y].from.split(":").map(Number),[xe,Ne]=ge[Y].to.split(":").map(Number),Fe=ne*60+oe,He=fe*60+ie||24*60,Ge=Te*60+be,lt=xe*60+Ne||24*60;if(Fe<lt&&He>Ge){alert(`Интервалы пересекаются в ${se}: ${ge[ce].from}-${ge[ce].to} и ${ge[Y].from}-${ge[Y].to}`);return}}}}try{const se={...v,holidayPricing:Array.isArray(v.holidayPricing)?v.holidayPricing:[],pricing:{monday:{basePrice:((D=v.pricing.monday)==null?void 0:D.basePrice)||1900,intervals:Array.isArray((R=v.pricing.monday)==null?void 0:R.intervals)?v.pricing.monday.intervals:[]},tuesday:{basePrice:((H=v.pricing.tuesday)==null?void 0:H.basePrice)||1900,intervals:Array.isArray((z=v.pricing.tuesday)==null?void 0:z.intervals)?v.pricing.tuesday.intervals:[]},wednesday:{basePrice:((V=v.pricing.wednesday)==null?void 0:V.basePrice)||1900,intervals:Array.isArray((J=v.pricing.wednesday)==null?void 0:J.intervals)?v.pricing.wednesday.intervals:[]},thursday:{basePrice:((te=v.pricing.thursday)==null?void 0:te.basePrice)||1900,intervals:Array.isArray((Ae=v.pricing.thursday)==null?void 0:Ae.intervals)?v.pricing.thursday.intervals:[]},friday:{basePrice:((U=v.pricing.friday)==null?void 0:U.basePrice)||1900,intervals:Array.isArray((O=v.pricing.friday)==null?void 0:O.intervals)?v.pricing.friday.intervals:[]},saturday:{basePrice:((M=v.pricing.saturday)==null?void 0:M.basePrice)||2400,intervals:Array.isArray((L=v.pricing.saturday)==null?void 0:L.intervals)?v.pricing.saturday.intervals:[]},sunday:{basePrice:((W=v.pricing.sunday)==null?void 0:W.basePrice)||2400,intervals:Array.isArray((G=v.pricing.sunday)==null?void 0:G.intervals)?v.pricing.sunday.intervals:[]}}};p?await en(wt(_e,"venues",k,"courts",p.id),{...se,updatedAt:new Date}):await Ma(Ct(_e,"venues",k,"courts"),{...se,createdAt:new Date}),d(!1),g(null);const X=w();x({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:X}),b(k),f(!0),setTimeout(()=>f(!1),3e3)}catch(se){console.error("Error saving court:",se)}},F=j=>{var D,R,H,z,V,J,te;g(j);const k={monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},T={monday:(D=j.pricing)!=null&&D.monday?{basePrice:j.pricing.monday.basePrice||1900,intervals:j.pricing.monday.intervals||[]}:k.monday,tuesday:(R=j.pricing)!=null&&R.tuesday?{basePrice:j.pricing.tuesday.basePrice||1900,intervals:j.pricing.tuesday.intervals||[]}:k.tuesday,wednesday:(H=j.pricing)!=null&&H.wednesday?{basePrice:j.pricing.wednesday.basePrice||1900,intervals:j.pricing.wednesday.intervals||[]}:k.wednesday,thursday:(z=j.pricing)!=null&&z.thursday?{basePrice:j.pricing.thursday.basePrice||1900,intervals:j.pricing.thursday.intervals||[]}:k.thursday,friday:(V=j.pricing)!=null&&V.friday?{basePrice:j.pricing.friday.basePrice||1900,intervals:j.pricing.friday.intervals||[]}:k.friday,saturday:(J=j.pricing)!=null&&J.saturday?{basePrice:j.pricing.saturday.basePrice||2400,intervals:j.pricing.saturday.intervals||[]}:k.saturday,sunday:(te=j.pricing)!=null&&te.sunday?{basePrice:j.pricing.sunday.basePrice||2400,intervals:j.pricing.sunday.intervals||[]}:k.sunday};x({name:j.name,type:j.type,courtType:j.courtType,pricing:T,holidayPricing:j.holidayPricing||[],status:j.status,color:j.color||"#00A86B"}),d(!0)},N=async j=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const k=n?i:e==null?void 0:e.venueId;if(!k)return;await Xc(wt(_e,"venues",k,"courts",j)),b(k),f(!0),setTimeout(()=>f(!1),3e3)}catch(k){console.error("Error deleting court:",k)}},P=j=>{switch(j){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},Q=j=>{switch(j){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return j}};return c?s.jsx("div",{children:"Загрузка..."}):r()?n&&!i?s.jsx(Nf,{title:"Выберите клуб для управления кортами"}):s.jsxs(Tf,{permission:["manage_courts","manage_all_venues"],children:[s.jsxs("div",{children:[n&&s.jsx(du,{selectedVenueId:i,onVenueChange:C}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Управление кортами"}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>{const j=w();x(k=>({...k,color:j})),d(!0)},children:[s.jsx(cu,{fontSize:"small"}),"Добавить корт"]})]}),h&&s.jsx("div",{style:{marginTop:"16px",marginBottom:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Корт успешно сохранен"}),s.jsx("div",{className:"courts-grid",children:o.map(j=>s.jsxs("div",{className:"court-card",children:[s.jsx("div",{className:"court-header",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[j.color&&s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:j.color,border:"1px solid #e5e7eb"}}),s.jsxs("div",{children:[s.jsx("div",{className:"court-name",children:j.name}),s.jsx("span",{className:`court-type ${P(j.type)}`,children:Q(j.type)})]})]})}),s.jsxs("div",{className:"court-details",children:[s.jsxs("div",{children:["Тип: ",j.courtType==="indoor"?"Крытый":"Открытый"]}),s.jsx("div",{children:j.pricing?(()=>{try{const k=Object.values(j.pricing).filter(T=>T&&T.basePrice).map(T=>T.basePrice);return k.length===0?s.jsx(s.Fragment,{children:"Цены не установлены"}):s.jsxs(s.Fragment,{children:["Цены: от ",Math.min(...k),"₽ до ",Math.max(...k),"₽"]})}catch(k){return console.error("Error displaying court prices:",k,j),s.jsx(s.Fragment,{children:"Ошибка отображения цен"})}})():s.jsxs(s.Fragment,{children:["Будни: ",j.priceWeekday||1900,"₽ | Вых: ",j.priceWeekend||2400,"₽"]})}),s.jsxs("div",{children:["Статус: ",j.status==="active"?"Активен":j.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),s.jsxs("div",{className:"court-actions",children:[s.jsxs("button",{className:"btn btn-secondary",onClick:()=>F(j),children:[s.jsx($c,{fontSize:"small"}),"Редактировать"]}),s.jsx("button",{className:"btn btn-danger",onClick:()=>N(j.id),style:{marginLeft:"auto"},children:s.jsx(Au,{fontSize:"small"})})]})]},j.id))}),o.length===0&&s.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[s.jsx("p",{children:"У вас пока нет кортов"}),s.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),s.jsx("div",{className:`modal ${u?"active":""}`,children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:p?"Редактировать корт":"Добавить корт"}),s.jsx("button",{className:"modal-close",onClick:()=>{d(!1),g(null);const j=w();x({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:j})},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("form",{onSubmit:S,children:[s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Название корта"}),s.jsx("input",{type:"text",className:"form-input",name:"name",value:v.name,onChange:E,placeholder:"Например: Падел корт 1",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Вид спорта"}),s.jsxs("select",{className:"form-select",name:"type",value:v.type,onChange:E,children:[s.jsx("option",{value:"padel",children:"Падел"}),s.jsx("option",{value:"tennis",children:"Теннис"}),s.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Тип корта"}),s.jsxs("select",{className:"form-select",name:"courtType",value:v.courtType,onChange:E,children:[s.jsx("option",{value:"indoor",children:"Крытый"}),s.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Ценовая политика"}),s.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(j=>s.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[s.jsx("h4",{style:{margin:0},children:j.label}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:v.pricing[j.key].basePrice,onChange:k=>{const T=Number(k.target.value);x(D=>({...D,pricing:{...D.pricing,[j.key]:{...D.pricing[j.key],basePrice:T}}}))},min:"0",placeholder:"Базовая цена"}),s.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),s.jsxs("div",{style:{marginTop:"12px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(()=>{const k=v.pricing[j.key];return((k==null?void 0:k.intervals)||[]).map((D,R)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[s.jsx("select",{className:"form-select",style:{width:"140px"},value:D.from,onChange:H=>{const z=[...v.pricing[j.key].intervals||[]];z[R].from=H.target.value,x(V=>({...V,pricing:{...V.pricing,[j.key]:{...V.pricing[j.key],intervals:z}}}))},children:Array.from({length:48},(H,z)=>{const V=Math.floor(z/2),J=z%2===0?"00":"30",te=`${V.toString().padStart(2,"0")}:${J}`;return s.jsx("option",{value:te,children:te},te)})}),s.jsx("span",{children:"-"}),s.jsxs("select",{className:"form-select",style:{width:"140px"},value:D.to,onChange:H=>{const z=[...v.pricing[j.key].intervals||[]];z[R].to=H.target.value,x(V=>({...V,pricing:{...V.pricing,[j.key]:{...V.pricing[j.key],intervals:z}}}))},children:[Array.from({length:47},(H,z)=>{const V=Math.floor((z+1)/2),J=(z+1)%2===0?"00":"30",te=`${V.toString().padStart(2,"0")}:${J}`;return s.jsx("option",{value:te,children:te},te)}),s.jsx("option",{value:"24:00",children:"24:00"})]}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:D.price,onChange:H=>{const z=[...v.pricing[j.key].intervals||[]];z[R].price=Number(H.target.value),x(V=>({...V,pricing:{...V.pricing,[j.key]:{...V.pricing[j.key],intervals:z}}}))},min:"0",placeholder:"Цена"}),s.jsx("span",{children:"₽"}),s.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const H=(v.pricing[j.key].intervals||[]).filter((z,V)=>V!==R);x(z=>({...z,pricing:{...z.pricing,[j.key]:{...z.pricing[j.key],intervals:H}}}))},children:"Удалить"})]},R))})(),s.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const k=[...v.pricing[j.key].intervals||[],{from:"09:00",to:"11:00",price:v.pricing[j.key].basePrice*1.5}];x(T=>({...T,pricing:{...T.pricing,[j.key]:{...T.pricing[j.key],intervals:k}}}))},children:"+ Добавить интервал"})]})]},j.key))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Праздничные дни"}),s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"В праздничные дни действует фиксированная цена, независимо от дня недели и временных интервалов"}),s.jsxs("div",{children:[(v.holidayPricing||[]).map((k,T)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsx("input",{type:"text",className:"form-input",style:{width:"100px"},placeholder:"ММ-ДД",value:k.date,onChange:D=>{const R=[...v.holidayPricing||[]];R[T].date=D.target.value,x(H=>({...H,holidayPricing:R}))}}),s.jsx("input",{type:"text",className:"form-input",style:{flex:1},placeholder:"Название праздника (необязательно)",value:k.name||"",onChange:D=>{const R=[...v.holidayPricing||[]];R[T].name=D.target.value,x(H=>({...H,holidayPricing:R}))}}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},placeholder:"Цена",value:k.price,onChange:D=>{const R=[...v.holidayPricing||[]];R[T].price=Number(D.target.value),x(H=>({...H,holidayPricing:R}))}}),s.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const D=(v.holidayPricing||[]).filter((R,H)=>H!==T);x(R=>({...R,holidayPricing:D}))},children:"✕"})]},T)),s.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const j=[...v.holidayPricing||[],{date:"",price:3e3,name:""}];x(k=>({...k,holidayPricing:j}))},children:"+ Добавить праздничный день"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Статус"}),s.jsxs("select",{className:"form-select",name:"status",value:v.status,onChange:E,children:[s.jsx("option",{value:"active",children:"Активен"}),s.jsx("option",{value:"maintenance",children:"На обслуживании"}),s.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Цвет корта"}),s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("input",{type:"color",className:"form-input",name:"color",value:v.color,onChange:E,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),s.jsx("input",{type:"text",className:"form-input",value:v.color,onChange:j=>x(k=>({...k,color:j.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),s.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d(!1),g(null)},children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):s.jsxs(Kt,{severity:"error",children:[s.jsx(qd,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const bI={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",cancelled:"Отменено",refunded:"Возврат",expired:"Время истекло",error:"Ошибка","":"-"},wI={awaiting_payment:"#F59E0B",paid:"#10B981",cancelled:"#EF4444",refunded:"#8B5CF6",expired:"#6B7280",error:"#DC2626","":"#9CA3AF"},CI={awaiting_payment:Xk,paid:Eg,cancelled:Ds,refunded:Ds,expired:Xk,error:Ds,"":Ds};function m6({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r,onRefund:i}){const{admin:a}=er(),[o,l]=y.useState(!1),[c,A]=y.useState(!1),[u,d]=y.useState(null),[h,f]=y.useState(t);y.useEffect(()=>{f(t)},[t]),y.useEffect(()=>{if(!e)return;const C=Do(wt(_e,"bookings",e),b=>{if(b.exists()){const E=b.data().paymentStatus||"";f(E)}});return()=>C()},[e]);const p=h==="awaiting_payment"&&n!=="online",g=async C=>{if(!a){alert("Ошибка: пользователь не авторизован");return}l(!0);try{const b=wt(_e,"bookings",e),w=await fn(b);if(!w.exists())throw new Error("Бронирование не найдено");const S=w.data().paymentHistory||[],F={timestamp:Ot.now(),action:C,userId:a.uid||"unknown",userName:a.displayName||a.email||"Администратор"},N={paymentStatus:C};Array.isArray(S)?N.paymentHistory=[...S,F]:N.paymentHistory=[F],C==="cancelled"?N.status="cancelled":C==="paid"&&(N.status="confirmed"),Object.keys(N).forEach(P=>{N[P]===void 0&&delete N[P]}),await en(b,N),A(!1),d(null),await new Promise(P=>setTimeout(P,500)),f(C),r&&await r()}catch(b){console.error("Error updating payment status:",b);let w="Ошибка при обновлении статуса оплаты";b.code==="permission-denied"?w="У вас нет прав для изменения статуса оплаты":b.code==="not-found"?w="Бронирование не найдено":b.message&&(w=`Ошибка: ${b.message}`),alert(w)}finally{l(!1)}},v=h||"",x=CI[v]||CI.cancelled;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${wI[v]}1A`,color:wI[v],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[s.jsx(x,{style:{fontSize:"18px"}}),s.jsx("span",{children:bI[v]}),p&&s.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>{d("paid"),A(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Оплачено"}),s.jsx("button",{onClick:()=>{d("cancelled"),A(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Отменить"})]}),h==="paid"&&i&&s.jsx("button",{onClick:i,disabled:o,style:{marginLeft:"8px",padding:"4px 8px",fontSize:"12px",background:"#8B5CF6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.5:1},title:"Оформить возврат",children:"Возврат"})]}),c&&u&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[s.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),s.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',bI[u],'"?']}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>{A(!1),d(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),s.jsx("button",{onClick:()=>g(u),disabled:o,style:{padding:"8px 16px",background:u==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:o?.6:1},children:o?"Обновление...":"Подтвердить"})]})]})})]})}function v6({createdAt:e,paymentMethod:t,paymentStatus:n}){const[r,i]=y.useState(0),[a,o]=y.useState(!1);if(y.useEffect(()=>{if(n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site")return;const A=()=>{const d=new Date;let h;e instanceof Date?h=e:e!=null&&e.toDate?h=e.toDate():e!=null&&e.seconds?h=new Date(e.seconds*1e3):h=new Date(e);const f=Math.floor((d.getTime()-h.getTime())/(1e3*60));let p=30;t==="online"&&(p=15);const g=p-f;g<=0?(o(!0),i(0)):(o(!1),i(g))};A();const u=setInterval(A,3e4);return()=>clearInterval(u)},[e,t,n]),n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site"||r===0&&!a)return null;const l=()=>a?"Время истекло":r<=5?`${r} мин`:`${r} мин`,c=()=>a?{color:"var(--danger)",fontWeight:"600"}:r<=5?{color:"var(--warning)",fontWeight:"600"}:{color:"var(--gray)"};return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",...c()},children:[a?s.jsx(zc,{style:{fontSize:"16px"}}):s.jsx(lre,{style:{fontSize:"16px"}}),s.jsx("span",{children:l()})]})}const RAe={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено",edited:"Изменено бронирование",refunded:"Возврат средств"},BI={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444",edited:"#3B82F6",refunded:"#F59E0B"};function QAe({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return s.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[s.jsx(kD,{style:{fontSize:"18px"}}),"История изменений"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[s.jsx("div",{style:{width:n.action==="edited"?"20px":"8px",height:n.action==="edited"?"20px":"8px",borderRadius:"50%",background:BI[n.action],flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:n.action==="edited"&&s.jsx($c,{style:{fontSize:"12px",color:"white"}})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{color:BI[n.action],fontWeight:"500"},children:RAe[n.action]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)}),n.action==="edited"&&n.changes&&s.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"var(--background)",borderRadius:"4px",fontSize:"12px",color:"var(--gray)"},children:[s.jsx("div",{style:{marginBottom:"4px",fontWeight:"600",color:"#4B5563"},children:"Изменения:"}),n.changes.court&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Корт:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.court.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.court.to})]}),n.changes.date&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Дата:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.date.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.date.to})]}),n.changes.duration&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Длительность:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.duration.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.duration.to})]}),n.changes.time&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Время:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.time.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.time.to})]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[s.jsx(wp,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&n.action!=="edited"&&s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}const HAe={cash:"Оплата в клубе наличными",card_on_site:"Оплата в клубе картой",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн оплата",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка",vtb_card:"На карту ВТБ"};function H5(e){return HAe[e]||e}function y6({isOpen:e,onClose:t,booking:n,onSuccess:r,clubTimezone:i="Europe/Moscow"}){const{admin:a}=er(),[o,l]=y.useState(!1),[c,A]=y.useState("");if(!e||!n)return null;const u=async()=>{if(!a||!n)return;if(!c.trim()){alert("Пожалуйста, укажите причину возврата");return}const f=new Date(n.date),p=new Intl.DateTimeFormat("en-CA",{timeZone:i,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),g=new Intl.DateTimeFormat("en-CA",{timeZone:i,year:"numeric",month:"2-digit",day:"2-digit"}).format(f);if(p>g){const v=new Intl.DateTimeFormat("ru-RU",{timeZone:i,year:"numeric",month:"long",day:"numeric"}).format(f);alert(`Возврат невозможен после окончания дня бронирования (${v}). Возврат был доступен до конца этого дня.`);return}l(!0);try{if(n.paymentMethod==="online"){const C=(await Ai(qo,"processBookingRefund")({bookingId:n.id,reason:c})).data;if(C.success)alert("Запрос на возврат отправлен в платежную систему. Статус бронирования будет обновлен автоматически после подтверждения возврата.");else throw new Error(C.error||"Ошибка при создании возврата")}else{const v=wt(_e,"bookings",n.id);await en(v,{status:"cancelled",paymentStatus:"refunded",refundedAt:Ot.now(),refundReason:c,refundedBy:{userId:a.uid||"",userName:a.displayName||a.email||"Администратор"},paymentHistory:Lv({timestamp:Ot.now(),action:"refunded",userId:a.uid||"",userName:a.displayName||a.email||"Администратор",note:`Возврат: ${c}`})}),alert("Возврат успешно оформлен. Бронирование отменено.")}r(),t(),A("")}catch(v){console.error("Error processing refund:",v),v.code==="functions/already-exists"?alert(v.message||"Возврат по этому бронированию уже выполнен или обрабатывается"):alert("Ошибка при оформлении возврата: "+(v.message||"Неизвестная ошибка"))}finally{l(!1)}},d=f=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(f),h=f=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(f);return s.jsx("div",{className:"modal active",onClick:f=>{f.target===f.currentTarget&&t()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Оформление возврата"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx(zp,{})})]}),s.jsxs("div",{className:"modal-body",children:[(()=>{const f=new Date(n.date),p=new Date;return f.getFullYear()===p.getFullYear()&&f.getMonth()===p.getMonth()&&f.getDate()===p.getDate()?s.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--danger)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[s.jsx(zc,{style:{color:"var(--danger)",flexShrink:0}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:"var(--danger)"},children:"Внимание! Последний день для возврата"}),s.jsx("div",{style:{fontSize:"14px"},children:"Сегодня последний день, когда возможен возврат по этому бронированию. После 23:59 возврат будет недоступен."})]})]}):null})(),s.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid var(--warning)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[s.jsx(zc,{style:{color:"var(--warning)",flexShrink:0}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Важно! Способ возврата"}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:["Возврат должен быть осуществлен тем же способом, что и оплата.",n.paymentMethod==="online"?s.jsx("div",{style:{marginTop:"8px",color:"var(--danger)"},children:"Для онлайн оплаты возврат будет произведен автоматически через платежную систему. Бронирование будет отменено только после подтверждения возврата от платежной системы."}):s.jsxs("div",{style:{marginTop:"8px"},children:["Способ оплаты: ",s.jsx("strong",{children:H5(n.paymentMethod)}),s.jsx("br",{}),"После подтверждения возврата бронирование будет отменено немедленно."]})]})]})]}),s.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Клиент:"}),s.jsx("span",{children:n.clientName||n.customerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),s.jsx("span",{children:n.courtName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),s.jsx("span",{children:d(n.date)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),s.jsxs("span",{children:[n.startTime," - ",n.endTime]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid var(--extra-light-gray)",fontWeight:"600",fontSize:"18px"},children:[s.jsx("span",{children:"Сумма к возврату:"}),s.jsx("span",{style:{color:"var(--danger)"},children:h(n.amount)})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Причина возврата *"}),s.jsx("textarea",{className:"form-textarea",placeholder:"Укажите причину возврата...",value:c,onChange:f=>A(f.target.value),rows:3,required:!0})]})]}),s.jsxs("div",{className:"modal-footer",style:{paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:o,children:"Отмена"}),s.jsx("button",{type:"button",className:"btn btn-danger",onClick:u,disabled:o||!c.trim(),children:o?"Оформление...":"Оформить возврат"})]})]})})}function yl(e,t){const[n,r]=e.split(":").map(Number),i=n*60+r+t,a=Math.floor(i/60)%24,o=i%60;return`${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function $Ae(e){return Math.round(e*60)}function zAe(e,t){if(!t){const[o,l,c]=e.split("-").map(Number);return new Date(Date.UTC(o,l-1,c,0,0,0))}const n=new Date(e+"T00:00:00"),i=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).formatToParts(n),a={};return i.forEach(o=>{o.type!=="literal"&&(a[o.type]=parseInt(o.value))}),new Date(Date.UTC(a.year,a.month-1,a.day,0,0,0))}function V0(e,t){return e?e!=null&&e.toDate&&typeof e.toDate=="function"?e.toDate():e!=null&&e.seconds&&typeof e.seconds=="number"?new Date(e.seconds*1e3):e instanceof Date?e:typeof e=="string"?e.match(/^\d{4}-\d{2}-\d{2}$/)?zAe(e,t):new Date(e):typeof e=="number"?new Date(e):new Date:new Date}function x6(e,t){const n=t||"Europe/Moscow",r=new Intl.DateTimeFormat("en-CA",{timeZone:n,year:"numeric",month:"2-digit",day:"2-digit"}).format(e),[i,a,o]=r.split("-").map(Number);let c=new Date(Date.UTC(i,a-1,o,0,0,0)).getUTCDay();return c=c===0?6:c-1,new Date(Date.UTC(i,a-1,o-c,0,0,0))}function WAe(e,t){const n=x6(e,t);return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()+6,23,59,59,999))}function Un(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function St(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Tt(e){St(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||En(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Il(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function i0(e,t){St(2,arguments);var n=Tt(e),r=Un(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Gx(e,t){St(2,arguments);var n=Tt(e).getTime(),r=Un(t);return new Date(n+r)}var KAe=36e5;function VAe(e,t){St(2,arguments);var n=Un(t);return Gx(e,n*KAe)}var GAe={};function al(){return GAe}function HA(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=al(),d=Un((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Tt(e),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function G0(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Gc(e){St(1,arguments);var t=Tt(e);return t.setHours(0,0,0,0),t}var qAe=864e5;function YAe(e,t){St(2,arguments);var n=Gc(e),r=Gc(t),i=n.getTime()-G0(n),a=r.getTime()-G0(r);return Math.round((i-a)/qAe)}var XAe=6e4;function Za(e,t){St(2,arguments);var n=Un(t);return Gx(e,n*XAe)}function JAe(e,t){St(2,arguments);var n=Un(t);return Gx(e,n*1e3)}function ZAe(e,t){St(2,arguments);var n=Un(t),r=n*7;return Il(e,r)}function SI(e,t){St(2,arguments);var n=Un(t);return i0(e,n*12)}function Ip(e,t){St(2,arguments);var n=Tt(e),r=Tt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var qx=6e4,Yx=36e5,eue=1e3;function b6(e,t){St(2,arguments);var n=Gc(e),r=Gc(t);return n.getTime()===r.getTime()}function tue(e){return St(1,arguments),e instanceof Date||En(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function w6(e){if(St(1,arguments),!tue(e)&&typeof e!="number")return!1;var t=Tt(e);return!isNaN(Number(t))}function nue(e,t){St(2,arguments);var n=Tt(e),r=Tt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function rue(e,t){St(2,arguments);var n=Tt(e),r=Tt(t);return n.getFullYear()-r.getFullYear()}function jI(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function C6(e,t){St(2,arguments);var n=Tt(e),r=Tt(t),i=jI(n,r),a=Math.abs(YAe(n,r));n.setDate(n.getDate()-i*a);var o=+(jI(n,r)===-i),l=i*(a-o);return l===0?0:l}function Xx(e,t){return St(2,arguments),Tt(e).getTime()-Tt(t).getTime()}var EI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},iue="trunc";function Ng(e){return e?EI[e]:EI[iue]}function aue(e,t,n){St(2,arguments);var r=Xx(e,t)/Yx;return Ng(void 0)(r)}function sue(e,t,n){St(2,arguments);var r=Xx(e,t)/qx;return Ng(void 0)(r)}function xC(e){St(1,arguments);var t=Tt(e);return t.setHours(23,59,59,999),t}function bC(e){St(1,arguments);var t=Tt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function oue(e){St(1,arguments);var t=Tt(e);return xC(t).getTime()===bC(t).getTime()}function B6(e,t){St(2,arguments);var n=Tt(e),r=Tt(t),i=Ip(n,r),a=Math.abs(nue(n,r)),o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var l=Ip(n,r)===-i;oue(Tt(e))&&a===1&&Ip(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function lue(e,t,n){St(2,arguments);var r=B6(e,t)/3;return Ng(void 0)(r)}function cue(e,t,n){St(2,arguments);var r=Xx(e,t)/1e3;return Ng(void 0)(r)}function Aue(e,t,n){St(2,arguments);var r=C6(e,t)/7;return Ng(void 0)(r)}function uue(e,t){St(2,arguments);var n=Tt(e),r=Tt(t),i=Ip(n,r),a=Math.abs(rue(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=Ip(n,r)===-i,l=i*(a-Number(o));return l===0?0:l}function due(e,t){var n;St(1,arguments);var r=e||{},i=Tt(r.start),a=Tt(r.end),o=a.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var l=[],c=i;c.setHours(0,0,0,0);var A=Number((n=void 0)!==null&&n!==void 0?n:1);if(A<1||isNaN(A))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)l.push(Tt(c)),c.setDate(c.getDate()+A),c.setHours(0,0,0,0);return l}function kI(e){St(1,arguments);var t=Tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function b2(e){St(1,arguments);var t=Tt(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function yv(e){St(1,arguments);var t=Tt(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function w2(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=al(),d=Un((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Tt(e),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function S6(e,t){St(2,arguments);var n=Un(t);return Gx(e,-n)}var fue=864e5;function hue(e){St(1,arguments);var t=Tt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/fue)+1}function rf(e){St(1,arguments);var t=1,n=Tt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function j6(e){St(1,arguments);var t=Tt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=rf(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=rf(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function pue(e){St(1,arguments);var t=j6(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=rf(n);return r}var gue=6048e5;function E6(e){St(1,arguments);var t=Tt(e),n=rf(t).getTime()-pue(t).getTime();return Math.round(n/gue)+1}function Ul(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=al(),d=Un((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Tt(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function $5(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=Tt(e),d=u.getUTCFullYear(),h=al(),f=Un((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var g=Ul(p,t),v=new Date(0);v.setUTCFullYear(d,0,f),v.setUTCHours(0,0,0,0);var x=Ul(v,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function mue(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=al(),d=Un((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=$5(e,t),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Ul(f,t);return p}var vue=6048e5;function k6(e,t){St(1,arguments);var n=Tt(e),r=Ul(n,t).getTime()-mue(n,t).getTime();return Math.round(r/vue)+1}function bn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var vc={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return bn(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):bn(r+1,2)},d:function(t,n){return bn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return bn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return bn(t.getUTCHours(),n.length)},m:function(t,n){return bn(t.getUTCMinutes(),n.length)},s:function(t,n){return bn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return bn(a,n.length)}},ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yue={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return vc.y(t,n)},Y:function(t,n,r,i){var a=$5(t,i),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return bn(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):bn(o,n.length)},R:function(t,n){var r=j6(t);return bn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return bn(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return bn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return bn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return vc.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return bn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=k6(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):bn(a,n.length)},I:function(t,n,r){var i=E6(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):bn(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):vc.d(t,n)},D:function(t,n,r){var i=hue(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):bn(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return bn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return bn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return bn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=ad.noon:i===0?a=ad.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=ad.evening:i>=12?a=ad.afternoon:i>=4?a=ad.morning:a=ad.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return vc.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vc.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):bn(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):bn(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vc.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vc.s(t,n)},S:function(t,n){return vc.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return TI(o);case"XXXX":case"XX":return wA(o);case"XXXXX":case"XXX":default:return wA(o,":")}},x:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return TI(o);case"xxxx":case"xx":return wA(o);case"xxxxx":case"xxx":default:return wA(o,":")}},O:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+II(o,":");case"OOOO":default:return"GMT"+wA(o,":")}},z:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+II(o,":");case"zzzz":default:return"GMT"+wA(o,":")}},t:function(t,n,r,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return bn(o,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,o=a.getTime();return bn(o,n.length)}};function II(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t;return n+String(i)+o+bn(a,2)}function TI(e,t){if(e%60===0){var n=e>0?"-":"+";return n+bn(Math.abs(e)/60,2)}return wA(e,t)}function wA(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=bn(Math.floor(i/60),2),o=bn(i%60,2);return r+a+n+o}var NI=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},I6=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},xue=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return NI(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",NI(i,n)).replace("{{time}}",I6(a,n))},wC={p:I6,P:xue},bue=["D","DD"],wue=["YY","YYYY"];function T6(e){return bue.indexOf(e)!==-1}function N6(e){return wue.indexOf(e)!==-1}function q0(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Cue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bue=function(t,n,r){var i,a=Cue[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Md(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Sue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Eue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kue={date:Md({formats:Sue,defaultWidth:"full"}),time:Md({formats:jue,defaultWidth:"full"}),dateTime:Md({formats:Eue,defaultWidth:"full"})},Iue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tue=function(t,n,r,i){return Iue[t]};function No(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[l]}var A=e.argumentCallback?e.argumentCallback(t):t;return i[A]}}var Nue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_ue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Due={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uue=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Lue={ordinalNumber:Uue,era:No({values:Nue,defaultWidth:"wide"}),quarter:No({values:Fue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:No({values:Pue,defaultWidth:"wide"}),day:No({values:_ue,defaultWidth:"wide"}),dayPeriod:No({values:Due,defaultWidth:"wide",formattingValues:Mue,defaultFormattingWidth:"wide"})};function Fo(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Rue(l,function(d){return d.test(o)}):Oue(l,function(d){return d.test(o)}),A;A=e.valueCallback?e.valueCallback(c):c,A=n.valueCallback?n.valueCallback(A):A;var u=t.slice(o.length);return{value:A,rest:u}}}function Oue(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Rue(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function F6(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var Que=/^(\d+)(th|st|nd|rd)?/i,Hue=/\d+/i,$ue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zue={any:[/^b/i,/^(a|c)/i]},Wue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kue={any:[/1/i,/2/i,/3/i,/4/i]},Vue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},que={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zue={ordinalNumber:F6({matchPattern:Que,parsePattern:Hue,valueCallback:function(t){return parseInt(t,10)}}),era:Fo({matchPatterns:$ue,defaultMatchWidth:"wide",parsePatterns:zue,defaultParseWidth:"any"}),quarter:Fo({matchPatterns:Wue,defaultMatchWidth:"wide",parsePatterns:Kue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Fo({matchPatterns:Vue,defaultMatchWidth:"wide",parsePatterns:Gue,defaultParseWidth:"any"}),day:Fo({matchPatterns:que,defaultMatchWidth:"wide",parsePatterns:Yue,defaultParseWidth:"any"}),dayPeriod:Fo({matchPatterns:Xue,defaultMatchWidth:"any",parsePatterns:Jue,defaultParseWidth:"any"})},z5={code:"en-US",formatDistance:Bue,formatLong:kue,formatRelative:Tue,localize:Lue,match:Zue,options:{weekStartsOn:0,firstWeekContainsDate:1}},ede=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nde=/^'([^]*?)'?$/,rde=/''/g,ide=/[a-zA-Z]/;function sn(e,t,n){var r,i,a,o,l,c,A,u,d,h,f,p,g,v,x,C,b,w;St(2,arguments);var E=String(t),S=al(),F=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:S.locale)!==null&&r!==void 0?r:z5,N=Un((a=(o=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(A=n.locale)===null||A===void 0||(u=A.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&o!==void 0?o:(d=S.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Un((f=(p=(g=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(x=n.locale)===null||x===void 0||(C=x.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&p!==void 0?p:(b=S.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var Q=Tt(e);if(!w6(Q))throw new RangeError("Invalid time value");var j=G0(Q),k=S6(Q,j),T={firstWeekContainsDate:N,weekStartsOn:P,locale:F,_originalDate:Q},D=E.match(tde).map(function(R){var H=R[0];if(H==="p"||H==="P"){var z=wC[H];return z(R,F.formatLong)}return R}).join("").match(ede).map(function(R){if(R==="''")return"'";var H=R[0];if(H==="'")return ade(R);var z=yue[H];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&N6(R)&&q0(R,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&T6(R)&&q0(R,t,String(e)),z(k,R,F.localize,T);if(H.match(ide))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return R}).join("");return D}function ade(e){var t=e.match(nde);return t?t[1].replace(rde,"'"):e}function sde(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ode(e,t){var n,r;St(1,arguments);var i=Tt(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var a=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),o=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(a!=="extended"&&a!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(o!=="date"&&o!=="time"&&o!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",A=a==="extended"?"-":"",u=a==="extended"?":":"";if(o!=="time"){var d=bn(i.getDate(),2),h=bn(i.getMonth()+1,2),f=bn(i.getFullYear(),4);l="".concat(f).concat(A).concat(h).concat(A).concat(d)}if(o!=="date"){var p=i.getTimezoneOffset();if(p!==0){var g=Math.abs(p),v=bn(Math.floor(g/60),2),x=bn(g%60,2),C=p<0?"+":"-";c="".concat(C).concat(v,":").concat(x)}else c="Z";var b=bn(i.getHours(),2),w=bn(i.getMinutes(),2),E=bn(i.getSeconds(),2),S=l===""?"":"T",F=[b,w,E].join(u);l="".concat(l).concat(S).concat(F).concat(c)}return l}function lde(e){St(1,arguments);var t=Tt(e),n=t.getDate();return n}function P6(e){St(1,arguments);var t=Tt(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function cde(e){St(1,arguments);var t=Tt(e),n=t.getHours();return n}function Ade(e){St(1,arguments);var t=Tt(e),n=t.getMilliseconds();return n}function ude(e){St(1,arguments);var t=Tt(e),n=t.getMinutes();return n}function dde(e){St(1,arguments);var t=Tt(e),n=t.getMonth();return n}function fde(e){St(1,arguments);var t=Tt(e),n=t.getSeconds();return n}function hde(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=Tt(e),d=u.getFullYear(),h=al(),f=Un((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var g=HA(p,t),v=new Date(0);v.setFullYear(d,0,f),v.setHours(0,0,0,0);var x=HA(v,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function pde(e,t){var n,r,i,a,o,l,c,A;St(1,arguments);var u=al(),d=Un((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(A=c.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=hde(e,t),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=HA(f,t);return p}var gde=6048e5;function mde(e,t){St(1,arguments);var n=Tt(e),r=HA(n,t).getTime()-pde(n,t).getTime();return Math.round(r/gde)+1}function vde(e){return St(1,arguments),Tt(e).getFullYear()}function di(e,t){St(2,arguments);var n=Tt(e),r=Tt(t);return n.getTime()>r.getTime()}function yr(e,t){St(2,arguments);var n=Tt(e),r=Tt(t);return n.getTime()<r.getTime()}function yde(e,t){St(2,arguments);var n=Tt(e),r=Tt(t);return n.getTime()===r.getTime()}function FI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xde(e,t){if(e){if(typeof e=="string")return FI(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FI(e,t):void 0}}function PI(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xde(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(A){throw A},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var A=n.next();return o=A.done,A},e:function(A){l=!0,a=A},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw a}}}}function Ln(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S0(e,t)}function Y0(e){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y0(e)}function _6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!e})()}function bde(e,t){if(t&&(En(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zt(e)}function On(e){var t=_6();return function(){var n,r=Y0(e);if(t){var i=Y0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bde(this,n)}}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wP(r.key),r)}}function Tn(e,t,n){return t&&wde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rt(e,t,n){return(t=wP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cde=10,D6=function(){function e(){In(this,e),Rt(this,"priority",void 0),Rt(this,"subPriority",0)}return Tn(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Bde=function(e){Ln(n,e);var t=On(n);function n(r,i,a,o,l){var c;return In(this,n),c=t.call(this),c.value=r,c.validateValue=i,c.setValue=a,c.priority=o,l&&(c.subPriority=l),c}return Tn(n,[{key:"validate",value:function(i,a){return this.validateValue(i,this.value,a)}},{key:"set",value:function(i,a,o){return this.setValue(i,a,this.value,o)}}]),n}(D6),Sde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",Cde),Rt(zt(r),"subPriority",-1),r}return Tn(n,[{key:"set",value:function(i,a){if(a.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(D6),Wn=function(){function e(){In(this,e),Rt(this,"incompatibleTokens",void 0),Rt(this,"priority",void 0),Rt(this,"subPriority",void 0)}return Tn(e,[{key:"run",value:function(n,r,i,a){var o=this.parse(n,r,i,a);return o?{setter:new Bde(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),jde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",140),Rt(zt(r),"incompatibleTokens",["R","u","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,a,o){return a.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Zr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Po={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ei(e,t){return e&&{value:t(e.value),rest:e.rest}}function _r(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function _o(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Yx+a*qx+o*eue),rest:t.slice(n[0].length)}}function M6(e){return _r(Zr.anyDigitsSigned,e)}function Hr(e,t){switch(e){case 1:return _r(Zr.singleDigit,t);case 2:return _r(Zr.twoDigits,t);case 3:return _r(Zr.threeDigits,t);case 4:return _r(Zr.fourDigits,t);default:return _r(new RegExp("^\\d{1,"+e+"}"),t)}}function X0(e,t){switch(e){case 1:return _r(Zr.singleDigitSigned,t);case 2:return _r(Zr.twoDigitsSigned,t);case 3:return _r(Zr.threeDigitsSigned,t);case 4:return _r(Zr.fourDigitsSigned,t);default:return _r(new RegExp("^-?\\d{1,"+e+"}"),t)}}function W5(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function U6(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var a=r+50,o=Math.floor(a/100)*100,l=e>=a%100;i=e+o-(l?100:0)}return n?i:1-i}function L6(e){return e%400===0||e%4===0&&e%100!==0}var Ede=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",130),Rt(zt(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){var l=function(A){return{year:A,isTwoDigitYear:a==="yy"}};switch(a){case"y":return ei(Hr(4,i),l);case"yo":return ei(o.ordinalNumber(i,{unit:"year"}),l);default:return ei(Hr(a.length,i),l)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o){var l=i.getUTCFullYear();if(o.isTwoDigitYear){var c=U6(o.year,l);return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}var A=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(A,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),kde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",130),Rt(zt(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){var l=function(A){return{year:A,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return ei(Hr(4,i),l);case"Yo":return ei(o.ordinalNumber(i,{unit:"year"}),l);default:return ei(Hr(a.length,i),l)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o,l){var c=$5(i,l);if(o.isTwoDigitYear){var A=U6(o.year,c);return i.setUTCFullYear(A,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ul(i,l)}var u=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ul(i,l)}}]),n}(Wn),Ide=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",130),Rt(zt(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a){return X0(a==="R"?4:a.length,i)}},{key:"set",value:function(i,a,o){var l=new Date(0);return l.setUTCFullYear(o,0,4),l.setUTCHours(0,0,0,0),rf(l)}}]),n}(Wn),Tde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",130),Rt(zt(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a){return X0(a==="u"?4:a.length,i)}},{key:"set",value:function(i,a,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Nde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",120),Rt(zt(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"Q":case"QQ":return Hr(a.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Fde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",120),Rt(zt(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"q":case"qq":return Hr(a.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Pde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Rt(zt(r),"priority",110),r}return Tn(n,[{key:"parse",value:function(i,a,o){var l=function(A){return A-1};switch(a){case"M":return ei(_r(Zr.month,i),l);case"MM":return ei(Hr(2,i),l);case"Mo":return ei(o.ordinalNumber(i,{unit:"month"}),l);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),_de=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",110),Rt(zt(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){var l=function(A){return A-1};switch(a){case"L":return ei(_r(Zr.month,i),l);case"LL":return ei(Hr(2,i),l);case"Lo":return ei(o.ordinalNumber(i,{unit:"month"}),l);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Wn);function Dde(e,t,n){St(2,arguments);var r=Tt(e),i=Un(t),a=k6(r,n)-i;return r.setUTCDate(r.getUTCDate()-a*7),r}var Mde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",100),Rt(zt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"w":return _r(Zr.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o,l){return Ul(Dde(i,o,l),l)}}]),n}(Wn);function Ude(e,t){St(2,arguments);var n=Tt(e),r=Un(t),i=E6(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Lde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",100),Rt(zt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"I":return _r(Zr.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o){return rf(Ude(i,o))}}]),n}(Wn),Ode=[31,28,31,30,31,30,31,31,30,31,30,31],Rde=[31,29,31,30,31,30,31,31,30,31,30,31],Qde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",90),Rt(zt(r),"subPriority",1),Rt(zt(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"d":return _r(Zr.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),l=L6(o),c=i.getUTCMonth();return l?a>=1&&a<=Rde[c]:a>=1&&a<=Ode[c]}},{key:"set",value:function(i,a,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Hde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",90),Rt(zt(r),"subpriority",1),Rt(zt(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"D":case"DD":return _r(Zr.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),l=L6(o);return l?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(i,a,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Wn);function K5(e,t,n){var r,i,a,o,l,c,A,u;St(2,arguments);var d=al(),h=Un((r=(i=(a=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&i!==void 0?i:(A=d.locale)===null||A===void 0||(u=A.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Tt(e),p=Un(t),g=f.getUTCDay(),v=p%7,x=(v+7)%7,C=(x<h?7:0)+p-g;return f.setUTCDate(f.getUTCDate()+C),f}var $de=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",90),Rt(zt(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,l){return i=K5(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),zde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",90),Rt(zt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o,l){var c=function(u){var d=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+d};switch(a){case"e":case"ee":return ei(Hr(a.length,i),c);case"eo":return ei(o.ordinalNumber(i,{unit:"day"}),c);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,l){return i=K5(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Wde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",90),Rt(zt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o,l){var c=function(u){var d=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+d};switch(a){case"c":case"cc":return ei(Hr(a.length,i),c);case"co":return ei(o.ordinalNumber(i,{unit:"day"}),c);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,l){return i=K5(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(Wn);function Kde(e,t){St(2,arguments);var n=Un(t);n%7===0&&(n=n-7);var r=1,i=Tt(e),a=i.getUTCDay(),o=n%7,l=(o+7)%7,c=(l<r?7:0)+n-a;return i.setUTCDate(i.getUTCDate()+c),i}var Vde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",90),Rt(zt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){var l=function(A){return A===0?7:A};switch(a){case"i":case"ii":return Hr(a.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return ei(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l);case"iiiii":return ei(o.day(i,{width:"narrow",context:"formatting"}),l);case"iiiiii":return ei(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l);case"iiii":default:return ei(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(i,a){return a>=1&&a<=7}},{key:"set",value:function(i,a,o){return i=Kde(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Wn),Gde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",80),Rt(zt(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(W5(o),0,0,0),i}}]),n}(Wn),qde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",80),Rt(zt(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(W5(o),0,0,0),i}}]),n}(Wn),Yde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",80),Rt(zt(r),"incompatibleTokens",["a","b","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(W5(o),0,0,0),i}}]),n}(Wn),Xde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",70),Rt(zt(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"h":return _r(Zr.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=12}},{key:"set",value:function(i,a,o){var l=i.getUTCHours()>=12;return l&&o<12?i.setUTCHours(o+12,0,0,0):!l&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Wn),Jde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",70),Rt(zt(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"H":return _r(Zr.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=23}},{key:"set",value:function(i,a,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Wn),Zde=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",70),Rt(zt(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"K":return _r(Zr.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){var l=i.getUTCHours()>=12;return l&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Wn),efe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",70),Rt(zt(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"k":return _r(Zr.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=24}},{key:"set",value:function(i,a,o){var l=o<=24?o%24:o;return i.setUTCHours(l,0,0,0),i}}]),n}(Wn),tfe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",60),Rt(zt(r),"incompatibleTokens",["t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"m":return _r(Zr.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Wn),nfe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",50),Rt(zt(r),"incompatibleTokens",["t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a,o){switch(a){case"s":return _r(Zr.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Hr(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCSeconds(o,0),i}}]),n}(Wn),rfe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",30),Rt(zt(r),"incompatibleTokens",["t","T"]),r}return Tn(n,[{key:"parse",value:function(i,a){var o=function(c){return Math.floor(c*Math.pow(10,-a.length+3))};return ei(Hr(a.length,i),o)}},{key:"set",value:function(i,a,o){return i.setUTCMilliseconds(o),i}}]),n}(Wn),ife=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",10),Rt(zt(r),"incompatibleTokens",["t","T","x"]),r}return Tn(n,[{key:"parse",value:function(i,a){switch(a){case"X":return _o(Po.basicOptionalMinutes,i);case"XX":return _o(Po.basic,i);case"XXXX":return _o(Po.basicOptionalSeconds,i);case"XXXXX":return _o(Po.extendedOptionalSeconds,i);case"XXX":default:return _o(Po.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Wn),afe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",10),Rt(zt(r),"incompatibleTokens",["t","T","X"]),r}return Tn(n,[{key:"parse",value:function(i,a){switch(a){case"x":return _o(Po.basicOptionalMinutes,i);case"xx":return _o(Po.basic,i);case"xxxx":return _o(Po.basicOptionalSeconds,i);case"xxxxx":return _o(Po.extendedOptionalSeconds,i);case"xxx":default:return _o(Po.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Wn),sfe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",40),Rt(zt(r),"incompatibleTokens","*"),r}return Tn(n,[{key:"parse",value:function(i){return M6(i)}},{key:"set",value:function(i,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Wn),ofe=function(e){Ln(n,e);var t=On(n);function n(){var r;In(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Rt(zt(r),"priority",20),Rt(zt(r),"incompatibleTokens","*"),r}return Tn(n,[{key:"parse",value:function(i){return M6(i)}},{key:"set",value:function(i,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Wn),lfe={G:new jde,y:new Ede,Y:new kde,R:new Ide,u:new Tde,Q:new Nde,q:new Fde,M:new Pde,L:new _de,w:new Mde,I:new Lde,d:new Qde,D:new Hde,E:new $de,e:new zde,c:new Wde,i:new Vde,a:new Gde,b:new qde,B:new Yde,h:new Xde,H:new Jde,K:new Zde,k:new efe,m:new tfe,s:new nfe,S:new rfe,X:new ife,x:new afe,t:new sfe,T:new ofe},cfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Afe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ufe=/^'([^]*?)'?$/,dfe=/''/g,ffe=/\S/,hfe=/[a-zA-Z]/;function Sr(e,t,n,r){var i,a,o,l,c,A,u,d,h,f,p,g,v,x,C,b,w,E;St(3,arguments);var S=String(e),F=String(t),N=al(),P=(i=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:N.locale)!==null&&i!==void 0?i:z5;if(!P.match)throw new RangeError("locale must contain match property");var Q=Un((o=(l=(c=(A=r==null?void 0:r.firstWeekContainsDate)!==null&&A!==void 0?A:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:N.firstWeekContainsDate)!==null&&l!==void 0?l:(h=N.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(Q>=1&&Q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Un((p=(g=(v=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(C=r.locale)===null||C===void 0||(b=C.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:N.weekStartsOn)!==null&&g!==void 0?g:(w=N.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(F==="")return S===""?Tt(n):new Date(NaN);var k={firstWeekContainsDate:Q,weekStartsOn:j,locale:P},T=[new Sde],D=F.match(Afe).map(function(se){var X=se[0];if(X in wC){var ge=wC[X];return ge(se,P.formatLong)}return se}).join("").match(cfe),R=[],H=PI(D),z;try{var V=function(){var X=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&N6(X)&&q0(X,F,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&T6(X)&&q0(X,F,e);var ge=X[0],ce=lfe[ge];if(ce){var Y=ce.incompatibleTokens;if(Array.isArray(Y)){var ne=R.find(function(fe){return Y.includes(fe.token)||fe.token===ge});if(ne)throw new RangeError("The format string mustn't contain `".concat(ne.fullToken,"` and `").concat(X,"` at the same time"))}else if(ce.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));R.push({token:ge,fullToken:X});var oe=ce.run(S,X,P.match,k);if(!oe)return{v:new Date(NaN)};T.push(oe.setter),S=oe.rest}else{if(ge.match(hfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ge+"`");if(X==="''"?X="'":ge==="'"&&(X=pfe(X)),S.indexOf(X)===0)S=S.slice(X.length);else return{v:new Date(NaN)}}};for(H.s();!(z=H.n()).done;){var J=V();if(En(J)==="object")return J.v}}catch(se){H.e(se)}finally{H.f()}if(S.length>0&&ffe.test(S))return new Date(NaN);var te=T.map(function(se){return se.priority}).sort(function(se,X){return X-se}).filter(function(se,X,ge){return ge.indexOf(se)===X}).map(function(se){return T.filter(function(X){return X.priority===se}).sort(function(X,ge){return ge.subPriority-X.subPriority})}).map(function(se){return se[0]}),Ae=Tt(n);if(isNaN(Ae.getTime()))return new Date(NaN);var U=S6(Ae,G0(Ae)),O={},M=PI(te),L;try{for(M.s();!(L=M.n()).done;){var W=L.value;if(!W.validate(U,k))return new Date(NaN);var G=W.set(U,O,k);Array.isArray(G)?(U=G[0],sde(O,G[1])):U=G}}catch(se){M.e(se)}finally{M.f()}return U}function pfe(e){return e.match(ufe)[1].replace(dfe,"'")}function _I(e){St(1,arguments);var t=Tt(e);return t.setMinutes(0,0,0),t}function gfe(e,t){St(2,arguments);var n=_I(e),r=_I(t);return n.getTime()===r.getTime()}function mfe(e,t){St(2,arguments);var n=Tt(e),r=Tt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function vfe(e,t){St(2,arguments);var n=Tt(e),r=Tt(t);return n.getFullYear()===r.getFullYear()}function O6(e){return St(1,arguments),b6(e,Date.now())}function yfe(e,t){St(2,arguments);var n=Tt(e).getTime(),r=Tt(t.start).getTime(),i=Tt(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}function xfe(e,t){var n;St(1,arguments);var r=Un((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=Bfe(e),a;if(i.date){var o=Sfe(i.date,r);a=jfe(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var l=a.getTime(),c=0,A;if(i.time&&(c=Efe(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(A=kfe(i.timezone),isNaN(A))return new Date(NaN)}else{var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(l+c+A)}var xv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Cfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bfe(e){var t={},n=e.split(xv.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],xv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xv.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=xv.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Sfe(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function jfe(e,t){if(t===null)return new Date(NaN);var n=e.match(bfe);if(!n)return new Date(NaN);var r=!!n[4],i=Rh(n[1]),a=Rh(n[2])-1,o=Rh(n[3]),l=Rh(n[4]),c=Rh(n[5])-1;if(r)return Pfe(t,l,c)?Ife(t,l,c):new Date(NaN);var A=new Date(0);return!Nfe(t,a,o)||!Ffe(t,i)?new Date(NaN):(A.setUTCFullYear(t,a,Math.max(i,o)),A)}function Rh(e){return e?parseInt(e):1}function Efe(e){var t=e.match(wfe);if(!t)return NaN;var n=C2(t[1]),r=C2(t[2]),i=C2(t[3]);return _fe(n,r,i)?n*Yx+r*qx+i*1e3:NaN}function C2(e){return e&&parseFloat(e.replace(",","."))||0}function kfe(e){if(e==="Z")return 0;var t=e.match(Cfe);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Dfe(r,i)?n*(r*Yx+i*qx):NaN}function Ife(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var Tfe=[31,null,31,30,31,30,31,31,30,31,30,31];function R6(e){return e%400===0||e%4===0&&e%100!==0}function Nfe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Tfe[t]||(R6(e)?29:28))}function Ffe(e,t){return t>=1&&t<=(R6(e)?366:365)}function Pfe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function _fe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Dfe(e,t){return t>=0&&t<=59}function Mfe(e,t){St(2,arguments);var n=Tt(e),r=Un(t),i=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var l=P6(o);return n.setMonth(r,Math.min(a,l)),n}function Ufe(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return n.setDate(r),n}function Q6(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return n.setHours(r),n}function Lfe(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return n.setMilliseconds(r),n}function H6(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return n.setMinutes(r),n}function Ofe(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return n.setSeconds(r),n}function Rfe(e,t){St(2,arguments);var n=Tt(e),r=Un(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Lc(){return Gc(Date.now())}function $6({booking:e,isOpen:t,onClose:n,onUpdate:r,clubTimezone:i="Europe/Moscow"}){var Ge,lt,bt,Ze;const{club:a,admin:o}=er(),[l,c]=y.useState(e),[A,u]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState({courtId:"",courtName:"",date:"",startTime:"",duration:60}),[g,v]=y.useState([]),[x,C]=y.useState([]),[b,w]=y.useState([]),[E,S]=y.useState(!1),[F,N]=y.useState(!1),[P,Q]=y.useState([]),[j,k]=y.useState(!1),[T,D]=y.useState(""),[R,H]=y.useState([]),[z,V]=y.useState(!1),[J,te]=y.useState(!1),Ae=y.useRef(null),U=(o==null?void 0:o.role)==="trainer";y.useEffect(()=>{if(e&&t){O(e.id),W(),e.bookingType==="group"&&M(e.id),h(!1);const ye=Do(wt(_e,"bookings",e.id),Ue=>{var ke,rt;if(Ue.exists()){const Ie=Ue.data(),_t=V0(Ie.date,i);let qe;(ke=Ie.createdAt)!=null&&ke.toDate&&typeof Ie.createdAt.toDate=="function"?qe=Ie.createdAt.toDate():(rt=Ie.createdAt)!=null&&rt.seconds&&typeof Ie.createdAt.seconds=="number"?qe=new Date(Ie.createdAt.seconds*1e3):Ie.createdAt instanceof Date?qe=Ie.createdAt:Ie.createdAt?qe=new Date(Ie.createdAt):qe=new Date;const we=Ie.duration?yl(Ie.startTime||Ie.time||"00:00",Ie.duration):Ie.endTime||"",he={id:Ue.id,...Ie,date:_t,createdAt:qe,startTime:Ie.startTime||Ie.time||"00:00",endTime:we,clientName:Ie.customerName||Ie.clientName,clientPhone:Ie.customerPhone||Ie.clientPhone,customerName:Ie.customerName||Ie.clientName,customerPhone:Ie.customerPhone||Ie.clientPhone,paymentStatus:Ie.paymentStatus||"awaiting_payment",paymentHistory:Ie.paymentHistory||[]};c(he)}});return()=>ye()}},[e==null?void 0:e.id,t]);const O=async ye=>{var Ue,ke;console.log("Loading fresh booking data:",ye);try{const rt=await fn(wt(_e,"bookings",ye));if(rt.exists()){const Ie=rt.data(),_t=V0(Ie.date,i);let qe;(Ue=Ie.createdAt)!=null&&Ue.toDate&&typeof Ie.createdAt.toDate=="function"?qe=Ie.createdAt.toDate():(ke=Ie.createdAt)!=null&&ke.seconds&&typeof Ie.createdAt.seconds=="number"?qe=new Date(Ie.createdAt.seconds*1e3):Ie.createdAt instanceof Date?qe=Ie.createdAt:Ie.createdAt?qe=new Date(Ie.createdAt):qe=new Date;const we=Ie.duration?yl(Ie.startTime||Ie.time||"00:00",Ie.duration):Ie.endTime||"",he={id:rt.id,...Ie,date:_t,createdAt:qe,startTime:Ie.startTime||Ie.time||"00:00",endTime:we,duration:Ie.duration||60,clientName:Ie.customerName||Ie.clientName,clientPhone:Ie.customerPhone||Ie.clientPhone,customerName:Ie.customerName||Ie.clientName,customerPhone:Ie.customerPhone||Ie.clientPhone,paymentStatus:Ie.paymentStatus||"awaiting_payment",paymentHistory:Ie.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",he.paymentStatus),c(he),p({courtId:Ie.courtId||"",courtName:Ie.courtName||"",date:sn(_t,"yyyy-MM-dd"),startTime:Ie.startTime||Ie.time||"00:00",duration:Ie.duration||60})}}catch(rt){console.error("Error loading fresh booking:",rt)}},M=async ye=>{k(!0);try{const ke=(await Mt(qt(Ct(_e,"groupParticipants"),vt("groupTrainingId","==",ye)))).docs.map(rt=>({id:rt.id,...rt.data()}));Q(ke)}catch(Ue){console.error("Error loading group participants:",Ue)}finally{k(!1)}},L=async ye=>{if(!ye||ye.length<2){H([]);return}V(!0);try{const Ue=qt(Ct(_e,"bookings"),vt("venueId","==",(l==null?void 0:l.venueId)||""),Rc(2e3)),ke=await Mt(Ue),rt=new Map;ke.docs.forEach(qe=>{var de;const we=qe.data(),he=we.customerPhone||we.clientPhone,Le=we.customerName||we.clientName;if(!he||!Le)return;const ve=rt.get(he),De=(de=we.date)!=null&&de.toDate?we.date.toDate():new Date(we.date);!ve||De>ve.lastVisit?rt.set(he,{id:he,name:Le,phone:he,bookingsCount:((ve==null?void 0:ve.bookingsCount)||0)+1,lastVisit:De}):ve&&ve.bookingsCount++});const Ie=ye.toLowerCase(),_t=Array.from(rt.values()).filter(qe=>{const we=qe.name.toLowerCase(),he=qe.phone;return we.includes(Ie)||he.includes(ye)}).sort((qe,we)=>we.bookingsCount!==qe.bookingsCount?we.bookingsCount-qe.bookingsCount:we.lastVisit-qe.lastVisit).slice(0,10);H(_t)}catch(Ue){console.error("Error searching customers:",Ue)}finally{V(!1)}};y.useEffect(()=>{const ye=setTimeout(()=>{L(T)},300);return()=>clearTimeout(ye)},[T]),y.useEffect(()=>{const ye=Ue=>{Ae.current&&!Ae.current.contains(Ue.target)&&te(!1)};return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[]);const W=async()=>{if(l!=null&&l.venueId)try{const Ue=(await Mt(Ct(_e,"venues",l.venueId,"courts"))).docs.map(ke=>({id:ke.id,...ke.data()}));v(Ue)}catch(ye){console.error("Error loading courts:",ye)}},G=(ye,Ue)=>{const ke=[],rt=(a==null?void 0:a.slotInterval)||30,Ie=new Date(Ue),qe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Ie.getDay()],he=((a==null?void 0:a.workingHours)||{})[qe];let Le="08:00",ve="22:00";if(he)if(typeof he=="string"&&he.includes("-")){const[Oe,Ye]=he.split("-").map(We=>We.trim());Le=Oe,ve=Ye}else typeof he=="object"&&he.open&&he.close&&(Le=he.open,ve=he.close);const[De,de]=Le.split(":").map(Number),[Se,Re]=ve.split(":").map(Number),it=De*60+de,ut=Se*60+Re;for(let Oe=it;Oe<=ut-ye;Oe+=rt){const Ye=Math.floor(Oe/60),We=Oe%60,Ve=`${Ye.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}`;ke.push(Ve)}return ke},se=async(ye,Ue,ke,rt)=>{try{const Ie=new Date(Ue+"T00:00:00"),_t=new Date(Date.UTC(Ie.getFullYear(),Ie.getMonth(),Ie.getDate(),0,0,0)),qe=new Date(Date.UTC(Ie.getFullYear(),Ie.getMonth(),Ie.getDate(),23,59,59)),we=qt(Ct(_e,"bookings"),vt("courtId","==",ye),vt("date",">=",Ot.fromDate(_t)),vt("date","<=",Ot.fromDate(qe))),Le=(await Mt(we)).docs.map(de=>({id:de.id,...de.data()})).filter(de=>{if(de.id===(l==null?void 0:l.id))return!1;const Se=de.status||"pending",Re=de.paymentStatus||"awaiting_payment";return Se!=="cancelled"&&Re!=="cancelled"&&Re!=="refunded"&&Re!=="error"}),ve=Sr(ke,"HH:mm",new Date),De=Za(ve,rt);for(const de of Le){const Se=Sr(de.startTime||de.time,"HH:mm",new Date),Re=Sr(de.endTime||yl(de.startTime||de.time,de.duration||60),"HH:mm",new Date);if(di(ve,Se)&&yr(ve,Re)||di(De,Se)&&yr(De,Re)||yr(ve,Se)&&di(De,Re)||sn(ve,"HH:mm")===(de.startTime||de.time))return!1}return!0}catch(Ie){return console.error("Error checking slot availability:",Ie),!1}},X=async()=>{const ye=new Date(f.date),Ue=Gc(new Date);if(ye<Ue){alert("Нельзя редактировать бронирования в прошлом");return}h(!0);const ke=G(f.duration,f.date);C(ke),await ge(f.courtId,f.date)},ge=async(ye,Ue)=>{if(!(!ye||!Ue)){S(!0);try{const ke=new Date(Ue+"T00:00:00"),rt=new Date(Date.UTC(ke.getFullYear(),ke.getMonth(),ke.getDate(),0,0,0)),Ie=new Date(Date.UTC(ke.getFullYear(),ke.getMonth(),ke.getDate(),23,59,59)),_t=qt(Ct(_e,"bookings"),vt("courtId","==",ye),vt("date",">=",Ot.fromDate(rt)),vt("date","<=",Ot.fromDate(Ie))),we=(await Mt(_t)).docs.map(he=>({id:he.id,...he.data()})).filter(he=>{if(he.id===(l==null?void 0:l.id))return!1;const Le=he.status||"pending",ve=he.paymentStatus||"awaiting_payment";return Le!=="cancelled"&&ve!=="cancelled"&&ve!=="refunded"&&ve!=="error"});w(we)}catch(ke){console.error("Error loading existing bookings:",ke)}finally{S(!1)}}},ce=ye=>{if(!b.length)return!1;const Ue=Sr(ye,"HH:mm",new Date),ke=Za(Ue,f.duration);for(const rt of b){const Ie=Sr(rt.startTime||rt.time,"HH:mm",new Date),_t=Sr(rt.endTime||yl(rt.startTime||rt.time,rt.duration||60),"HH:mm",new Date);if(di(Ue,Ie)&&yr(Ue,_t)||di(ke,Ie)&&yr(ke,_t)||yr(Ue,Ie)&&di(ke,_t)||sn(Ue,"HH:mm")===(rt.startTime||rt.time))return!0}return!1},Y=async()=>{if(l){if(ce(f.startTime)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время.");return}N(!0);try{if(!await se(f.courtId,f.date,f.startTime,f.duration)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время."),N(!1);return}const Ue=g.find(Le=>Le.id===f.courtId),[ke,rt,Ie]=f.date.split("-").map(Number),_t=new Date(Date.UTC(ke,rt-1,Ie,0,0,0)),qe={courtId:f.courtId,courtName:(Ue==null?void 0:Ue.name)||f.courtName,date:Ot.fromDate(_t),startTime:f.startTime,endTime:yl(f.startTime,f.duration),duration:f.duration,updatedAt:Ot.now()},we={timestamp:Ot.now(),action:"edited",userId:(o==null?void 0:o.id)||"",userName:(o==null?void 0:o.name)||"Администратор",changes:{court:l.courtName!==qe.courtName?{from:l.courtName,to:qe.courtName}:null,date:sn(l.date,"yyyy-MM-dd")!==f.date?{from:sn(l.date,"yyyy-MM-dd"),to:f.date}:null,duration:l.duration!==f.duration?{from:`${l.duration} мин`,to:`${f.duration} мин`}:null,time:l.startTime!==f.startTime?{from:`${l.startTime}-${l.endTime}`,to:`${f.startTime}-${yl(f.startTime,f.duration)}`}:null}},he=Object.entries(we.changes).filter(([Le,ve])=>ve!==null).reduce((Le,[ve,De])=>({...Le,[ve]:De}),{});Object.keys(he).length>0&&(we.changes=he,qe.paymentHistory=[...l.paymentHistory||[],we]),await en(wt(_e,"bookings",l.id),qe),h(!1),r&&await r(),await O(l.id)}catch(ye){console.error("Error updating booking:",ye),alert("Ошибка при сохранении изменений")}finally{N(!1)}}},ne=()=>{D(""),H([]),te(!1),h(!1),n()},oe=()=>{l&&p({courtId:l.courtId||"",courtName:l.courtName||"",date:sn(l.date,"yyyy-MM-dd"),startTime:l.startTime,duration:l.duration||60}),D(""),H([]),te(!1),h(!1)},fe=async ye=>{if(l)try{const Ue=l.amount||0,ke=Math.round(Ue/(l.maxParticipants||1)),rt=l.trainerPrice?Math.round(l.trainerPrice/(l.maxParticipants||1)):0,Ie=ke+rt,_t={groupTrainingId:l.id,name:ye.name,phone:ye.phone,email:ye.email||"",registrationType:"admin",registeredBy:(o==null?void 0:o.uid)||"",paymentStatus:"pending",paymentMethod:l.paymentMethod||"cash",paymentAmount:Ie,priceBreakdown:{courtPrice:ke,trainerPrice:rt,total:Ie},registeredAt:Ot.now(),paymentHistory:[{timestamp:Ot.now(),action:"created",status:"pending",userId:(o==null?void 0:o.uid)||"",userName:(o==null?void 0:o.email)||"Система",note:"Участник добавлен администратором"}]};await Ma(Ct(_e,"groupParticipants"),_t);const qe=qt(Ct(_e,"groupParticipants"),vt("groupTrainingId","==",l.id),vt("paymentStatus","==","paid")),we=await Mt(qe);await en(wt(_e,"bookings",l.id),{currentParticipants:we.size,updatedAt:Ot.now()}),await M(l.id),await O(l.id)}catch(Ue){console.error("Error adding participant:",Ue),alert("Ошибка при добавлении участника")}},ie=async(ye,Ue)=>{if(l)try{const ke={name:ye,phone:Ue,venueId:l.venueId,bookingsCount:0,createdAt:Ot.now()},rt=await Ma(Ct(_e,"customers"),ke);await fe({id:rt.id,name:ye,phone:Ue,email:""})}catch(ke){console.error("Error adding new participant:",ke),alert("Ошибка при добавлении нового участника")}},Te=async ye=>{if(!(!l||!confirm("Удалить участника?")))try{await Xc(wt(_e,"groupParticipants",ye));const Ue=qt(Ct(_e,"groupParticipants"),vt("groupTrainingId","==",l.id),vt("paymentStatus","==","paid")),ke=await Mt(Ue);await en(wt(_e,"bookings",l.id),{currentParticipants:ke.size,updatedAt:Ot.now()}),await M(l.id),await O(l.id)}catch(Ue){console.error("Error removing participant:",Ue),alert("Ошибка при удалении участника")}},be=async(ye,Ue)=>{if(l)try{await en(wt(_e,"groupParticipants",ye),{paymentStatus:Ue,updatedAt:Ot.now()});const ke=qt(Ct(_e,"groupParticipants"),vt("groupTrainingId","==",l.id),vt("paymentStatus","==","paid")),rt=await Mt(ke);await en(wt(_e,"bookings",l.id),{currentParticipants:rt.size,updatedAt:Ot.now()}),await M(l.id),await O(l.id)}catch(ke){console.error("Error updating participant payment status:",ke),alert("Ошибка при обновлении статуса оплаты")}};if(y.useEffect(()=>{if(d&&f.date){const ye=G(f.duration,f.date);C(ye)}},[f.duration,f.date,d]),y.useEffect(()=>{d&&f.courtId&&f.date&&ge(f.courtId,f.date)},[f.courtId,f.date,d]),y.useEffect(()=>{t||h(!1)},[t]),!t||!l)return null;const xe=ye=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(ye),Ne=ye=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(ye),Fe={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},He={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal active",onClick:ye=>{ye.target===ye.currentTarget&&n()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[!U&&!d&&s.jsx("button",{className:"btn btn-primary btn-icon",onClick:X,title:"Редактировать",style:{marginRight:"8px"},children:s.jsx($c,{style:{fontSize:"18px"}})}),s.jsx("button",{className:"modal-close",onClick:ne,children:s.jsx(zp,{})})]})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{style:{display:"grid",gap:"24px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),d?s.jsx("select",{value:f.courtId,onChange:ye=>p({...f,courtId:ye.target.value}),className:"form-select",style:{width:"200px"},children:g.map(ye=>s.jsx("option",{value:ye.id,children:ye.name},ye.id))}):s.jsx("span",{style:{fontWeight:"600"},children:l.courtName})]}),l.trainerName&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Тренер:"}),s.jsx("span",{style:{fontWeight:"600",color:"var(--primary)"},children:l.trainerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),d?s.jsx("input",{type:"date",value:f.date,onChange:ye=>p({...f,date:ye.target.value}),className:"form-input",style:{width:"200px"},min:sn(new Date,"yyyy-MM-dd")}):s.jsx("span",{style:{fontWeight:"600"},children:xe(l.date)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Длительность:"}),d?s.jsxs("select",{value:f.duration,onChange:ye=>p({...f,duration:Number(ye.target.value)}),className:"form-select",style:{width:"200px"},children:[s.jsx("option",{value:30,children:"30 минут"}),s.jsx("option",{value:60,children:"1 час"}),s.jsx("option",{value:90,children:"1.5 часа"}),s.jsx("option",{value:120,children:"2 часа"}),s.jsx("option",{value:150,children:"2.5 часа"}),s.jsx("option",{value:180,children:"3 часа"})]}):s.jsx("span",{style:{fontWeight:"600"},children:l.duration===30?"30 минут":l.duration===60?"1 час":l.duration===90?"1.5 часа":l.duration===120?"2 часа":l.duration===150?"2.5 часа":l.duration===180?"3 часа":`${l.duration} мин`})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Доступные интервалы:"}),d?s.jsxs("select",{value:f.startTime,onChange:ye=>p({...f,startTime:ye.target.value}),className:"form-select",style:{width:"250px",backgroundColor:ce(f.startTime)?"#FEE2E2":"white"},children:[s.jsx("option",{value:"",children:E?"Загрузка...":"Выберите время"}),!E&&x.map(ye=>{const Ue=ce(ye),ke=yl(ye,f.duration);return s.jsxs("option",{value:ye,disabled:Ue,style:Ue?{color:"#9CA3AF",backgroundColor:"#F3F4F6"}:{},children:[ye," - ",ke," ",Ue?"❌ ЗАНЯТО":""]},ye)})]}):s.jsxs("span",{style:{fontWeight:"600"},children:[l.startTime," - ",l.endTime]})]}),d&&!E&&ce(f.startTime)&&s.jsx("div",{style:{marginTop:"6px",padding:"8px",backgroundColor:"#FEE2E2",borderRadius:"4px",fontSize:"12px",color:"#991B1B",fontWeight:"500"},children:"⚠️ Выбранное время занято. Пожалуйста, выберите другой интервал."})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),s.jsx("span",{style:{fontWeight:"600",color:He[l.status]},children:Fe[l.status]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),s.jsx("span",{style:{fontWeight:"600"},children:l.clientName||l.customerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),s.jsx("span",{style:{fontWeight:"600"},children:l.clientPhone||l.customerPhone})]})]})]}),l.bookingType==="group"&&s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Групповая тренировка"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Тип тренировки:"}),s.jsx("span",{style:{fontWeight:"600",padding:"4px 8px",background:l.visibility==="public"?"#10b981":"#6366f1",color:"white",borderRadius:"4px",fontSize:"12px"},children:l.visibility==="public"?"Открытая":"Закрытая"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Участники:"}),s.jsxs("span",{style:{fontWeight:"600",padding:"4px 8px",background:P.length===l.maxParticipants?"#ef4444":"#f3f4f6",color:P.length===l.maxParticipants?"white":"#111827",borderRadius:"4px"},children:[P.length," / ",l.maxParticipants||0]})]}),P.length>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплат:"}),s.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[s.jsxs("span",{style:{padding:"2px 8px",background:"#10b981",color:"white",borderRadius:"4px"},children:["Оплачено: ",P.filter(ye=>ye.paymentStatus==="paid").length]}),P.filter(ye=>ye.paymentStatus==="pending").length>0&&s.jsxs("span",{style:{padding:"2px 8px",background:"#f59e0b",color:"white",borderRadius:"4px"},children:["Ожидает: ",P.filter(ye=>ye.paymentStatus==="pending").length]}),P.filter(ye=>ye.paymentStatus==="cancelled").length>0&&s.jsxs("span",{style:{padding:"2px 8px",background:"#ef4444",color:"white",borderRadius:"4px"},children:["Отменено: ",P.filter(ye=>ye.paymentStatus==="cancelled").length]})]})]}),l.groupRegistrationUrl&&s.jsxs("div",{children:[s.jsx("div",{style:{marginBottom:"8px"},children:s.jsx("span",{style:{color:"var(--gray)"},children:"Ссылка для записи:"})}),s.jsxs("div",{style:{display:"flex",gap:"8px",padding:"8px",background:"#f3f4f6",borderRadius:"4px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:l.groupRegistrationUrl,readOnly:!0,style:{flex:1,padding:"4px 8px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"12px",background:"white"}}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l.groupRegistrationUrl||""),alert("Ссылка скопирована!")},style:{padding:"4px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Копировать"})]})]}),l.visibility==="private"&&!U&&d&&s.jsx("div",{style:{marginTop:"16px"},children:s.jsxs("div",{className:"form-group",style:{position:"relative",marginBottom:"16px"},ref:Ae,children:[s.jsx("label",{className:"form-label",children:"Поиск участника"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"Введите имя или телефон...",value:T,onChange:ye=>{D(ye.target.value),ye.target.value&&te(!0)},disabled:P.length>=(l.maxParticipants||0),onFocus:()=>T&&te(!0)}),(z||R.length>0)&&T&&J&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"240px",overflowY:"auto"},children:z?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:"Поиск..."}):R.map(ye=>s.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:Ue=>{Ue.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:Ue=>{Ue.currentTarget.style.backgroundColor="white"},onClick:async()=>{P.length<(l.maxParticipants||0)&&(P.some(ke=>ke.phone===ye.phone)?alert("Этот участник уже добавлен"):(await fe(ye),D(""),te(!1)))},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:ye.name.substring(0,2).toUpperCase()}),s.jsx("div",{style:{flex:1},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:ye.name}),s.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:ye.phone})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[ye.bookingsCount," брон."]}),ye.lastVisit&&s.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:new Date(ye.lastVisit).toLocaleDateString("ru-RU")})]})]})})]},ye.id))}),T&&R.length===0&&!z&&J&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"16px",textAlign:"center"},children:s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{if(P.length<(l.maxParticipants||0)){const ye=T.trim();if(/^[+]?[78]?[\d\s\-\(\)]+$/.test(ye)&&/\d/.test(ye)&&ye.replace(/\D/g,"").length>=6){const ke=prompt("Имя участника:");ke&&(ie(ke,ye),D(""),te(!1))}else{const ke=prompt("Телефон участника:");ke&&(ie(ye,ke),D(""),te(!1))}}},style:{width:"100%"},children:[s.jsx(_w,{fontSize:"small",style:{marginRight:"8px"}}),"Добавить нового участника"]})})]})}),s.jsxs("div",{style:{marginTop:"16px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[s.jsx("span",{style:{color:"var(--gray)",fontWeight:"600"},children:"Список участников:"}),s.jsx("button",{onClick:()=>M(l.id),style:{padding:"4px 8px",background:"transparent",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer",fontSize:"12px",color:"var(--gray)"},children:"Обновить"})]}),j?s.jsx("div",{style:{textAlign:"center",padding:"16px",color:"var(--gray)"},children:"Загрузка участников..."}):P.length>0?s.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden",maxHeight:"300px",overflowY:"auto"},children:P.map((ye,Ue)=>s.jsxs("div",{style:{padding:"12px",borderBottom:Ue<P.length-1?"1px solid #f3f4f6":"none",display:"flex",justifyContent:"space-between",alignItems:"center",background:Ue%2===0?"white":"#fafafa"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"500",marginBottom:"4px"},children:ye.name}),s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)"},children:ye.phone})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[U?s.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"500",background:ye.paymentStatus==="paid"?"#10b981":ye.paymentStatus==="pending"?"#f59e0b":"#ef4444",color:"white"},children:ye.paymentStatus==="paid"?"Оплачено":ye.paymentStatus==="pending"?"Ожидает":"Отменено"}):s.jsxs("select",{value:ye.paymentStatus,onChange:ke=>be(ye.id,ke.target.value),style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"500",background:ye.paymentStatus==="paid"?"#10b981":ye.paymentStatus==="pending"?"#f59e0b":"#ef4444",color:"white",border:"none",cursor:"pointer",outline:"none"},children:[s.jsx("option",{value:"pending",children:"Ожидает"}),s.jsx("option",{value:"paid",children:"Оплачено"}),s.jsx("option",{value:"cancelled",children:"Отменено"})]}),l.visibility==="private"&&!U&&s.jsx("button",{onClick:()=>Te(ye.id),style:{padding:"2px 6px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Удалить"})]})]},ye.id))}):s.jsxs("div",{style:{padding:"16px",textAlign:"center",color:"var(--gray)",background:"#f3f4f6",borderRadius:"8px"},children:[s.jsx("div",{children:"Нет записавшихся участников"}),l.visibility==="private"&&!U&&s.jsx("div",{style:{marginTop:"8px",fontSize:"12px",fontStyle:"italic"},children:"Для добавления участников перейдите в режим редактирования"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),s.jsx("span",{style:{fontWeight:"600"},children:((Ge=l.createdBy)==null?void 0:Ge.userName)||"Система"})]}),((lt=l.createdBy)==null?void 0:lt.userRole)&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),s.jsx("span",{style:{fontWeight:"600"},children:l.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),s.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(l.createdAt)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[l.trainerPrice?s.jsx(s.Fragment,{children:(()=>{const ye=l.bookingType==="group"&&l.maxParticipants;let Ue,ke,rt;return ye?(Ue=l.trainerPrice,ke=l.amount,rt=ke+Ue):(Ue=l.trainerPrice,ke=l.amount-l.trainerPrice,rt=l.amount),s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),s.jsx("span",{style:{fontWeight:"600"},children:Ne(ke)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsxs("span",{style:{color:"var(--gray)"},children:["Тренер",ye?` (${Math.round(Ue/l.maxParticipants)} ₽ × ${l.maxParticipants} чел.)`:"",":"]}),s.jsx("span",{style:{fontWeight:"600"},children:Ne(Ue)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid var(--divider)"},children:[s.jsx("span",{style:{color:"var(--gray)",fontWeight:"600"},children:"Итого:"}),s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:Ne(rt)})]}),ye&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",fontSize:"14px",color:"var(--gray)"},children:[s.jsx("span",{children:"Цена с человека:"}),s.jsx("span",{style:{fontWeight:"600"},children:Ne(Math.round(rt/l.maxParticipants))})]})]})})()}):s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:Ne(l.amount)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),s.jsx("span",{style:{fontWeight:"600"},children:H5(l.paymentMethod)})]}),l.bookingType!=="group"&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),U?s.jsx("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"13px",fontWeight:"500",background:l.paymentStatus==="paid"?"#10B981":l.paymentStatus==="cancelled"?"#EF4444":"#F59E0B",color:"white"},children:l.paymentStatus==="paid"?"Оплачено":l.paymentStatus==="cancelled"?"Отменено":l.paymentStatus==="refunded"?"Возвращено":"Ожидает оплаты"}):s.jsx(m6,{bookingId:l.id,currentStatus:l.paymentStatus||"awaiting_payment",paymentMethod:l.paymentMethod,onStatusUpdate:async()=>{r&&await r()},onRefund:()=>{u(!0)}},`${l.id}-${l.paymentStatus}`)]}),l.bookingType!=="group"&&l.paymentStatus==="awaiting_payment"&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"До отмены:"}),s.jsx(v6,{createdAt:l.createdAt,paymentMethod:l.paymentMethod,paymentStatus:l.paymentStatus})]}),l.bookingType!=="group"&&l.paymentMethod==="online"&&l.paymentStatus==="awaiting_payment"&&(l.paymentUrl||((bt=l.paymentSmsInfo)==null?void 0:bt.paymentUrl))&&s.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--warning)",marginBottom:"8px"},children:"Ссылка на оплату"}),s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",marginBottom:"8px"},children:l.paymentSmsInfo?`SMS отправлено на ${l.paymentSmsInfo.sentTo}`:"Клиент может оплатить по этой ссылке"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"white",borderRadius:"6px",border:"1px solid var(--extra-light-gray)"},children:[s.jsx("input",{type:"text",value:l.paymentUrl||((Ze=l.paymentSmsInfo)==null?void 0:Ze.paymentUrl)||"",readOnly:!0,style:{flex:1,border:"none",outline:"none",fontSize:"12px",background:"transparent"}}),s.jsx("button",{onClick:()=>{var Ue;const ye=l.paymentUrl||((Ue=l.paymentSmsInfo)==null?void 0:Ue.paymentUrl)||"";navigator.clipboard.writeText(ye),alert("Ссылка скопирована!")},style:{padding:"4px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Копировать"})]})]})]})]}),!U&&l.paymentHistory&&l.paymentHistory.length>0&&s.jsx(QAe,{history:l.paymentHistory})]})}),s.jsx("div",{className:"modal-footer",children:d?s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"btn btn-secondary",onClick:oe,disabled:F,children:[s.jsx(Ds,{style:{fontSize:"18px",marginRight:"6px"}}),"Отмена"]}),s.jsxs("button",{className:"btn btn-primary",onClick:Y,disabled:F,children:[s.jsx(Dc,{style:{fontSize:"18px",marginRight:"6px"}}),F?"Сохранение...":"Сохранить"]})]}):s.jsx("button",{className:"btn btn-secondary",onClick:ne,children:"Закрыть"})})]})}),s.jsx(y6,{isOpen:A,onClose:()=>{u(!1)},booking:l,onSuccess:()=>{u(!1),r&&r()},clubTimezone:i})]})}function Qfe({venueId:e,bookings:t,onRefresh:n,clubTimezone:r="Europe/Moscow"}){const{admin:i,club:a}=er(),{isSuperAdmin:o}=ri(),l=()=>(a==null?void 0:a.timezone)||r||"Europe/Moscow",[c,A]=y.useState([]),[u,d]=y.useState(!0),[h,f]=y.useState("all"),[p,g]=y.useState("all"),[v,x]=y.useState("all"),[C,b]=y.useState("all"),[w,E]=y.useState(!1),[S,F]=y.useState(null),[N,P]=y.useState(!1),[Q,j]=y.useState(!1),[k,T]=y.useState(null),[D,R]=y.useState("desc");y.useEffect(()=>{t?(A(t),d(!1)):H()},[e,t]);const H=async()=>{if(!t){if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{d(!0);const L=qt(Ct(_e,"bookings"),vt("venueId","==",e)),W=await Mt(L);console.log("BookingsList: Found bookings:",W.size);const G=W.docs.map(se=>{var Y,ne,oe,fe;const X=se.data();console.log("BookingsList: Raw booking:",X);let ge;(Y=X.createdAt)!=null&&Y.toDate?ge=X.createdAt.toDate():X.createdAt instanceof Date?ge=X.createdAt:typeof X.createdAt=="string"?ge=new Date(X.createdAt):(ne=X.createdAt)!=null&&ne.seconds?ge=new Date(X.createdAt.seconds*1e3):(ge=new Date,console.warn("No createdAt for booking:",se.id));let ce;return(oe=X.date)!=null&&oe.toDate?ce=X.date.toDate():X.date instanceof Date?ce=X.date:typeof X.date=="string"?ce=new Date(X.date):(fe=X.date)!=null&&fe.seconds?ce=new Date(X.date.seconds*1e3):ce=new Date,{id:se.id,...X,date:ce,createdAt:ge}});console.log("BookingsList: Processed bookings:",G),A(G)}catch(L){console.error("Error fetching bookings:",L)}finally{d(!1)}}},z=L=>{if(!o)return!1;const W=L.status==="cancelled",G=!L.paymentStatus||L.paymentStatus==="awaiting_payment"||L.paymentStatus==="cancelled",se=L.paymentStatus==="refunded",X=L.paymentStatus==="error";return W&&(G||se)||X},V=async(L,W)=>{if(!z(W)){alert("Удалить можно только отмененное бронирование без оплаты/с возвратом средств, или бронирование с ошибкой оплаты");return}if(confirm(`Вы уверены, что хотите удалить это бронирование?

Это действие необратимо!`))try{await Xc(wt(_e,"bookings",L)),n?n():H()}catch(G){console.error("Error deleting booking:",G),alert("Ошибка при удалении бронирования")}},te=[...c.filter(L=>!(h!=="all"&&L.status!==h||p!=="all"&&(L.paymentStatus||"awaiting_payment")!==p||v!=="all"&&L.paymentMethod!==v||C!=="all"&&(C==="no_trainer"&&L.trainerId||C!=="no_trainer"&&L.trainerId!==C)))].sort((L,W)=>{var X,ge,ce,Y,ne,oe,fe,ie;let G,se;return L.createdAt instanceof Date?G=L.createdAt:(X=L.createdAt)!=null&&X.toDate?G=L.createdAt.toDate():(ge=L.createdAt)!=null&&ge.seconds?G=new Date(L.createdAt.seconds*1e3):typeof L.createdAt=="string"?G=new Date(L.createdAt):L.date instanceof Date?G=L.date:(ce=L.date)!=null&&ce.toDate?G=L.date.toDate():(Y=L.date)!=null&&Y.seconds?G=new Date(L.date.seconds*1e3):G=new Date(0),W.createdAt instanceof Date?se=W.createdAt:(ne=W.createdAt)!=null&&ne.toDate?se=W.createdAt.toDate():(oe=W.createdAt)!=null&&oe.seconds?se=new Date(W.createdAt.seconds*1e3):typeof W.createdAt=="string"?se=new Date(W.createdAt):W.date instanceof Date?se=W.date:(fe=W.date)!=null&&fe.toDate?se=W.date.toDate():(ie=W.date)!=null&&ie.seconds?se=new Date(W.date.seconds*1e3):se=new Date(0),D==="desc"?se.getTime()-G.getTime():G.getTime()-se.getTime()}),Ae=L=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric",timeZone:l()}).format(L),U=L=>L||"—",O=L=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(L),M=Array.from(new Map(c.filter(L=>L.trainerId&&L.trainerName).map(L=>[L.trainerId,{id:L.trainerId,name:L.trainerName}])).values()).sort((L,W)=>(L.name||"").localeCompare(W.name||""));return u?s.jsx("div",{children:"Загрузка..."}):s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("h2",{className:"section-title",children:"Список бронирований"}),te.length!==c.length&&s.jsxs("span",{style:{fontSize:"14px",color:"var(--gray)",padding:"4px 12px",background:"var(--background)",borderRadius:"4px"},children:["Показано: ",te.length," из ",c.length]})]}),s.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>E(!w),children:[s.jsx(Nre,{}),"Фильтры"]})]}),w&&s.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),s.jsxs("select",{className:"form-select",value:h,onChange:L=>f(L.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"confirmed",children:"Подтверждено"}),s.jsx("option",{value:"pending",children:"Ожидает"}),s.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),s.jsxs("select",{className:"form-select",value:p,onChange:L=>g(L.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),s.jsx("option",{value:"paid",children:"Оплачено"}),s.jsx("option",{value:"expired",children:"Время истекло"}),s.jsx("option",{value:"cancelled",children:"Отменено"}),s.jsx("option",{value:"refunded",children:"Возвращено"}),s.jsx("option",{value:"error",children:"Ошибка оплаты"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Способ оплаты"}),s.jsxs("select",{className:"form-select",value:v,onChange:L=>x(L.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"cash",children:"Наличные"}),s.jsx("option",{value:"card_on_site",children:"Карта на месте"}),s.jsx("option",{value:"transfer",children:"Перевод на счет"}),s.jsx("option",{value:"online",children:"ЮKassa (онлайн)"}),s.jsx("option",{value:"sberbank_card",children:"Перевод Сбербанк"}),s.jsx("option",{value:"tbank_card",children:"Перевод Т-Банк"}),s.jsx("option",{value:"vtb_card",children:"Перевод ВТБ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Тренер"}),s.jsxs("select",{className:"form-select",value:C,onChange:L=>b(L.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"no_trainer",children:"Без тренера"}),M.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),(h!=="all"||p!=="all"||v!=="all"||C!=="all")&&s.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:s.jsx("button",{onClick:()=>{f("all"),g("all"),x("all"),b("all")},style:{padding:"8px 16px",background:"var(--error)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Сбросить фильтры"})})]}),s.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{onClick:()=>R(L=>L==="desc"?"asc":"desc"),style:{cursor:"pointer",userSelect:"none"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:["Дата создания",s.jsx("span",{style:{color:"var(--primary)"},children:D==="desc"?"↓":"↑"})]})}),s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Корт"}),s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:"Сумма"}),s.jsx("th",{children:"Способ оплаты"}),s.jsx("th",{children:"Статус оплаты"}),s.jsx("th",{children:"Действия"})]})}),s.jsx("tbody",{children:te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):te.map(L=>s.jsxs("tr",{children:[s.jsx("td",{children:(()=>{var G,se;let W=null;return L.createdAt instanceof Date?W=L.createdAt:(G=L.createdAt)!=null&&G.toDate?W=L.createdAt.toDate():(se=L.createdAt)!=null&&se.seconds?W=new Date(L.createdAt.seconds*1e3):typeof L.createdAt=="string"&&(W=new Date(L.createdAt)),W&&!isNaN(W.getTime())?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:Ae(W)}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:W.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",timeZone:l()})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Неизвестно"}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"—"})]})})()}),s.jsxs("td",{children:[s.jsx("div",{children:Ae(L.date)}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[U(L.startTime)," - ",U(L.endTime)]})]}),s.jsxs("td",{children:[s.jsx("div",{children:L.courtName}),L.trainerName&&s.jsxs("div",{style:{fontSize:"14px",color:"var(--primary)"},children:["Тренер: ",L.trainerName]})]}),s.jsxs("td",{children:[s.jsx("div",{children:L.clientName||L.customerName}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:L.clientPhone||L.customerPhone})]}),s.jsx("td",{style:{fontWeight:"600"},children:O((()=>{if(L.bookingType==="group"&&L.maxParticipants){const W=L.amount||0,G=L.trainerPrice||0;return W+G}return L.totalAmount||L.amount})())}),s.jsx("td",{children:H5(L.paymentMethod)}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx(m6,{bookingId:L.id,currentStatus:L.paymentStatus||"awaiting_payment",paymentMethod:L.paymentMethod,onStatusUpdate:H,onRefund:()=>{T(L),j(!0)}}),(L.paymentMethod==="online"&&!L.createdAt&&console.log("WARNING: Online booking without createdAt:",L.id),L.createdAt?s.jsx(v6,{createdAt:L.createdAt,paymentMethod:L.paymentMethod,paymentStatus:L.paymentStatus}):null)]})}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{F(L),P(!0)},title:"Подробности",children:s.jsx(S5,{})}),z(L)&&s.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>V(L.id,L),title:"Удалить бронирование (отмененные без оплаты или с ошибкой)",children:s.jsx(Au,{})})]})})]},L.id))})]})}),s.jsx($6,{booking:S,isOpen:N,onClose:()=>{P(!1),F(null)},onUpdate:H}),s.jsx(y6,{isOpen:Q,onClose:()=>{j(!1),T(null)},booking:k,onSuccess:()=>{H(),j(!1),T(null)},clubTimezone:r})]})}function z6(e,t){if(!t||t.length===0)return null;const n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=`${n}-${r}`;return t.find(a=>a.date===i)||null}function af(e,t,n,r,i,a,o){const[l,c]=t.split(":").map(Number);let A=0,u=l,d=c,h=n;for(;h>0;){const f=Math.min(60-d,h),p=f/60,g=z6(e,i);if(g)A+=g.price*p;else if(r){const v=e.getDay(),C=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][v],b=r[C];if(b){let w=b.basePrice;if(b.intervals)for(const E of b.intervals){const[S,F=0]=E.from.split(":").map(Number),[N,P=0]=E.to.split(":").map(Number),Q=S*60+F;let j=N*60+P;j===0&&(j=24*60);const k=u*60+d;if(k>=Q&&k<j){w=E.price;break}}A+=w*p}else{const E=e.getDay()===0||e.getDay()===6?o||2400:a||1900;A+=E*p}}else{const x=e.getDay()===0||e.getDay()===6?o||2400:a||1900;A+=x*p}h-=f,d+=f,d>=60&&(u+=Math.floor(d/60),d=d%60)}return Math.round(A)}function Hfe(e,t,n,r,i,a,o){const l=[],[c,A]=t.split(":").map(Number);let u=c,d=A,h=n;for(;h>0;){const f=Math.min(60-d,h),p=f/60,g=`${String(u).padStart(2,"0")}:${String(d).padStart(2,"0")}`,v=d+f,x=u+Math.floor(v/60),C=v%60,b=`${String(x).padStart(2,"0")}:${String(C).padStart(2,"0")}`;let w=0;const E=z6(e,i);if(E)w=E.price*p;else if(r){const S=e.getDay(),N=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][S],P=r[N];if(P){let Q=P.basePrice;if(P.intervals)for(const j of P.intervals){const[k,T=0]=j.from.split(":").map(Number),[D,R=0]=j.to.split(":").map(Number),H=k*60+T;let z=D*60+R;z===0&&(z=24*60);const V=u*60+d;if(V>=H&&V<z){Q=j.price;break}}w=Q*p}else w=(e.getDay()===0||e.getDay()===6?o||2400:a||1900)*p}else w=(e.getDay()===0||e.getDay()===6?o||2400:a||1900)*p;(f===60||h<=60)&&l.push({time:`${g} - ${b}`,price:Math.round(w)}),h-=f,d+=f,d>=60&&(u+=Math.floor(d/60),d=d%60)}return l}function $fe(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function W6(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function bd(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function K6(e){return e.trim().length>=2&&e.trim().length<=100}function V6(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function zfe(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[i,a]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),c=i*60+a,A=o*60+l;return A<=c?!1:A-c>=n}function Tp(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function Wfe({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:i,preSelectedTime:a,preSelectedCourtId:o,preSelectedTrainerId:l}){const{admin:c}=er(),[A,u]=y.useState([]),[d,h]=y.useState(!1),[f,p]=y.useState(""),[g,v]=y.useState(30),[x,C]=y.useState({monday:{open:"07:00",close:"23:00"},tuesday:{open:"07:00",close:"23:00"},wednesday:{open:"07:00",close:"23:00"},thursday:{open:"07:00",close:"23:00"},friday:{open:"07:00",close:"23:00"},saturday:{open:"08:00",close:"22:00"},sunday:{open:"08:00",close:"22:00"}}),b=de=>{const Se=de.getFullYear(),Re=String(de.getMonth()+1).padStart(2,"0"),it=String(de.getDate()).padStart(2,"0");return`${Se}-${Re}-${it}`},[w,E]=y.useState({clientName:"",clientPhone:"+7",courtId:"",date:b(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),[S,F]=y.useState([]),[N,P]=y.useState([]),[Q,j]=y.useState(!1),[k,T]=y.useState(null),[D,R]=y.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),[H,z]=y.useState(""),[V,J]=y.useState([]),[te,Ae]=y.useState(null),[U,O]=y.useState(!1),[M,L]=y.useState(!1),[W,G]=y.useState(!1),se=y.useRef(null),[X,ge]=y.useState([]),[ce,Y]=y.useState(!!l),[ne,oe]=y.useState(l||""),[fe,ie]=y.useState([]),[Te,be]=y.useState("individual"),[xe,Ne]=y.useState(10),[Fe,He]=y.useState(!0),[Ge,lt]=y.useState([]),bt=async de=>{if(!de||de.length<2){J([]);return}O(!0);try{const Se=qt(Ct(_e,"bookings"),vt("venueId","==",r),Rc(2e3)),Re=await Mt(Se),it=new Map;Re.docs.forEach(Oe=>{var rn,Nn;const Ye=Oe.data(),We=Ye.customerPhone||Ye.clientPhone,Ve=Ye.customerName||Ye.clientName;if(!We||!Ve)return;const nt=de.toLowerCase().trim(),ft=Ve.toLowerCase(),at=de.replace(/\D/g,""),Bt=We.replace(/\D/g,""),xt=nt.length>0&&ft.includes(nt),Ht=at.length>=3&&Bt.includes(at);if(!xt&&!Ht)return;const Yt=We;if(it.has(Yt)){const Kn=it.get(Yt);Kn.bookingsCount++;const kr=(rn=Ye.date)!=null&&rn.toDate?Ye.date.toDate():new Date(Ye.date);(!Kn.lastVisit||kr>Kn.lastVisit)&&(Kn.lastVisit=kr)}else{const Kn=(Nn=Ye.date)!=null&&Nn.toDate?Ye.date.toDate():new Date(Ye.date);it.set(Yt,{id:Yt,name:Ve,phone:We,email:Ye.customerEmail||Ye.clientEmail,bookingsCount:1,lastVisit:Kn})}});const ut=Array.from(it.values()).sort((Oe,Ye)=>Ye.bookingsCount!==Oe.bookingsCount?Ye.bookingsCount-Oe.bookingsCount:Oe.lastVisit&&Ye.lastVisit?Ye.lastVisit.getTime()-Oe.lastVisit.getTime():0).slice(0,10);J(ut)}catch(Se){console.error("Error searching customers:",Se)}finally{O(!1)}},Ze=de=>{Ae(de),E(Se=>({...Se,clientName:de.name,clientPhone:de.phone})),z(""),J([]),G(!1)},ye=()=>{Ae(null),E(de=>({...de,clientName:"",clientPhone:"+7"})),L(!1),z("")},Ue=(de,Se)=>{const Re=A.find(ut=>ut.id===w.courtId);if(!Re)return 0;const it=new Date(w.date);return af(it,de,Se*60,Re.pricing,Re.holidayPricing,Re.priceWeekday,Re.priceWeekend)},ke=(de,Se,Re,it)=>{const[ut,Oe]=de.split(":").map(Number),Ye=ut+Oe/60,We=Ye+Se;return(it?N:Re?N.filter(ft=>ft.courtId===Re):N).some(ft=>{const[at,Bt]=ft.startTime.split(":").map(Number),xt=at+Bt/60;let Ht;if(ft.endTime){const[Yt,rn]=ft.endTime.split(":").map(Number);Ht=Yt+rn/60}else{const Yt=(ft.duration||60)/60;Ht=xt+Yt}return it&&ft.trainerId===it&&Ye<Ht&&We>xt?!0:Re&&ft.courtId===Re?Ye<Ht&&We>xt:!1})},rt=de=>{const Se=[],Re=new Date(w.date),ut=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Re.getDay()],Oe=x[ut];let Ye="08:00",We="22:00";if(Oe)if(typeof Oe=="string"&&Oe.includes("-")){const[rn,Nn]=Oe.split("-").map(Kn=>Kn.trim());Ye=rn||"08:00",We=Nn||"22:00"}else Oe.open&&Oe.close&&(Ye=Oe.open,We=Oe.close);const[Ve,nt]=Ye.split(":").map(Number),[ft,at]=We.split(":").map(Number),Bt=Ve+nt/60,xt=ft+at/60,Ht=xt-de,Yt=g===60?1:.5;for(let rn=Bt;rn<=Ht;rn+=Yt){const Nn=Math.floor(rn),Kn=rn%1*60,kr=`${String(Nn).padStart(2,"0")}:${String(Kn).padStart(2,"0")}`;rn+de<=xt&&Se.push(kr)}return Se};y.useEffect(()=>{const de=setTimeout(()=>{H&&!M?(bt(H),G(!0)):G(!1)},300);return()=>clearTimeout(de)},[H,M]),y.useEffect(()=>{const de=Se=>{se.current&&!se.current.contains(Se.target)&&G(!1)};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[]),y.useEffect(()=>{Te==="group"&&Fe&&E(de=>({...de,paymentMethod:"online"}))},[Te,Fe]);const Ie=async()=>{if(r)try{const de=await fn(wt(_e,"venues",r));if(de.exists()){const Se=de.data();Se.enabledPaymentMethods&&R(Se.enabledPaymentMethods)}}catch(de){console.error("Error loading payment methods settings:",de)}};y.useEffect(()=>{if(e&&r){_t(!!o),qe(),Ie(),!D[w.paymentMethod]&&w.paymentMethod!=="online"&&E(Oe=>({...Oe,paymentMethod:"online"}));const de=Ct(_e,"venues",r,"courts"),Se=Do(de,Oe=>{const Ye=Oe.docs.map(We=>({id:We.id,...We.data()}));u(Ye),w.courtId&&!Ye.find(We=>We.id===w.courtId)&&E(We=>({...We,courtId:""}))},Oe=>{console.error("Error listening to courts:",Oe)}),Re=o||"",it={...w,date:i?b(i):w.date,startTime:a||w.startTime,courtId:Re,duration:w.duration,clientName:w.clientName,clientPhone:w.clientPhone,paymentMethod:w.paymentMethod};E(it),l?(oe(l),Y(!0)):(oe(""),Y(!1)),P([]);const ut=rt(it.duration);if(F(ut),it.date){const Oe=it.date;l?he(Oe):Re&&Le(Re,Oe)}return()=>{Se()}}else e||(z(""),J([]),Ae(null),O(!1),L(!1),G(!1),P([]),j(!1),k&&(k(),T(null)),E({clientName:"",clientPhone:"+7",courtId:"",date:b(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),F([]),oe(""),Y(!1))},[e,r,i,a,o,g]),y.useEffect(()=>{const de=rt(w.duration);F(de),!de.includes(w.startTime)&&de.length>0&&E(Se=>({...Se,startTime:de[0]}))},[w.duration,w.date,g,x]),y.useEffect(()=>{e&&w.date&&(l?he(w.date):w.courtId&&Le(w.courtId,w.date))},[w.date,w.courtId,e,l]),y.useEffect(()=>{e&&w.date&&we(w.date)},[w.date,e]),y.useEffect(()=>{let de=!1;if(w.date&&e&&r){if(k&&(k(),T(null)),P([]),j(!0),l)if(w.courtId){Le(w.courtId,w.date).finally(()=>j(!1));const Se=Ct(_e,"bookings"),Re=new Date(w.date),it=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),0,0,0)),ut=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),23,59,59)),Oe=qt(Se,vt("courtId","==",w.courtId),vt("date",">=",Ot.fromDate(it)),vt("date","<=",Ot.fromDate(ut))),Ye=Do(Oe,We=>{const Ve=We.docs.map(nt=>({id:nt.id,...nt.data()})).filter(nt=>{const ft=nt.status||"pending",at=nt.paymentStatus||"awaiting_payment";return ft==="cancelled"||["cancelled","refunded","error"].includes(at)?!1:ft==="confirmed"||ft==="pending"||at==="paid"||at==="awaiting_payment"});P(Ve)},We=>{console.error("Error listening to court bookings:",We),j(!1)});de||T(()=>Ye);return}else{he(w.date).finally(()=>j(!1));const Se=Ct(_e,"bookings"),Re=new Date(w.date),it=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),0,0,0)),ut=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),23,59,59)),Oe=qt(Se,vt("venueId","==",r),vt("date",">=",Ot.fromDate(it)),vt("date","<=",Ot.fromDate(ut))),Ye=Do(Oe,We=>{const nt=We.docs.map(ft=>({id:ft.id,...ft.data()})).filter(ft=>{const at=ft.status||"pending",Bt=ft.paymentStatus||"awaiting_payment";return at==="cancelled"||["cancelled","refunded","error"].includes(Bt)?!1:at==="confirmed"||at==="pending"||Bt==="paid"||Bt==="awaiting_payment"});P(nt)},We=>{console.error("Error listening to bookings:",We),j(!1)});de||T(()=>Ye);return}if(w.courtId){Le(w.courtId,w.date).finally(()=>j(!1));const Se=Ct(_e,"bookings"),Re=new Date(w.date),it=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),0,0,0)),ut=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),23,59,59)),Oe=qt(Se,vt("courtId","==",w.courtId),vt("date",">=",Ot.fromDate(it)),vt("date","<=",Ot.fromDate(ut))),Ye=Do(Oe,We=>{const Ve=new Map;We.docs.forEach(nt=>{const ft=nt.data(),at=ft.status||"pending",Bt=ft.paymentStatus||"awaiting_payment";at!=="cancelled"&&Bt!=="cancelled"&&Bt!=="refunded"&&Bt!=="error"&&(at==="confirmed"||at==="pending"||Bt==="paid"||Bt==="awaiting_payment")&&Ve.set(nt.id,{id:nt.id,...ft})}),P(Array.from(Ve.values()))},We=>{console.error("Error listening to selected court bookings:",We),j(!1)});de||T(()=>Ye)}}return()=>{de=!0,T(Se=>(Se&&Se(),null))}},[w.courtId,w.date,e,r,l]);const _t=async de=>{if(r)try{const Se=await fn(wt(_e,"venues",r));if(Se.exists()){const Oe=Se.data();p(Oe.name||""),v(Oe.bookingSlotInterval||60),Oe.workingHours&&C(Oe.workingHours)}const Re=Ct(_e,"venues",r,"courts"),ut=(await Mt(Re)).docs.map(Oe=>({id:Oe.id,...Oe.data()}));u(ut),E(Oe=>Oe.courtId||de||ut.length===0?Oe:{...Oe,courtId:ut[0].id})}catch(Se){console.error("Error fetching courts:",Se)}},qe=async()=>{if(r)try{const de=qt(Ct(_e,"trainers"),vt("clubId","==",r)),Re=(await Mt(de)).docs.map(it=>({id:it.id,...it.data()})).filter(it=>it.status==="active");Re.sort((it,ut)=>(it.firstName||"").localeCompare(ut.firstName||"")),ge(Re)}catch(de){console.error("Error fetching trainers:",de)}},we=async de=>{if(!(!r||!de))try{const Se=new Date(de),Re=new Date(Date.UTC(Se.getFullYear(),Se.getMonth(),Se.getDate(),0,0,0)),it=new Date(Date.UTC(Se.getFullYear(),Se.getMonth(),Se.getDate(),23,59,59)),ut=qt(Ct(_e,"bookings"),vt("venueId","==",r),vt("date",">=",Ot.fromDate(Re)),vt("date","<=",Ot.fromDate(it))),Ye=(await Mt(ut)).docs.map(We=>({id:We.id,...We.data()})).filter(We=>{const Ve=We.status||"pending",nt=We.paymentStatus||"awaiting_payment";return We.trainerId&&Ve!=="cancelled"&&nt!=="cancelled"&&nt!=="refunded"&&nt!=="error"});ie(Ye)}catch(Se){console.error("Error fetching trainer bookings:",Se)}},he=async de=>{if(!(!r||!de))try{const Se=Ct(_e,"bookings"),Re=new Date(de),it=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),0,0,0)),ut=new Date(Date.UTC(Re.getFullYear(),Re.getMonth(),Re.getDate(),23,59,59)),Oe=qt(Se,vt("venueId","==",r),vt("date",">=",Ot.fromDate(it)),vt("date","<=",Ot.fromDate(ut))),Ve=(await Mt(Oe)).docs.map(nt=>({id:nt.id,...nt.data()})).filter(nt=>{const ft=nt.status||"pending",at=nt.paymentStatus||"awaiting_payment";return ft==="cancelled"||["cancelled","refunded","error"].includes(at)?!1:ft==="confirmed"||ft==="pending"||at==="paid"||at==="awaiting_payment"});P(Ve)}catch(Se){console.error("Error fetching all courts bookings:",Se)}},Le=async(de,Se)=>{const Re=de||w.courtId,it=Se||w.date;if(!(!r||!Re||!it))try{const ut=Ct(_e,"bookings"),Oe=new Date(it),Ye=new Date(Date.UTC(Oe.getFullYear(),Oe.getMonth(),Oe.getDate(),0,0,0)),We=new Date(Date.UTC(Oe.getFullYear(),Oe.getMonth(),Oe.getDate(),23,59,59)),Ve=qt(ut,vt("courtId","==",Re),vt("date",">=",Ot.fromDate(Ye)),vt("date","<=",Ot.fromDate(We))),at=(await Mt(Ve)).docs.map(Bt=>({id:Bt.id,...Bt.data()})).filter(Bt=>{const xt=Bt.status||"pending",Ht=Bt.paymentStatus||"awaiting_payment";return xt!=="cancelled"&&Ht!=="cancelled"&&Ht!=="refunded"&&Ht!=="error"&&(xt==="confirmed"||xt==="pending"||Ht==="paid"||Ht==="awaiting_payment")});P(at)}catch(ut){console.error("Error fetching bookings:",ut)}},ve=de=>{const{name:Se,value:Re}=de.target;E(it=>({...it,[Se]:Se==="duration"?parseFloat(Re):Re}))},De=async de=>{if(de.preventDefault(),!r||!c||d)return;if(Te!=="group"){if(!w.clientName){alert("Пожалуйста, укажите имя клиента");return}if(!w.clientPhone){alert("Пожалуйста, укажите телефон клиента");return}if(!K6(w.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!W6(w.clientPhone)){alert("Некорректный номер телефона");return}}if(l&&!w.courtId){const Ye=A.find(We=>{const Ve=N.filter(Ht=>Ht.courtId===We.id),[nt,ft]=w.startTime.split(":").map(Number),at=nt+ft/60,Bt=at+w.duration;return!Ve.some(Ht=>{const[Yt,rn]=Ht.startTime.split(":").map(Number),[Nn,Kn]=Ht.endTime.split(":").map(Number),kr=Yt+rn/60,ai=Nn+Kn/60;return at<ai&&Bt>kr})});if(!Ye){alert("Все корты заняты в выбранное время. Пожалуйста, выберите другое время.");return}E(We=>({...We,courtId:Ye.id}))}if(!w.courtId){alert("Пожалуйста, выберите корт");return}if(ke(w.startTime,w.duration,w.courtId,ne)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время.");return}const Se=new Date;if(Se.setFullYear(parseInt(w.date.split("-")[0]),parseInt(w.date.split("-")[1])-1,parseInt(w.date.split("-")[2])),!V6(Se)){alert("Нельзя забронировать на прошедшую дату");return}const[Re,it]=w.startTime.split(":").map(Number),ut=Re*60+it+w.duration*60,Oe=`${Math.floor(ut/60).toString().padStart(2,"0")}:${(ut%60).toString().padStart(2,"0")}`;if(!zfe(w.startTime,Oe,w.duration*60)){alert("Некорректное время бронирования");return}h(!0);try{const Ye=A.find(cr=>cr.id===w.courtId);if(!Ye)return;const[We,Ve]=w.startTime.split(":").map(Number),nt=We+Math.floor(w.duration),ft=Ve+w.duration%1*60,at=`${String(nt+Math.floor(ft/60)).padStart(2,"0")}:${String(ft%60).padStart(2,"0")}`,Bt=new Date(w.date+"T00:00:00"),xt=new Date(Date.UTC(Bt.getFullYear(),Bt.getMonth(),Bt.getDate(),0,0,0)),Ht=new Date(Date.UTC(Bt.getFullYear(),Bt.getMonth(),Bt.getDate(),23,59,59)),Yt=qt(Ct(_e,"bookings"),vt("courtId","==",w.courtId),vt("date",">=",Ot.fromDate(xt)),vt("date","<=",Ot.fromDate(Ht)));if((await Mt(Yt)).docs.filter(cr=>{const gn=cr.data(),gi=gn.status||"pending",mi=gn.paymentStatus||"awaiting_payment";if(gi==="cancelled"||mi==="cancelled"||mi==="refunded"||mi==="error"||!(gi==="confirmed"||gi==="pending"||mi==="paid"||mi==="awaiting_payment")||gn.venueId!==r)return!1;const Xl=gn.startTime||gn.time,fs=gn.endTime,ua=We*60+Ve,Tr=ua+w.duration*60,[vu,Jl]=Xl.split(":").map(Number),[$f,Nr]=fs.split(":").map(Number),yu=vu*60+Jl,xu=$f*60+Nr;return ua<xu&&Tr>yu}).length>0){alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),h(!1);return}const Kn="awaiting_payment",kr="pending",ai=$Ae(w.duration),zr=Ue(w.startTime,w.duration);let pi=zr,Aa={};if(ce&&ne){const cr=X.find(gn=>gn.id===ne);if(cr){const gn=Te==="group"?(cr.groupPrice||0)*xe:Math.round(cr.pricePerHour*w.duration),gi=cr.commissionType==="percent"?Math.round(gn*(cr.commissionValue/100)):cr.commissionValue;Aa={trainerId:ne,trainerName:`${cr.firstName} ${cr.lastName}`,trainerPrice:gn,trainerCommission:gi,courtPrice:zr},pi=Te==="group"?zr:zr+gn}}const Vi=w.duration>0?zr/w.duration:0,[Sa,Zs,on]=w.date.split("-").map(Number),Ir=Ot.fromDate(new Date(Date.UTC(Sa,Zs-1,on,0,0,0))),sl={venueId:r,courtId:w.courtId,courtName:Ye.name,venueName:f,customerName:Te==="group"?"Групповая тренировка":Tp(w.clientName),customerPhone:Te==="group"?(c==null?void 0:c.phone)||"":bd(w.clientPhone),date:Ir,startTime:w.startTime,duration:ai,gameType:"single",status:kr,amount:pi,price:Vi,paymentMethod:w.paymentMethod,paymentStatus:Kn,source:"admin",...Aa,...Te==="group"&&{bookingType:"group",maxParticipants:xe,currentParticipants:0,visibility:Fe?"public":"private",groupRegistrationUrl:""},time:w.startTime,endTime:yl(w.startTime,ai),clientName:Te==="group"?"Групповая тренировка":Tp(w.clientName),clientPhone:Te==="group"?(c==null?void 0:c.phone)||"":bd(w.clientPhone),paymentHistory:[{timestamp:Ot.now(),action:"created",userId:c.uid||"",userName:c.displayName||c.email||"Администратор"}],createdBy:{userId:c.uid||"",userName:c.displayName||c.email||"Администратор",userRole:c.role||"admin"},createdAt:Ot.now()},Wr=await Ma(Ct(_e,"bookings"),sl);if(Te==="group"){const cr=`https://allcourt.ru/club/${r}/group/${Wr.id}`;if(await en(Wr,{groupRegistrationUrl:cr}),!Fe&&Ge.length>0){let gn=0;const gi=Math.round(zr/xe);if(gn+=gi,ce&&ne){const mi=X.find(fs=>fs.id===ne),Xl=(mi==null?void 0:mi.groupPrice)||0;gn+=Xl}for(const mi of Ge)await Ma(Ct(_e,"groupParticipants"),{groupTrainingId:Wr.id,name:mi.name,phone:mi.phone,email:mi.email||"",registrationType:"admin",registeredBy:c.uid||"",paymentStatus:"pending",paymentMethod:w.paymentMethod,paymentAmount:gn,priceBreakdown:{courtPrice:gi,trainerPrice:ce&&ne?gn-gi:0,total:gn},registeredAt:Ot.now(),paymentHistory:[{timestamp:Ot.now(),action:"created",status:"pending",userId:c.uid||"",userName:c.email||"Система",note:"Участник добавлен администратором"}]});await en(Wr,{currentParticipants:Ge.length})}alert(`Групповая тренировка создана!

Ссылка для записи участников:
${cr}

Скопируйте и отправьте эту ссылку участникам.`)}if(w.paymentMethod==="online"&&Te!=="group"){console.log("Инициализация онлайн платежа для бронирования:",Wr.id);try{const gn=(await fn(wt(_e,"venues",r))).data();if(console.log("Настройки платежей venue:",{paymentEnabled:gn==null?void 0:gn.paymentEnabled,paymentProvider:gn==null?void 0:gn.paymentProvider,hasCredentials:!!(gn!=null&&gn.paymentCredentials)}),!(gn!=null&&gn.paymentEnabled))throw new Error("Платежи не включены для этой площадки");if(!(gn!=null&&gn.paymentProvider)||!(gn!=null&&gn.paymentCredentials))throw new Error("Платежный провайдер не настроен для этой площадки");const gi=window.location.origin,mi=`${gi}/club/${r}/booking-payment/${Wr.id}`;console.log("Вызов функции initBookingPayment с параметрами:",{bookingId:Wr.id,amount:pi,venueId:r});const fs=await Ai(qo,"initBookingPayment")({bookingId:Wr.id,amount:pi,description:`Оплата бронирования корта ${Ye.name} на ${w.date} ${w.startTime}`,returnUrl:`${gi}/club/${r}/booking-confirmation/${Wr.id}`,userId:c.uid||"",customerPhone:bd(w.clientPhone),customerEmail:""});console.log("Результат инициализации платежа:",fs.data);const ua=fs.data;if(ua.success&&ua.paymentUrl){console.log("Платеж успешно инициализирован, обновляем бронирование"),await en(wt(_e,"bookings",Wr.id),{paymentStatus:"awaiting_payment",paymentId:ua.paymentId,paymentUrl:ua.paymentUrl,paymentHistory:Lv({timestamp:Ot.now(),action:"payment_initialized",userId:c.uid||"",userName:c.displayName||c.email||"Администратор",note:"Платеж инициализирован"})});try{console.log("Отправка SMS с ссылкой на оплату");const Tr={bookingId:Wr.id,phone:bd(w.clientPhone),customerName:Tp(w.clientName),venueId:r,venueName:f||"",courtName:Ye.name||"",date:w.date,time:w.startTime,paymentUrl:ua.paymentUrl};console.log("SMS параметры:",Tr),await Ai(qo,"sendBookingPaymentSMS")(Tr),console.log("SMS со ссылкой на оплату отправлено успешно"),alert(`Бронирование создано! SMS со ссылкой на оплату отправлено на номер ${w.clientPhone}`)}catch(Tr){console.error("Ошибка отправки SMS:",Tr),console.error("Детали ошибки:",{code:Tr==null?void 0:Tr.code,message:Tr==null?void 0:Tr.message,details:Tr==null?void 0:Tr.details}),alert(`Бронирование создано, но не удалось отправить SMS: ${(Tr==null?void 0:Tr.message)||"Неизвестная ошибка"}`)}}else console.error("Payment initialization failed:",ua.error),await en(wt(_e,"bookings",Wr.id),{paymentStatus:"error",paymentError:ua.error||"Не удалось инициализировать платеж",paymentHistory:Lv({timestamp:Ot.now(),action:"payment_error",userId:c.uid||"",userName:c.displayName||c.email||"Администратор",note:`Ошибка инициализации платежа: ${ua.error||"Unknown error"}`})})}catch(cr){console.error("Error initializing payment:",cr),await en(wt(_e,"bookings",Wr.id),{paymentStatus:"error",paymentError:cr instanceof Error?cr.message:"Ошибка при инициализации платежа",paymentHistory:Lv({timestamp:Ot.now(),action:"payment_error",userId:c.uid||"",userName:c.displayName||c.email||"Администратор",note:`Ошибка: ${cr instanceof Error?cr.message:"Unknown error"}`})})}}E({clientName:"",clientPhone:"+7",courtId:A.length>0?A[0].id:"",date:b(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),z(""),J([]),Ae(null),L(!1),k&&(k(),T(null));const mu={id:Wr.id,...sl,date:Ir,courtName:Ye.name,venueName:f,endTime:yl(w.startTime,ai)};n(mu)}catch(Ye){console.error("Error creating booking:",Ye),alert("Ошибка при создании бронирования: "+Ye.message)}finally{h(!1)}};return e?s.jsx("div",{className:"modal active",onClick:de=>{de.target===de.currentTarget&&t()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx(zp,{})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("form",{onSubmit:De,children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Корт"}),s.jsxs("select",{className:"form-select",name:"courtId",value:w.courtId,onChange:ve,disabled:d,required:!0,children:[s.jsx("option",{value:"",children:"Выберите корт"}),A.map(de=>s.jsx("option",{value:de.id,children:de.name},de.id))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Дата"}),s.jsx("input",{type:"date",className:"form-input",name:"date",value:w.date,onChange:ve,disabled:d,required:!0})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Длительность"}),s.jsxs("select",{className:"form-select",name:"duration",value:w.duration,onChange:ve,disabled:d,children:[s.jsx("option",{value:"0.5",children:"30 минут"}),s.jsx("option",{value:"1",children:"1 час"}),s.jsx("option",{value:"1.5",children:"1.5 часа"}),s.jsx("option",{value:"2",children:"2 часа"}),s.jsx("option",{value:"2.5",children:"2.5 часа"}),s.jsx("option",{value:"3",children:"3 часа"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Доступные интервалы"}),s.jsxs("select",{className:"form-select",name:"startTime",value:w.startTime,onChange:ve,disabled:d,required:!0,children:[s.jsx("option",{value:"",children:Q?"Загрузка...":"Выберите время"}),!Q&&S.map(de=>{const Se=ke(de,w.duration,w.courtId,ne),[Re,it]=de.split(":").map(Number),ut=Re+Math.floor(w.duration),Oe=it+w.duration%1*60,Ye=ut+Math.floor(Oe/60),We=Oe%60,Ve=`${String(Ye).padStart(2,"0")}:${String(We).padStart(2,"0")}`,nt=Ue(de,w.duration);return s.jsxs("option",{value:de,disabled:Se,style:Se?{color:"#9CA3AF",backgroundColor:"#F3F4F6"}:{},children:[de," - ",Ve," ",Se?"❌ ЗАНЯТО":` - ${nt.toLocaleString("ru-RU")}₽`]},de)})]}),s.jsxs("div",{style:{marginTop:"6px",fontSize:"12px",color:"#6B7280",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",fill:"#9CA3AF"})}),"Местное время клуба"]})]})]}),w.courtId&&X.length>0&&s.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[s.jsx("input",{type:"checkbox",checked:ce,onChange:de=>{Y(de.target.checked),de.target.checked||oe("")},style:{marginRight:"8px"},disabled:!!l}),s.jsx("span",{className:"form-label",style:{marginBottom:0},children:"Добавить тренера"})]}),ce&&s.jsxs(s.Fragment,{children:[s.jsxs("select",{className:"form-select",value:ne,onChange:de=>oe(de.target.value),disabled:!!l||d,required:ce,children:[s.jsx("option",{value:"",children:"Выберите тренера"}),X.filter(de=>{var ut;const Se=A.find(Oe=>Oe.id===w.courtId);if(!Se)return!1;const it={tennis:["tennis"],padel:["padel"],badminton:["badminton"],universal:["tennis","padel","badminton"]}[Se.type]||[];return(ut=de.specialization)==null?void 0:ut.some(Oe=>it.includes(Oe))}).map(de=>{var ut;let Se=!0,Re="",it=0;if(w.date&&w.startTime){const Oe=new Date(w.date),Ye=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Oe.getDay()],We=(ut=de.schedule)==null?void 0:ut[Ye],[Ve,nt]=w.startTime.split(":").map(Number);if(it=Ve*60+nt,!(We!=null&&We.enabled))Se=!1,Re="Выходной";else if(We.start&&We.end){const[ft,at]=We.start.split(":").map(Number),[Bt,xt]=We.end.split(":").map(Number),Ht=ft*60+at,Yt=Bt*60+xt,rn=it+w.duration*60;(it<Ht||rn>Yt)&&(Se=!1,Re="Нерабочее время")}if(de.status==="vacation"?(Se=!1,Re="В отпуске"):de.status==="inactive"&&(Se=!1,Re="Неактивен"),Se&&de.vacations&&de.vacations.length>0){const ft=w.date;for(const at of de.vacations)if(at.startDate&&at.endDate&&ft>=at.startDate&&ft<=at.endDate){Se=!1,Re=at.reason||"Отпуск";break}}if(Se&&de.blockedDates&&de.blockedDates.includes(w.date)&&(Se=!1,Re="Недоступен"),Se&&fe.length>0){const ft=fe.filter(at=>at.trainerId===de.id);for(const at of ft){const Bt=at.startTime||at.time||"",xt=parseFloat(at.duration)||60,[Ht,Yt]=Bt.split(":").map(Number),rn=Ht*60+Yt,Nn=rn+xt,Kn=it,kr=it+w.duration*60;if(Kn<Nn&&kr>rn){Se=!1,Re="Занят";break}}}}return s.jsxs("option",{value:de.id,disabled:!Se,style:Se?{}:{color:"#9CA3AF",backgroundColor:"#F3F4F6"},children:[de.firstName," ",de.lastName," - ",de.pricePerHour,"₽/час",!Se&&` (${Re})`]},de.id)})]}),ne&&s.jsxs("div",{style:{marginTop:"16px"},children:[s.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"16px",padding:"12px",background:"#f3f4f6",borderRadius:"8px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingType",value:"individual",checked:Te==="individual",onChange:()=>be("individual"),style:{marginRight:"8px"}}),s.jsx("span",{children:"Индивидуальная"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingType",value:"group",checked:Te==="group",onChange:()=>be("group"),style:{marginRight:"8px"}}),s.jsx("span",{children:"Групповая"})]})]}),Te==="group"&&s.jsxs("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#fafafa"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Максимум участников"}),s.jsx("input",{type:"number",className:"form-input",value:xe,onChange:de=>Ne(Math.max(2,parseInt(de.target.value)||2)),min:"2",max:"30",disabled:d})]}),s.jsxs("div",{className:"form-group",style:{marginTop:"12px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:Fe,onChange:de=>He(de.target.checked),style:{marginRight:"8px"},disabled:d}),s.jsx("span",{className:"form-label",style:{marginBottom:0},children:"Открытая тренировка"})]}),s.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px",marginLeft:"24px"},children:Fe?"Тренировка будет видна всем на странице клуба":"Запись только по прямой ссылке"})]}),(()=>{const de=X.find(Se=>Se.id===ne);return de!=null&&de.groupPrice?s.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#e0f2fe",borderRadius:"6px",fontSize:"14px",color:"#0369a1"},children:["Стоимость участия: ",s.jsxs("strong",{children:[de.groupPrice," ₽"]})," с человека"]}):null})()]})]})]})]}),s.jsx("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:Te==="group"?s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:Fe?"Участники будут записываться самостоятельно":"Выбрать участников тренировки"}),Fe?s.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"После создания тренировки вы получите ссылку для записи участников. Участники смогут самостоятельно записаться и оплатить участие."}):s.jsxs(s.Fragment,{children:[s.jsx("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"16px"},children:"Вы можете добавить участников сейчас или они смогут записаться по ссылке"}),s.jsxs("div",{className:"form-group",style:{position:"relative",marginBottom:"16px"},ref:se,children:[s.jsx("label",{className:"form-label",children:"Поиск участника"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"Введите имя или телефон...",value:H,onChange:de=>z(de.target.value),disabled:d||Ge.length>=xe,onFocus:()=>H&&G(!0)}),(U||V.length>0)&&H&&W&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"240px",overflowY:"auto"},children:U?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:"Поиск..."}):V.map(de=>s.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:Se=>{Se.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:Se=>{Se.currentTarget.style.backgroundColor="white"},onClick:()=>{Ge.length<xe&&(Ge.some(Re=>Re.phone===de.phone)?alert("Этот участник уже добавлен"):(lt(Re=>[...Re,{name:de.name,phone:de.phone}]),z(""),G(!1)))},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:de.name.substring(0,2).toUpperCase()}),s.jsx("div",{style:{flex:1},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:de.name}),s.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:de.phone})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[de.bookingsCount," брон."]}),de.lastVisit&&s.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:new Date(de.lastVisit).toLocaleDateString("ru-RU")})]})]})})]},de.id))}),H&&V.length===0&&!U&&W&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"16px",textAlign:"center"},children:s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{if(Ge.length<xe){const de=H.trim();if(/^[+]?[78]?[\d\s\-\(\)]+$/.test(de)&&/\d/.test(de)&&de.replace(/\D/g,"").length>=6){const Re=prompt("Имя участника:");Re&&(lt(it=>[...it,{name:Re,phone:de}]),z(""),G(!1))}else{const Re=prompt("Телефон участника:");Re&&(lt(it=>[...it,{name:de,phone:Re}]),z(""),G(!1))}}},style:{width:"100%"},children:[s.jsx(_w,{fontSize:"small"}),"Добавить нового участника"]})})]}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:s.jsxs("span",{style:{fontSize:"14px",fontWeight:"500"},children:["Добавлено: ",Ge.length," из ",xe]})}),Ge.length>0&&s.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},children:Ge.map((de,Se)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",borderBottom:Se<Ge.length-1?"1px solid #f3f4f6":"none"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"500",fontSize:"14px"},children:de.name}),s.jsx("div",{style:{color:"#6B7280",fontSize:"13px"},children:de.phone})]}),s.jsx("button",{type:"button",onClick:()=>{lt(Re=>Re.filter((it,ut)=>ut!==Se))},style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:"×"})]},Se))})]})]}):s.jsx(s.Fragment,{children:te?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},children:te.name.substring(0,2).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontWeight:"600"},children:te.name}),s.jsx(ya,{style:{fontSize:"16px",color:"var(--success)"}})]}),s.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:te.phone}),s.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[te.bookingsCount," бронирований"]})]})]}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ye,children:"Изменить"})]}):M?s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:"Новый клиент"}),s.jsx("button",{type:"button",className:"btn btn-secondary btn-icon",onClick:()=>{L(!1),E(de=>({...de,clientName:"",clientPhone:"+7"})),z("")},style:{padding:"4px 8px",fontSize:"14px"},children:"Отмена"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя клиента"}),s.jsx("input",{type:"text",className:"form-input",name:"clientName",value:w.clientName,onChange:ve,disabled:d,placeholder:"Введите имя",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:w.clientPhone,onChange:ve,disabled:d,placeholder:"+7 (___) ___-__-__",required:!0})]})]})]}):s.jsx("div",{children:s.jsxs("div",{className:"form-group",style:{marginBottom:0,position:"relative"},ref:se,children:[s.jsx("label",{className:"form-label",children:"Поиск клиента"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"Введите имя или телефон...",value:H,onChange:de=>z(de.target.value),disabled:d,onFocus:()=>H&&G(!0)}),(U||V.length>0)&&H&&W&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"240px",overflowY:"auto"},children:U?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:"Поиск..."}):V.map(de=>s.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:Se=>{Se.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:Se=>{Se.currentTarget.style.backgroundColor="white"},onClick:()=>Ze(de),children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:de.name.substring(0,2).toUpperCase()}),s.jsx("div",{style:{flex:1},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:de.name}),s.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:de.phone})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[de.bookingsCount," брон."]}),de.lastVisit&&s.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:new Date(de.lastVisit).toLocaleDateString("ru-RU")})]})]})})]},de.id))}),H&&V.length===0&&!U&&W&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"16px",textAlign:"center"},children:s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{L(!0),G(!1);const de=H.trim(),Se=/^[+]?[78]?[\d\s\-\(\)]+$/.test(de)&&/\d/.test(de)&&de.replace(/\D/g,"").length>=6;E(Se?Re=>({...Re,clientPhone:de}):Re=>({...Re,clientName:de}))},style:{width:"100%"},children:[s.jsx(_w,{fontSize:"small"}),"Создать нового клиента"]})})]})})})}),s.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[s.jsx("label",{className:"form-label",children:"Способ оплаты"}),s.jsxs("select",{className:"form-select",name:"paymentMethod",value:w.paymentMethod,onChange:ve,disabled:d||Te==="group"&&Fe,children:[D.cash&&s.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),D.card_on_site&&s.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),D.transfer&&s.jsx("option",{value:"transfer",children:"Перевод на р.счет клуба (юр.лицо)"}),D.sberbank_card&&s.jsx("option",{value:"sberbank_card",children:"На карту Сбербанка"}),D.tbank_card&&s.jsx("option",{value:"tbank_card",children:"На карту Т-Банка"}),D.vtb_card&&s.jsx("option",{value:"vtb_card",children:"На карту ВТБ"}),s.jsx("option",{value:"online",children:"Онлайн оплата (Автоматическое подтверждение оплаты, ссылка на оплату в смс и в МП)"})]}),Te==="group"&&Fe&&s.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:"Для открытых групповых тренировок доступна только онлайн оплата"}),w.paymentMethod&&s.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:w.paymentMethod==="online"?"rgba(239, 68, 68, 0.1)":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",borderRadius:"6px",fontSize:"13px",color:w.paymentMethod==="online"?"var(--danger)":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"var(--success)":"var(--warning)"},children:w.paymentMethod==="online"?"⏱️ На оплату дается 15 минут. Статус меняется автоматически после оплаты.":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"✓ Без ограничения по времени. Бронирование может ожидать оплату любое время.":w.paymentMethod==="sberbank_card"||w.paymentMethod==="tbank_card"||w.paymentMethod==="vtb_card"?"⏱️ На оплату дается 30 минут. Администратор должен подтвердить оплату.":""})]}),w.courtId&&w.duration&&w.startTime&&s.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const de=A.find(Bt=>Bt.id===w.courtId);if(!de)return null;const Se=Ue(w.startTime,w.duration),Re=parseInt(w.startTime.split(":")[0]),it=new Date(w.date),ut=it.getDay()===0||it.getDay()===6,Oe=it.getDay(),We=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Oe],Ve=w.duration>1?Hfe(it,w.startTime,w.duration*60,de.pricing,de.holidayPricing,de.priceWeekday,de.priceWeekend):[];let nt=null,ft=0,at=!1;if(de.holidayPricing&&de.holidayPricing.length>0){const Bt=String(it.getMonth()+1).padStart(2,"0"),xt=String(it.getDate()).padStart(2,"0"),Ht=`${Bt}-${xt}`,Yt=de.holidayPricing.find(rn=>rn.date===Ht);Yt&&(at=!0,ft=Yt.price,nt={isHoliday:!0})}if(!at&&de.pricing&&de.pricing[We]){const Bt=de.pricing[We];ft=Bt.basePrice,Bt.intervals&&(nt=Bt.intervals.find(xt=>{const Ht=parseInt(xt.from.split(":")[0]),Yt=parseInt(xt.to.split(":")[0]);return Re>=Ht&&Re<Yt}),nt&&(ft=nt.price))}else at||(ft=de.pricePerHour||(ut?de.priceWeekend:de.priceWeekday)||0);return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[!(Te==="group"&&ce&&ne)&&(w.duration>1&&Ve.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--gray)"},children:"Детализация по часам:"}),Ve.map((Bt,xt)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:Bt.time}),s.jsxs("span",{style:{fontWeight:"500"},children:[Bt.price.toLocaleString("ru-RU")," ₽"]})]},xt))]}):s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:nt?nt.isHoliday?s.jsx(s.Fragment,{children:"Праздничный день:"}):s.jsxs(s.Fragment,{children:["Особый тариф (",nt.from," - ",nt.to,"):"]}):s.jsx(s.Fragment,{children:"Стоимость за час:"})}),s.jsxs("span",{style:{fontWeight:"500"},children:[ft.toLocaleString("ru-RU")," ₽"]})]})),ce&&ne&&(()=>{const Bt=X.find(xt=>xt.id===ne);if(!Bt)return null;if(Te==="group"){const xt=Bt.groupPrice||0,Ht=Math.round(Se/xe),Yt=Ht+xt;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",fontSize:"14px"},children:[s.jsxs("span",{style:{color:"var(--gray)"},children:["Корт (",xe," чел × ",Ht," ₽):"]}),s.jsxs("span",{style:{fontWeight:"500"},children:[Se.toLocaleString("ru-RU")," ₽"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[s.jsxs("span",{style:{color:"var(--gray)"},children:["Тренер (",xe," чел × ",xt," ₽):"]}),s.jsxs("span",{style:{fontWeight:"500"},children:[(xt*xe).toLocaleString("ru-RU")," ₽"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:[s.jsx("span",{style:{color:"var(--gray)",fontWeight:"600"},children:"С каждого участника:"}),s.jsxs("span",{style:{fontWeight:"600",color:"var(--primary)"},children:[Yt.toLocaleString("ru-RU")," ₽"]})]})]})}else{const xt=Math.round(Bt.pricePerHour*w.duration);return s.jsx(s.Fragment,{children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",fontSize:"14px"},children:[s.jsxs("span",{style:{color:"var(--gray)"},children:["Тренер (",Bt.firstName," ",Bt.lastName,", ",w.duration,"ч):"]}),s.jsxs("span",{style:{fontWeight:"500"},children:[xt.toLocaleString("ru-RU")," ₽"]})]})})}})(),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:Te==="group"?"Итого (при полной группе):":"Итого:"}),s.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[(()=>{const Bt=Se,xt=ce&&ne?X.find(Ht=>Ht.id===ne):null;if(Te==="group"){const Yt=((xt==null?void 0:xt.groupPrice)||0)*xe;return(Bt+Yt).toLocaleString("ru-RU")}else{const Ht=xt?Math.round(xt.pricePerHour*w.duration):0;return(Bt+Ht).toLocaleString("ru-RU")}})()," ₽"]})]})]})})()}),s.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:d,children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Создание...":"Создать бронирование"})]})]})})]})}):null}function Kfe(){const{admin:e,club:t}=er(),{isSuperAdmin:n,hasPermission:r}=ri(),[i,a]=y.useState(null),[o,l]=y.useState("Europe/Moscow"),[c,A]=y.useState([]),[u,d]=y.useState([]),[h,f]=y.useState([]),[p,g]=y.useState([]),[v,x]=y.useState(!0),[C,b]=y.useState(()=>{const we=new Date;return new Date(Date.UTC(we.getFullYear(),we.getMonth(),we.getDate(),0,0,0,0))}),[w,E]=y.useState("week"),S=(e==null?void 0:e.role)==="trainer",[F,N]=y.useState(S?"trainer":"courts"),[P,Q]=y.useState(S&&(e!=null&&e.trainerId)?e.trainerId:""),[j,k]=y.useState([]),[T,D]=y.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[R,H]=y.useState([]),[z,V]=y.useState([]),[J,te]=y.useState(null),[Ae,U]=y.useState(!1),[O,M]=y.useState(!1),[L,W]=y.useState(null),[G,se]=y.useState(null),[X,ge]=y.useState(null),[ce,Y]=y.useState(null),[ne,oe]=y.useState(null);y.useEffect(()=>(n?Te():e!=null&&e.venueId?(fe(e.venueId),xe(e.venueId),Ne(e.venueId),Fe(e.venueId),S&&e.trainerId&&(N("trainer"),Q(e.trainerId))):x(!1),()=>{oe(we=>(we&&we(),null))}),[e,n]),y.useEffect(()=>{n&&i?Fe(i):!n&&(e!=null&&e.venueId)&&Fe(e.venueId)},[C,i,e==null?void 0:e.venueId,n]),y.useEffect(()=>{const we=Ze(T.duration);H(we),!we.includes(T.startTime)&&we.length>0&&D(he=>({...he,startTime:we[0]}))},[T.duration,T.date,c,i,e==null?void 0:e.venueId]),y.useEffect(()=>{T.courtId&&T.date&&He()},[T.courtId,T.date]);const fe=async we=>{try{const he=await fn(wt(_e,"venues",we));if(he.exists()){const Le={id:he.id,...he.data()};A([Le])}}catch(he){console.error("Error fetching venue data:",he)}},ie=async()=>{try{const he=(await Mt(Ct(_e,"venues"))).docs.map(Le=>({id:Le.id,...Le.data()}));return A(he),he}catch(we){return console.error("Error fetching venues:",we),[]}},Te=async()=>{try{const we=await ie(),he=localStorage.getItem("selectedVenueId");if(he&&we.length>0){const Le=we.find(ve=>ve.id===he);if(Le){a(he);const ve=Le.timezone||"Europe/Moscow";l(ve),console.log("Initialized with venue:",he,"timezone:",ve),xe(he),Ne(he),Fe(he)}else x(!1)}else x(!1)}catch(we){console.error("Error initializing venues:",we),x(!1)}},be=we=>{a(we),localStorage.setItem("selectedVenueId",we);const he=c.find(Le=>Le.id===we);if(he){const Le=he.timezone||"Europe/Moscow";l(Le),console.log("Selected venue timezone:",Le)}xe(we),Ne(we),Fe(we)},xe=async we=>{if(we)try{const he=Ct(_e,"venues",we,"courts"),ve=(await Mt(he)).docs.map(De=>({id:De.id,...De.data()}));g(ve)}catch(he){console.error("Error fetching courts:",he)}},Ne=async we=>{if(!we){console.log("No venueId provided for fetching trainers");return}console.log("Fetching trainers for venue:",we);try{const he=qt(Ct(_e,"trainers"),vt("clubId","==",we)),Le=await Mt(he);console.log("Found trainers documents:",Le.size);const ve=Le.docs.map(de=>({id:de.id,...de.data()}));console.log("All trainers:",ve);const De=ve.filter(de=>de.status==="active");De.sort((de,Se)=>(de.firstName||"").localeCompare(Se.firstName||"")),k(De),console.log("Active trainers:",De)}catch(he){console.error("Error fetching trainers:",he)}},Fe=async we=>{if(we){ne&&(ne(),oe(null));try{x(!0);let he;n?(he=o,console.log("fetchBookings for superadmin:"),console.log("- Using saved timezone:",he),console.log("- Selected venue ID:",we),console.log("- Selected date:",C)):(he=(t==null?void 0:t.timezone)||"Europe/Moscow",console.log("fetchBookings for admin:"),console.log("- Using club timezone:",he),console.log("- Selected date:",C));const Le=x6(C,he),ve=WAe(C,he);console.log("Week boundaries:",{start:Le.toISOString(),end:ve.toISOString(),startFormatted:new Intl.DateTimeFormat("en-CA",{timeZone:he,year:"numeric",month:"2-digit",day:"2-digit"}).format(Le),endFormatted:new Intl.DateTimeFormat("en-CA",{timeZone:he,year:"numeric",month:"2-digit",day:"2-digit"}).format(ve)});const De=qt(Ct(_e,"bookings"),vt("venueId","==",we)),de=Do(De,Se=>{try{const Re=Se.docs.map(We=>{var at,Bt;const Ve=We.data(),nt=V0(Ve.date,he);let ft;return Ve.createdAt?(at=Ve.createdAt)!=null&&at.toDate&&typeof Ve.createdAt.toDate=="function"?ft=Ve.createdAt.toDate():(Bt=Ve.createdAt)!=null&&Bt.seconds&&typeof Ve.createdAt.seconds=="number"?ft=new Date(Ve.createdAt.seconds*1e3):Ve.createdAt instanceof Date?ft=Ve.createdAt:ft=new Date(Ve.createdAt):(console.log("Booking without createdAt:",We.id,"using current time as fallback"),ft=new Date),{...Ve,id:We.id,status:Ve.status||"pending",paymentStatus:Ve.paymentStatus||"awaiting_payment",venueId:Ve.venueId||"",courtId:Ve.courtId||"",startTime:Ve.startTime||"",endTime:Ve.endTime||"",customerName:Ve.customerName||"",customerPhone:Ve.customerPhone||"",amount:Ve.amount||Ve.totalPrice||0,date:nt,createdAt:ft}}),Oe=Re.filter(We=>{if(!We||!We.date||!We.venueId)return console.warn("Invalid booking data:",We),!1;try{const Ve=new Date(We.date);return isNaN(Ve.getTime())?(console.warn("Invalid booking date:",We.date),!1):Ve>=Le&&Ve<=ve&&We.venueId===we}catch(Ve){return console.error("Error filtering booking:",We.id,Ve),!1}}).filter(We=>{if(!We||!We.id)return console.warn("Invalid booking for calendar:",We),!1;try{const Ve=We.status||"pending",nt=We.paymentStatus||"awaiting_payment";return Ve!=="cancelled"&&nt!=="cancelled"&&nt!=="refunded"&&nt!=="error"&&(Ve==="confirmed"||Ve==="pending"||nt==="paid"||nt==="awaiting_payment")}catch(Ve){return console.error("Error processing booking for calendar:",We.id,Ve),!1}}).sort((We,Ve)=>{try{const nt=new Date(We.date||new Date);return new Date(Ve.date||new Date).getTime()-nt.getTime()}catch(nt){return console.error("Error sorting calendar bookings:",nt),0}}),Ye=[...Re].sort((We,Ve)=>{var at,Bt,xt,Ht,Yt,rn,Nn,Kn;let nt,ft;return We.createdAt instanceof Date?nt=We.createdAt:(at=We.createdAt)!=null&&at.toDate?nt=We.createdAt.toDate():(Bt=We.createdAt)!=null&&Bt.seconds?nt=new Date(We.createdAt.seconds*1e3):typeof We.createdAt=="string"?nt=new Date(We.createdAt):We.date instanceof Date?nt=We.date:(xt=We.date)!=null&&xt.toDate?nt=We.date.toDate():(Ht=We.date)!=null&&Ht.seconds?nt=new Date(We.date.seconds*1e3):nt=new Date(0),Ve.createdAt instanceof Date?ft=Ve.createdAt:(Yt=Ve.createdAt)!=null&&Yt.toDate?ft=Ve.createdAt.toDate():(rn=Ve.createdAt)!=null&&rn.seconds?ft=new Date(Ve.createdAt.seconds*1e3):typeof Ve.createdAt=="string"?ft=new Date(Ve.createdAt):Ve.date instanceof Date?ft=Ve.date:(Nn=Ve.date)!=null&&Nn.toDate?ft=Ve.date.toDate():(Kn=Ve.date)!=null&&Kn.seconds?ft=new Date(Ve.date.seconds*1e3):ft=new Date(0),ft.getTime()-nt.getTime()});d(Oe),f(Ye),x(!1)}catch(Re){console.error("Error processing bookings snapshot:",Re),x(!1),d([]),f([])}},Se=>{var Re;console.error("Error in bookings listener:",Se),x(!1),(Se.code==="unavailable"||(Re=Se.message)!=null&&Re.includes("transport"))&&(console.log("Connection lost, will retry in 5 seconds..."),setTimeout(()=>{we&&Fe(we)},5e3))});oe(()=>de)}catch(he){console.error("Error setting up bookings listener:",he),x(!1)}}},He=async()=>{if(!(!i&&!(e!=null&&e.venueId))&&!(!T.courtId||!T.date))try{const we=Ct(_e,"bookings"),he=qt(we,vt("venueId","==",i||(e==null?void 0:e.venueId)),vt("courtId","==",T.courtId),vt("date","==",Ot.fromDate(new Date(T.date)))),ve=(await Mt(he)).docs.map(De=>({id:De.id,...De.data()}));V(ve)}catch(we){console.error("Error fetching bookings:",we)}},Ge=we=>{if(w==="day"){const he=new Date(C);he.setUTCDate(he.getUTCDate()+we),b(he)}else{const he=new Date(C);he.setDate(C.getDate()+we*7),b(he)}console.log("Navigating:",w==="day"?"day":"week","direction:",we),console.log("New date:",C),console.log("Selected venue ID:",i),console.log("Selected venue timezone:",o)},lt=()=>{if(!C)return[];const we=C.getFullYear(),he=C.getMonth(),Le=C.getDate();let De=new Date(Date.UTC(we,he,Le,0,0,0)).getUTCDay();De=De===0?6:De-1;const de=new Date(Date.UTC(we,he,Le-De,0,0,0)),Se=[];for(let Re=0;Re<7;Re++){const it=new Date(Date.UTC(de.getUTCFullYear(),de.getUTCMonth(),de.getUTCDate()+Re,0,0,0,0));Se.push(it)}return Se},bt=(we,he,Le)=>{if(!we||!he||!Le)return[];try{return u.filter(ve=>{var at;if(!ve||!ve.date)return!1;const De=ve.date instanceof Date?ve.date:(at=ve.date)!=null&&at.toDate?ve.date.toDate():new Date(ve.date),de=o||clubTimezone||"Europe/Moscow",Se=`${De.getUTCFullYear()}-${String(De.getUTCMonth()+1).padStart(2,"0")}-${String(De.getUTCDate()).padStart(2,"0")}`,Re=`${we.getUTCFullYear()}-${String(we.getUTCMonth()+1).padStart(2,"0")}-${String(we.getUTCDate()).padStart(2,"0")}`;if(!De||!we||Se!==Re||ve.courtId!==Le)return!1;const it=ve.startTime||ve.time,ut=ve.endTime;if(!it)return!1;const[Oe,Ye]=he.split(":").map(Number),We=Oe*60+Ye,[Ve,nt]=it.split(":").map(Number),ft=Ve*60+nt;if(ut){const[Bt,xt]=ut.split(":").map(Number),Ht=Bt*60+xt;return We>=ft&&We<Ht}else if(ve.duration){const Bt=ft+ve.duration*60;return We>=ft&&We<Bt}else return it===he})}catch(ve){return console.error("Error in getBookingsForSlot:",ve,{date:we,time:he,courtId:Le}),[]}},Ze=we=>{var Oe;const he=c.find(Ye=>Ye.id===(i||(e==null?void 0:e.venueId))),Le=T.date?new Date(T.date).getDay()===0||new Date(T.date).getDay()===6:!1,ve=((Oe=he==null?void 0:he.workingHours)==null?void 0:Oe[Le?"weekend":"weekday"])||(Le?"08:00-22:00":"07:00-23:00"),[De,de]=ve.split("-"),[Se]=De.split(":").map(Number),[Re]=de.split(":").map(Number),it=[],ut=Re-we;for(let Ye=Se;Ye<=ut;Ye+=.5){const We=Math.floor(Ye),Ve=Ye%1*60,nt=`${String(We).padStart(2,"0")}:${String(Ve).padStart(2,"0")}`;Ye+we<=Re&&it.push(nt)}return it},ye=(we,he)=>{const ve=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][we.getDay()];let De=null,de=null;if(he!=null&&he.workingHours){const Se=he.workingHours[ve];if(Se){if(typeof Se=="string"&&Se.includes("-")){const[Re,it]=Se.split("-").map(ut=>ut.trim());Re&&it&&(De=parseInt(Re.split(":")[0]),de=parseInt(it.split(":")[0]))}else if(Se.open&&Se.close){const[Re]=Se.open.split(":").map(Number),[it]=Se.close.split(":").map(Number);De=Re,de=it}}else{const Re=we.getDay()===0||we.getDay()===6,it=he.workingHours[Re?"weekend":"weekday"];if(it&&typeof it=="string"&&it.includes("-")){const[ut,Oe]=it.split("-").map(Ye=>Ye.trim());ut&&Oe&&(De=parseInt(ut.split(":")[0]),de=parseInt(Oe.split(":")[0]))}}}return De!==null&&de!==null?{startHour:De,endHour:de}:{startHour:8,endHour:22}},Ue=()=>{const we=[],he=c.find(de=>de.id===(i||(e==null?void 0:e.venueId)));let Le=24,ve=0;lt().forEach(de=>{const{startHour:Se,endHour:Re}=ye(de,he);Le=Math.min(Le,Se),ve=Math.max(ve,Re)});for(let de=Le;de<ve;de++)we.push(`${de.toString().padStart(2,"0")}:00`);return we},ke=y.useMemo(()=>Ue(),[c,i,e==null?void 0:e.venueId,T.date]),rt=lt(),Ie=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],_t=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];if(v)return s.jsx("div",{children:"Загрузка..."});if(!S&&!r(["manage_bookings","manage_all_bookings","view_bookings"]))return s.jsxs(Kt,{severity:"error",children:[s.jsx("strong",{children:"Доступ запрещен"}),s.jsx("br",{}),"У вас недостаточно прав для просмотра бронирований."]});if(n&&!i)return s.jsx("div",{children:s.jsxs("div",{className:"section-card",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),s.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[s.jsx("label",{className:"form-label",children:"Клуб"}),s.jsxs("select",{className:"form-select",value:i||"",onChange:we=>be(we.target.value),children:[s.jsx("option",{value:"",children:"Выберите клуб для управления"}),c.map(we=>s.jsx("option",{value:we.id,children:we.name},we.id))]}),s.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})});const qe=!S&&r(["manage_bookings","manage_all_bookings","create_bookings"]);return s.jsx(Tf,{permission:["manage_bookings","manage_all_bookings","view_bookings"],allowTrainer:!0,children:s.jsxs("div",{children:[n&&s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[s.jsx("label",{className:"form-label",children:"Управление клубом"}),s.jsxs("select",{className:"form-select",value:i||"",onChange:we=>be(we.target.value),style:{maxWidth:"400px"},children:[s.jsx("option",{value:"",children:"Выберите клуб"}),c.map(we=>s.jsx("option",{value:we.id,children:we.name},we.id))]})]})}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{className:"section-title",children:w==="day"?`${C.getDate()} ${_t[C.getMonth()]} ${C.getFullYear()}`:(()=>{const we=lt();if(we.length>0){const he=we[0],Le=we[we.length-1];return he.getMonth()===Le.getMonth()?`${he.getDate()}-${Le.getDate()} ${_t[he.getMonth()]} ${he.getFullYear()}`:he.getFullYear()===Le.getFullYear()?`${he.getDate()} ${_t[he.getMonth()]} - ${Le.getDate()} ${_t[Le.getMonth()]} ${he.getFullYear()}`:`${he.getDate()} ${_t[he.getMonth()]} ${he.getFullYear()} - ${Le.getDate()} ${_t[Le.getMonth()]} ${Le.getFullYear()}`}return"Календарь бронирований"})()}),s.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{onClick:()=>Ge(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(xre,{})}),s.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[_t[C.getMonth()]," ",C.getFullYear()]}),s.jsx("button",{onClick:()=>Ge(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(bre,{})}),s.jsxs("div",{style:{display:"flex",marginLeft:"16px",border:"1px solid var(--extra-light-gray)",borderRadius:"6px",overflow:"hidden"},children:[s.jsx("button",{onClick:()=>E("week"),style:{padding:"8px 16px",background:w==="week"?"var(--primary)":"white",color:w==="week"?"white":"var(--dark)",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:w==="week"?"600":"400"},children:"Неделя"}),s.jsx("button",{onClick:()=>{E("day"),N("courts"),Q("")},style:{padding:"8px 16px",background:w==="day"?"var(--primary)":"white",color:w==="day"?"white":"var(--dark)",border:"none",borderLeft:"1px solid var(--extra-light-gray)",cursor:"pointer",fontSize:"14px",fontWeight:w==="day"?"600":"400"},children:"День"})]})]})]}),!S&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"12px",background:"#f9fafb",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:()=>{N("courts"),Q("")},style:{padding:"8px 16px",border:"1px solid",borderColor:F==="courts"?"var(--primary)":"var(--extra-light-gray)",background:F==="courts"?"var(--primary)":"white",color:F==="courts"?"white":"var(--text-secondary)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:F==="courts"?"600":"400"},children:"По кортам"}),w==="week"&&s.jsx("button",{onClick:()=>N("trainer"),style:{padding:"8px 16px",border:"1px solid",borderColor:F==="trainer"?"var(--primary)":"var(--extra-light-gray)",background:F==="trainer"?"var(--primary)":"white",color:F==="trainer"?"white":"var(--text-secondary)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:F==="trainer"?"600":"400"},children:"По тренеру"})]}),F==="trainer"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:"1px",height:"24px",background:"var(--extra-light-gray)"}}),s.jsxs("select",{value:P,onChange:we=>Q(we.target.value),style:{padding:"8px 12px",border:"1px solid var(--extra-light-gray)",borderRadius:"6px",background:"white",fontSize:"14px",minWidth:"200px"},children:[s.jsx("option",{value:"",children:"Выберите тренера"}),j.map(we=>s.jsxs("option",{value:we.id,children:[we.firstName," ",we.lastName]},we.id))]})]})]}),S&&s.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#f0fdf4",borderRadius:"8px",border:"1px solid #86efac"},children:s.jsx("span",{style:{fontSize:"14px",color:"#166534"},children:"Показан календарь ваших бронирований"})}),F==="courts"&&p.length>0&&s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px",marginBottom:"8px",flexWrap:"wrap"},children:[s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontWeight:"600"},children:"Корты:"}),p.map((we,he)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px"},children:[s.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:we.color||"#00A86B",border:"1px solid rgba(0, 0, 0, 0.1)"}}),s.jsx("span",{children:we.name}),he<p.length-1&&s.jsx("span",{style:{color:"var(--extra-light-gray)",marginLeft:"4px"},children:"|"})]},we.id))]}),F==="courts"&&s.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:w==="day"?`60px repeat(${p.length}, minmax(80px, 120px))`:"60px repeat(7, 1fr)",gap:"1px",background:"#d1d5db",border:"1px solid #d1d5db",borderRadius:"8px",overflow:"hidden"},children:[s.jsx("div",{style:{background:"var(--background)",padding:"12px",height:"44px",boxSizing:"border-box"}}),w==="day"?p.map(we=>s.jsxs("div",{className:"court-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",height:"44px",overflow:"hidden",boxSizing:"border-box"},children:[we.color&&s.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:we.color,flexShrink:0}}),s.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:we.name})]},we.id)):(rt||[]).map((we,he)=>s.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},children:[Ie[he]," ",we?we.getDate():""]},he)),(ke||[]).map(we=>s.jsxs(wn.Fragment,{children:[s.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:we||""}),w==="day"?p.map((he,Le)=>{const ve=C,De=ve&&we&&(he!=null&&he.id)?bt(ve,we,he.id)[0]:null;o||clubTimezone;const de=L&&G&&ve&&`${ve.getUTCFullYear()}-${String(ve.getUTCMonth()+1).padStart(2,"0")}-${String(ve.getUTCDate()).padStart(2,"0")}`==`${L.getUTCFullYear()}-${String(L.getUTCMonth()+1).padStart(2,"0")}-${String(L.getUTCDate()).padStart(2,"0")}`&&we===G&&T.courtId===he.id,Se=ce&&ve&&`${ve.getUTCFullYear()}-${String(ve.getUTCMonth()+1).padStart(2,"0")}-${String(ve.getUTCDate()).padStart(2,"0")}`==`${ce.date.getUTCFullYear()}-${String(ce.date.getUTCMonth()+1).padStart(2,"0")}-${String(ce.date.getUTCDate()).padStart(2,"0")}`&&we===ce.time&&ce.courtId===he.id,Re=c.find(We=>We.id===(i||(e==null?void 0:e.venueId))),{startHour:it,endHour:ut}=ye(ve,Re),Oe=parseInt(we.split(":")[0]),Ye=Oe<it||Oe>=ut;return s.jsxs("div",{className:"court-slot",style:{flex:1,position:"relative",cursor:Ye&&!De?"not-allowed":"pointer",minHeight:"40px",background:Ye&&!De?"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #e5e7eb 10px, #e5e7eb 20px)":De?(()=>{const We=De.paymentStatus||"awaiting_payment";let Ve="#9CA3AF";We==="awaiting_payment"?Ve="#F59E0B":We==="paid"?Ve="#10B981":We==="cancelled"||We==="refunded"?Ve="#EF4444":We==="error"?Ve="#DC2626":We==="not_required"?Ve="#6B7280":We==="expired"&&(Ve="#374151");const nt=parseInt(Ve.slice(1,3),16),ft=parseInt(Ve.slice(3,5),16),at=parseInt(Ve.slice(5,7),16);return`rgba(${nt}, ${ft}, ${at}, 0.15)`})():de?"rgba(0, 168, 107, 0.2)":Se?"rgba(0, 168, 107, 0.05)":"var(--white)",padding:"4px 8px",borderTop:Le>0?"1px solid var(--extra-light-gray)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>{!De&&!Ye&&Y({date:ve,time:we,courtId:he.id})},onMouseLeave:()=>{Y(null)},onClick:()=>{if(De)te(De),U(!0);else{const We=c.find(at=>at.id===(i||(e==null?void 0:e.venueId))),{startHour:Ve,endHour:nt}=ye(ve,We),ft=parseInt(we.split(":")[0]);if(ft<Ve||ft>=nt){alert(`Клуб не работает в это время. Режим работы: ${Ve}:00 - ${nt}:00`);return}W(ve),se(we),ge(he.id),D(at=>({...at,courtId:he.id})),M(!0)}},children:[!De&&(Se||de)&&s.jsxs("div",{style:{fontSize:"11px",color:he.color||"var(--primary)",fontWeight:"600",textAlign:"center",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[he.color&&s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:he.color,flexShrink:0}}),he.name]}),De&&s.jsxs("div",{style:{fontSize:"10px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[s.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(De==null?void 0:De.bookingType)==="group"||(De==null?void 0:De.clientName)==="Групповая тренировка"?s.jsx(Vk,{style:{width:"14px",height:"14px",color:(he==null?void 0:he.color)||"var(--primary)",flexShrink:0}}):(he==null?void 0:he.color)&&s.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"2px",backgroundColor:he.color,flexShrink:0}}),(De==null?void 0:De.bookingType)==="group"||(De==null?void 0:De.clientName)==="Групповая тренировка"?`${De.currentParticipants||0}/${De.maxParticipants||8}`:(De==null?void 0:De.clientName)||(De==null?void 0:De.customerName)||"Клиент"]}),!((De==null?void 0:De.bookingType)==="group"||(De==null?void 0:De.clientName)==="Групповая тренировка")&&((De==null?void 0:De.clientPhone)||(De==null?void 0:De.customerPhone))&&s.jsx("div",{style:{color:"var(--gray)",fontSize:"9px",marginTop:"1px"},children:De.clientPhone||De.customerPhone}),(De==null?void 0:De.trainerName)&&s.jsxs("div",{style:{color:(()=>{const We=j.find(Ve=>Ve.id===De.trainerId);return(We==null?void 0:We.color)||"var(--primary)"})(),fontSize:"9px",marginTop:"1px",fontWeight:"500"},children:["Тренер: ",De.trainerName]})]})]},he.id)}):(rt||[]).map((he,Le)=>s.jsx("div",{className:"booking-slot-container",style:{display:"flex",flexDirection:"column",minHeight:`${Math.max(60,p.length*40)}px`,background:"var(--white)",border:"1px solid var(--extra-light-gray)",borderRadius:"4px",overflow:"hidden"},children:(p||[]).map((ve,De)=>{const de=he&&we&&(ve!=null&&ve.id)?bt(he,we,ve.id)[0]:null;o||clubTimezone;const Se=L&&G&&he&&`${he.getUTCFullYear()}-${String(he.getUTCMonth()+1).padStart(2,"0")}-${String(he.getUTCDate()).padStart(2,"0")}`==`${L.getUTCFullYear()}-${String(L.getUTCMonth()+1).padStart(2,"0")}-${String(L.getUTCDate()).padStart(2,"0")}`&&we===G&&T.courtId===ve.id,Re=ce&&he&&`${he.getUTCFullYear()}-${String(he.getUTCMonth()+1).padStart(2,"0")}-${String(he.getUTCDate()).padStart(2,"0")}`==`${ce.date.getUTCFullYear()}-${String(ce.date.getUTCMonth()+1).padStart(2,"0")}-${String(ce.date.getUTCDate()).padStart(2,"0")}`&&we===ce.time&&ce.courtId===ve.id,it=c.find(Ve=>Ve.id===(i||(e==null?void 0:e.venueId))),{startHour:ut,endHour:Oe}=ye(he,it),Ye=parseInt(we.split(":")[0]),We=Ye<ut||Ye>=Oe;return s.jsxs("div",{className:"court-slot",style:{flex:1,position:"relative",cursor:We&&!de?"not-allowed":"pointer",minHeight:"40px",background:We&&!de?"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #e5e7eb 10px, #e5e7eb 20px)":de?(()=>{const Ve=de.paymentStatus||"awaiting_payment";let nt="#9CA3AF";Ve==="awaiting_payment"?nt="#F59E0B":Ve==="paid"?nt="#10B981":Ve==="cancelled"||Ve==="refunded"?nt="#EF4444":Ve==="error"?nt="#DC2626":Ve==="not_required"?nt="#6B7280":Ve==="expired"&&(nt="#374151");const ft=parseInt(nt.slice(1,3),16),at=parseInt(nt.slice(3,5),16),Bt=parseInt(nt.slice(5,7),16);return`rgba(${ft}, ${at}, ${Bt}, 0.15)`})():Se?"rgba(0, 168, 107, 0.2)":Re?"rgba(0, 168, 107, 0.05)":"transparent",padding:"4px 8px",borderTop:De>0?"1px solid var(--extra-light-gray)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>{!de&&!We&&Y({date:he,time:we,courtId:ve.id})},onMouseLeave:()=>{Y(null)},onClick:()=>{if(de)te(de),U(!0);else{const Ve=c.find(Bt=>Bt.id===(i||(e==null?void 0:e.venueId))),{startHour:nt,endHour:ft}=ye(he,Ve),at=parseInt(we.split(":")[0]);if(at<nt||at>=ft){alert(`Клуб не работает в это время. Режим работы: ${nt}:00 - ${ft}:00`);return}W(he),se(we),ge(ve.id),D(Bt=>({...Bt,courtId:ve.id})),M(!0)}},children:[!de&&(Re||Se)&&s.jsxs("div",{style:{fontSize:"11px",color:ve.color||"var(--primary)",fontWeight:"600",textAlign:"center",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[ve.color&&s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:ve.color,flexShrink:0}}),ve.name]}),de&&s.jsxs("div",{style:{fontSize:"10px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[s.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(de==null?void 0:de.bookingType)==="group"||(de==null?void 0:de.clientName)==="Групповая тренировка"?s.jsx(Vk,{style:{width:"14px",height:"14px",color:(ve==null?void 0:ve.color)||"var(--primary)",flexShrink:0}}):(ve==null?void 0:ve.color)&&s.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"2px",backgroundColor:ve.color,flexShrink:0}}),(de==null?void 0:de.bookingType)==="group"||(de==null?void 0:de.clientName)==="Групповая тренировка"?`${de.currentParticipants||0}/${de.maxParticipants||8}`:(de==null?void 0:de.clientName)||(de==null?void 0:de.customerName)||"Клиент"]}),!((de==null?void 0:de.bookingType)==="group"||(de==null?void 0:de.clientName)==="Групповая тренировка")&&((de==null?void 0:de.clientPhone)||(de==null?void 0:de.customerPhone))&&s.jsx("div",{style:{color:"var(--gray)",fontSize:"9px",marginTop:"1px"},children:de.clientPhone||de.customerPhone}),(de==null?void 0:de.trainerName)&&s.jsxs("div",{style:{color:(()=>{const Ve=j.find(nt=>nt.id===de.trainerId);return(Ve==null?void 0:Ve.color)||"var(--primary)"})(),fontSize:"9px",marginTop:"1px",fontWeight:"500"},children:["Тренер: ",de.trainerName]})]})]},ve.id)})},`${we||"unknown"}-${Le}`))]},we))]}),F==="trainer"&&P&&s.jsx("div",{children:(()=>{var he;const we=j.find(Le=>Le.id===P);return we?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px"},children:[s.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:we.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[we.firstName[0],we.lastName[0]]}),s.jsxs("div",{children:[s.jsxs("h3",{style:{margin:0},children:[we.firstName," ",we.lastName]}),s.jsxs("p",{style:{margin:0,color:"#6B7280",fontSize:"14px"},children:[(he=we.specialization)==null?void 0:he.join(", ")," • ",we.pricePerHour,"₽/час"]})]})]}),s.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[s.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(rt||[]).map((Le,ve)=>s.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[Ie[ve]," ",Le?Le.getDate():""]},ve)),(ke||[]).map(Le=>s.jsxs(wn.Fragment,{children:[s.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:Le||""}),(rt||[]).map((ve,De)=>{var Ve;const de=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ve.getDay()],Se=(Ve=we.schedule)==null?void 0:Ve[de],Re=!(Se!=null&&Se.enabled);let it=!1;if(Se!=null&&Se.enabled&&Se.start&&Se.end){const[nt]=Le.split(":").map(Number),[ft]=Se.start.split(":").map(Number),[at]=Se.end.split(":").map(Number);it=nt<ft||nt>=at}const ut=u.find(nt=>nt.trainerId===we.id&&nt.date instanceof Date&&ve instanceof Date&&`${nt.date.getUTCFullYear()}-${String(nt.date.getUTCMonth()+1).padStart(2,"0")}-${String(nt.date.getUTCDate()).padStart(2,"0")}`==`${ve.getUTCFullYear()}-${String(ve.getUTCMonth()+1).padStart(2,"0")}-${String(ve.getUTCDate()).padStart(2,"0")}`&&nt.startTime<=Le&&nt.endTime>Le&&nt.status!=="cancelled"),Oe=p.length>0&&p.every(nt=>u.some(ft=>ft.courtId===nt.id&&ft.date instanceof Date&&ve instanceof Date&&`${ft.date.getUTCFullYear()}-${String(ft.date.getUTCMonth()+1).padStart(2,"0")}-${String(ft.date.getUTCDate()).padStart(2,"0")}`==`${ve.getUTCFullYear()}-${String(ve.getUTCMonth()+1).padStart(2,"0")}-${String(ve.getUTCDate()).padStart(2,"0")}`&&ft.startTime<=Le&&ft.endTime>Le&&ft.status!=="cancelled")),Ye=Re||it||we.status==="vacation",We=!!ut;return s.jsx("div",{onClick:()=>{S&&We&&ut?(te(ut),U(!0)):!Ye&&!We&&!Oe&&qe&&(W(ve),se(Le),M(!0))},style:{background:Ye?"#E5E7EB":We?"#10B981":Oe?"#9CA3AF":"white",color:We?"white":Ye||Oe?"#6B7280":"#374151",padding:"8px",minHeight:"60px",cursor:S&&We?"pointer":Ye||We||Oe?"not-allowed":"pointer",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"all 0.2s",...!Ye&&!We&&!Oe?{":hover":{background:"#F3F4F6",border:"1px solid #10B981"}}:{}},onMouseEnter:nt=>{!Ye&&!We&&!Oe&&(nt.currentTarget.style.background="#F3F4F6",nt.currentTarget.style.border="1px solid #10B981")},onMouseLeave:nt=>{!Ye&&!We&&!Oe&&(nt.currentTarget.style.background="white",nt.currentTarget.style.border="none")},children:Ye?s.jsx("span",{style:{fontSize:"11px"},children:Re?"Выходной":it?"Нерабочее время":"Недоступно"}):We?s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"12px",fontWeight:"600"},children:ut.clientName}),s.jsx("div",{style:{fontSize:"10px",marginTop:"2px"},children:ut.courtName})]}):Oe?s.jsx("span",{style:{fontSize:"11px",color:"white"},children:"Корты заняты"}):s.jsx("span",{style:{fontSize:"11px",color:"#10B981"},children:"Свободно"})},`${Le}-${De}`)})]},Le))]})]}):s.jsx("div",{children:"Тренер не найден"})})()}),F==="trainer"&&!P&&s.jsx("div",{style:{padding:"48px",textAlign:"center",background:"#f9fafb",borderRadius:"8px"},children:s.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:"Выберите тренера для просмотра его расписания"})})]}),!S&&s.jsx(Qfe,{venueId:i||(e==null?void 0:e.venueId)||"",bookings:h,onRefresh:()=>Fe(i||(e==null?void 0:e.venueId)||""),clubTimezone:n?o:(t==null?void 0:t.timezone)||"Europe/Moscow"}),s.jsx($6,{booking:J,isOpen:Ae,onClose:()=>{U(!1),te(null)},onUpdate:()=>Fe(i||(e==null?void 0:e.venueId)||""),clubTimezone:n?o:(t==null?void 0:t.timezone)||"Europe/Moscow"}),s.jsx(Wfe,{isOpen:O,onClose:()=>{M(!1),W(null),se(null),ge(null),D(we=>({...we,courtId:""}))},onSuccess:we=>{M(!1),W(null),se(null),ge(null),D(he=>({...he,courtId:""})),Fe(i||(e==null?void 0:e.venueId)||""),we&&(te(we),U(!0))},venueId:i||(e==null?void 0:e.venueId)||"",preSelectedDate:L||void 0,preSelectedTime:G||void 0,preSelectedCourtId:X||void 0,preSelectedTrainerId:F==="trainer"?P:void 0})]})})}function Vfe(){var R;const{admin:e}=er(),{isSuperAdmin:t}=ri(),[n,r]=y.useState(null),[i,a]=y.useState([]),[o,l]=y.useState(!0),[c,A]=y.useState(""),[u,d]=y.useState(null),[h,f]=y.useState([]),[p,g]=y.useState(!1),[v,x]=y.useState(null),[C,b]=y.useState({day:"",month:""});y.useEffect(()=>{if(t){const H=localStorage.getItem("selectedVenueId");H?(r(H),E(H)):l(!1)}else e!=null&&e.venueId&&E(e.venueId)},[e,t]);const w=H=>{r(H),localStorage.setItem("selectedVenueId",H),H&&E(H)},E=async H=>{const z=H||(e==null?void 0:e.venueId);if(z)try{l(!0);const V=qt(Ct(_e,"bookings"),vt("venueId","==",z),Rc(1e3)),J=await Mt(V),te=new Map;J.docs.forEach(U=>{var se,X,ge;const O=U.data(),M=O.customerPhone||O.clientPhone,L=O.customerName||O.clientName;if(!M||!L)return;const W=M,G=O.status!=="cancelled";if(te.has(W)){const ce=te.get(W);if(ce.name=L,O.userId&&O.userId.trim()!==""&&(ce.hasApp=!0),G){ce.bookingsCount++,ce.totalSpent+=O.amount||O.totalPrice||O.price||0;const Y=(se=O.date)!=null&&se.toDate?O.date.toDate():new Date(O.date);(!ce.lastVisit||Y>ce.lastVisit)&&(ce.lastVisit=Y)}}else{const ce=(X=O.date)!=null&&X.toDate?O.date.toDate():new Date(O.date),Y=(ge=O.createdAt)!=null&&ge.toDate?O.createdAt.toDate():new Date(O.createdAt||new Date);te.set(W,{id:W,name:L,phone:M,email:O.customerEmail||O.clientEmail,bookingsCount:G?1:0,lastVisit:G?ce:void 0,totalSpent:G&&(O.amount||O.totalPrice||O.price)||0,hasApp:O.userId&&O.userId.trim()!==""||O.paymentMethod==="app"||O.paymentMethod==="mobile",venueId:z,createdAt:Y})}});const Ae=Array.from(te.values()).sort((U,O)=>U.lastVisit?O.lastVisit?O.lastVisit.getTime()-U.lastVisit.getTime():-1:1);a(Ae)}catch(V){console.error("Error fetching customers:",V)}finally{l(!1)}},S=i.filter(H=>H.name.toLowerCase().includes(c.toLowerCase())||H.phone.includes(c)),F=H=>H.split(" ").map(z=>z[0]).join("").toUpperCase().slice(0,2),N=H=>{const z=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],V=H.charCodeAt(0)%z.length;return z[V]},P=H=>{if(!H)return"Нет данных";const V=Math.abs(new Date().getTime()-H.getTime()),J=Math.ceil(V/(1e3*60*60*24));return J===0?"Сегодня":J===1?"Вчера":J<7?`${J} дней назад`:J<30?`${Math.floor(J/7)} недель назад`:H.toLocaleDateString("ru-RU")},Q=H=>{const[z,V]=H.split("-"),J=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];return`${parseInt(V)} ${J[parseInt(z)-1]}`},j=H=>{x(H),b({day:"",month:""})},k=async()=>{if(!v||!C.day||!C.month)return;const H=`${C.month.padStart(2,"0")}-${C.day.padStart(2,"0")}`;a(z=>z.map(V=>V.id===v?{...V,birthday:H}:V)),x(null),b({day:"",month:""})},T=()=>{const H=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...S.map(J=>{var te;return[J.name,J.phone,J.bookingsCount,J.totalSpent,((te=J.lastVisit)==null?void 0:te.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),z=new Blob([H],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a");V.href=URL.createObjectURL(z),V.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,V.click()},D=async H=>{const z=i.find(V=>V.id===H);if(z)try{g(!0),d(H);const V=t?n:e==null?void 0:e.venueId;if(!V)return;const J=qt(Ct(_e,"bookings"),vt("venueId","==",V),Rc(100)),te=await Mt(J),Ae=[];te.docs.forEach(O=>{var W;const M=O.data();(M.customerPhone||M.clientPhone)===z.phone&&Ae.push({id:O.id,date:(W=M.date)!=null&&W.toDate?M.date.toDate():new Date(M.date),courtName:M.courtName||"Корт",startTime:M.startTime,endTime:M.endTime,amount:M.amount||M.totalPrice||M.price||0,status:M.status||"confirmed",paymentStatus:M.paymentStatus})});const U=Ae.sort((O,M)=>M.date.getTime()-O.date.getTime());f(U)}catch(V){console.error("Error loading customer history:",V)}finally{g(!1)}};return o?s.jsx("div",{children:"Загрузка..."}):t&&!n?s.jsx(Nf,{title:"Выберите клуб для просмотра клиентов"}):s.jsxs("div",{children:[t&&s.jsx(du,{selectedVenueId:n,onVenueChange:w}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"База клиентов"}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:c,onChange:H=>A(H.target.value)}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>E(t?n:e==null?void 0:e.venueId),title:"Обновить список клиентов",children:"🔄"}),s.jsxs("button",{className:"btn btn-secondary",onClick:T,children:[s.jsx(Tre,{fontSize:"small"}),"Экспорт"]})]})]}),s.jsxs("div",{style:{padding:"12px 16px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderLeft:"3px solid var(--primary)",marginBottom:"16px",borderRadius:"4px"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"📊 Ограничения тарифа"})}),s.jsxs("p",{style:{fontSize:"13px",color:"var(--gray)",margin:0},children:["В бесплатном тарифе доступно отображение до ",s.jsx("strong",{children:"1000 клиентов"}),". Всего найдено: ",s.jsx("strong",{children:i.length})," клиентов.",i.length>=1e3&&s.jsx("span",{style:{color:"var(--warning)",marginLeft:"8px"},children:"⚠️ Достигнут лимит отображения"})]})]}),s.jsx("div",{className:"table-wrapper",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:"Телефон"}),s.jsx("th",{children:"Бронирований"}),s.jsx("th",{children:"Потрачено"}),s.jsx("th",{children:s.jsxs("div",{children:["Последний визит",s.jsx("div",{style:{fontSize:"11px",fontWeight:"normal",color:"var(--gray)",marginTop:"2px"},children:"Последнее не отмененное бронирование"})]})}),s.jsx("th",{children:"День рождения"}),s.jsx("th",{children:"Статус в приложении"}),s.jsx("th",{children:"Действия"})]})}),s.jsx("tbody",{children:S.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):S.map(H=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:N(H.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:F(H.name)}),s.jsx("div",{children:s.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:H.name})})]})}),s.jsx("td",{children:H.phone}),s.jsx("td",{children:H.bookingsCount}),s.jsxs("td",{children:[H.totalSpent.toLocaleString("ru-RU"),"₽"]}),s.jsx("td",{children:P(H.lastVisit)}),s.jsx("td",{children:H.birthday?s.jsx("span",{children:Q(H.birthday)}):s.jsx("button",{className:"btn btn-link",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>j(H.id),children:"Добавить"})}),s.jsx("td",{children:H.hasApp?s.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):s.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),s.jsx("td",{children:s.jsxs("button",{className:"btn btn-secondary",onClick:()=>D(H.id),title:"История бронирований",children:[s.jsx(kD,{fontSize:"small"}),"История"]})})]},H.id))})]})})]}),s.jsxs("div",{className:"section-card",children:[s.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:i.length}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:i.filter(H=>H.hasApp).length}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[i.length>0?Math.round(i.filter(H=>H.hasApp).length/i.length*100):0,"%"]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[i.reduce((H,z)=>H+z.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]}),u&&s.jsx("div",{className:`modal ${u?"active":""}`,children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h3",{className:"modal-title",children:["История бронирований: ",(R=i.find(H=>H.id===u))==null?void 0:R.name]}),s.jsx("button",{className:"modal-close",onClick:()=>{d(null),f([])},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("div",{className:"modal-body",children:[p?s.jsx("div",{style:{textAlign:"center",padding:"48px"},children:"Загрузка истории..."}):h.length===0?s.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"История бронирований пуста"}):s.jsx("div",{className:"table-wrapper",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Корт"}),s.jsx("th",{children:"Сумма"}),s.jsx("th",{children:"Статус"})]})}),s.jsx("tbody",{children:h.map(H=>s.jsxs("tr",{children:[s.jsxs("td",{children:[H.date.toLocaleDateString("ru-RU")," ",H.startTime," - ",H.endTime]}),s.jsx("td",{children:H.courtName}),s.jsxs("td",{children:[H.amount.toLocaleString("ru-RU"),"₽"]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:H.status==="confirmed"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",color:H.status==="confirmed"?"var(--success)":"var(--warning)"},children:H.status==="confirmed"?"Подтверждено":H.status==="cancelled"?"Отменено":"В ожидании"})})]},H.id))})]})}),s.jsx("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",textAlign:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"700",fontSize:"18px"},children:h.length}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Всего бронирований"})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[h.reduce((H,z)=>H+z.amount,0).toLocaleString("ru-RU"),"₽"]}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Общая сумма"})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[h.length>0?Math.round(h.reduce((H,z)=>H+z.amount,0)/h.length).toLocaleString("ru-RU"):0,"₽"]}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Средний чек"})]})]})})]})]})}),v&&s.jsx("div",{className:"modal active",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"400px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Добавить день рождения"}),s.jsx("button",{className:"modal-close",onClick:()=>{x(null),b({day:"",month:""})},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("p",{style:{marginBottom:"20px",color:"var(--gray)"},children:"Укажите день и месяц рождения клиента (год не требуется)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"День"}),s.jsx("input",{type:"number",className:"form-input",placeholder:"1-31",min:"1",max:"31",value:C.day,onChange:H=>b(z=>({...z,day:H.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Месяц"}),s.jsxs("select",{className:"form-select",value:C.month,onChange:H=>b(z=>({...z,month:H.target.value})),children:[s.jsx("option",{value:"",children:"Выберите месяц"}),s.jsx("option",{value:"01",children:"Январь"}),s.jsx("option",{value:"02",children:"Февраль"}),s.jsx("option",{value:"03",children:"Март"}),s.jsx("option",{value:"04",children:"Апрель"}),s.jsx("option",{value:"05",children:"Май"}),s.jsx("option",{value:"06",children:"Июнь"}),s.jsx("option",{value:"07",children:"Июль"}),s.jsx("option",{value:"08",children:"Август"}),s.jsx("option",{value:"09",children:"Сентябрь"}),s.jsx("option",{value:"10",children:"Октябрь"}),s.jsx("option",{value:"11",children:"Ноябрь"}),s.jsx("option",{value:"12",children:"Декабрь"})]})]})]}),s.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>{x(null),b({day:"",month:""})},children:"Отмена"}),s.jsx("button",{className:"btn btn-primary",onClick:k,disabled:!C.day||!C.month,children:"Сохранить"})]})]})]})})]})}function Gfe(){const e=$r();return s.jsxs(UA,{maxWidth:"lg",sx:{py:8},children:[s.jsxs(Ce,{textAlign:"center",mb:6,children:[s.jsx(q,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),s.jsx(q,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),s.jsx(q,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),s.jsxs(gt,{container:!0,spacing:4,mb:6,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{sx:{p:4,textAlign:"center"},children:[s.jsx(Rre,{sx:{fontSize:60,color:"primary.main",mb:2}}),s.jsx(q,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),s.jsx(q,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),s.jsxs(Ce,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[s.jsx(Ft,{variant:"outlined",disabled:!0,children:"App Store"}),s.jsx(Ft,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{sx:{p:4,textAlign:"center"},children:[s.jsx(Jre,{sx:{fontSize:60,color:"primary.main",mb:2}}),s.jsx(q,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),s.jsx(q,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),s.jsx(Ft,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),s.jsxs(Pn,{sx:{p:4,textAlign:"center"},children:[s.jsx(E5,{sx:{fontSize:80,color:"primary.main",mb:2}}),s.jsx(q,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),s.jsx(q,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),s.jsx(Ce,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:s.jsx(q,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function qfe({email:e,size:t="small"}){const[n,r]=y.useState(!1),[i,a]=y.useState(null),o=async()=>{r(!0);try{await zQ(va,e),a({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(l){console.error("Error sending password reset email:",l),a({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ft,{variant:"outlined",size:t,startIcon:n?s.jsx(nr,{size:16}):s.jsx(Mre,{}),onClick:o,disabled:n,children:"Сбросить пароль"}),s.jsx(CD,{open:!!i,autoHideDuration:6e3,onClose:()=>a(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:i&&s.jsx(Kt,{onClose:()=>a(null),severity:i.type,sx:{width:"100%"},children:i.text})})]})}const Yfe=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],B2={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function Xfe(){const{isSuperAdmin:e}=ri(),[t,n]=y.useState([]),[r,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState(!1),[A,u]=y.useState(null),[d,h]=y.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[f,p]=y.useState("");y.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await Mt(Ct(_e,"admins")),F=[];for(const Q of S.docs){const j=Q.data();let k="";if(j.venueId){const T=await Mt(qt(Ct(_e,"venues"),vt("__name__","==",j.venueId)));T.empty||(k=T.docs[0].data().name)}F.push({id:Q.id,name:j.name,email:j.email,password:j.password,role:j.role,venueId:j.venueId,venueName:k,permissions:j.permissions||[]})}n(F);const P=(await Mt(Ct(_e,"venues"))).docs.map(Q=>({id:Q.id,name:Q.data().name}));i(P),o(!1)}catch(S){console.error("Error loading data:",S),o(!1)}},v=S=>{S?(u(S),h({name:S.name,email:S.email,password:"",role:S.role,venueId:S.venueId||"",permissions:S.permissions})):(u(null),h({name:"",email:"",password:"",role:"admin",venueId:"",permissions:B2.admin})),c(!0),p("")},x=()=>{c(!1),u(null),p("")},C=S=>{h({...d,role:S,permissions:B2[S]})},b=S=>{const F=d.permissions.includes(S)?d.permissions.filter(N=>N!==S):[...d.permissions,S];h({...d,permissions:F})},w=async()=>{try{if(p(""),A){const S={name:d.name,role:d.role,venueId:d.venueId||null,permissions:d.permissions,updatedAt:new Date};await en(wt(_e,"admins",A.id),S)}else{if(!d.password){p("Пароль обязателен для нового администратора");return}const S=await jF(va,d.email,d.password);await Ma(Ct(_e,"admins"),{uid:S.user.uid,name:d.name,email:d.email,role:d.role,venueId:d.venueId||null,permissions:d.permissions,createdAt:new Date,updatedAt:new Date})}x(),g()}catch(S){console.error("Error saving admin:",S),S.code==="auth/email-already-in-use"?p("Пользователь с таким email уже существует"):S.code==="auth/weak-password"?p("Пароль должен содержать минимум 6 символов"):p("Ошибка при сохранении администратора")}},E=async S=>{const F=t.find(P=>P.id===S);if(!F)return;const N=`Вы уверены, что хотите удалить администратора ${F.name} (${F.email})?`;if(confirm(N))try{await Xc(wt(_e,"admins",S)),await g(),alert(`Администратор ${F.name} успешно удален`)}catch(P){console.error("Error deleting admin:",P),alert("Ошибка при удалении администратора")}};return a?s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})}):s.jsx(Tf,{role:"superadmin",children:s.jsxs(Ce,{children:[s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx("h2",{children:"Управление администраторами"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(cu,{}),onClick:()=>v(),children:"Добавить администратора"})]}),s.jsx(Oo,{component:Pn,children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Имя"}),s.jsx(pt,{children:"Email"}),s.jsx(pt,{children:"Роль"}),s.jsx(pt,{children:"Клуб"}),s.jsx(pt,{align:"right",children:"Действия"})]})}),s.jsx(Lo,{children:t.map(S=>s.jsxs(Pr,{children:[s.jsx(pt,{children:S.name}),s.jsx(pt,{children:S.email}),s.jsx(pt,{children:s.jsx(Gn,{label:S.role,color:S.role==="superadmin"?"error":S.role==="admin"?"primary":"default",size:"small"})}),s.jsx(pt,{children:S.venueName||"-"}),s.jsx(pt,{align:"right",children:S.role!=="superadmin"&&s.jsxs(s.Fragment,{children:[s.jsx(qfe,{email:S.email}),s.jsx(Pi,{onClick:()=>v(S),children:s.jsx($c,{})}),e&&s.jsx(Pi,{onClick:()=>E(S.id),color:"error",children:s.jsx(Au,{})})]})})]},S.id))})]})}),s.jsxs(Oa,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:A?"Редактировать администратора":"Добавить администратора"}),s.jsxs(Ra,{children:[f&&s.jsx(Kt,{severity:"error",sx:{mb:2},children:f}),s.jsx(Lt,{fullWidth:!0,label:"Имя",value:d.name,onChange:S=>h({...d,name:S.target.value}),margin:"normal"}),s.jsx(Lt,{fullWidth:!0,label:"Email",type:"email",value:d.email,onChange:S=>h({...d,email:S.target.value}),margin:"normal",disabled:!!A}),!A&&s.jsx(Lt,{fullWidth:!0,label:"Пароль",type:"password",value:d.password,onChange:S=>h({...d,password:S.target.value}),margin:"normal",required:!0}),s.jsxs(po,{fullWidth:!0,margin:"normal",children:[s.jsx(Jo,{children:"Роль"}),s.jsxs(go,{value:d.role,onChange:S=>C(S.target.value),children:[s.jsx(gr,{value:"admin",children:"Администратор"}),s.jsx(gr,{value:"manager",children:"Менеджер"})]})]}),s.jsxs(po,{fullWidth:!0,margin:"normal",children:[s.jsx(Jo,{children:"Клуб"}),s.jsxs(go,{value:d.venueId,onChange:S=>h({...d,venueId:S.target.value}),children:[s.jsx(gr,{value:"",children:"Не выбран"}),r.map(S=>s.jsx(gr,{value:S.id,children:S.name},S.id))]})]}),s.jsxs(po,{component:"fieldset",margin:"normal",children:[s.jsx(mD,{component:"legend",children:"Права доступа"}),s.jsx(gD,{children:Yfe.map(S=>s.jsx($i,{control:s.jsx(xA,{checked:d.permissions.includes(S.value),onChange:()=>b(S.value),disabled:B2[d.role].includes(S.value)}),label:S.label},S.value))})]})]}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:x,children:"Отмена"}),s.jsx(Ft,{onClick:w,variant:"contained",children:A?"Сохранить":"Создать"})]})]})]})})}const Ts={basic:{name:"БАЗОВЫЙ",price:0,pricePerCourt:0,limits:{maxClients:1e3,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!0,personalManager:!1,crmAccess:!1,advancedAnalytics:!1,marketingTools:!1,salaryCalculation:!1,subscriptionsModule:!1,financialModule:!1},features:["Корты без ограничений","Неограниченные бронирования","До 1000 клиентов в базе","Email-уведомления без ограничений","Управление расписанием","Онлайн-оплата (эквайринг)","Онлайн касса встроенная","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Финансовая отчетность","QR-коды для бронирований","Аккаунты для тренеров с расписанием","Персональный менеджер на 3 месяца"],additionalFees:{smsPrice:6,acquiringCommission:3.5}},crm:{name:"CRM",price:990,pricePerCourt:990,limits:{maxClients:-1,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!0,personalManager:!1,crmAccess:!0,advancedAnalytics:!0,marketingTools:!0,salaryCalculation:!0,subscriptionsModule:!1,financialModule:!1},features:["990₽ за корт в месяц","Корты без ограничений","Неограниченные бронирования","Количество клиентов без ограничений","Email-уведомления без ограничений","CRM система для работы с клиентской базой","Расширенная аналитика и отчеты","Управление ценами и скидками","Маркетинг - промокоды, акции и рассылки","Экспорт данных в Excel и PDF","Расчет зарплат и премий","Все функции тарифа БАЗОВЫЙ"],additionalFees:{smsPrice:6,acquiringCommission:3.5}},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxClients:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!1,trainersModule:!0,personalManager:!0,crmAccess:!0,advancedAnalytics:!0,marketingTools:!0,salaryCalculation:!0,subscriptionsModule:!0,financialModule:!0},features:["1,990₽ за корт в месяц","Корты без ограничений","SMS/Email уведомления без ограничений","Белый лейбл PRO (кастомизация дизайна приложения)","API доступ для интеграций","Мультиплощадки (управление сетью)","Модуль абонементов и пакетов","Модуль тренеров и расписания","Модуль финансового учета","Персональный менеджер навсегда","Все функции тарифа CRM"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxClients:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0,crmAccess:!0,advancedAnalytics:!0,marketingTools:!0,salaryCalculation:!0,subscriptionsModule:!0,financialModule:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}},Qh={start:"basic",standard:"crm",pro:"pro",basic:"basic",crm:"crm"};function Jfe(){const e=$r(),{isSuperAdmin:t}=ri(),{admin:n}=er(),[r,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState(null),[A,u]=y.useState(!1),[d,h]=y.useState(""),[f,p]=y.useState(null),[g,v]=y.useState(!1),[x,C]=y.useState(null),[b,w]=y.useState(!1),[E,S]=y.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});y.useEffect(()=>{F()},[]);const F=async()=>{try{const T=await Mt(Ct(_e,"venues")),D=await Promise.all(T.docs.map(async R=>{var te,Ae,U,O,M,L;const H=R.data();H.location&&H.location._lat!==void 0&&(H.location={latitude:H.location._lat,longitude:H.location._long});const z=qt(Ct(_e,"subscriptions"),vt("venueId","==",R.id),vt("status","in",["active","trial"])),V=await Mt(z);let J=null;if(!V.empty){const W=V.docs[0].data();J={id:V.docs[0].id,...W,startDate:(te=W.startDate)==null?void 0:te.toDate(),endDate:(Ae=W.endDate)==null?void 0:Ae.toDate(),trialEndDate:(U=W.trialEndDate)==null?void 0:U.toDate(),nextBillingDate:(O=W.nextBillingDate)==null?void 0:O.toDate(),usage:{...W.usage,lastUpdated:(L=(M=W.usage)==null?void 0:M.lastUpdated)==null?void 0:L.toDate()}}}return{id:R.id,...H,subscription:J}}));i(D),o(!1)}catch(T){console.error("Error loading venues:",T),o(!1)}},N=T=>{localStorage.setItem("selectedVenueId",T.id),e("/admin/club")},P=async T=>{try{const D=qt(Ct(_e,"admins"),vt("venueId","==",T)),R=await Mt(D);if(!R.empty){const V=R.size,J=R.docs.map(te=>{const Ae=te.data();return`- ${Ae.name} (${Ae.email}) - ${Ae.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${V} сотрудник(ов):
${J}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const H=r.find(V=>V.id===T);if(!H)return;const z=`Вы уверены, что хотите удалить клуб "${H.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(z)&&(await Xc(wt(_e,"venues",T)),await F(),alert(`Клуб "${H.name}" успешно удален`))}catch(D){console.error("Error deleting venue:",D),alert("Ошибка при удалении клуба")}},Q=T=>`https://allcourt.ru/club/${T}`,j=T=>{const D=Q(T);navigator.clipboard.writeText(D),p(T),setTimeout(()=>p(null),2e3)},k=T=>{C(T),v(!0)};return a?s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})}):s.jsxs(Tf,{role:"superadmin",children:[s.jsxs(Ce,{children:[s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(q,{variant:"h5",component:"h2",children:"Управление клубами"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(cu,{}),onClick:()=>w(!0),children:"Добавить клуб"})]}),r.length===0?s.jsx(Kt,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):s.jsx(gt,{container:!0,spacing:2,children:r.map(T=>{var D,R,H,z,V,J;return s.jsx(gt,{item:!0,xs:12,children:s.jsx(Zt,{sx:{p:2},children:s.jsxs(Ce,{display:"flex",alignItems:"center",justifyContent:"space-between",sx:{flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:0}},children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:3,flex:1,sx:{flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},width:{xs:"100%",md:"auto"}},children:[s.jsxs(Ce,{sx:{minWidth:{xs:"100%",sm:"200px"}},children:[s.jsx(q,{variant:"subtitle1",fontWeight:"600",children:T.name}),s.jsxs(Ce,{display:"flex",gap:1,mt:.5,children:[s.jsx(Gn,{label:T.status==="active"?"Активен":T.status==="pending"?"На модерации":"Неактивен",color:T.status==="active"?"success":T.status==="pending"?"warning":"default",size:"small"}),T.subscription&&Ts[T.subscription.plan]&&s.jsx(Gn,{label:Ts[T.subscription.plan].name,color:"primary",size:"small",variant:"outlined"})]})]}),s.jsxs(Ce,{sx:{flex:{xs:"none",sm:1},maxWidth:{xs:"100%",sm:"300px"},width:{xs:"100%",sm:"auto"}},children:[s.jsx(q,{variant:"body2",color:"text.secondary",noWrap:!0,children:T.address}),T.city&&s.jsx(q,{variant:"body2",color:"text.secondary",children:T.city}),T.latitude&&T.longitude||T.location?s.jsxs(q,{variant:"caption",color:"text.secondary",children:["📍 ",(R=T.latitude||((D=T.location)==null?void 0:D.latitude))==null?void 0:R.toFixed(4),", ",(z=T.longitude||((H=T.location)==null?void 0:H.longitude))==null?void 0:z.toFixed(4)]}):T.coordinates?s.jsxs(q,{variant:"caption",color:"text.secondary",children:["📍 ",(V=T.coordinates.latitude)==null?void 0:V.toFixed(4),", ",(J=T.coordinates.longitude)==null?void 0:J.toFixed(4)]}):s.jsx(q,{variant:"caption",color:"warning.main",children:"⚠️ Координаты не указаны"})]}),s.jsxs(Ce,{sx:{minWidth:{xs:"100%",sm:"200px"},display:{xs:"none",md:"block"}},children:[s.jsx(q,{variant:"body2",color:"text.secondary",children:T.phone}),s.jsx(q,{variant:"body2",color:"text.secondary",noWrap:!0,children:T.email})]})]}),s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,sx:{width:{xs:"100%",md:"auto"},justifyContent:{xs:"flex-end",md:"flex-start"}},children:[T.status==="pending"&&s.jsx(Ft,{variant:"contained",size:"small",color:"success",onClick:async()=>{var te;try{await en(wt(_e,"venues",T.id),{status:"active",moderatedAt:new Date,moderatedBy:((te=va.currentUser)==null?void 0:te.uid)||"superadmin"}),F()}catch(Ae){console.error("Error activating venue:",Ae)}},children:"Активировать"}),T.status==="active"&&t&&s.jsx(Ft,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Отправить клуб на модерацию?"))try{await en(wt(_e,"venues",T.id),{status:"pending",moderatedAt:null,moderatedBy:null}),F()}catch(te){console.error("Error deactivating venue:",te)}},children:"На модерацию"}),s.jsx(Pi,{size:"small",onClick:()=>N(T),color:"primary",children:s.jsx($c,{fontSize:"small"})}),s.jsx(T0,{title:f===T.id?"Скопировано!":"Копировать ссылку",children:s.jsx(Pi,{size:"small",onClick:()=>j(T.id),color:f===T.id?"success":"default",children:f===T.id?s.jsx(ya,{fontSize:"small"}):s.jsx(jD,{fontSize:"small"})})}),s.jsx(T0,{title:"Показать QR код",children:s.jsx(Pi,{size:"small",onClick:()=>k(T),children:s.jsx(E5,{fontSize:"small"})})}),s.jsx(Pi,{size:"small",color:"error",onClick:()=>P(T.id),children:s.jsx(Au,{fontSize:"small"})})]})]})})},T.id)})})]}),s.jsxs(Oa,{open:g,onClose:()=>v(!1),maxWidth:"sm",children:[s.jsxs(ss,{children:["QR код для ",x==null?void 0:x.name]}),s.jsx(Ra,{children:s.jsxs(Ce,{sx:{textAlign:"center",p:2},children:[s.jsx(_0,{value:x?Q(x.id):"",size:256,level:"H",includeMargin:!0}),s.jsx(q,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),s.jsx(ks,{sx:{my:2}}),s.jsx(q,{variant:"caption",sx:{fontFamily:"monospace"},children:x&&Q(x.id)})]})}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:()=>v(!1),children:"Закрыть"}),s.jsx(Ft,{variant:"contained",onClick:()=>{x&&j(x.id)},children:"Копировать ссылку"})]})]}),s.jsxs(Oa,{open:b,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(ss,{children:"Добавить новый клуб"}),s.jsxs(Ra,{children:[d&&s.jsx(Kt,{severity:"error",sx:{mb:2},children:d}),s.jsxs(Ce,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Lt,{label:"Название клуба",value:E.name,onChange:T=>S({...E,name:T.target.value}),fullWidth:!0,required:!0}),s.jsx(Lt,{label:"Адрес",value:E.address,onChange:T=>S({...E,address:T.target.value}),fullWidth:!0,required:!0}),s.jsx(Lt,{label:"Город",value:E.city,onChange:T=>S({...E,city:T.target.value}),fullWidth:!0,required:!0}),s.jsx(Lt,{label:"Телефон",value:E.phone,onChange:T=>S({...E,phone:T.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),s.jsx(Lt,{label:"Email",value:E.email,onChange:T=>S({...E,email:T.target.value}),fullWidth:!0,required:!0,type:"email"}),s.jsx(Lt,{label:"Описание",value:E.description,onChange:T=>S({...E,description:T.target.value}),fullWidth:!0,multiline:!0,rows:3}),s.jsxs(po,{fullWidth:!0,children:[s.jsx(Jo,{children:"Форма организации"}),s.jsxs(go,{value:E.organizationType,onChange:T=>S({...E,organizationType:T.target.value}),label:"Форма организации",children:[s.jsx(gr,{value:"ИП",children:"ИП"}),s.jsx(gr,{value:"ООО",children:"ООО"}),s.jsx(gr,{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsx(Lt,{label:"ИНН",value:E.inn,onChange:T=>S({...E,inn:T.target.value}),fullWidth:!0}),s.jsx(Lt,{label:"Расчетный счет",value:E.bankAccount,onChange:T=>S({...E,bankAccount:T.target.value}),fullWidth:!0})]})]}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:()=>{w(!1),h(""),S({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),s.jsx(Ft,{onClick:async()=>{try{if(!E.name||!E.address||!E.city||!E.phone||!E.email){h("Заполните все обязательные поля");return}const T=qt(Ct(_e,"venues"),vt("email","==",E.email));if(!(await Mt(T)).empty){h("Клуб с таким email уже существует");return}const R={name:E.name,address:E.address,city:E.city,phone:E.phone,email:E.email,description:E.description||"",organizationType:E.organizationType,inn:E.inn||"",bankAccount:E.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!va.currentUser){h("Необходимо авторизоваться");return}if(!t){h("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",R),console.log("Firebase auth current user:",va.currentUser);const H=await Ma(Ct(_e,"venues"),R);console.log("Venue created with ID:",H.id),await Ma(Ct(_e,"subscriptions"),{venueId:H.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await Ma(Ct(_e,"admins"),{name:"Администратор",email:E.email,password:"123456",role:"admin",venueId:H.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),w(!1),h(""),S({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),F(),alert(`Клуб "${E.name}" успешно создан! Администратор: ${E.email}, пароль: 123456`)}catch(T){console.error("Error creating venue:",T),console.error("Error details:",{code:T==null?void 0:T.code,message:T==null?void 0:T.message,stack:T==null?void 0:T.stack}),h("Ошибка при создании клуба: "+((T==null?void 0:T.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}async function Zfe(){console.log("🚀 Начинаем миграцию тарифов...");try{const e=Ct(_e,"subscriptions"),t=await Mt(e);let n=0,r=0;for(const i of t.docs){const a=i.data();let o=!1,l=a.plan;a.plan==="start"?(l="basic",o=!0):a.plan==="standard"&&(l="crm",o=!0),o?(await en(wt(_e,"subscriptions",i.id),{plan:l,updatedAt:new Date}),console.log(`✅ Обновлен тариф для подписки ${i.id}: ${a.plan} → ${l}`),n++):r++}return console.log(`
📊 Результаты миграции:`),console.log(`✅ Обновлено: ${n} подписок`),console.log(`⏭️ Пропущено: ${r} подписок (уже имеют новые названия)`),console.log(`📝 Всего обработано: ${t.size} подписок`),{success:!0,updated:n,skipped:r,total:t.size}}catch(e){return console.error("❌ Ошибка при миграции:",e),{success:!1,error:e}}}async function ehe(e){try{const t=qt(Ct(_e,"subscriptions"),vt("venueId","==",e),vt("status","in",["active","trial"])),n=await Mt(t);if(!n.empty){const r=n.docs[0],i=r.data();if(i.plan==="start"||i.plan==="standard"){const a=i.plan==="start"?"basic":"crm";return await en(wt(_e,"subscriptions",r.id),{plan:a,updatedAt:new Date}),console.log(`✅ Мигрирована подписка для клуба ${e}: ${i.plan} → ${a}`),!0}}return!1}catch(t){return console.error("Ошибка миграции подписки:",t),!1}}function the(){var z,V,J,te,Ae,U,O,M,L,W;const{admin:e,club:t}=er(),{isSuperAdmin:n}=ri(),[r,i]=y.useState(null),[a,o]=y.useState(null),[l,c]=y.useState(!0),[A,u]=y.useState(!1),[d,h]=y.useState(null),[f,p]=y.useState([]),[g,v]=y.useState(!1),[x,C]=y.useState(!1);y.useEffect(()=>{if(n){const G=localStorage.getItem("selectedVenueId");G?(i(G),w(G)):c(!1)}else e!=null&&e.venueId&&w(e.venueId)},[e,n]);const b=G=>{i(G),localStorage.setItem("selectedVenueId",G),G&&w(G)},w=async G=>{var X,ge,ce,Y,ne,oe,fe,ie;const se=G||(e==null?void 0:e.venueId);if(se)try{c(!0);const Te=qt(Ct(_e,"subscriptions"),vt("venueId","==",se),vt("status","in",["active","trial"])),be=await Mt(Te);if(be.empty){const He=qt(Ct(_e,"venues",se,"courts")),lt=(await Mt(He)).size;let bt=0;try{const Ze=qt(Ct(_e,"bookings"),vt("venueId","==",se),Rc(1e3)),ye=await Mt(Ze),Ue=new Set;ye.docs.forEach(ke=>{const rt=ke.data(),Ie=rt.customerPhone||rt.clientPhone;Ie&&Ue.add(Ie)}),bt=Ue.size}catch(Ze){console.log("Could not load customers count for new subscription:",Ze)}o({id:"",venueId:se,plan:"basic",status:"active",startDate:new Date,usage:{courtsCount:lt,bookingsThisMonth:0,smsEmailsSent:0,clientsCount:bt,lastUpdated:new Date}})}else{const He=be.docs[0].data();if(He.plan==="start"||He.plan==="standard"){await ehe(se);const Ue=await Mt(Te);if(!Ue.empty){const ke=Ue.docs[0].data();He.plan=ke.plan}}const Ge=qt(Ct(_e,"venues",se,"courts")),bt=(await Mt(Ge)).size;let Ze=((X=He.usage)==null?void 0:X.clientsCount)||0;try{const Ue=qt(Ct(_e,"bookings"),vt("venueId","==",se),Rc(1e3)),ke=await Mt(Ue),rt=new Set;ke.docs.forEach(Ie=>{const _t=Ie.data(),qe=_t.customerPhone||_t.clientPhone;qe&&rt.add(qe)}),Ze=rt.size}catch(Ue){console.log("Could not load customers count from bookings, using subscription data:",Ue)}const ye=Qh[He.plan]||He.plan;o({id:be.docs[0].id,...He,plan:ye,startDate:(ge=He.startDate)==null?void 0:ge.toDate(),endDate:(ce=He.endDate)==null?void 0:ce.toDate(),trialEndDate:(Y=He.trialEndDate)==null?void 0:Y.toDate(),nextBillingDate:(ne=He.nextBillingDate)==null?void 0:ne.toDate(),cancelledAt:(oe=He.cancelledAt)==null?void 0:oe.toDate(),usage:{...He.usage,courtsCount:bt,clientsCount:Ze,lastUpdated:(ie=(fe=He.usage)==null?void 0:fe.lastUpdated)==null?void 0:ie.toDate()}})}const xe=qt(Ct(_e,"payments"),vt("venueId","==",e.venueId),vt("type","==","subscription")),Fe=(await Mt(xe)).docs.map(He=>{var Ge;return{id:He.id,...He.data(),date:(Ge=He.data().date)==null?void 0:Ge.toDate()}});p(Fe.sort((He,Ge)=>Ge.date-He.date)),c(!1)}catch(Te){console.error("Error loading subscription:",Te),c(!1)}},E=G=>{if(G==="crm"||G==="pro"){C(!0);return}if((t==null?void 0:t.status)==="pending"&&!n){v(!0);return}h(G),u(!0)},S=async()=>{console.log("Upgrading to plan:",d),u(!1)},F=async()=>{confirm("Вы уверены, что хотите отменить подписку? Она будет активна до конца оплаченного периода.")&&console.log("Cancelling subscription")};if(l)return s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})});if(n&&!r)return s.jsx(Nf,{title:"Выберите клуб для управления подпиской"});if(!a)return s.jsx(Kt,{severity:"error",children:"Ошибка загрузки данных подписки"});const N=Qh[a.plan]||a.plan,P=Ts[N]||Ts.basic,Q=P.limits,j=((z=a==null?void 0:a.usage)==null?void 0:z.courtsCount)||0,k=((V=a==null?void 0:a.usage)==null?void 0:V.clientsCount)||0,T=(G,se)=>{const X=Qh[G]||G,ge=Ts[X];if(!ge||X==="basic"||G==="start")return 0;if(X==="crm"||X==="pro"||G==="standard"||G==="pro"){const ce=se&&!isNaN(se)&&se>0?se:1;return(ge.pricePerCourt||ge.price)*ce}return 0},D=Q.maxClients>0?k/Q.maxClients*100:0,R=Q.maxBookingsPerMonth>0?a.usage.bookingsThisMonth/Q.maxBookingsPerMonth*100:0,H=Q.smsEmailNotifications>0?a.usage.smsEmailsSent/Q.smsEmailNotifications*100:0;return s.jsxs(Ce,{children:[n&&s.jsx(du,{selectedVenueId:r,onVenueChange:b}),s.jsx(q,{variant:"h5",component:"h2",gutterBottom:!0,children:"Управление подпиской"}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsxs(Ce,{children:[s.jsxs(q,{variant:"h6",component:"h3",children:["Текущий тариф: ",P.name]}),s.jsx(q,{variant:"body2",color:"text.secondary",children:(()=>{const G=T(a.plan,j);return(Qh[a.plan]||a.plan)==="basic"||a.plan==="start"||isNaN(G)||G===null||G===void 0?"0 ₽/месяц":`${Math.round(G).toLocaleString("ru-RU")} ₽/месяц`})()})]}),s.jsxs(Ce,{display:"flex",gap:1,children:[s.jsx(Gn,{label:a.status==="active"?"Активна":"Пробный период",color:a.status==="active"?"success":"warning",size:"small"}),a.nextBillingDate&&s.jsx(Gn,{label:`Следующий платеж: ${a.nextBillingDate.toLocaleDateString("ru-RU")}`,size:"small",variant:"outlined"})]})]}),a.status==="trial"&&a.trialEndDate&&s.jsxs(Kt,{severity:"info",sx:{mb:2},children:["Пробный период заканчивается ",a.trialEndDate.toLocaleDateString("ru-RU")]}),s.jsx(q,{variant:"subtitle2",gutterBottom:!0,sx:{mt:3},children:"Использование ресурсов"}),s.jsxs(Ce,{sx:{mt:2},children:[Q.maxClients>0&&s.jsxs(Ce,{sx:{mb:2},children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",mb:1,children:[s.jsx(q,{variant:"body2",children:"Клиенты в базе"}),s.jsxs(q,{variant:"body2",children:[k," / ",Q.maxClients]})]}),s.jsx(LA,{variant:"determinate",value:D,color:D>90?"error":D>70?"warning":"primary"})]}),s.jsx(Ce,{sx:{mb:2},children:s.jsxs(Ce,{display:"flex",justifyContent:"space-between",mb:1,children:[s.jsx(q,{variant:"body2",children:"Корты"}),s.jsx(q,{variant:"body2",children:((J=a.usage)==null?void 0:J.courtsCount)||0})]})}),Q.maxBookingsPerMonth>0&&s.jsxs(Ce,{sx:{mb:2},children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",mb:1,children:[s.jsx(q,{variant:"body2",children:"Бронирования в этом месяце"}),s.jsxs(q,{variant:"body2",children:[((te=a.usage)==null?void 0:te.bookingsThisMonth)||0," / ",Q.maxBookingsPerMonth]})]}),s.jsx(LA,{variant:"determinate",value:R,color:R>90?"error":R>70?"warning":"primary"})]}),Q.smsEmailNotifications>0&&s.jsxs(Ce,{sx:{mb:2},children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",mb:1,children:[s.jsx(q,{variant:"body2",children:"SMS/Email уведомления"}),s.jsxs(q,{variant:"body2",children:[((Ae=a.usage)==null?void 0:Ae.smsEmailsSent)||0," / ",Q.smsEmailNotifications]})]}),s.jsx(LA,{variant:"determinate",value:H,color:H>90?"error":H>70?"warning":"primary"})]})]}),s.jsxs(q,{variant:"caption",color:"text.secondary",children:["Последнее обновление: ",((O=(U=a.usage)==null?void 0:U.lastUpdated)==null?void 0:O.toLocaleDateString("ru-RU"))||"Не указано"]})]})}),s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Доступные тарифы"}),s.jsx(gt,{container:!0,spacing:3,sx:{mb:4},children:["basic","crm","pro"].map(G=>{var ce;const se=Ts[G];if(!se)return null;const X=G===N||G===a.plan||G==="basic"&&a.plan==="start"||G==="crm"&&a.plan==="standard",ge=T(G,j);return s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsxs(Zt,{sx:{height:"100%",position:"relative",border:X?2:1,borderColor:X?"primary.main":"divider",background:G==="pro"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":G==="crm"||G==="standard"?"linear-gradient(135deg, #667eea 0%, #4facfe 100%)":"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)","& .MuiCardContent-root":{background:"rgba(255, 255, 255, 0.98)",height:"100%"}},children:[X&&s.jsx(Gn,{label:"Текущий тариф",color:"primary",size:"small",sx:{position:"absolute",top:16,right:16}}),s.jsxs(tn,{children:[s.jsx(q,{variant:"h5",component:"h3",gutterBottom:!0,children:se.name}),s.jsx(Ce,{sx:{mb:3},children:G==="basic"||G==="start"?s.jsxs(s.Fragment,{children:[s.jsx(q,{variant:"h3",color:"primary",component:"div",children:"Бесплатно"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"До 1000 клиентов"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"h3",color:"primary",component:"div",children:[(ce=se.pricePerCourt)==null?void 0:ce.toLocaleString("ru-RU")," ₽"]}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"за корт в месяц"}),j>0&&s.jsxs(q,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:["Итого: ",ge.toLocaleString("ru-RU")," ₽/мес за ",j," ",j===1?"корт":j<5?"корта":"кортов"]})]})}),s.jsx(Wi,{dense:!0,sx:{mt:2,mb:2},children:se.features.slice(0,8).map((Y,ne)=>s.jsxs(mn,{disablePadding:!0,children:[s.jsx(Na,{sx:{minWidth:32},children:s.jsx(ya,{fontSize:"small",color:"success"})}),s.jsx(vn,{primary:Y,primaryTypographyProps:{variant:"body2"}})]},ne))}),X?s.jsx(Ft,{variant:"outlined",fullWidth:!0,disabled:!0,sx:{mt:2},children:"Текущий тариф"}):s.jsx(Ft,{variant:"contained",fullWidth:!0,sx:{mt:2},onClick:()=>E(G),startIcon:s.jsx(FD,{}),children:"Выбрать"}),(G==="basic"||G==="start")&&s.jsx(Kt,{severity:"info",sx:{mt:2},children:s.jsxs(q,{variant:"caption",children:["Оплачивается отдельно:",s.jsx("br",{}),"• SMS уведомления: 6₽/шт",s.jsx("br",{}),"• Комиссия эквайринга: 3.5%"]})}),(G==="crm"||G==="standard")&&(P==null?void 0:P.additionalFees)&&s.jsx(Kt,{severity:"info",sx:{mt:2},children:s.jsxs(q,{variant:"caption",children:["Оплачивается отдельно:",s.jsx("br",{}),"• SMS уведомления: 6₽/шт",s.jsx("br",{}),"• Комиссия эквайринга: 3.5%"]})}),G==="pro"&&s.jsx(Kt,{severity:"success",sx:{mt:2},children:s.jsxs(q,{variant:"caption",children:["Включено в тариф:",s.jsx("br",{}),"• SMS без ограничений",s.jsx("br",{}),"• API доступ"]})})]})]})},G)})}),s.jsx(q,{variant:"h6",gutterBottom:!0,children:"История платежей"}),s.jsx(Oo,{component:Pn,children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Дата"}),s.jsx(pt,{children:"Описание"}),s.jsx(pt,{align:"right",children:"Сумма"}),s.jsx(pt,{children:"Статус"})]})}),s.jsx(Lo,{children:f.length===0?s.jsx(Pr,{children:s.jsx(pt,{colSpan:4,align:"center",children:s.jsx(q,{variant:"body2",color:"text.secondary",children:"История платежей пуста"})})}):f.map(G=>{var se;return s.jsxs(Pr,{children:[s.jsx(pt,{children:(se=G.date)==null?void 0:se.toLocaleDateString("ru-RU")}),s.jsx(pt,{children:G.description}),s.jsxs(pt,{align:"right",children:[G.amount.toLocaleString("ru-RU")," ₽"]}),s.jsx(pt,{children:s.jsx(Gn,{label:G.status==="success"?"Оплачено":"Ошибка",color:G.status==="success"?"success":"error",size:"small"})})]},G.id)})})]})}),N!=="basic"&&a.status==="active"&&s.jsx(Ce,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:s.jsx(Ft,{variant:"outlined",color:"error",startIcon:s.jsx(Ds,{}),onClick:F,children:"Отменить подписку"})}),s.jsxs(Oa,{open:A,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:"Изменение тарифа"}),s.jsx(Ra,{children:d&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"body1",gutterBottom:!0,children:["Вы собираетесь перейти на тариф ",s.jsx("strong",{children:((M=Ts[d])==null?void 0:M.name)||((L=Ts[Qh[d]])==null?void 0:L.name)})]}),s.jsxs(q,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Стоимость: ",(()=>{const G=T(d,j);return G===0?"Бесплатно":G===-1?"По запросу":`${G.toLocaleString("ru-RU")} ₽/месяц`})()]}),(((W=Ts[d])==null?void 0:W.price)||0)<P.price&&s.jsx(Kt,{severity:"warning",sx:{mt:2},children:"При понижении тарифа некоторые функции могут стать недоступны. Убедитесь, что новые лимиты соответствуют вашим потребностям."})]})}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:()=>u(!1),children:"Отмена"}),s.jsx(Ft,{variant:"contained",onClick:S,children:"Подтвердить"})]})]}),s.jsxs(Oa,{open:g,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(zc,{color:"warning"}),"Клуб на модерации"]})}),s.jsxs(Ra,{children:[s.jsx(Kt,{severity:"warning",sx:{mb:2},children:"Для смены тарифного плана необходимо пройти модерацию."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"Для успешной модерации необходимо:"}),s.jsxs(Wi,{children:[s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"action"})}),s.jsx(vn,{primary:"Заполнить реквизиты компании",secondary:"Перейдите в раздел 'Настройки клуба' и заполните все реквизиты"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"action"})}),s.jsx(vn,{primary:"Добавить корты",secondary:"Создайте хотя бы один корт в разделе 'Корты'"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"action"})}),s.jsx(vn,{primary:"Настроить расписание работы",secondary:"Укажите часы работы клуба в настройках"})]})]}),s.jsx(q,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"После выполнения всех условий модерация будет пройдена автоматически, и вы сможете изменить тарифный план."})]}),s.jsx(as,{children:s.jsx(Ft,{onClick:()=>v(!1),variant:"contained",children:"Понятно"})})]}),s.jsxs(Oa,{open:x,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(zc,{color:"info"}),"Информация о тарифах"]})}),s.jsxs(Ra,{children:[s.jsx(Kt,{severity:"info",sx:{mb:2},children:"Весь функционал доступен на вашем текущем тарифе БАЗОВЫЙ"}),s.jsx(q,{variant:"body1",children:"Другие тарифы временно недоступны к выбору. Все необходимые функции для управления клубом полностью доступны на тарифе БАЗОВЫЙ."})]}),s.jsx(as,{children:s.jsx(Ft,{onClick:()=>C(!1),variant:"contained",children:"Понятно"})})]})]})}const DI=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]}];function nhe(){var ce;const{admin:e,club:t}=er(),{isSuperAdmin:n}=ri(),[r,i]=y.useState(null),[a,o]=y.useState(!0),[l,c]=y.useState(!1),[A,u]=y.useState(null),[d,h]=y.useState("multiaccounts"),[f,p]=y.useState(1),[g,v]=y.useState(2.6),[x,C]=y.useState("not_configured"),[b,w]=y.useState(!1),[E,S]=y.useState([]),[F,N]=y.useState(!0),[P,Q]=y.useState(!1),[j,k]=y.useState(""),[T,D]=y.useState({}),[R,H]=y.useState(!1),[z,V]=y.useState(null),[J,te]=y.useState(0),[Ae,U]=y.useState(!1),[O,M]=y.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0});y.useEffect(()=>{if((t==null?void 0:t.status)==="pending"&&!n&&U(!0),n){const Y=localStorage.getItem("selectedVenueId");Y?(i(Y),W(Y)):o(!1)}else e!=null&&e.venueId&&W(e.venueId)},[e,n,t]);const L=Y=>{i(Y),localStorage.setItem("selectedVenueId",Y),Y&&W(Y)},W=async Y=>{const ne=Y||(e==null?void 0:e.venueId);if(ne)try{o(!0);const oe=await fn(wt(_e,"venues",ne));if(oe.exists()){const fe=oe.data();u(fe),h(fe.paymentType||"multiaccounts"),p(fe.platformCommissionPercent||1),v(fe.acquiringCommissionPercent||2.6);const Te=["organizationType","legalName","inn","ogrn","legalAddress","bankName","bik","correspondentAccount","settlementAccount","financeEmail","financePhone"].filter(be=>!fe[be]);S(Te),w(Te.length===0),fe.multiaccountsConfig&&C(fe.multiaccountsConfig.status||"not_configured"),Q(fe.paymentEnabled||!1),N(fe.paymentTestMode!==!1),k(fe.paymentProvider||""),fe.paymentCredentials&&D(fe.paymentCredentials),fe.enabledPaymentMethods&&M(fe.enabledPaymentMethods),fe.paymentProvider&&fe.paymentCredentials?te(2):fe.paymentProvider&&te(1)}o(!1)}catch(oe){console.error("Error loading payment settings:",oe),o(!1)}},G=async()=>{const Y=n?r:e==null?void 0:e.venueId;if(Y){c(!0);try{await en(wt(_e,"venues",Y),{"multiaccountsConfig.status":"pending","multiaccountsConfig.registeredAt":new Date,paymentType:"multiaccounts",platformCommissionPercent:f,acquiringCommissionPercent:g}),C("pending"),alert("Заявка на подключение Мультирасчетов отправлена!")}catch(ne){console.error("Error submitting multiaccounts:",ne),alert("Ошибка при отправке заявки")}finally{c(!1)}}},se=async()=>{const Y=n?r:e==null?void 0:e.venueId;if(Y){c(!0);try{const fe=(await Ai(qo,"checkMultiaccountsStatus")({venueId:Y})).data;fe.success?fe.status==="active"?(await en(wt(_e,"venues",Y),{"multiaccountsConfig.status":"active","multiaccountsConfig.activatedAt":new Date,"multiaccountsConfig.recipientId":fe.recipientId}),C("active"),alert("✅ Мультирасчеты успешно активированы!")):fe.status==="rejected"?(await en(wt(_e,"venues",Y),{"multiaccountsConfig.status":"rejected","multiaccountsConfig.rejectionReason":fe.reason}),C("rejected"),alert(`❌ Заявка отклонена: ${fe.reason}`)):alert("Заявка все еще на рассмотрении. Проверьте позже."):alert(fe.error||"Ошибка при проверке статуса")}catch(ne){console.error("Error checking status:",ne),alert("Ошибка при проверке статуса заявки")}finally{c(!1)}}},X=async()=>{const Y=n?r:e==null?void 0:e.venueId;if(!(!Y||!j)){c(!0);try{const oe={paymentEnabled:P,paymentTestMode:j==="yookassa"?!1:F,paymentProvider:j,paymentCredentials:T,enabledPaymentMethods:O,paymentType:"direct",paymentUpdatedAt:new Date};await en(wt(_e,"venues",Y),oe),te(2),alert("Настройки успешно сохранены")}catch(ne){console.error("Error saving payment settings:",ne),alert("Ошибка при сохранении настроек")}finally{c(!1)}}};if(a)return s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})});if(n&&!r)return s.jsx(Nf,{title:"Выберите клуб для настройки оплаты"});const ge=DI.find(Y=>Y.id===j);return s.jsxs(Ce,{children:[n&&s.jsx(du,{selectedVenueId:r,onVenueChange:L}),s.jsx(q,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки приема платежей"}),n&&s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Тип приема платежей"}),s.jsx(Kt,{severity:"info",sx:{mb:2},children:s.jsxs(q,{variant:"body2",children:[s.jsx("strong",{children:"Внимание:"})," Переключение типа приема платежей доступно только суперадминистраторам. Изменение типа платежей может повлиять на процесс обработки всех будущих платежей."]})}),s.jsxs(po,{fullWidth:!0,sx:{mb:2},children:[s.jsx(Jo,{children:"Способ приема платежей"}),s.jsxs(go,{value:d,label:"Способ приема платежей",onChange:Y=>{const ne=Y.target.value;h(ne)},children:[s.jsx(gr,{value:"multiaccounts",children:"Мультирасчеты от Т-Банка (рекомендуется)"}),s.jsx(gr,{value:"direct",children:"Собственный эквайринг (для существующих клубов)"})]})]}),d==="multiaccounts"&&s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Комиссия платформы AllCourt (%)",type:"number",value:f,onChange:Y=>p(Number(Y.target.value)),inputProps:{min:0,max:100,step:.1},fullWidth:!0,disabled:!n,helperText:"Комиссия за использование платформы"})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Эквайринг и онлайн-касса (%)",type:"number",value:g,onChange:Y=>v(Number(Y.target.value)),inputProps:{min:0,max:100,step:.1},fullWidth:!0,disabled:!n,helperText:"Комиссия банка и фискализация"})}),s.jsx(gt,{item:!0,xs:12,children:s.jsxs(Kt,{severity:"info",children:[s.jsxs(q,{variant:"subtitle2",children:["Общая комиссия: ",(f+g).toFixed(1),"%"]}),s.jsxs(q,{variant:"body2",sx:{mt:1},children:["С каждого платежа в 1000₽ будет удержано ",((f+g)*10).toFixed(0),"₽, клуб получит ",(1e3-(f+g)*10).toFixed(0),"₽"]})]})})]}),n&&((A==null?void 0:A.platformCommissionPercent)!==f||(A==null?void 0:A.acquiringCommissionPercent)!==g)&&s.jsx(Ce,{sx:{mt:2},children:s.jsx(Ft,{variant:"contained",color:"primary",onClick:async()=>{const Y=r||(e==null?void 0:e.venueId);if(Y)try{c(!0),await en(wt(_e,"venues",Y),{platformCommissionPercent:f,acquiringCommissionPercent:g}),u({...A,platformCommissionPercent:f,acquiringCommissionPercent:g}),alert("✅ Комиссии успешно обновлены")}catch(ne){console.error("Error updating commissions:",ne),alert("❌ Ошибка при сохранении комиссий")}finally{c(!1)}},disabled:l,children:l?"Сохранение...":"Сохранить комиссии"})})]}),A&&A.paymentType!==d&&s.jsxs(Ce,{sx:{mt:2,display:"flex",gap:2,alignItems:"center"},children:[s.jsx(Ft,{variant:"contained",color:"primary",onClick:async()=>{const Y=r||(e==null?void 0:e.venueId);if(Y){const ne=d==="direct"?"Вы уверены, что хотите переключить клуб на собственный эквайринг? Платежи будут поступать напрямую на счет клуба.":`Вы уверены, что хотите переключить клуб на Мультирасчеты? Платежи будут проходить через платформу с общей комиссией ${(f+g).toFixed(1)}%.`;if(!confirm(ne)){h(A.paymentType||"multiaccounts");return}try{c(!0);const oe={paymentType:d,paymentTypeUpdatedAt:new Date};d==="direct"?(oe.multiaccountsConfig={status:"not_applicable",note:"Клуб использует собственный эквайринг"},oe.platformCommissionPercent=0,oe.acquiringCommissionPercent=0):(oe.multiaccountsConfig={status:"not_configured",note:"Требуется настройка Мультирасчетов"},oe.platformCommissionPercent=f||1,oe.acquiringCommissionPercent=g||2.6),await en(wt(_e,"venues",Y),oe),u({...A,...oe}),alert(`✅ Тип платежей успешно изменен на: ${d==="direct"?"Собственный эквайринг":"Мультирасчеты"}`)}catch(oe){console.error("Error updating payment type:",oe),alert("❌ Ошибка при изменении типа платежей"),h(A.paymentType||"multiaccounts")}finally{c(!1)}}},disabled:l,startIcon:l?s.jsx(nr,{size:20}):s.jsx(Dc,{}),children:l?"Сохранение...":"Сохранить изменение типа платежей"}),s.jsx(Ft,{variant:"outlined",onClick:()=>{h(A.paymentType||"multiaccounts"),p(A.platformCommissionPercent||1),v(A.acquiringCommissionPercent||2.6)},disabled:l,children:"Отмена"})]}),n&&d==="multiaccounts"&&A&&A.paymentType==="multiaccounts"&&(A.platformCommissionPercent!==f||A.acquiringCommissionPercent!==g)&&s.jsx(Ce,{sx:{mt:2},children:s.jsx(Ft,{variant:"contained",size:"small",onClick:async()=>{const Y=r||(e==null?void 0:e.venueId);if(Y)try{await en(wt(_e,"venues",Y),{platformCommissionPercent:f,acquiringCommissionPercent:g,commissionUpdatedAt:new Date}),u({...A,platformCommissionPercent:f,acquiringCommissionPercent:g}),alert(`✅ Комиссии обновлены: платформа ${f}% + эквайринг ${g}%`)}catch(ne){console.error("Error updating commission:",ne),alert("❌ Ошибка при обновлении комиссий")}},children:"Сохранить изменения комиссий"})})]})}),d==="multiaccounts"&&s.jsxs(s.Fragment,{children:[s.jsxs(Kt,{severity:"info",sx:{mb:3},children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Мультирасчеты от Т-Банка - современное решение для приема платежей"}),s.jsxs(q,{variant:"body2",children:["Все платежи проходят через защищенную платформу AllCourt. Деньги автоматически выплачиваются вам на следующий рабочий день за вычетом комиссий (платформа ",f,"% + эквайринг ",g,"%)."]})]}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Статус подключения Мультирасчетов"}),x==="not_configured"&&s.jsxs(s.Fragment,{children:[s.jsx(Kt,{severity:"warning",sx:{mb:2},children:b?s.jsx(s.Fragment,{children:s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Реквизиты заполнены. Вы можете подать заявку на подключение."})}):s.jsxs(s.Fragment,{children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Для подключения необходимо заполнить реквизиты компании"}),s.jsx(q,{variant:"body2",sx:{mb:1},children:'Перейдите в раздел "Управление клубом" → вкладка "Реквизиты" и заполните следующие обязательные поля:'}),s.jsx(Ce,{component:"ul",sx:{m:0,pl:2},children:E.map(Y=>{const ne={organizationType:"Тип организации (ООО, ИП и т.д.)",legalName:"Юридическое наименование",inn:"ИНН",ogrn:"ОГРН/ОГРНИП",legalAddress:"Юридический адрес",bankName:"Наименование банка",bik:"БИК банка",correspondentAccount:"Корреспондентский счет",settlementAccount:"Расчетный счет",financeEmail:"Email для финансовых уведомлений",financePhone:"Телефон для финансовых вопросов"};return s.jsx("li",{children:s.jsx(q,{variant:"body2",color:"error",children:ne[Y]||Y})},Y)})})]})}),s.jsx(Ft,{variant:"contained",onClick:b?G:void 0,disabled:!b||l,startIcon:l?s.jsx(nr,{size:20}):s.jsx(pre,{}),href:b?void 0:"/admin/club-management?tab=requisites",children:b?"Подать заявку на подключение":"Заполнить реквизиты"})]}),x==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(Kt,{severity:"info",icon:s.jsx(B5,{}),children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Заявка на рассмотрении"}),s.jsx(q,{variant:"body2",children:"Ваша заявка проходит проверку. Обычно это занимает 1-2 рабочих дня. Мы отправим уведомление на указанный email после одобрения."})]}),s.jsxs(Ce,{sx:{mt:2,textAlign:"center"},children:[s.jsx(Ft,{variant:"outlined",color:"primary",onClick:se,disabled:l,startIcon:l?s.jsx(nr,{size:20}):s.jsx(k5,{}),children:"Проверить статус заявки"}),s.jsx(q,{variant:"caption",display:"block",sx:{mt:1,color:"text.secondary"},children:"Нажмите после получения письма от Т-Банка с одобрением заявки"})]})]}),x==="active"&&s.jsxs(Kt,{severity:"success",icon:s.jsx(Eg,{}),children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Мультирасчеты активны"}),s.jsx(q,{variant:"body2",children:"Все платежи автоматически обрабатываются через платформу. Выплаты производятся ежедневно в 10:00 МСК за предыдущий день."}),s.jsx(Ce,{sx:{mt:2},children:s.jsx(Gn,{label:`Общая комиссия: ${(f+g).toFixed(1)}%`,color:"primary",variant:"outlined"})})]}),x==="rejected"&&s.jsxs(Kt,{severity:"error",icon:s.jsx(Ds,{}),children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Заявка отклонена"}),s.jsx(q,{variant:"body2",children:((ce=A==null?void 0:A.multiaccountsConfig)==null?void 0:ce.rejectionReason)||"Пожалуйста, проверьте правильность заполнения реквизитов и подайте заявку повторно."}),s.jsx(Ce,{sx:{mt:2},children:s.jsx(Ft,{variant:"contained",onClick:G,disabled:!b||l,children:"Подать заявку повторно"})})]})]})}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Преимущества Мультирасчетов"}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Wi,{children:[s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(cre,{color:"success"})}),s.jsx(vn,{primary:"Быстрое подключение",secondary:"Начните принимать платежи уже через 1-2 дня"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(Hc,{color:"success"})}),s.jsx(vn,{primary:"Ежедневные выплаты",secondary:"Получайте деньги на следующий рабочий день"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(N0,{color:"success"})}),s.jsx(vn,{primary:"Безопасность платежей",secondary:"Защита от мошенничества и чарджбэков"})]})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Wi,{children:[s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(Bre,{color:"success"})}),s.jsx(vn,{primary:"Детальная отчетность",secondary:"Полная прозрачность всех транзакций"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(_x,{color:"success"})}),s.jsx(vn,{primary:"Автоматические возвраты",secondary:"Система сама обработает возвраты средств"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"success"})}),s.jsx(vn,{primary:`Общая комиссия ${(f+g).toFixed(1)}%`,secondary:"Прозрачная и понятная комиссия"})]})]})})]})]})}),x==="active"&&s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Как работают выплаты"}),s.jsxs(Wi,{children:[s.jsx(mn,{children:s.jsx(vn,{primary:"1. Клиент оплачивает бронирование",secondary:"Деньги поступают на счет платформы AllCourt"})}),s.jsx(mn,{children:s.jsx(vn,{primary:"2. Автоматический расчет",secondary:`Вычитается комиссия платформы (${f}%) и эквайринг (${g}%)`})}),s.jsx(mn,{children:s.jsx(vn,{primary:"3. Ежедневные выплаты",secondary:"В 10:00 МСК автоматическая выплата за предыдущий день"})}),s.jsx(mn,{children:s.jsx(vn,{primary:"4. Уведомление о выплате",secondary:"Email с детализацией всех транзакций и комиссий"})})]})]})})]}),d==="direct"&&n&&s.jsxs(s.Fragment,{children:[s.jsxs(Kt,{severity:"warning",sx:{mb:3},children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Собственный эквайринг - для клубов с существующими договорами"}),s.jsx(q,{variant:"body2",children:"Этот режим предназначен только для клубов, которые уже имеют договор эквайринга. Все платежи будут поступать напрямую на расчетный счет клуба."})]}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(Ce,{children:[s.jsx(q,{variant:"h6",children:"Статус эквайринга"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:P?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),s.jsxs(Ce,{display:"flex",alignItems:"center",gap:2,children:[j!=="yookassa"&&s.jsx($i,{control:s.jsx(Ya,{checked:F,onChange:Y=>N(Y.target.checked),disabled:!P}),label:"Тестовый режим"}),s.jsx(Gn,{icon:P?s.jsx(ya,{}):s.jsx(zc,{}),label:P?"Подключено":"Не подключено",color:P?"success":"default"})]})]}),P&&ge&&s.jsxs(Ce,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[s.jsxs(q,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",s.jsx("strong",{children:ge.name})]}),s.jsxs(q,{variant:"body2",color:"text.secondary",children:["Комиссия банка: ",s.jsxs("strong",{children:[ge.commission,"%"]})]})]})]})}),s.jsxs(BD,{activeStep:J,orientation:"vertical",children:[s.jsxs(Gv,{children:[s.jsx(bp,{children:"Выберите платежного провайдера"}),s.jsxs(qv,{children:[s.jsx(q,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),s.jsx(Ce,{sx:{mt:2,mb:3},children:DI.map(Y=>s.jsx(Pn,{sx:{p:2,mb:2,cursor:"pointer",border:j===Y.id?2:1,borderColor:j===Y.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>{k(Y.id),D({}),te(1)},children:s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(Px,{color:"action"}),s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle1",children:Y.name}),s.jsxs(q,{variant:"body2",color:"text.secondary",children:["Комиссия: ",Y.commission,"%"]})]})]}),j===Y.id&&s.jsx(ya,{color:"primary"})]})},Y.id))}),s.jsx(Ft,{variant:"contained",onClick:()=>te(1),disabled:!j,children:"Продолжить"})]})]}),s.jsxs(Gv,{children:[s.jsx(bp,{children:"Введите данные для подключения"}),s.jsx(qv,{children:ge&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",ge.name]}),j==="yookassa"&&s.jsx(Kt,{severity:"info",sx:{mt:2,mb:2},children:"YooKassa не поддерживает тестовый режим через API. Используйте реальные ключи и проводите тестовые платежи на небольшие суммы с последующим возвратом."}),s.jsx(Ce,{sx:{mt:2},children:ge.fields.map(Y=>s.jsx(Ce,{sx:{mb:2},children:s.jsx(Lt,{fullWidth:!0,label:Y.label,type:Y.type,value:T[Y.name]||"",onChange:ne=>D(oe=>({...oe,[Y.name]:ne.target.value})),required:Y.required,placeholder:Y.placeholder,helperText:Y.name==="secretKey"&&j==="yookassa"?"Используйте OAuth токен. Для возвратов токен должен иметь права refunds:write":Y.placeholder})},Y.name))}),s.jsx(Kt,{severity:"warning",icon:s.jsx(N0,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),s.jsxs(Ce,{sx:{mt:2},children:[s.jsx(Ft,{variant:"contained",onClick:X,disabled:l||!ge.fields.every(Y=>!Y.required||T[Y.name]),startIcon:l?s.jsx(nr,{size:20}):s.jsx(Dc,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),s.jsx(Ft,{sx:{ml:1},onClick:()=>te(0),children:"Назад"})]})]})})]}),s.jsxs(Gv,{children:[s.jsx(bp,{children:"Настройка завершена"}),s.jsx(qv,{children:P&&s.jsxs(s.Fragment,{children:[s.jsxs(Kt,{severity:"success",sx:{mb:3},children:["Поздравляем! Эквайринг настроен и готов к работе.",j==="yookassa"?" YooKassa работает только с реальными платежами.":F&&" Не забудьте отключить тестовый режим для приема реальных платежей."]}),j==="yookassa"&&s.jsxs(Kt,{severity:"warning",icon:s.jsx(S5,{}),sx:{mb:3},children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Важно! Для завершения настройки YooKassa:"}),s.jsxs(Ce,{component:"ol",sx:{pl:2,mb:0},children:[s.jsx("li",{children:"Войдите в личный кабинет YooKassa"}),s.jsx("li",{children:'Перейдите в раздел "Настройки" → "Уведомления" → "HTTP-уведомления"'}),s.jsxs("li",{children:["Укажите URL для уведомлений: ",s.jsx("strong",{children:"https://allcourt.ru/api/webhooks/yookassa"})]}),s.jsx("li",{children:'Выберите события: "Успешная оплата", "Отмена платежа", "Возврат платежа"'}),s.jsx("li",{children:"Сохраните настройки"})]})]})]})})]})]})]}),s.jsx(Zt,{sx:{mt:4},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Доступные способы оплаты в админ-панели"}),s.jsx(q,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Выберите, какие способы оплаты будут доступны администраторам при создании бронирований. Онлайн оплата всегда доступна и не может быть отключена."}),s.jsxs(gD,{children:[s.jsx($i,{control:s.jsx(xA,{checked:O.cash,onChange:Y=>M(ne=>({...ne,cash:Y.target.checked}))}),label:"Оплата в клубе наличными"}),s.jsx($i,{control:s.jsx(xA,{checked:O.card_on_site,onChange:Y=>M(ne=>({...ne,card_on_site:Y.target.checked}))}),label:"Оплата в клубе картой"}),s.jsx($i,{control:s.jsx(xA,{checked:O.transfer,onChange:Y=>M(ne=>({...ne,transfer:Y.target.checked}))}),label:"Перевод на р.счет клуба (юр.лицо)"}),s.jsx($i,{control:s.jsx(xA,{checked:O.sberbank_card,onChange:Y=>M(ne=>({...ne,sberbank_card:Y.target.checked}))}),label:"На карту Сбербанка"}),s.jsx($i,{control:s.jsx(xA,{checked:O.tbank_card,onChange:Y=>M(ne=>({...ne,tbank_card:Y.target.checked}))}),label:"На карту Т-Банка"}),s.jsx($i,{control:s.jsx(xA,{checked:O.vtb_card,onChange:Y=>M(ne=>({...ne,vtb_card:Y.target.checked}))}),label:"На карту ВТБ"})]}),s.jsx(Ce,{sx:{mt:3},children:s.jsx(Ft,{variant:"contained",onClick:async()=>{const Y=n?r:e==null?void 0:e.venueId;if(Y)try{c(!0),await en(wt(_e,"venues",Y),{enabledPaymentMethods:O,paymentMethodsUpdatedAt:new Date}),alert("Настройки способов оплаты сохранены")}catch(ne){console.error("Error saving payment methods:",ne),alert("Ошибка при сохранении настроек")}finally{c(!1)}},disabled:l,startIcon:l?s.jsx(nr,{size:20}):s.jsx(Dc,{}),children:l?"Сохранение...":"Сохранить настройки способов оплаты"})})]})}),s.jsxs(Oa,{open:Ae,onClose:()=>U(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(zc,{color:"warning"}),"Клуб на модерации"]})}),s.jsxs(Ra,{children:[s.jsx(Kt,{severity:"warning",sx:{mb:2},children:"Для подключения платежной системы необходимо пройти модерацию."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"Для успешной модерации необходимо:"}),s.jsxs(Wi,{children:[s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"action"})}),s.jsx(vn,{primary:"Заполнить реквизиты компании",secondary:"Перейдите в раздел 'Управление клубом' → вкладка 'Реквизиты'"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"action"})}),s.jsx(vn,{primary:"Добавить корты",secondary:"Создайте хотя бы один корт в разделе 'Корты'"})]}),s.jsxs(mn,{children:[s.jsx(Na,{children:s.jsx(ya,{color:"action"})}),s.jsx(vn,{primary:"Настроить расписание работы",secondary:"Укажите часы работы клуба в настройках"})]})]})]}),s.jsx(as,{children:s.jsx(Ft,{onClick:()=>U(!1),variant:"contained",children:"Понятно"})})]})]})}function rhe(){const{isSuperAdmin:e}=ri(),[t,n]=y.useState(!0),[r,i]=y.useState(!1),[a,o]=y.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,c]=y.useState(!1),[A,u]=y.useState(!1),[d,h]=y.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[f,p]=y.useState(null),[g,v]=y.useState({}),[x,C]=y.useState(null);y.useEffect(()=>{b(),w(),E()},[]);const b=async()=>{try{const N=wt(_e,"settings","billing"),P=await fn(N);if(P.exists()){const Q=P.data();o(Q)}}catch(N){console.error("Error loading billing config:",N)}finally{n(!1)}},w=async()=>{try{const N=qt(Ct(_e,"subscriptions"),vt("status","==","active")),P=await Mt(N);h({totalRevenue:0,activeSubscriptions:P.size,pendingPayments:0,failedPayments:0})}catch(N){console.error("Error loading billing stats:",N)}},E=()=>{const N={};Object.entries(Ts).filter(([P])=>P!=="premium").forEach(([P,Q])=>{N[P]=Q.pricePerCourt||Q.price}),v(N)},S=async()=>{try{i(!0);const N=wt(_e,"settings","billing");await fB(N,{...a,updatedAt:new Date},{merge:!0}),c(!1),C({type:"success",text:"Настройки биллинга сохранены"}),setTimeout(()=>C(null),3e3)}catch(N){console.error("Error saving billing config:",N),C({type:"error",text:"Ошибка при сохранении настроек"}),setTimeout(()=>C(null),3e3)}finally{i(!1)}},F=async N=>{try{C({type:"success",text:`Цена тарифа ${Ts[N].name} обновлена на ${g[N]}₽ за корт/месяц`}),p(null),setTimeout(()=>C(null),3e3)}catch(P){console.error("Error updating plan price:",P),C({type:"error",text:"Ошибка при обновлении цены"}),setTimeout(()=>C(null),3e3)}};return e?t?s.jsx(Ce,{sx:{display:"flex",justifyContent:"center",p:3},children:s.jsx(nr,{})}):s.jsx(Tf,{requiredPermission:"superadmin",children:s.jsxs(Ce,{sx:{p:3},children:[s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsx(q,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),x&&s.jsx(Kt,{severity:x.type,sx:{mb:3},onClose:()=>C(null),children:x.text}),s.jsxs(gt,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(kg,{color:"primary"}),s.jsx(q,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),s.jsxs(q,{variant:"h5",children:[d.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Td,{color:"success"}),s.jsx(q,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),s.jsx(q,{variant:"h5",children:d.activeSubscriptions})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Td,{color:"warning"}),s.jsx(q,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),s.jsx(q,{variant:"h5",children:d.pendingPayments})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Td,{color:"error"}),s.jsx(q,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),s.jsx(q,{variant:"h5",children:d.failedPayments})]})})})]}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(q,{variant:"h6",children:"Настройки Т-Банк"}),l?s.jsxs(Ce,{children:[s.jsx(Ft,{startIcon:s.jsx(Ds,{}),onClick:()=>{c(!1),b()},sx:{mr:1},children:"Отмена"}),s.jsx(Ft,{startIcon:s.jsx(Dc,{}),onClick:S,variant:"contained",disabled:r,children:"Сохранить"})]}):s.jsx(Ft,{startIcon:s.jsx($c,{}),onClick:()=>c(!0),variant:"outlined",children:"Редактировать"})]}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Terminal Key",value:a.tbank.terminalKey,onChange:N=>o({...a,tbank:{...a.tbank,terminalKey:N.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Password",type:A?"text":"password",value:a.tbank.password,onChange:N=>o({...a,tbank:{...a.tbank,password:N.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&s.jsx(Ft,{size:"small",onClick:()=>u(!A),children:A?"Скрыть":"Показать"})}})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Lt,{label:"Notification URL",value:a.tbank.notificationUrl,onChange:N=>o({...a,tbank:{...a.tbank,notificationUrl:N.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),s.jsxs(gt,{item:!0,xs:12,children:[s.jsx($i,{control:s.jsx(Ya,{checked:a.tbank.testMode,onChange:N=>o({...a,tbank:{...a.tbank,testMode:N.target.checked}}),disabled:!l}),label:"Тестовый режим"}),a.tbank.testMode&&s.jsx(Kt,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,children:s.jsx($i,{control:s.jsx(Ya,{checked:a.autoRenewal,onChange:N=>o({...a,autoRenewal:N.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Льготный период (дней)",type:"number",value:a.gracePeriodDays,onChange:N=>o({...a,gracePeriodDays:parseInt(N.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),s.jsx(Kt,{severity:"info",sx:{mb:2},children:s.jsxs(q,{variant:"body2",children:["Актуальная тарифная сетка: ",s.jsx("strong",{children:"Старт"})," (бесплатно до 2 кортов),",s.jsx("strong",{children:" Стандарт"})," (990₽/корт), ",s.jsx("strong",{children:"Профи"})," (1990₽/корт). SMS-уведомления тарифицируются отдельно: 6₽ за сообщение."]})}),s.jsx(Oo,{component:Pn,variant:"outlined",children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Тариф"}),s.jsx(pt,{children:"Основные возможности"}),s.jsx(pt,{align:"right",children:"Цена"}),s.jsx(pt,{align:"center",children:"Лимиты"}),s.jsx(pt,{align:"center",children:"Статус"}),s.jsx(pt,{align:"center",children:"Действия"})]})}),s.jsx(Lo,{children:Object.entries(Ts).filter(([N])=>N!=="premium").map(([N,P])=>s.jsxs(Pr,{children:[s.jsx(pt,{children:s.jsx(q,{variant:"subtitle2",children:P.name})}),s.jsx(pt,{children:s.jsxs(Ce,{children:[s.jsx(q,{variant:"body2",color:"textSecondary",children:P.features[0]}),N==="standard"&&s.jsx(Gn,{label:"3 месяца бесплатно",size:"small",color:"primary",sx:{mt:.5}})]})}),s.jsx(pt,{align:"right",children:f===N?s.jsx(Lt,{type:"number",value:g[N],onChange:Q=>v({...g,[N]:parseInt(Q.target.value)||0}),size:"small",sx:{width:120},InputProps:{endAdornment:s.jsx(q,{variant:"caption",children:"₽/корт"})}}):s.jsx(q,{children:N==="start"?"Бесплатно":`${(P.pricePerCourt||P.price).toLocaleString("ru-RU")} ₽/корт`})}),s.jsx(pt,{align:"center",children:s.jsxs(Ce,{children:[N==="start"&&s.jsx(q,{variant:"caption",children:"До 2 кортов"}),N==="standard"&&s.jsx(q,{variant:"caption",children:"500 SMS/Email"}),N==="pro"&&s.jsx(q,{variant:"caption",children:"Без лимитов"})]})}),s.jsx(pt,{align:"center",children:s.jsx(Gn,{label:"Активен",color:"success",size:"small"})}),s.jsx(pt,{align:"center",children:f===N?s.jsxs(s.Fragment,{children:[s.jsx(Pi,{size:"small",onClick:()=>F(N),color:"primary",children:s.jsx(Dc,{})}),s.jsx(Pi,{size:"small",onClick:()=>{p(null),E()},children:s.jsx(Ds,{})})]}):s.jsx(Pi,{size:"small",onClick:()=>p(N),disabled:N==="start",children:s.jsx($c,{})})})]},N))})]})}),s.jsxs(Ce,{sx:{mt:2},children:[s.jsx(q,{variant:"body2",color:"textSecondary",children:"* SMS-уведомления тарифицируются отдельно по 6₽ за сообщение для всех тарифов"}),s.jsx(q,{variant:"body2",color:"textSecondary",children:"* Тариф Стандарт включает 500 SMS/Email уведомлений суммарно на клуб в месяц"}),s.jsx(q,{variant:"body2",color:"textSecondary",children:"* Тариф Профи включает неограниченные SMS/Email уведомления"})]})]})})]})}):s.jsx(Ce,{sx:{p:3},children:s.jsx(Kt,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function S2(e){const{children:t,value:n,index:r,...i}=e;return s.jsx("div",{role:"tabpanel",hidden:n!==r,id:`finance-tabpanel-${r}`,"aria-labelledby":`finance-tab-${r}`,...i,children:n===r&&s.jsx(Ce,{sx:{py:3},children:t})})}function ihe(){var ne;const{admin:e,club:t}=er(),{isSuperAdmin:n}=ri(),[r,i]=y.useState(null),[a,o]=y.useState("Europe/Moscow"),[l,c]=y.useState(null),[A,u]=y.useState(!0),[d,h]=y.useState(0),[f,p]=y.useState("month"),[g,v]=y.useState("all"),[x,C]=y.useState(""),[b,w]=y.useState(""),[E,S]=y.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[F,N]=y.useState([]),[P,Q]=y.useState([]),[j,k]=y.useState(!1),[T,D]=y.useState(null),[R,H]=y.useState(null),[z,V]=y.useState(!1),[J,te]=y.useState([]),[Ae,U]=y.useState(!1),[O,M]=y.useState(0);y.useEffect(()=>{if(n){const oe=localStorage.getItem("selectedVenueId");oe?(i(oe),W(oe)):u(!1)}else e!=null&&e.venueId&&W(e.venueId)},[e,n]),y.useEffect(()=>{const oe=r||(e==null?void 0:e.venueId);oe&&(d===0?G(oe):d===1?se(oe):d===2&&X(oe))},[d,f,g,r,e]);const L=oe=>{i(oe),localStorage.setItem("selectedVenueId",oe),oe&&W(oe)},W=async oe=>{try{const fe=wt(_e,"venues",oe),ie=await fn(fe);if(ie.exists()){const Te=ie.data();c(Te),o(Te.timezone||"Europe/Moscow")}G(oe)}catch(fe){console.error("Error loading venue data:",fe)}},G=async oe=>{const fe=oe||(e==null?void 0:e.venueId);if(fe)try{u(!0);const ie=new Date;let Te=new Date,be=new Date;switch(f){case"today":Te.setHours(0,0,0,0),be.setHours(23,59,59,999);break;case"yesterday":Te.setDate(ie.getDate()-1),Te.setHours(0,0,0,0),be.setDate(ie.getDate()-1),be.setHours(23,59,59,999);break;case"week":Te.setDate(ie.getDate()-7);break;case"month":Te.setMonth(ie.getMonth()-1);break;case"year":Te.setFullYear(ie.getFullYear()-1);break;case"custom":x&&b?(Te=new Date(x),be=new Date(b),be.setHours(23,59,59,999)):Te.setMonth(ie.getMonth()-1);break}const xe=qt(Ct(_e,"bookings"),vt("venueId","==",fe),vt("paymentStatus","==","paid"));let Fe=(await Mt(xe)).docs.map(Ze=>{const ye=Ze.data();return{id:Ze.id,...ye,date:V0(ye.date,a),paymentStatus:ye.paymentStatus||"awaiting_payment",paymentMethod:ye.paymentMethod||"cash"}});Fe=Fe.filter(Ze=>{if(!Ze.date)return!1;const ye=new Date(Ze.date);return f==="custom"&&b||f==="today"||f==="yesterday"?ye>=Te&&ye<=be&&Ze.status==="confirmed":ye>=Te&&Ze.status==="confirmed"}),g!=="all"&&(Fe=Fe.filter(Ze=>Ze.paymentMethod===g));const He=Fe.reduce((Ze,ye)=>Ze+(ye.amount||0),0),Ge=Fe.length,lt=Ge>0?He/Ge:0;S({totalRevenue:He,bookingsCount:Ge,averageCheck:lt,revenueChange:15.5});const bt=Fe.reduce((Ze,ye)=>{var ke;const Ue=(ke=ye.date)==null?void 0:ke.toLocaleDateString("ru-RU");return Ze[Ue]||(Ze[Ue]={date:ye.date,bookings:0,revenue:0}),Ze[Ue].bookings++,Ze[Ue].revenue+=ye.amount||0,Ze},{});N(Object.values(bt).slice(0,10))}catch(ie){console.error("Error loading finance data:",ie)}finally{u(!1)}},se=async oe=>{try{k(!0);const fe=qt(Ct(_e,"payouts"),vt("venueId","==",oe),hB("processedAt","desc"),Rc(50)),Te=(await Mt(fe)).docs.map(be=>({id:be.id,...be.data()}));Q(Te)}catch(fe){console.error("Error loading payouts:",fe)}finally{k(!1)}},X=async oe=>{try{U(!0);const fe=qt(Ct(_e,"venue_debts"),vt("venueId","==",oe),vt("status","==","pending")),Te=(await Mt(fe)).docs.map(xe=>({id:xe.id,...xe.data()})),be=Te.reduce((xe,Ne)=>xe+(Ne.debtAmount||0),0);te(Te),M(be)}catch(fe){console.error("Error loading debts:",fe)}finally{U(!1)}},ge=(oe,fe)=>{h(fe)},ce=oe=>{switch(oe){case"completed":return s.jsx(Gn,{icon:s.jsx(Eg,{}),label:"Выплачено",color:"success",size:"small"});case"pending":return s.jsx(Gn,{icon:s.jsx(B5,{}),label:"В обработке",color:"warning",size:"small"});case"failed":return s.jsx(Gn,{icon:s.jsx(Ds,{}),label:"Ошибка",color:"error",size:"small"});case"no_payout":return s.jsx(Gn,{icon:s.jsx(S5,{}),label:"Нет выплаты",color:"default",size:"small"});default:return s.jsx(Gn,{label:oe,size:"small"})}};if(A)return s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})});if(n&&!r)return s.jsx(Nf,{title:"Выберите клуб для просмотра финансов"});const Y=(l==null?void 0:l.paymentType)==="multiaccounts";return s.jsxs(Ce,{children:[n&&s.jsx(du,{selectedVenueId:r,onVenueChange:L}),s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(q,{variant:"h5",component:"h2",children:"Финансы"}),Y&&s.jsx(Gn,{icon:s.jsx(Px,{}),label:"Мультирасчеты активны",color:"primary",variant:"outlined"})]}),s.jsx(Ce,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(Fx,{value:d,onChange:ge,"aria-label":"finance tabs",children:[s.jsx(xa,{label:"Аналитика"}),Y&&s.jsx(xa,{label:"Выплаты"}),Y&&s.jsx(xa,{label:"Задолженности"})]})}),s.jsxs(S2,{value:d,index:0,children:[s.jsxs(Ce,{display:"flex",justifyContent:"flex-end",gap:2,mb:3,children:[s.jsxs(po,{size:"small",sx:{minWidth:150},children:[s.jsx(Jo,{children:"Способ оплаты"}),s.jsxs(go,{value:g,label:"Способ оплаты",onChange:oe=>v(oe.target.value),children:[s.jsx(gr,{value:"all",children:"Все"}),s.jsx(gr,{value:"cash",children:"Наличные"}),s.jsx(gr,{value:"card_on_site",children:"Карта на месте"}),s.jsx(gr,{value:"transfer",children:"Перевод"}),s.jsx(gr,{value:"online",children:"Онлайн оплата"})]})]}),s.jsxs(po,{size:"small",sx:{minWidth:120},children:[s.jsx(Jo,{children:"Период"}),s.jsxs(go,{value:f,label:"Период",onChange:oe=>p(oe.target.value),children:[s.jsx(gr,{value:"today",children:"Сегодня"}),s.jsx(gr,{value:"yesterday",children:"Вчера"}),s.jsx(gr,{value:"week",children:"Неделя"}),s.jsx(gr,{value:"month",children:"Месяц"}),s.jsx(gr,{value:"year",children:"Год"}),s.jsx(gr,{value:"custom",children:"Персональный период"})]})]})]}),f==="custom"&&s.jsxs(Ce,{display:"flex",gap:2,mb:3,children:[s.jsx(Lt,{label:"Начальная дата",type:"date",value:x,onChange:oe=>C(oe.target.value),size:"small",InputLabelProps:{shrink:!0}}),s.jsx(Lt,{label:"Конечная дата",type:"date",value:b,onChange:oe=>w(oe.target.value),size:"small",InputLabelProps:{shrink:!0}}),s.jsx(Ft,{variant:"contained",size:"small",onClick:()=>G(r||(e==null?void 0:e.venueId)),disabled:!x||!b,children:"Применить"})]}),s.jsxs(gt,{container:!0,spacing:3,mb:4,children:[s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(Hc,{color:"primary"}),s.jsx(Gn,{size:"small",label:`+${E.revenueChange}%`,color:"success",icon:s.jsx(kg,{})})]}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Общий доход"}),s.jsxs(q,{variant:"h5",component:"div",children:[E.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(TD,{color:"primary"})}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),s.jsx(q,{variant:"h5",component:"div",children:E.bookingsCount})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(Hc,{color:"primary"})}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Средний чек"}),s.jsxs(q,{variant:"h5",component:"div",children:[Math.round(E.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),s.jsx(Oo,{component:Pn,variant:"outlined",children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Дата"}),s.jsx(pt,{align:"center",children:"Бронирований"}),s.jsx(pt,{align:"right",children:"Сумма"})]})}),s.jsx(Lo,{children:F.map((oe,fe)=>{var ie;return s.jsxs(Pr,{children:[s.jsx(pt,{children:(ie=oe.date)==null?void 0:ie.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),s.jsx(pt,{align:"center",children:oe.bookings}),s.jsxs(pt,{align:"right",children:[oe.revenue.toLocaleString("ru-RU")," ₽"]})]},fe)})})]})})]})})]}),Y&&s.jsx(S2,{value:d,index:1,children:j?s.jsx(Ce,{display:"flex",justifyContent:"center",p:4,children:s.jsx(nr,{})}):P.length===0?s.jsx(Kt,{severity:"info",children:"Пока нет выплат. Выплаты производятся автоматически каждый день в 10:00 МСК за предыдущий день."}):s.jsx(Oo,{component:Pn,children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{width:"50"}),s.jsx(pt,{children:"Дата"}),s.jsx(pt,{children:"Статус"}),s.jsx(pt,{align:"center",children:"Бронирований"}),s.jsx(pt,{align:"right",children:"Сумма от клиентов"}),s.jsx(pt,{align:"right",children:"Комиссии"}),s.jsx(pt,{align:"right",children:"К выплате"}),s.jsx(pt,{align:"center",children:"Действия"})]})}),s.jsx(Lo,{children:P.map(oe=>{var fe;return s.jsxs(wn.Fragment,{children:[s.jsxs(Pr,{hover:!0,children:[s.jsx(pt,{children:s.jsx(Pi,{size:"small",onClick:()=>D(T===oe.id?null:oe.id),children:T===oe.id?s.jsx(kre,{}):s.jsx(Ire,{})})}),s.jsx(pt,{children:(fe=oe.date)!=null&&fe.toDate?oe.date.toDate().toLocaleDateString("ru-RU"):new Date(oe.date).toLocaleDateString("ru-RU")}),s.jsx(pt,{children:ce(oe.status)}),s.jsx(pt,{align:"center",children:oe.bookingsCount||0}),s.jsxs(pt,{align:"right",children:[(oe.totalGrossAmount||0).toLocaleString("ru-RU")," ₽"]}),s.jsx(pt,{align:"right",children:s.jsx(T0,{title:`Платформа: ${(oe.platformFee||0).toFixed(2)}₽, Эквайринг и касса: ${(oe.acquiringFee||0).toFixed(2)}₽`,children:s.jsxs("span",{children:[((oe.platformFee||0)+(oe.acquiringFee||0)).toLocaleString("ru-RU")," ₽"]})})}),s.jsx(pt,{align:"right",children:s.jsxs("strong",{children:[(oe.netPayoutAmount||0).toLocaleString("ru-RU")," ₽"]})}),s.jsx(pt,{align:"center",children:s.jsx(Pi,{size:"small",onClick:()=>{H(oe),V(!0)},children:s.jsx(PD,{})})})]}),s.jsx(Pr,{children:s.jsx(pt,{style:{paddingBottom:0,paddingTop:0},colSpan:8,children:s.jsx(bx,{in:T===oe.id,timeout:"auto",unmountOnExit:!0,children:s.jsxs(Ce,{sx:{margin:2},children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Детализация выплаты"}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Wi,{dense:!0,children:[s.jsx(mn,{children:s.jsx(vn,{primary:`Комиссия платформы AllCourt (${oe.platformCommissionPercent||1}%)`,secondary:`${(oe.platformFee||0).toFixed(2)} ₽`})}),s.jsx(mn,{children:s.jsx(vn,{primary:`Эквайринг и онлайн-касса (${oe.acquiringCommissionPercent||2.6}%)`,secondary:`${(oe.acquiringFee||0).toFixed(2)} ₽`})})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Wi,{dense:!0,children:[oe.debtDeducted>0&&s.jsx(mn,{children:s.jsx(vn,{primary:"Удержано за возвраты",secondary:`${oe.debtDeducted.toFixed(2)} ₽`})}),oe.subscriptionFeeDeducted>0&&s.jsx(mn,{children:s.jsx(vn,{primary:`Подписка (${oe.subscriptionPlan})`,secondary:`${oe.subscriptionFeeDeducted.toFixed(2)} ₽`})})]})})]})]})})})})]},oe.id)})})]})})}),Y&&s.jsxs(S2,{value:d,index:2,children:[O>0&&s.jsxs(Kt,{severity:"warning",sx:{mb:3},children:[s.jsxs(q,{variant:"subtitle2",gutterBottom:!0,children:["Общая задолженность: ",O.toLocaleString("ru-RU")," ₽"]}),s.jsx(q,{variant:"body2",children:"Эта сумма будет автоматически удержана из следующих выплат."})]}),Ae?s.jsx(Ce,{display:"flex",justifyContent:"center",p:4,children:s.jsx(nr,{})}):J.length===0?s.jsx(Kt,{severity:"success",children:"Нет активных задолженностей по возвратам."}):s.jsx(Oo,{component:Pn,children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Дата возврата"}),s.jsx(pt,{children:"Клиент"}),s.jsx(pt,{children:"Бронирование"}),s.jsx(pt,{align:"right",children:"Сумма возврата"}),s.jsx(pt,{align:"right",children:"К удержанию"}),s.jsx(pt,{children:"Причина"}),s.jsx(pt,{children:"Статус"})]})}),s.jsx(Lo,{children:J.map(oe=>{var fe;return s.jsxs(Pr,{children:[s.jsx(pt,{children:(fe=oe.createdAt)!=null&&fe.toDate?oe.createdAt.toDate().toLocaleDateString("ru-RU"):"Не указана"}),s.jsx(pt,{children:oe.customerName||"Не указан"}),s.jsx(pt,{children:oe.bookingId}),s.jsxs(pt,{align:"right",children:[(oe.originalRefundAmount||0).toLocaleString("ru-RU")," ₽"]}),s.jsx(pt,{align:"right",children:s.jsxs("strong",{children:[(oe.debtAmount||0).toLocaleString("ru-RU")," ₽"]})}),s.jsx(pt,{children:oe.refundReason||"Отмена бронирования"}),s.jsx(pt,{children:s.jsx(Gn,{label:"Ожидает удержания",color:"warning",size:"small",icon:s.jsx(Ure,{})})})]},oe.id)})})]})})]}),s.jsxs(Oa,{open:z,onClose:()=>V(!1),maxWidth:"md",fullWidth:!0,children:[s.jsxs(ss,{children:["Детали выплаты за ",(ne=R==null?void 0:R.date)!=null&&ne.toDate?R.date.toDate().toLocaleDateString("ru-RU"):(R==null?void 0:R.date)&&new Date(R.date).toLocaleDateString("ru-RU")]}),s.jsx(Ra,{children:R&&s.jsxs(Ce,{children:[s.jsxs(gt,{container:!0,spacing:3,children:[s.jsxs(gt,{item:!0,xs:12,md:6,children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Финансовые показатели"}),s.jsxs(Wi,{children:[s.jsx(mn,{children:s.jsx(vn,{primary:"Сумма от клиентов",secondary:`${(R.totalGrossAmount||0).toFixed(2)} ₽`})}),s.jsx(mn,{children:s.jsx(vn,{primary:"Комиссия банка",secondary:`${(R.totalAcquiringFees||0).toFixed(2)} ₽`})}),s.jsx(mn,{children:s.jsx(vn,{primary:`Комиссия платформы (${R.platformCommissionPercent||1}%)`,secondary:`${(R.platformCommission||0).toFixed(2)} ₽`})}),s.jsx(ks,{}),s.jsx(mn,{children:s.jsx(vn,{primary:s.jsx("strong",{children:"К выплате"}),secondary:s.jsx("strong",{children:`${(R.netPayoutAmount||0).toFixed(2)} ₽`})})})]})]}),s.jsxs(gt,{item:!0,xs:12,md:6,children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Вычеты"}),s.jsxs(Wi,{children:[R.debtDeducted>0&&s.jsx(mn,{children:s.jsx(vn,{primary:"Возвраты",secondary:`${R.debtDeducted.toFixed(2)} ₽`})}),R.subscriptionFeeDeducted>0&&s.jsx(mn,{children:s.jsx(vn,{primary:`Подписка (${R.subscriptionPlan})`,secondary:`${R.subscriptionFeeDeducted.toFixed(2)} ₽`})}),!R.debtDeducted&&!R.subscriptionFeeDeducted&&s.jsx(mn,{children:s.jsx(vn,{primary:"Нет вычетов",secondary:"Все средства выплачены полностью"})})]})]})]}),R.bookingDetails&&R.bookingDetails.length>0&&s.jsxs(Ce,{mt:3,children:[s.jsxs(q,{variant:"subtitle2",gutterBottom:!0,children:["Бронирования (",R.bookingsCount,")"]}),s.jsx(Oo,{component:Pn,variant:"outlined",children:s.jsxs(Uo,{size:"small",children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Клиент"}),s.jsx(pt,{children:"Корт"}),s.jsx(pt,{align:"right",children:"Сумма"}),s.jsx(pt,{align:"right",children:"Комиссия банка"})]})}),s.jsxs(Lo,{children:[R.bookingDetails.slice(0,10).map((oe,fe)=>s.jsxs(Pr,{children:[s.jsx(pt,{children:oe.customerName}),s.jsx(pt,{children:oe.courtName}),s.jsxs(pt,{align:"right",children:[oe.amount.toFixed(2)," ₽"]}),s.jsxs(pt,{align:"right",children:[oe.acquiringFee.toFixed(2)," ₽"]})]},fe)),R.bookingDetails.length>10&&s.jsx(Pr,{children:s.jsx(pt,{colSpan:4,align:"center",children:s.jsxs(q,{variant:"caption",color:"text.secondary",children:["... и еще ",R.bookingDetails.length-10," бронирований"]})})})]})]})})]})]})}),s.jsx(as,{children:s.jsx(Ft,{onClick:()=>V(!1),children:"Закрыть"})})]})]})}function ahe(){const{admin:e}=er(),{isSuperAdmin:t}=ri(),[n,r]=y.useState(null),[i,a]=y.useState(!0),[o,l]=y.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[c,A]=y.useState(!1),[u,d]=y.useState({name:"",description:"",discount:10,validUntil:"",active:!0});y.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),f(x)):a(!1)}else e!=null&&e.venueId&&f(e.venueId)},[e,t]);const h=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&f(x)},f=async x=>{const C=x||(e==null?void 0:e.venueId);if(C)try{a(!0);const b=await fn(wt(_e,"venues",C));if(b.exists()){const w=b.data();l({smsEnabled:w.marketingSms||!1,emailEnabled:w.marketingEmail||!1,pushEnabled:w.marketingPush||!1,promotions:w.promotions||[]})}}catch(b){console.error("Error loading marketing data:",b)}finally{a(!1)}},p=async x=>{const C=t?n:e==null?void 0:e.venueId;if(!C)return;const b=!o[x];try{await en(wt(_e,"venues",C),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:b}),l(w=>({...w,[x]:b}))}catch(w){console.error("Error updating notification settings:",w)}},g=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const C={...u,id:Date.now().toString(),createdAt:new Date};try{const b=[...o.promotions,C];await en(wt(_e,"venues",x),{promotions:b}),l(w=>({...w,promotions:b})),A(!1),d({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(b){console.error("Error creating promotion:",b)}},v=async x=>{const C=t?n:e==null?void 0:e.venueId;if(C)try{const b=o.promotions.filter(w=>w.id!==x);await en(wt(_e,"venues",C),{promotions:b}),l(w=>({...w,promotions:b}))}catch(b){console.error("Error deleting promotion:",b)}};return i?s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})}):t&&!n?s.jsx(Nf,{title:"Выберите клуб для управления маркетингом"}):s.jsxs(Ce,{children:[t&&s.jsx(du,{selectedVenueId:n,onVenueChange:h}),s.jsx(q,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),s.jsxs(gt,{container:!0,spacing:3,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),s.jsxs(Wi,{children:[s.jsxs(mn,{children:[s.jsx(vn,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),s.jsx(TA,{children:s.jsx(Ya,{checked:o.smsEnabled,onChange:()=>p("smsEnabled")})})]}),s.jsxs(mn,{children:[s.jsx(vn,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),s.jsx(TA,{children:s.jsx(Ya,{checked:o.emailEnabled,onChange:()=>p("emailEnabled")})})]}),s.jsxs(mn,{children:[s.jsx(vn,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),s.jsx(TA,{children:s.jsx(Ya,{checked:o.pushEnabled,onChange:()=>p("pushEnabled")})})]})]})]})})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,children:s.jsx(Ft,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(Hre,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Ft,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(ND,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Ft,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(mre,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(q,{variant:"h6",component:"h3",children:"Активные акции"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(cu,{}),onClick:()=>A(!0),children:"Создать акцию"})]}),o.promotions.length===0?s.jsx(Kt,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):s.jsx(Wi,{children:o.promotions.map(x=>s.jsxs(mn,{children:[s.jsx(vn,{primary:x.name,secondary:s.jsxs(Ce,{children:[s.jsx(q,{variant:"body2",children:x.description}),s.jsxs(Ce,{mt:1,children:[s.jsx(Gn,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&s.jsx(Gn,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),s.jsx(TA,{children:s.jsx(Pi,{onClick:()=>v(x.id),children:s.jsx(Au,{})})})]},x.id))})]})})})]}),s.jsxs(Oa,{open:c,onClose:()=>A(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:"Создать акцию"}),s.jsxs(Ra,{children:[s.jsx(Lt,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>d(C=>({...C,name:x.target.value})),sx:{mb:2}}),s.jsx(Lt,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>d(C=>({...C,description:x.target.value})),sx:{mb:2}}),s.jsx(Lt,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>d(C=>({...C,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),s.jsx(Lt,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>d(C=>({...C,validUntil:x.target.value}))})]}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:()=>A(!1),children:"Отмена"}),s.jsx(Ft,{onClick:g,variant:"contained",children:"Создать"})]})]})]})}async function G6(e){try{console.log("Тестирование через Cloud Function...");const t=kd(void 0,"europe-west1"),r=await Ai(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await Ma(Ct(_e,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=G6);const she=({defaultEmail:e=""})=>{const[t,n]=y.useState(!1),[r,i]=y.useState(e),[a,o]=y.useState(!1),[l,c]=y.useState(null),A=async()=>{if(!r||!r.includes("@")){c({success:!1,message:"Введите корректный email"});return}o(!0),c(null);try{const u=await G6(r);c({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(u){c({success:!1,message:u.message||"Ошибка при отправке"})}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ft,{variant:"contained",startIcon:s.jsx(Dw,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),s.jsxs(Oa,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ss,{children:"Тестирование отправки Email"}),s.jsx(Ra,{children:s.jsxs(Ce,{sx:{mt:2},children:[s.jsx(Lt,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:u=>i(u.target.value),disabled:a,helperText:"Введите email, на который будет отправлено тестовое письмо"}),l&&s.jsx(Kt,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:()=>n(!1),disabled:a,children:"Отмена"}),s.jsx(Ft,{onClick:A,variant:"contained",disabled:a||!r,startIcon:a?s.jsx(nr,{size:20}):s.jsx(Dw,{}),children:a?"Отправка...":"Отправить"})]})]})]})};function MI(e,t,n){St(2,arguments);var r=Ul(e,n),i=Ul(t,n);return r.getTime()===i.getTime()}function Hh(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function pa(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?Hh(e.future,t):"через "+Hh(e.regular,t):e.past?Hh(e.past,t):Hh(e.regular,t)+" назад":Hh(e.regular,t)}}var ohe={lessThanXSeconds:pa({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:pa({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:pa({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:pa({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:pa({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:pa({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:pa({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:pa({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:pa({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:pa({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:pa({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:pa({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:pa({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:pa({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:pa({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},lhe=function(t,n,r){return ohe[t](n,r)},che={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},Ahe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},uhe={any:"{{date}}, {{time}}"},dhe={date:Md({formats:che,defaultWidth:"full"}),time:Md({formats:Ahe,defaultWidth:"full"}),dateTime:Md({formats:uhe,defaultWidth:"any"})},V5=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function fhe(e){var t=V5[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function UI(e){var t=V5[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function hhe(e){var t=V5[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var phe={lastWeek:function(t,n,r){var i=t.getUTCDay();return MI(t,n,r)?UI(i):fhe(i)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var i=t.getUTCDay();return MI(t,n,r)?UI(i):hhe(i)},other:"P"},ghe=function(t,n,r,i){var a=phe[t];return typeof a=="function"?a(n,r,i):a},mhe={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},vhe={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},yhe={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},xhe={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},bhe={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},whe={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},Che={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},Bhe=function(t,n){var r=Number(t),i=n==null?void 0:n.unit,a;return i==="date"?a="-е":i==="week"||i==="minute"||i==="second"?a="-я":a="-й",r+a},She={ordinalNumber:Bhe,era:No({values:mhe,defaultWidth:"wide"}),quarter:No({values:vhe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:No({values:yhe,defaultWidth:"wide",formattingValues:xhe,defaultFormattingWidth:"wide"}),day:No({values:bhe,defaultWidth:"wide"}),dayPeriod:No({values:whe,defaultWidth:"any",formattingValues:Che,defaultFormattingWidth:"wide"})},jhe=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,Ehe=/\d+/i,khe={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},Ihe={any:[/^д/i,/^н/i]},The={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},Nhe={any:[/1/i,/2/i,/3/i,/4/i]},Fhe={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},Phe={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},_he={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},Dhe={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},Mhe={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},Uhe={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},Lhe={ordinalNumber:F6({matchPattern:jhe,parsePattern:Ehe,valueCallback:function(t){return parseInt(t,10)}}),era:Fo({matchPatterns:khe,defaultMatchWidth:"wide",parsePatterns:Ihe,defaultParseWidth:"any"}),quarter:Fo({matchPatterns:The,defaultMatchWidth:"wide",parsePatterns:Nhe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Fo({matchPatterns:Fhe,defaultMatchWidth:"wide",parsePatterns:Phe,defaultParseWidth:"any"}),day:Fo({matchPatterns:_he,defaultMatchWidth:"wide",parsePatterns:Dhe,defaultParseWidth:"any"}),dayPeriod:Fo({matchPatterns:Mhe,defaultMatchWidth:"wide",parsePatterns:Uhe,defaultParseWidth:"any"})},ba={code:"ru",formatDistance:lhe,formatLong:dhe,formatRelative:ghe,localize:She,match:Lhe,options:{weekStartsOn:1,firstWeekContainsDate:1}};const sd=kd(void 0,"europe-west1");function $h(e){const{children:t,value:n,index:r,...i}=e;return s.jsx("div",{role:"tabpanel",hidden:n!==r,id:`settings-tabpanel-${r}`,"aria-labelledby":`settings-tab-${r}`,...i,children:n===r&&s.jsx(Ce,{sx:{pt:3},children:t})})}function Ohe(){var G,se,X,ge,ce,Y,ne,oe,fe,ie,Te,be,xe,Ne,Fe,He,Ge,lt,bt,Ze,ye,Ue,ke,rt,Ie,_t,qe,we,he,Le;const{admin:e}=er(),{isSuperAdmin:t}=ri(),n=$r(),[r,i]=y.useState(0),[a,o]=y.useState({superAdminEmails:[]}),[l,c]=y.useState(""),[A,u]=y.useState(!0),[d,h]=y.useState(!1),[f,p]=y.useState(!1),[g,v]=y.useState(""),[x,C]=y.useState({provider:"smsru",testMode:!1,smsruApiId:""}),[b,w]=y.useState(!0),[E,S]=y.useState(!1),[F,N]=y.useState(""),[P,Q]=y.useState(!1),[j,k]=y.useState({bookingConfirmation:{enabled:!0,template:"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:!0,template:"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:2},bookingCancellation:{enabled:!0,template:"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:!0,template:"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:!0,template:"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:!0,template:"Оплатите бронь по ссылке: {link}"}}),[T,D]=y.useState(!1),[R,H]=y.useState({totalSent:0,lastSent:null,recentLogs:[]});wn.useEffect(()=>{t?(z(),V(),J(),L()):n("/admin/dashboard")},[t,n]);const z=async()=>{try{const ve=wt(_e,"settings","notifications"),De=await fn(ve);if(De.exists()){const de=De.data();o(de)}}catch(ve){console.error("Error loading notification settings:",ve),v("Ошибка загрузки настроек")}finally{u(!1)}},V=async()=>{try{const de=(await Ai(sd,"getSMSSettings")()).data;C({provider:"smsru",testMode:de.testMode||!1,smsruApiId:de.smsruApiId||""})}catch(ve){console.error("Error loading SMS settings:",ve)}finally{w(!1)}},J=async()=>{try{const de=(await Ai(sd,"getSMSStats")()).data;let Se=null;if(de.lastSent)try{Se=new Date(de.lastSent),isNaN(Se.getTime())&&(Se=null)}catch(it){console.error("Error parsing lastSent date:",it),Se=null}const Re=(de.recentLogs||[]).map(it=>{let ut=null;if(it.timestamp)try{ut=new Date(it.timestamp),isNaN(ut.getTime())&&(ut=null)}catch(Oe){console.error("Error parsing log timestamp:",Oe),ut=null}return{...it,timestamp:ut}});H({totalSent:de.totalSent||0,lastSent:Se,recentLogs:Re})}catch(ve){console.error("Error loading SMS stats:",ve)}},te=ve=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ve),Ae=async()=>{if(!l){v("Введите email");return}if(!te(l)){v("Неверный формат email");return}if(a.superAdminEmails.includes(l)){v("Этот email уже добавлен");return}h(!0),v("");try{const ve=[...a.superAdminEmails,l],De=wt(_e,"settings","notifications");await fB(De,{superAdminEmails:ve,updatedAt:new Date},{merge:!0}),o({...a,superAdminEmails:ve}),c(""),p(!0)}catch(ve){console.error("Error adding email:",ve),v("Ошибка при добавлении email")}finally{h(!1)}},U=async ve=>{h(!0),v("");try{const De=a.superAdminEmails.filter(Se=>Se!==ve),de=wt(_e,"settings","notifications");await en(de,{superAdminEmails:De,updatedAt:new Date}),o({...a,superAdminEmails:De}),p(!0)}catch(De){console.error("Error removing email:",De),v("Ошибка при удалении email")}finally{h(!1)}},O=async()=>{S(!0);try{await Ai(sd,"updateSMSSettings")(x),p(!0),await V()}catch(ve){console.error("Error saving SMS settings:",ve),v("Ошибка сохранения настроек SMS")}finally{S(!1)}},M=async()=>{if(!F){v("Введите номер телефона для тестирования");return}Q(!0);try{const de=(await Ai(sd,"testSMSSending")({phoneNumber:F})).data;de.success?p(!0):v(de.message),await J()}catch(ve){console.error("Error testing SMS:",ve),v("Ошибка отправки тестового SMS")}finally{Q(!1)}},L=async()=>{var ve,De,de,Se,Re,it,ut,Oe,Ye,We,Ve,nt,ft;try{const xt=(await Ai(sd,"getSMSTemplates")()).data;k({bookingConfirmation:{enabled:((ve=xt==null?void 0:xt.bookingConfirmation)==null?void 0:ve.enabled)??!0,template:((De=xt==null?void 0:xt.bookingConfirmation)==null?void 0:De.template)||"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:((de=xt==null?void 0:xt.bookingReminder)==null?void 0:de.enabled)??!0,template:((Se=xt==null?void 0:xt.bookingReminder)==null?void 0:Se.template)||"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:((Re=xt==null?void 0:xt.bookingReminder)==null?void 0:Re.hoursBeforeGame)||2},bookingCancellation:{enabled:((it=xt==null?void 0:xt.bookingCancellation)==null?void 0:it.enabled)??!0,template:((ut=xt==null?void 0:xt.bookingCancellation)==null?void 0:ut.template)||"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:((Oe=xt==null?void 0:xt.bookingModification)==null?void 0:Oe.enabled)??!0,template:((Ye=xt==null?void 0:xt.bookingModification)==null?void 0:Ye.template)||"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:((We=xt==null?void 0:xt.authCode)==null?void 0:We.enabled)??!0,template:((Ve=xt==null?void 0:xt.authCode)==null?void 0:Ve.template)||"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:((nt=xt==null?void 0:xt.paymentLink)==null?void 0:nt.enabled)??!0,template:((ft=xt==null?void 0:xt.paymentLink)==null?void 0:ft.template)||"Оплатите бронь по ссылке: {link}"}})}catch(at){console.error("Error loading SMS templates:",at)}},W=async()=>{D(!0);try{await Ai(sd,"updateSMSTemplates")(j),p(!0)}catch(ve){console.error("Error saving SMS templates:",ve),v("Ошибка сохранения шаблонов SMS")}finally{D(!1)}};return t?s.jsxs(Ce,{sx:{p:3},children:[s.jsxs(Ce,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[s.jsx(_x,{sx:{fontSize:32,color:"primary.main"}}),s.jsx(q,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsx(Ce,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(Fx,{value:r,onChange:(ve,De)=>i(De),children:[s.jsx(xa,{label:"Email уведомления"}),s.jsx(xa,{label:"SMS настройки"}),s.jsx(xa,{label:"Безопасность"}),s.jsx(xa,{label:"База данных"}),s.jsx(xa,{label:"Страницы оплаты"})]})}),s.jsx($h,{value:r,index:0,children:s.jsxs(gt,{container:!0,spacing:3,children:[s.jsx(gt,{item:!0,xs:12,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(Wk,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),s.jsx(q,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),s.jsx(ks,{sx:{my:2}}),A?s.jsx(Ce,{sx:{display:"flex",justifyContent:"center",py:3},children:s.jsx(nr,{})}):s.jsxs(s.Fragment,{children:[s.jsx(Ce,{sx:{mb:3},children:s.jsxs(Ce,{sx:{display:"flex",gap:2,mb:2},children:[s.jsx(Lt,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:l,onChange:ve=>c(ve.target.value),onKeyPress:ve=>{ve.key==="Enter"&&Ae()},error:!!g&&r===0,helperText:r===0?g:"",disabled:d}),s.jsx(Ft,{variant:"contained",onClick:Ae,disabled:d||!l,startIcon:s.jsx(cu,{}),children:"Добавить"})]})}),s.jsx(Wi,{sx:{maxHeight:300,overflow:"auto"},children:a.superAdminEmails.length===0?s.jsx(mn,{children:s.jsx(vn,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):a.superAdminEmails.map(ve=>s.jsxs(mn,{children:[s.jsx(vn,{primary:ve,primaryTypographyProps:{fontWeight:500}}),s.jsx(TA,{children:s.jsx(Pi,{edge:"end","aria-label":"delete",onClick:()=>U(ve),disabled:d,children:s.jsx(Au,{})})})]},ve))})]})]})})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(Wk,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Тестирование Email"})]}),s.jsx(q,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Проверка работы email уведомлений"}),s.jsx(ks,{sx:{my:2}}),s.jsxs(Ce,{sx:{mb:2},children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"})]}),s.jsx(she,{defaultEmail:(e==null?void 0:e.email)||""})]})})})]})}),s.jsx($h,{value:r,index:1,children:s.jsxs(gt,{container:!0,spacing:3,children:[s.jsx(gt,{item:!0,xs:12,lg:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(qk,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Настройки SMS"})]}),b?s.jsx(Ce,{sx:{display:"flex",justifyContent:"center",py:3},children:s.jsx(nr,{})}):s.jsxs(s.Fragment,{children:[s.jsx(Kt,{severity:"info",sx:{mb:2},children:s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Kre,{fontSize:"small"}),s.jsx(q,{variant:"body2",children:"API ключи хранятся в зашифрованном виде"})]})}),s.jsx(Ce,{sx:{mb:3},children:s.jsx($i,{control:s.jsx(Ya,{checked:x.testMode,onChange:ve=>C({...x,testMode:ve.target.checked})}),label:x.testMode?"Тестовый режим":"Боевой режим"})}),s.jsx(Ce,{sx:{mb:3},children:s.jsx(q,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"SMS провайдер: SMS.RU"})}),s.jsx(Lt,{fullWidth:!0,label:"API ID для SMS.RU",value:x.smsruApiId,onChange:ve=>C({...x,smsruApiId:ve.target.value}),type:"password",sx:{mb:2},helperText:"Получите API ID в личном кабинете SMS.RU"}),s.jsx(Ft,{variant:"contained",fullWidth:!0,onClick:O,disabled:E,children:"Сохранить настройки"}),s.jsx(ks,{sx:{my:3}}),s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Тестирование отправки"}),s.jsxs(Ce,{sx:{display:"flex",gap:2},children:[s.jsx(Lt,{fullWidth:!0,placeholder:"+7 (999) 123-45-67",value:F,onChange:ve=>N(ve.target.value)}),s.jsx(Ft,{variant:"outlined",onClick:M,disabled:P,startIcon:s.jsx(Dw,{}),children:"Отправить"})]})]})]})})}),s.jsx(gt,{item:!0,xs:12,lg:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[s.jsx(q,{variant:"h6",children:"Статистика SMS"}),s.jsx(Pi,{onClick:J,size:"small",children:s.jsx(k5,{})})]}),s.jsxs(gt,{container:!0,spacing:2,sx:{mb:2},children:[s.jsxs(gt,{item:!0,xs:6,children:[s.jsx(q,{variant:"h4",color:"primary",children:R.totalSent}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"Всего отправлено"})]}),s.jsxs(gt,{item:!0,xs:6,children:[s.jsx(q,{variant:"body1",children:R.lastSent&&!isNaN(R.lastSent.getTime())?sn(R.lastSent,"dd.MM.yyyy HH:mm",{locale:ba}):"Нет данных"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"Последняя отправка"})]})]}),s.jsx(ks,{sx:{my:2}}),s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Последние отправки"}),s.jsx(Oo,{component:Pn,variant:"outlined",sx:{maxHeight:300},children:s.jsxs(Uo,{size:"small",stickyHeader:!0,children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Дата"}),s.jsx(pt,{children:"Телефон"}),s.jsx(pt,{children:"Статус"})]})}),s.jsx(Lo,{children:R.recentLogs.map(ve=>s.jsxs(Pr,{children:[s.jsx(pt,{children:ve.timestamp&&!isNaN(ve.timestamp.getTime())?sn(ve.timestamp,"dd.MM HH:mm"):"-"}),s.jsx(pt,{children:ve.phone}),s.jsx(pt,{children:s.jsx(Gn,{label:ve.testMode?"Тест":ve.success?"Успешно":"Ошибка",size:"small",color:ve.testMode?"info":ve.success?"success":"error"})})]},ve.id))})]})})]})})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(qk,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Шаблоны SMS уведомлений"})]}),s.jsx(q,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройте тексты SMS уведомлений (максимум 70 символов)"}),s.jsxs(Kt,{severity:"warning",sx:{mb:2},children:[s.jsx(qd,{children:"Важная информация"}),"SMS уведомления о бронировании отправляются ",s.jsx("strong",{children:"только при онлайн оплате"})," через YooKassa или T-Bank. При оплате наличными, картой в клубе или переводом SMS не отправляются, даже если администратор отметит оплату как полученную."]}),s.jsx(ks,{sx:{my:2}}),s.jsxs(gt,{container:!0,spacing:3,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Ce,{sx:{mb:3},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(q,{variant:"subtitle2",children:"Подтверждение бронирования"}),s.jsx($i,{control:s.jsx(Ya,{size:"small",checked:((G=j.bookingConfirmation)==null?void 0:G.enabled)??!0,onChange:ve=>k({...j,bookingConfirmation:{...j.bookingConfirmation,enabled:ve.target.checked}})}),label:""})]}),s.jsx(Lt,{fullWidth:!0,size:"small",value:((se=j.bookingConfirmation)==null?void 0:se.template)||"",onChange:ve=>k({...j,bookingConfirmation:{...j.bookingConfirmation,template:ve.target.value}}),disabled:!((X=j.bookingConfirmation)!=null&&X.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((ge=j.bookingConfirmation)==null?void 0:ge.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),s.jsx("br",{}),s.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при онлайн оплате через YooKassa/T-Bank"})]}),error:(((ce=j.bookingConfirmation)==null?void 0:ce.template)||"").length>70})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Ce,{sx:{mb:3},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(q,{variant:"subtitle2",children:"Напоминание (за 2 часа)"}),s.jsx($i,{control:s.jsx(Ya,{size:"small",checked:((Y=j.bookingReminder)==null?void 0:Y.enabled)??!0,onChange:ve=>k({...j,bookingReminder:{...j.bookingReminder,enabled:ve.target.checked}})}),label:""})]}),s.jsx(Lt,{fullWidth:!0,size:"small",value:((ne=j.bookingReminder)==null?void 0:ne.template)||"",onChange:ve=>k({...j,bookingReminder:{...j.bookingReminder,template:ve.target.value}}),disabled:!((oe=j.bookingReminder)!=null&&oe.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((fe=j.bookingReminder)==null?void 0:fe.template)||"").length}/70 символов. Доступны: {venue}, {court}, {time}`}),s.jsx("br",{}),s.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только для оплаченных онлайн бронирований за 2 часа до игры"})]}),error:(((ie=j.bookingReminder)==null?void 0:ie.template)||"").length>70})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Ce,{sx:{mb:3},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(q,{variant:"subtitle2",children:"Отмена бронирования"}),s.jsx($i,{control:s.jsx(Ya,{size:"small",checked:((Te=j.bookingCancellation)==null?void 0:Te.enabled)??!0,onChange:ve=>k({...j,bookingCancellation:{...j.bookingCancellation,enabled:ve.target.checked}})}),label:""})]}),s.jsx(Lt,{fullWidth:!0,size:"small",value:((be=j.bookingCancellation)==null?void 0:be.template)||"",onChange:ve=>k({...j,bookingCancellation:{...j.bookingCancellation,template:ve.target.value}}),disabled:!((xe=j.bookingCancellation)!=null&&xe.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((Ne=j.bookingCancellation)==null?void 0:Ne.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),s.jsx("br",{}),s.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при автоматической отмене или возврате онлайн платежа"})]}),error:(((Fe=j.bookingCancellation)==null?void 0:Fe.template)||"").length>70})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Ce,{sx:{mb:3},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(q,{variant:"subtitle2",children:"Изменение бронирования"}),s.jsx($i,{control:s.jsx(Ya,{size:"small",checked:((He=j.bookingModification)==null?void 0:He.enabled)??!0,onChange:ve=>k({...j,bookingModification:{...j.bookingModification,enabled:ve.target.checked}})}),label:""})]}),s.jsx(Lt,{fullWidth:!0,size:"small",value:((Ge=j.bookingModification)==null?void 0:Ge.template)||"",onChange:ve=>k({...j,bookingModification:{...j.bookingModification,template:ve.target.value}}),disabled:!((lt=j.bookingModification)!=null&&lt.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((bt=j.bookingModification)==null?void 0:bt.template)||"").length}/70 символов. Доступны: {time}, {court}`}),s.jsx("br",{}),s.jsx("small",{children:"Отправляется при изменении времени, корта или даты бронирования"})]}),error:(((Ze=j.bookingModification)==null?void 0:Ze.template)||"").length>70})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Ce,{sx:{mb:3},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(q,{variant:"subtitle2",children:"Код авторизации"}),s.jsx($i,{control:s.jsx(Ya,{size:"small",checked:((ye=j.authCode)==null?void 0:ye.enabled)??!0,onChange:ve=>k({...j,authCode:{...j.authCode,enabled:ve.target.checked}})}),label:""})]}),s.jsx(Lt,{fullWidth:!0,size:"small",value:((Ue=j.authCode)==null?void 0:Ue.template)||"",onChange:ve=>k({...j,authCode:{...j.authCode,template:ve.target.value}}),disabled:!((ke=j.authCode)!=null&&ke.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((rt=j.authCode)==null?void 0:rt.template)||"").length}/70 символов. Доступны: {code}`}),s.jsx("br",{}),s.jsx("small",{children:"Отправляется при авторизации по SMS в мобильном приложении"})]}),error:(((Ie=j.authCode)==null?void 0:Ie.template)||"").length>70})]})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsxs(Ce,{sx:{mb:3},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(q,{variant:"subtitle2",children:"Ссылка на оплату"}),s.jsx($i,{control:s.jsx(Ya,{size:"small",checked:((_t=j.paymentLink)==null?void 0:_t.enabled)??!0,onChange:ve=>k({...j,paymentLink:{...j.paymentLink,enabled:ve.target.checked}})}),label:""})]}),s.jsx(Lt,{fullWidth:!0,size:"small",value:((qe=j.paymentLink)==null?void 0:qe.template)||"",onChange:ve=>k({...j,paymentLink:{...j.paymentLink,template:ve.target.value}}),disabled:!((we=j.paymentLink)!=null&&we.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((he=j.paymentLink)==null?void 0:he.template)||"").length}/70 символов. Доступны: {name}, {date}, {time}, {link}`}),s.jsx("br",{}),s.jsx("small",{children:"Отправляется при создании бронирования с онлайн оплатой в админ панели"})]}),error:(((Le=j.paymentLink)==null?void 0:Le.template)||"").length>70})]})})]}),s.jsx(Ft,{variant:"contained",fullWidth:!0,onClick:W,disabled:T,startIcon:T?s.jsx(nr,{size:20}):null,children:T?"Сохранение...":"Сохранить шаблоны"})]})})})]})}),s.jsx($h,{value:r,index:2,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(N0,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Безопасность"})]}),s.jsx(q,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),s.jsx(ks,{sx:{my:2}}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),s.jsx($h,{value:r,index:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(Vre,{color:"primary"}),s.jsx(q,{variant:"h6",children:"База данных"})]}),s.jsx(q,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),s.jsx(ks,{sx:{my:2}}),s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})}),s.jsx($h,{value:r,index:4,children:s.jsx(gt,{container:!0,spacing:3,children:s.jsx(gt,{item:!0,xs:12,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[s.jsx(Td,{color:"primary",fontSize:"large"}),s.jsx(q,{variant:"h5",fontWeight:"bold",children:"🔗 Страницы подтверждения бронирования и их URL"})]}),s.jsxs(Kt,{severity:"info",sx:{mb:3},children:[s.jsx(qd,{children:"Структура URL страниц"}),s.jsxs(q,{variant:"body2",sx:{mt:1},children:[s.jsx("strong",{children:"Базовый URL:"})," https://sports-booking-app-1d7e5.web.app"]}),s.jsx(q,{variant:"body2",sx:{mt:1},children:"После создания бронирования с онлайн оплатой, клиент перенаправляется на страницу оплаты YooKassa. После оплаты или отмены, он возвращается на страницу подтверждения, которая показывает разное содержимое в зависимости от статуса бронирования и оплаты."})]}),s.jsx(q,{variant:"h6",sx:{mt:3,mb:2},children:"Состояния страницы подтверждения"}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#e8f5e9",border:"2px solid #4caf50"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(Eg,{sx:{color:"#4caf50"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"1. Успешная оплата"})]}),s.jsx(Ce,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(q,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#059669",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#059669",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(q,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Пример:"})," /club/abc123/booking-confirmation/booking456"]}),s.jsxs(q,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"})," После успешной оплаты через YooKassa"]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'paid'"}),", ",s.jsx("code",{children:"status: 'confirmed'"})]}),s.jsxs(q,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Зеленый хедер с галочкой ✅, заголовок "Бронирование подтверждено!", детали бронирования, инструкции по отмене']})]}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#fff3cd",border:"2px solid #ff9800"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(B5,{sx:{color:"#ff9800"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"2. Ожидание оплаты (15 минут на оплату)"})]}),s.jsx(Ce,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(q,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#B45309",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#B45309",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(q,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Та же страница"}),", но с paymentStatus = 'awaiting_payment'"]}),s.jsxs(q,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"}),' Клиент вышел из YooKassa без оплаты (нажал "Отменить" или вернулся назад)']}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'awaiting_payment'"})]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Что видит клиент:"}),' Желтый хедер с часами ⏰, заголовок "Требуется оплата!", большой таймер обратного отсчета (15:00 → 00:00), анимированная кнопка "💳 Оплатить сейчас", кнопка "Отменить бронирование"']}),s.jsxs(q,{variant:"body2",color:"warning.main",children:[s.jsx("strong",{children:"⚠️ Важно:"})," Бронирование автоматически отменяется через 15 минут без оплаты"]})]}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#ffebee",border:"2px solid #f44336"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(Ds,{sx:{color:"#f44336"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"3. Бронирование отменено"})]}),s.jsx(Ce,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(q,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(q,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Та же страница"}),", показывает специальное сообщение об отмене"]}),s.jsx(q,{variant:"body2",sx:{mt:2},children:s.jsx("strong",{children:"Когда появляется:"})}),s.jsxs("ul",{style:{margin:"8px 0 8px 24px"},children:[s.jsx("li",{children:s.jsx(q,{variant:"body2",children:"Истекло 15 минут без оплаты"})}),s.jsx("li",{children:s.jsx(q,{variant:"body2",children:"Админ отменил бронирование"})}),s.jsx("li",{children:s.jsx(q,{variant:"body2",children:"Клиент отменил через мобильное приложение"})})]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"status: 'cancelled'"})," или ",s.jsx("code",{children:"paymentStatus: 'cancelled'/'expired'"})]}),s.jsxs(q,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Красный крестик ❌, заголовок "Бронирование отменено", список возможных причин отмены, кнопки возврата к клубу и на главную']})]}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#ffebee",border:"2px solid #f44336"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(jre,{sx:{color:"#f44336"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"4. Ошибка оплаты"})]}),s.jsx(Ce,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(q,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{clubId}"}),"/payment-error?paymentError=true&bookingId=",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(q,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Пример:"})," /club/abc123/payment-error?paymentError=true&bookingId=booking456"]}),s.jsxs(q,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"})," Техническая ошибка при создании платежа в YooKassa/T-Bank"]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'error'"})]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Что видит клиент:"}),' Красный хедер с крестиком ❌, заголовок "Ошибка оплаты", рекомендация связаться с администратором']}),s.jsxs(q,{variant:"body2",color:"warning.main",children:[s.jsx("strong",{children:"⚠️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре"]})]}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#e8eaf6"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(Ds,{sx:{color:"#8B5CF6"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"5. Возврат средств"})]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Когда появляется:"})," Администратор выполнил возврат средств клиенту"]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'refunded'"})]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Что видит клиент:"})," Информация о возврате средств"]}),s.jsxs(q,{variant:"body2",color:"info.main",children:[s.jsx("strong",{children:"ℹ️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре"]})]}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#e3f2fd",border:"2px solid #2196f3"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(Pre,{sx:{color:"#2196f3"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"6. Обработка платежа (редко)"})]}),s.jsx(Ce,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(q,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#2563EB",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#2563EB",fontWeight:"bold"},children:"{bookingId}"}),"?processing=true"]})}),s.jsxs(q,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Редкий случай:"})," Появляется когда webhook еще не обработан"]}),s.jsxs(q,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"})," Платеж обрабатывается банком (редкий случай)"]}),s.jsxs(q,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Песочные часы ⏳, заголовок "Обработка платежа", анимированный спиннер, автоматическая проверка статуса каждые 3 секунды']})]}),s.jsxs(Pn,{sx:{p:2,mb:2,backgroundColor:"#f5f5f5"},children:[s.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(Wre,{sx:{color:"#9e9e9e"}}),s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:"7. Бронирование не найдено"})]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Когда появляется:"})," Неверный ID бронирования или бронирование удалено"]}),s.jsxs(q,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Лупа 🔍, заголовок "Бронирование не найдено", кнопка "На главную"']})]}),s.jsx(ks,{sx:{my:3}}),s.jsx(q,{variant:"h6",sx:{mb:2},children:"Технические детали"}),s.jsxs(Pn,{sx:{p:2,mb:2},children:[s.jsx(q,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Автоматическая отмена неоплаченных бронирований"}),s.jsxs(q,{variant:"body2",paragraph:!0,children:["• ",s.jsx("strong",{children:"Таймер:"})," 15 минут с момента создания"]}),s.jsxs(q,{variant:"body2",paragraph:!0,children:["• ",s.jsx("strong",{children:"Cloud Function:"})," ",s.jsx("code",{children:"cancelExpiredBookings"})," (запускается каждые 5 минут)"]}),s.jsxs(q,{variant:"body2",children:["• ",s.jsx("strong",{children:"Условие отмены:"})," ",s.jsxs("code",{children:["paymentStatus === 'awaiting_payment' && createdAt ",">"," 15 минут назад"]})]})]}),s.jsxs(Pn,{sx:{p:2,mb:2},children:[s.jsx(q,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"URL структура и маршруты"}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"📍 Страница подтверждения бронирования:"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Основная страница для отображения деталей бронирования"})]}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"success.main",gutterBottom:!0,children:"✅ После успешной оплаты:"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#e8f5e9",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"YooKassa/T-Bank перенаправляет сюда после успешной оплаты (без дополнительных параметров)"})]}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"warning.main",gutterBottom:!0,children:"⏰ Ожидание оплаты (таймер 15 минут):"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#fff3cd",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Если клиент вышел из платежной формы без оплаты"})]}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"error",gutterBottom:!0,children:"❌ Ошибка оплаты:"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#ffebee",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/payment-error?paymentError=true&bookingId=","{bookingId}"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"При технической ошибке создания платежа"})]}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"grey.600",gutterBottom:!0,children:"⏳ Обработка платежа:"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}","?processing=true"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Редкий случай, когда webhook еще не обработан"})]}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"💳 Страница оплаты бронирования:"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#e3f2fd",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-payment/","{bookingId}"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Промежуточная страница для инициализации платежа"})]}),s.jsxs(Ce,{sx:{mt:2,mb:2},children:[s.jsx(q,{variant:"body2",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"🔄 Страница обработки результата платежа:"}),s.jsx(q,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#e3f2fd",padding:"2px 6px",borderRadius:"3px"},children:["/payment-result?paymentId=","{paymentId}","&orderId=","{bookingId}","&status=","{status}"]})}),s.jsx(q,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Техническая страница для обработки возврата от платежной системы"})]})]}),s.jsxs(Pn,{sx:{p:2},children:[s.jsx(q,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Статусы в базе данных"}),s.jsx(Ce,{sx:{mt:1,p:2,backgroundColor:"#f5f5f5",borderRadius:1},children:s.jsx("pre",{style:{margin:0,fontSize:"12px"},children:`// Статус бронирования
status: 'pending' | 'confirmed' | 'cancelled'

// Статус оплаты
paymentStatus: 
  | 'awaiting_payment' // Ожидает оплаты (начальный статус)
  | 'paid'           // Оплачено (наличные/карта на месте)
  | 'online_payment' // Оплачено онлайн (YooKassa/T-Bank)
  | 'cancelled'      // Отменено
  | 'refunded'       // Возвращено
  | 'error'          // Ошибка (не занимает слот)
  | 'expired'        // Истекло время (15 минут)
  | 'not_required'   // Не требуется (редко)`})})]})]})})})})}),s.jsx(CD,{open:f,autoHideDuration:3e3,onClose:()=>p(!1),message:"Настройки сохранены"})]}):null}function Rhe(){const{user:e}=er(),[t,n]=y.useState(null),[r,i]=y.useState("");return y.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){i("No user logged in");return}try{const o=qt(Ct(_e,"admins"),vt("email","==",e.email)),l=await Mt(o);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const c=l.docs[0];n({id:c.id,data:c.data(),exists:!0})}}catch(o){i(o.message)}})()},[e]),s.jsxs(Ce,{sx:{p:3},children:[s.jsx(q,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),s.jsx(Zt,{sx:{mb:2},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",children:"Current User"}),s.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),s.jsx(Zt,{sx:{mb:2},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",children:"Admin Search Result"}),s.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",color:"error",children:"Error"}),s.jsx(q,{children:r})]})})]})}function Qhe(){const{admin:e}=er(),[t,n]=y.useState(!1),[r,i]=y.useState([]),[a,o]=y.useState(0),l=A=>{i(u=>[...u,`${new Date().toLocaleTimeString()}: ${A}`]),console.log(A)},c=async()=>{var A;if(!e||e.role!=="superadmin"){l("❌ Только суперадмин может выполнить эту операцию");return}n(!0),i([]),o(0),l("🔄 Начинаем корректировку дат бронирований...");try{const u=Ct(_e,"bookings"),d=await Mt(u);l(`📊 Найдено всего бронирований: ${d.size}`);let h=0;const f=[];for(const p of d.docs){const g=p.data(),v=p.id;if(g.date){const x=g.date.toDate?g.date.toDate():new Date(g.date),C=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Moscow",year:"numeric",month:"2-digit",day:"2-digit"}).format(x),b=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(x);let w=!1,E=null;const S=(A=g.createdAt)!=null&&A.toDate?g.createdAt.toDate():null;if(S&&new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(S)==="2025-08-18"&&(b==="2025-08-19"?(w=!0,C==="2025-08-18"?E=new Date(x.getTime()-5*60*60*1e3):C==="2025-08-19"&&(E=new Date(x.getTime()-24*60*60*1e3))):!g._dateFixed&&C==="2025-08-19"&&(w=!0,E=new Date(x.getTime()-3*60*60*1e3))),w&&E){l(`🔍 Найдено бронирование для корректировки: ${v}`),l(`   Клиент: ${g.customerName||g.clientName||"Неизвестно"}`),l(`   Время: ${g.startTime||g.time||"Неизвестно"}`),l(`   Текущая дата UTC: ${x.toISOString()}`),l(`   Дата в Moscow: ${C}`),l(`   Дата в Yekaterinburg: ${b}`),l(`   ✅ Корректируем на: ${E.toISOString()}`);const F={date:Ot.fromDate(E),_dateFixed:!0,_dateFixedAt:Ot.now()};e!=null&&e.uid&&(F._dateFixedBy=e.uid);const N=en(wt(_e,"bookings",v),F);f.push(N),h++}}}f.length>0?(l(`
🔧 Исправляем ${h} бронирований...`),await Promise.all(f),o(h),l(`✅ Успешно исправлено ${h} бронирований!`)):l("✅ Не найдено бронирований, требующих корректировки")}catch(u){console.error("Error fixing booking dates:",u),l(`❌ Ошибка: ${u instanceof Error?u.message:"Неизвестная ошибка"}`)}finally{n(!1)}};return!e||e.role!=="superadmin"?s.jsxs("div",{style:{padding:"20px"},children:[s.jsx("h2",{children:"Доступ запрещен"}),s.jsx("p",{children:"Только суперадмин может использовать эту функцию"})]}):s.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{children:"🔧 Корректировка дат бронирований"}),s.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"⚠️ Внимание!"}),s.jsx("p",{children:"Эта операция исправит даты бронирований, которые были созданы 18 августа 2025,"}),s.jsx("p",{children:"но отображаются как 19 августа из-за проблемы с часовыми поясами."}),s.jsx("p",{children:s.jsx("strong",{children:"Будут исправлены только бронирования, созданные сегодня (18 августа)."})})]}),s.jsx("button",{onClick:c,disabled:t,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:t?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:t?"not-allowed":"pointer",marginBottom:"20px"},children:t?"⏳ Обработка...":"🚀 Начать корректировку"}),a>0&&s.jsxs("div",{style:{background:"#d4edda",border:"1px solid #28a745",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"✅ Успешно!"}),s.jsxs("p",{children:["Исправлено бронирований: ",s.jsx("strong",{children:a})]})]}),r.length>0&&s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontFamily:"monospace",fontSize:"12px",maxHeight:"400px",overflow:"auto"},children:[s.jsx("h3",{children:"📋 Лог операций:"}),r.map((A,u)=>s.jsx("div",{style:{marginBottom:"5px"},children:A},u))]})]})}function Hhe(){const{admin:e,club:t}=er(),[n,r]=y.useState(!1),[i,a]=y.useState([]),[o,l]=y.useState(0),[c,A]=y.useState("2025-08-18"),u=h=>{a(f=>[...f,`${new Date().toLocaleTimeString()}: ${h}`]),console.log(h)},d=async()=>{if(!e||e.role!=="superadmin"){u("❌ Только суперадмин может выполнить эту операцию");return}r(!0),a([]),l(0);const h=(t==null?void 0:t.timezone)||"Asia/Yekaterinburg";u(`🔄 Анализируем бронирования для даты ${c}`),u(`📍 Часовой пояс клуба: ${h}`);try{const f=Ct(_e,"bookings"),p=await Mt(f);u(`📊 Найдено всего бронирований: ${p.size}`);let g=0;const v=[],x=[],C=[];for(const b of p.docs){const w=b.data(),E=b.id;if(w.date){const S=w.date.toDate?w.date.toDate():new Date(w.date),F=new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}).format(S),N=new Intl.DateTimeFormat("en-CA",{timeZone:h,year:"numeric",month:"2-digit",day:"2-digit"}).format(S),P=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Moscow",year:"numeric",month:"2-digit",day:"2-digit"}).format(S),Q=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(S);(F>="2025-08-17"&&F<="2025-08-19"||N>="2025-08-17"&&N<="2025-08-19"||Q>="2025-08-17"&&Q<="2025-08-19")&&C.length<20&&C.push({id:E,customerName:w.customerName||w.clientName,time:w.startTime||w.time,dateISO:S.toISOString(),localDate:F,clubDate:N,moscowDate:P,yekaterinburgDate:Q}),F===c&&N!==c?x.push({id:E,customerName:w.customerName||w.clientName,time:w.startTime||w.time,currentDate:S,localDate:F,clubDate:N,reason:"Локальная дата совпадает, но в часовом поясе клуба отличается"}):N==="2025-08-19"&&F===c?x.push({id:E,customerName:w.customerName||w.clientName,time:w.startTime||w.time,currentDate:S,localDate:F,clubDate:N,reason:"В часовом поясе клуба показывает 19 августа вместо 18"}):(S.toISOString().startsWith("2025-08-18T19:")||S.toISOString().startsWith("2025-08-18T20:")||S.toISOString().startsWith("2025-08-18T21:"))&&x.push({id:E,customerName:w.customerName||w.clientName,time:w.startTime||w.time,currentDate:S,localDate:F,clubDate:N,reason:"UTC время указывает на вечер 18 августа (возможно неправильная дата)"})}}if(C.length>0?(u(`
📋 Примеры первых ${C.length} бронирований для анализа:`),C.forEach(b=>{u(`
🔍 ${b.customerName||"Неизвестно"} - ${b.time||""}`),u(`   ID: ${b.id}`),u(`   UTC: ${b.dateISO}`),u(`   Локальная дата: ${b.localDate}`),u(`   В часовом поясе клуба: ${b.clubDate}`),u(`   В Москве: ${b.moscowDate}`),u(`   В Екатеринбурге: ${b.yekaterinburgDate}`)})):u(`
⚠️ Нет бронирований для анализа`),x.length>0){u(`
🔍 Найдено ${x.length} бронирований, требующих корректировки:`);for(const b of x){u(`
📌 Бронирование ${b.id}`),u(`   Клиент: ${b.customerName||"Неизвестно"}`),u(`   Время: ${b.time||"Неизвестно"}`),u(`   Причина: ${b.reason}`),u(`   Текущая дата UTC: ${b.currentDate.toISOString()}`),u(`   Отображается в списке как: ${b.localDate}`),u(`   В часовом поясе клуба: ${b.clubDate}`);const[w,E,S]=c.split("-").map(Number);let F=5;h==="Europe/Moscow"?F=3:h==="Asia/Yekaterinburg"&&(F=5);const N=new Date(Date.UTC(w,E-1,S-1,24-F,0,0));u(`   ✅ Корректируем на: ${N.toISOString()}`);const P=new Intl.DateTimeFormat("en-CA",{timeZone:h,year:"numeric",month:"2-digit",day:"2-digit"}).format(N);u(`   Проверка: в часовом поясе клуба будет ${P}`);const Q={date:Ot.fromDate(N),_dateFixedAdvanced:!0,_dateFixedAt:Ot.now()};e!=null&&e.uid&&(Q._dateFixedBy=e.uid);const j=en(wt(_e,"bookings",b.id),Q);v.push(j),g++}v.length>0&&(u(`
🔧 Применяем изменения к ${g} бронированиям...`),await Promise.all(v),l(g),u(`✅ Успешно исправлено ${g} бронирований!`))}else u("✅ Не найдено бронирований, требующих корректировки")}catch(f){console.error("Error fixing booking dates:",f),u(`❌ Ошибка: ${f instanceof Error?f.message:"Неизвестная ошибка"}`)}finally{r(!1)}};return!e||e.role!=="superadmin"?s.jsxs("div",{style:{padding:"20px"},children:[s.jsx("h2",{children:"Доступ запрещен"}),s.jsx("p",{children:"Только суперадмин может использовать эту функцию"})]}):s.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{children:"🔧 Расширенная корректировка дат бронирований"}),s.jsxs("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"ℹ️ Информация"}),s.jsx("p",{children:"Эта утилита находит бронирования, которые:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Отображаются в списке как выбранная дата (по локальному времени браузера)"}),s.jsx("li",{children:"Но в календаре не показываются (из-за разницы часовых поясов)"})]}),s.jsxs("p",{children:["Часовой пояс вашего клуба: ",s.jsx("strong",{children:(t==null?void 0:t.timezone)||"Asia/Yekaterinburg"})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Целевая дата для корректировки:"}),s.jsx("input",{type:"date",value:c,onChange:h=>A(h.target.value),disabled:n,style:{padding:"8px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ccc",marginRight:"10px"}})]}),s.jsx("button",{onClick:d,disabled:n,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",marginBottom:"20px"},children:n?"⏳ Анализ и корректировка...":"🔍 Анализировать и исправить"}),o>0&&s.jsxs("div",{style:{background:"#d4edda",border:"1px solid #28a745",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"✅ Успешно!"}),s.jsxs("p",{children:["Исправлено бронирований: ",s.jsx("strong",{children:o})]}),s.jsx("p",{children:"Обновите страницу с календарем, чтобы увидеть изменения."})]}),i.length>0&&s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontFamily:"monospace",fontSize:"12px",maxHeight:"500px",overflow:"auto"},children:[s.jsx("h3",{children:"📋 Лог операций:"}),i.map((h,f)=>s.jsx("div",{style:{marginBottom:"5px",whiteSpace:"pre-wrap"},children:h},f))]})]})}function $he(){const{admin:e,club:t}=er(),[n,r]=y.useState(!1),[i,a]=y.useState([]),[o,l]=y.useState([]),[c,A]=y.useState(new Set),u=g=>{a(v=>[...v,`${new Date().toLocaleTimeString()}: ${g}`]),console.log(g)},d=async()=>{if(!e){u("❌ Необходимо войти в систему");return}r(!0),a([]),l([]),A(new Set),u("🔍 Ищем все бронирования на 18 августа в часовом поясе клуба...");try{const g=Ct(_e,"bookings"),v=await Mt(g);u(`📊 Найдено всего бронирований: ${v.size}`);const x=[];for(const C of v.docs){const b=C.data(),w=C.id;if(b.date){const E=b.date.toDate?b.date.toDate():new Date(b.date),S=(t==null?void 0:t.timezone)||"Asia/Yekaterinburg",F=new Intl.DateTimeFormat("en-CA",{timeZone:S,year:"numeric",month:"2-digit",day:"2-digit"}).format(E);if(F==="2025-08-18"){const N=new Intl.DateTimeFormat("ru-RU",{timeZone:S,day:"numeric",month:"long",year:"numeric"}).format(E),P=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Moscow",year:"numeric",month:"2-digit",day:"2-digit"}).format(E),Q=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(E);x.push({id:w,customerName:b.customerName||b.clientName||"Неизвестно",time:b.startTime||b.time||"Неизвестно",dateISO:E.toISOString(),displayDate:N,clubDate:F,moscowDate:P,yekaterinburgDate:Q,rawData:b})}}}l(x),x.length>0?(u(`
✅ Найдено ${x.length} бронирований на 18 августа:`),x.forEach((C,b)=>{u(`
📌 Бронирование ${b+1}:`),u(`   ID: ${C.id}`),u(`   Клиент: ${C.customerName}`),u(`   Время: ${C.time}`),u(`   Отображается как: ${C.displayDate}`),u(`   UTC: ${C.dateISO}`),u(`   В часовом поясе клуба: ${C.clubDate}`),u(`   В Москве: ${C.moscowDate}`),u(`   В Екатеринбурге: ${C.yekaterinburgDate}`)})):u("❌ Не найдено бронирований на 18 августа")}catch(g){console.error("Error finding bookings:",g),u(`❌ Ошибка: ${g instanceof Error?g.message:"Неизвестная ошибка"}`)}finally{r(!1)}},h=g=>{const v=new Set(c);v.has(g)?v.delete(g):v.add(g),A(v)},f=()=>{c.size===o.length?A(new Set):A(new Set(o.map(g=>g.id)))},p=async()=>{if(c.size===0){u("❌ Не выбрано бронирований для исправления");return}r(!0),u(`
🔧 Начинаем исправление ${c.size} выбранных бронирований...`);try{const g=[],v=(t==null?void 0:t.timezone)||"Asia/Yekaterinburg",x=o.filter(C=>c.has(C.id));for(const C of x){let b=5;v==="Europe/Moscow"&&(b=3);const w=new Date(Date.UTC(2025,7,18,0,0,0,0));u(`
🔄 Исправляем ${C.id}`),u(`   Было: ${C.dateISO}`),u(`   Будет: ${w.toISOString()}`);const E={date:Ot.fromDate(w),_dateFixedManual:!0,_dateFixedAt:Ot.now()};e!=null&&e.uid&&(E._dateFixedBy=e.uid);const S=en(wt(_e,"bookings",C.id),E);g.push(S)}await Promise.all(g),u(`
✅ Успешно исправлено ${c.size} бронирований!`),u("🔄 Обновите страницу с календарем, чтобы увидеть изменения"),A(new Set)}catch(g){console.error("Error fixing bookings:",g),u(`❌ Ошибка при исправлении: ${g instanceof Error?g.message:"Неизвестная ошибка"}`)}finally{r(!1)}};return e?s.jsxs("div",{style:{padding:"20px",maxWidth:"900px",margin:"0 auto"},children:[s.jsx("h2",{children:"🔍 Поиск и исправление бронирований на 18 августа"}),s.jsxs("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"ℹ️ Информация"}),s.jsx("p",{children:"Эта утилита находит все бронирования на 18 августа 2025 года в часовом поясе клуба"}),s.jsx("p",{children:"и позволяет выборочно исправить их даты для корректного отображения в календаре."}),s.jsxs("p",{children:[s.jsx("strong",{children:"Выберите нужные бронирования"})," и нажмите кнопку исправления."]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("button",{onClick:d,disabled:n,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",marginRight:"10px"},children:n?"⏳ Поиск...":"🔍 Найти бронирования на 18 августа"}),o.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:f,disabled:n,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",marginRight:"10px"},children:c.size===o.length?"❌ Снять выбор":"☑️ Выбрать все"}),s.jsx("button",{onClick:p,disabled:n||c.size===0,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n||c.size===0?"#ccc":"#4caf50",color:"white",border:"none",borderRadius:"5px",cursor:n||c.size===0?"not-allowed":"pointer"},children:n?"⏳ Исправление...":`✅ Исправить ${c.size} выбранных`})]})]}),o.length>0&&s.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"📋 Найденные бронирования на 18 августа:"}),s.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"2px solid #ddd"},children:[s.jsx("th",{style:{padding:"8px",textAlign:"center",width:"40px"},children:s.jsx("input",{type:"checkbox",checked:c.size===o.length&&o.length>0,onChange:f,style:{cursor:"pointer"}})}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Клиент"}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Время"}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Дата (клуб)"}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"UTC"})]})}),s.jsx("tbody",{children:o.map((g,v)=>s.jsxs("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:c.has(g.id)?"#e3f2fd":"transparent",cursor:"pointer"},onClick:()=>h(g.id),children:[s.jsx("td",{style:{padding:"8px",textAlign:"center"},children:s.jsx("input",{type:"checkbox",checked:c.has(g.id),onChange:()=>h(g.id),style:{cursor:"pointer"}})}),s.jsx("td",{style:{padding:"8px"},children:g.customerName}),s.jsx("td",{style:{padding:"8px"},children:g.time}),s.jsx("td",{style:{padding:"8px"},children:g.displayDate}),s.jsx("td",{style:{padding:"8px",fontSize:"11px"},children:g.dateISO})]},g.id))})]})})]}),i.length>0&&s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontFamily:"monospace",fontSize:"12px",maxHeight:"400px",overflow:"auto"},children:[s.jsx("h3",{children:"📋 Лог операций:"}),i.map((g,v)=>s.jsx("div",{style:{marginBottom:"5px",whiteSpace:"pre-wrap"},children:g},v))]})]}):s.jsxs("div",{style:{padding:"20px"},children:[s.jsx("h2",{children:"Доступ запрещен"}),s.jsx("p",{children:"Необходимо войти в систему"})]})}const zhe={admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function Whe(){const{isSuperAdmin:e}=ri(),[t,n]=y.useState(!1),[r,i]=y.useState([]),[a,o]=y.useState(null),[l,c]=y.useState(0);y.useEffect(()=>{A()},[]);const A=async()=>{try{n(!0);const h=(await Mt(Ct(_e,"admins"))).docs.map(f=>({id:f.id,...f.data()}));i(h)}catch(d){console.error("Error loading admins:",d),o({type:"error",text:"Ошибка при загрузке администраторов"})}finally{n(!1)}},u=async()=>{try{n(!0),o(null);let d=0;for(const h of r)if(h.role==="admin"||h.role==="manager"){const f=zhe[h.role],p=h.permissions||[],g=f.filter(v=>!p.includes(v));if(g.length>0){const v=[...new Set([...p,...f])];await en(wt(_e,"admins",h.id),{permissions:v,updatedAt:new Date}),d++,console.log(`Updated ${h.name} (${h.email}): added ${g.join(", ")}`)}}c(d),d>0?o({type:"success",text:`Успешно обновлено ${d} администратор(ов). Обновите страницу и попробуйте войти снова.`}):o({type:"info",text:"Все администраторы уже имеют необходимые права."}),await A()}catch(d){console.error("Error fixing permissions:",d),o({type:"error",text:"Ошибка при обновлении прав доступа"})}finally{n(!1)}};return e?s.jsxs(Ce,{p:3,children:[s.jsx(q,{variant:"h4",gutterBottom:!0,children:"Исправление прав доступа администраторов"}),s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Эта страница позволяет исправить права доступа для существующих администраторов клубов. Нажмите кнопку ниже, чтобы автоматически добавить недостающие права."}),a&&s.jsx(Kt,{severity:a.type,sx:{mb:3},children:a.text}),s.jsx(Ft,{variant:"contained",color:"primary",onClick:u,disabled:t,sx:{mb:3},children:t?s.jsx(nr,{size:24}):"Исправить права доступа"}),s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Текущие администраторы:"}),t&&!r.length?s.jsx(nr,{}):s.jsx(Ce,{display:"flex",flexDirection:"column",gap:2,children:r.map(d=>{var h,f;return s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(q,{variant:"h6",children:[d.name," (",d.email,")"]}),s.jsxs(q,{color:"textSecondary",gutterBottom:!0,children:["Роль: ",s.jsx(Gn,{label:d.role,size:"small",color:d.role==="admin"?"primary":"default"})]}),s.jsxs(q,{variant:"body2",children:["Текущие права: ",((h=d.permissions)==null?void 0:h.join(", "))||"Нет прав"]}),d.role==="admin"&&!((f=d.permissions)!=null&&f.includes("manage_club"))&&s.jsx(Kt,{severity:"warning",sx:{mt:1},children:'У этого администратора отсутствует право "manage_club" для управления клубом!'})]})},d.id)})})]}):s.jsx(Kt,{severity:"error",children:"Доступ запрещен. Эта страница доступна только суперадминистраторам."})}const Khe=({isOpen:e,onClose:t,onSave:n,trainer:r,clubId:i})=>{var te,Ae,U;const[a,o]=y.useState({firstName:"",lastName:"",phone:"+7",email:"",specialization:[],experience:0,bio:"",pricePerHour:0,groupPrice:0,commissionType:"percent",commissionValue:20,schedule:{monday:{enabled:!1,start:"09:00",end:"18:00"},tuesday:{enabled:!1,start:"09:00",end:"18:00"},wednesday:{enabled:!1,start:"09:00",end:"18:00"},thursday:{enabled:!1,start:"09:00",end:"18:00"},friday:{enabled:!1,start:"09:00",end:"18:00"},saturday:{enabled:!1,start:"09:00",end:"18:00"},sunday:{enabled:!1,start:"09:00",end:"18:00"}},worksOnHolidays:!1,maxDailyHours:8,advanceBookingDays:30,availableCourts:[],color:"#00A86B",status:"active"}),[l,c]=y.useState("basic"),[A,u]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(""),[g,v]=y.useState(""),[x,C]=y.useState(!1),[b,w]=y.useState(!1);y.useEffect(()=>{if(r){const O=r.phone?S(r.phone):"+7";o({...r,phone:O}),C(r.hasAccount||!1),v(`${r.firstName} ${r.lastName}`)}else o(O=>({...O,phone:"+7"}))},[r]),y.useEffect(()=>{r!=null&&r.id&&E()},[r==null?void 0:r.id]);const E=async()=>{if(r!=null&&r.id)try{const O=qt(Ct(_e,"admins"),vt("trainerId","==",r.id)),M=await Mt(O);C(!M.empty)}catch(O){console.error("Error checking trainer account:",O)}},S=O=>{const M=O.replace(/\D/g,"");return M.length<=1?M:M.length<=4?`+7 (${M.slice(1)})`:M.length<=7?`+7 (${M.slice(1,4)}) ${M.slice(4)}`:M.length<=9?`+7 (${M.slice(1,4)}) ${M.slice(4,7)}-${M.slice(7)}`:`+7 (${M.slice(1,4)}) ${M.slice(4,7)}-${M.slice(7,9)}-${M.slice(9,11)}`},F=O=>{const M=S(O.target.value);o(L=>({...L,phone:M}))},N=O=>{const{name:M,value:L,type:W}=O.target;if(W==="checkbox"){const G=O.target.checked;o(se=>({...se,[M]:G}))}else o(W==="number"?G=>({...G,[M]:parseFloat(L)||0}):G=>({...G,[M]:L}))},P=O=>{o(M=>{var L;return{...M,specialization:(L=M.specialization)!=null&&L.includes(O)?M.specialization.filter(W=>W!==O):[...M.specialization||[],O]}})},Q=(O,M,L)=>{o(W=>{var G,se,X;return{...W,schedule:{...W.schedule,[O]:{enabled:((G=W.schedule[O])==null?void 0:G.enabled)||!1,start:((se=W.schedule[O])==null?void 0:se.start)||"09:00",end:((X=W.schedule[O])==null?void 0:X.end)||"18:00",...W.schedule[O],[M]:L}}}})},j=()=>{const O={id:Date.now().toString(),startDate:"",endDate:"",reason:""};o(M=>({...M,vacations:[...M.vacations||[],O]}))},k=(O,M,L)=>{o(W=>{var G;return{...W,vacations:(G=W.vacations)==null?void 0:G.map(se=>se.id===O?{...se,[M]:L}:se)}})},T=O=>{o(M=>{var L;return{...M,vacations:(L=M.vacations)==null?void 0:L.filter(W=>W.id!==O)}})},D=O=>{o(M=>{const L=M.blockedDates||[];return L.includes(O)?{...M,blockedDates:L.filter(W=>W!==O)}:{...M,blockedDates:[...L,O]}})},R=async()=>{const O=a.email;if(!(r!=null&&r.id)||!O||!f||f.length<6){if(!O){alert("Пожалуйста, укажите email тренера в основных данных"),c("basic");return}return}w(!0);try{const M=kd(void 0,"europe-west1");(await Ai(M,"createTrainerAccount")({trainerId:r.id,email:O,password:f,name:g||`${r.firstName} ${r.lastName}`})).data.success&&(C(!0),u(!1),p(""),alert("Аккаунт успешно создан! Данные для входа отправлены на email тренера."),await E())}catch(M){console.error("Error creating trainer account:",M),M.code==="functions/already-exists"?alert("Пользователь с таким email уже существует"):M.code==="functions/invalid-argument"?alert(M.message||"Некорректные данные"):alert("Ошибка при создании аккаунта: "+(M.message||"Неизвестная ошибка"))}finally{w(!1)}},H=async()=>{if(r!=null&&r.id&&confirm("Вы уверены, что хотите удалить аккаунт тренера? Тренер больше не сможет войти в систему.")){w(!0);try{const O=kd(void 0,"europe-west1");(await Ai(O,"deleteTrainerAccount")({trainerId:r.id})).data.success&&(C(!1),alert("Аккаунт тренера успешно удален"),await E())}catch(O){console.error("Error deleting trainer account:",O),alert("Ошибка при удалении аккаунта: "+(O.message||"Неизвестная ошибка"))}finally{w(!1)}}},z=async()=>{if(!(!(r!=null&&r.id)||!f||f.length<6)){w(!0);try{const O=kd(void 0,"europe-west1");(await Ai(O,"resetTrainerPassword")({trainerId:r.id,newPassword:f})).data.success&&(h(!1),p(""),alert("Пароль успешно изменен! Новые данные для входа отправлены на email тренера."))}catch(O){console.error("Error resetting trainer password:",O),alert("Ошибка при изменении пароля: "+(O.message||"Неизвестная ошибка"))}finally{w(!1)}}},V=O=>{if(O.preventDefault(),!a.firstName||!a.lastName||!a.phone){alert("Заполните обязательные поля");return}if(!a.specialization||a.specialization.length===0){alert("Выберите хотя бы одну специализацию");return}if(!(a.schedule&&Object.values(a.schedule).some(W=>W.enabled?W.start&&W.end:!1))){alert("Необходимо настроить расписание тренера. Укажите хотя бы один рабочий день с временем начала и окончания работы."),c("schedule");return}if(a.schedule&&Object.entries(a.schedule).some(([W,G])=>{if(G.enabled&&G.start&&G.end){const[se,X]=G.start.split(":").map(Number),[ge,ce]=G.end.split(":").map(Number),Y=se*60+X,ne=ge*60+ce;return Y>=ne}return!1})){alert("Время окончания работы должно быть позже времени начала"),c("schedule");return}n(a)};if(!e)return null;const J={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return s.jsx("div",{className:`modal ${e?"active":""}`,children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"900px",width:"90%"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:r?"Редактировать тренера":"Добавить тренера"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("form",{onSubmit:V,children:[s.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb"},children:[s.jsx("button",{type:"button",onClick:()=>c("basic"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="basic"?"2px solid var(--primary)":"2px solid transparent",color:l==="basic"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Основные данные"}),s.jsxs("button",{type:"button",onClick:()=>c("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:l==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:["Расписание ",s.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),s.jsx("button",{type:"button",onClick:()=>c("vacations"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="vacations"?"2px solid var(--primary)":"2px solid transparent",color:l==="vacations"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Отпуска"}),s.jsx("button",{type:"button",onClick:()=>c("settings"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="settings"?"2px solid var(--primary)":"2px solid transparent",color:l==="settings"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Настройки"}),r&&s.jsx("button",{type:"button",onClick:()=>c("account"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="account"?"2px solid var(--primary)":"2px solid transparent",color:l==="account"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Аккаунт"})]}),s.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[l==="basic"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя *"}),s.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:N,className:"form-input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Фамилия *"}),s.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:N,className:"form-input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:F,className:"form-input",placeholder:"+7 (999) 999-99-99",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:N,className:"form-input",placeholder:"trainer@example.com"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Специализация *"}),s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(te=a.specialization)==null?void 0:te.includes("tennis"),onChange:()=>P("tennis"),style:{marginRight:"8px"}}),s.jsx("span",{children:"🎾 Теннис"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(Ae=a.specialization)==null?void 0:Ae.includes("padel"),onChange:()=>P("padel"),style:{marginRight:"8px"}}),s.jsx("span",{children:"🏓 Падел"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(U=a.specialization)==null?void 0:U.includes("badminton"),onChange:()=>P("badminton"),style:{marginRight:"8px"}}),s.jsx("span",{children:"🏸 Бадминтон"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),s.jsx("input",{type:"number",name:"experience",value:a.experience,onChange:N,min:"0",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Статус"}),s.jsxs("select",{name:"status",value:a.status,onChange:N,className:"form-select",children:[s.jsx("option",{value:"active",children:"Активен"}),s.jsx("option",{value:"vacation",children:"В отпуске"}),s.jsx("option",{value:"inactive",children:"Неактивен"})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"О тренере"}),s.jsx("textarea",{name:"bio",value:a.bio,onChange:N,rows:3,className:"form-input",placeholder:"Краткое описание, достижения, специализация...",style:{resize:"vertical"}})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость индивидуального занятия"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"pricePerHour",value:a.pricePerHour,onChange:N,min:"0",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость группового занятия"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"groupPrice",value:a.groupPrice,onChange:N,min:"0",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Тип комиссии клуба"}),s.jsxs("select",{name:"commissionType",value:a.commissionType,onChange:N,className:"form-select",children:[s.jsx("option",{value:"percent",children:"Процент"}),s.jsx("option",{value:"fixed",children:"Фиксированная сумма"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:a.commissionType==="percent"?"Процент комиссии":"Сумма комиссии (₽)"}),s.jsx("input",{type:"number",name:"commissionValue",value:a.commissionValue,onChange:N,min:"0",max:a.commissionType==="percent"?100:void 0,className:"form-input"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Цвет для календаря"}),s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("input",{type:"color",className:"form-input",name:"color",value:a.color,onChange:N,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),s.jsx("input",{type:"text",className:"form-input",value:a.color,onChange:O=>o(M=>({...M,color:O.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),s.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения тренера в календаре"})]})]}),l==="schedule"&&s.jsxs("div",{children:[s.jsx("div",{style:{padding:"12px 16px",background:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",marginBottom:"20px"},children:s.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#92400E",fontWeight:500},children:[s.jsx("strong",{children:"Важно:"})," Расписание является обязательным для заполнения. Необходимо указать хотя бы один рабочий день с временем начала и окончания работы."]})}),s.jsx("div",{style:{marginBottom:"24px"},children:Object.keys(J).map(O=>{var M,L,W,G,se,X,ge,ce,Y,ne;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:(L=(M=a.schedule)==null?void 0:M[O])!=null&&L.enabled?"#f9fafb":"white"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(G=(W=a.schedule)==null?void 0:W[O])==null?void 0:G.enabled,onChange:oe=>Q(O,"enabled",oe.target.checked),style:{marginRight:"8px"}}),s.jsx("span",{style:{fontWeight:500},children:J[O]})]}),((X=(se=a.schedule)==null?void 0:se[O])==null?void 0:X.enabled)&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[s.jsx("input",{type:"time",value:((ce=(ge=a.schedule)==null?void 0:ge[O])==null?void 0:ce.start)||"",onChange:oe=>Q(O,"start",oe.target.value),className:"form-input",style:{width:"140px"}}),s.jsx("span",{style:{color:"#6b7280"},children:"—"}),s.jsx("input",{type:"time",value:((ne=(Y=a.schedule)==null?void 0:Y[O])==null?void 0:ne.end)||"",onChange:oe=>Q(O,"end",oe.target.value),className:"form-input",style:{width:"140px"}})]})]},O)})}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:a.worksOnHolidays,onChange:N,style:{marginRight:"8px"}}),s.jsx("span",{children:"Работает в праздничные дни"})]})]}),l==="settings"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Максимум часов в день"}),s.jsx("input",{type:"number",name:"maxDailyHours",value:a.maxDailyHours,onChange:N,min:"1",max:"12",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Бронирование вперед"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"advanceBookingDays",value:a.advanceBookingDays,onChange:N,min:"1",max:"365",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"дней"})]})]})]}),r&&r.id&&i&&s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Персональная ссылка для бронирования"}),s.jsxs("div",{style:{padding:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Клиенты могут использовать эту ссылку для бронирования с тренером:"}),s.jsxs("div",{style:{padding:"8px 12px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontFamily:"monospace",fontSize:"13px",wordBreak:"break-all",userSelect:"all"},children:["https://allcourt.ru/club/",i,"?trainer=",r.id]}),s.jsx("button",{type:"button",onClick:()=>{const O=`https://allcourt.ru/club/${i}?trainer=${r.id}`;navigator.clipboard.writeText(O),alert("Ссылка скопирована в буфер обмена")},style:{marginTop:"8px",padding:"6px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Скопировать ссылку"})]})]}),s.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:s.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[s.jsx("strong",{children:"Примечание:"})," При переходе по персональной ссылке тренер будет автоматически выбран в форме бронирования, и клиент увидит только те слоты, когда тренер доступен."]})})]}),l==="vacations"&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Периоды отпусков"}),a.vacations&&a.vacations.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.vacations.map(O=>s.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Начало"}),s.jsx("input",{type:"date",className:"form-input",value:O.startDate,onChange:M=>k(O.id,"startDate",M.target.value),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Окончание"}),s.jsx("input",{type:"date",className:"form-input",value:O.endDate,onChange:M=>k(O.id,"endDate",M.target.value),min:O.startDate||new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Причина (необязательно)"}),s.jsx("input",{type:"text",className:"form-input",value:O.reason||"",onChange:M=>k(O.id,"reason",M.target.value),placeholder:"Например: Отпуск, болезнь, обучение"})]}),s.jsx("button",{type:"button",onClick:()=>T(O.id),style:{padding:"8px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",color:"#dc2626",cursor:"pointer",alignSelf:"flex-end"},children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})},O.id))}):s.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Нет запланированных отпусков"}),s.jsx("button",{type:"button",onClick:j,style:{marginTop:"12px",padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"+ Добавить период отпуска"})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Заблокированные даты"}),s.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:"Выберите отдельные дни, когда тренер не будет доступен (например, разовые выходные)"}),s.jsx("div",{style:{marginBottom:"12px"},children:s.jsx("input",{type:"date",className:"form-input",onChange:O=>{O.target.value&&(D(O.target.value),O.target.value="")},min:new Date().toISOString().split("T")[0],style:{maxWidth:"200px"}})}),a.blockedDates&&a.blockedDates.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:a.blockedDates.sort().map(O=>s.jsxs("div",{style:{padding:"4px 12px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"16px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:new Date(O+"T00:00:00").toLocaleDateString("ru-RU")}),s.jsx("button",{type:"button",onClick:()=>D(O),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:0,display:"flex",alignItems:"center"},children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},O))})]}),s.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:s.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[s.jsx("strong",{children:"Примечание:"})," В период отпуска или в заблокированные даты тренер не будет доступен для бронирования. Уже существующие бронирования необходимо отменить или перенести вручную."]})})]}),l==="account"&&r&&s.jsx("div",{children:s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Управление аккаунтом тренера"}),x?s.jsxs("div",{style:{padding:"20px",background:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"#22c55e",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#15803d"},children:"Аккаунт активен"}),s.jsxs("div",{style:{fontSize:"14px",color:"#16a34a"},children:["Email: ",a.email||(r==null?void 0:r.email)]})]})]}),s.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",marginBottom:"12px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"8px"},children:"Тренер может войти в систему используя:"}),s.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:["• Email: ",s.jsx("strong",{children:a.email||(r==null?void 0:r.email)}),s.jsx("br",{}),"• Пароль, который был установлен при создании аккаунта"]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{type:"button",onClick:()=>h(!0),style:{padding:"8px 16px",background:"#e0f2fe",color:"#0369a1",border:"1px solid #7dd3fc",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Изменить пароль"}),s.jsx("button",{type:"button",onClick:H,disabled:b,style:{padding:"8px 16px",background:"#fee2e2",color:"#dc2626",border:"1px solid #fca5a5",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:b?"not-allowed":"pointer",opacity:b?.5:1},children:b?"Удаление...":"Удалить аккаунт"})]})]}):s.jsxs("div",{style:{padding:"20px",background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"#f59e0b",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#92400e"},children:"Аккаунт не создан"}),s.jsx("div",{style:{fontSize:"14px",color:"#b45309"},children:"Тренер не может войти в систему"})]})]}),s.jsx("button",{type:"button",onClick:()=>{a.email?u(!0):(alert("Пожалуйста, сначала укажите email тренера в основных данных"),c("basic"))},style:{padding:"10px 20px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Создать аккаунт"})]}),s.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[s.jsx("h4",{style:{fontSize:"14px",fontWeight:600,marginBottom:"8px",color:"#374151"},children:"Права доступа тренера:"}),s.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#6b7280"},children:[s.jsx("li",{children:"Просмотр и редактирование своего профиля (кроме ФИО и телефона)"}),s.jsx("li",{children:"Управление своим расписанием и отпусками"}),s.jsx("li",{children:"Просмотр своих бронирований"}),s.jsx("li",{children:"Доступ только к личному кабинету"})]})]})]})})]}),d&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:s.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"20px"},children:"Изменение пароля тренера"}),s.jsxs("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",marginBottom:"16px"},children:[s.jsxs("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"4px"},children:["Тренер: ",s.jsxs("strong",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})]}),s.jsxs("div",{style:{fontSize:"13px",color:"#0369a1"},children:["Email: ",s.jsx("strong",{children:a.email||(r==null?void 0:r.email)})]})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"form-label",children:"Новый пароль"}),s.jsx("input",{type:"password",className:"form-input",value:f,onChange:O=>p(O.target.value),placeholder:"Минимум 6 символов"}),s.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"После изменения пароля новые данные будут автоматически отправлены на email тренера."})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:()=>{h(!1),p("")},disabled:b,style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:b?"not-allowed":"pointer",opacity:b?.5:1},children:"Отмена"}),s.jsx("button",{type:"button",onClick:z,disabled:b||!f||f.length<6,style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:b||!f||f.length<6?"not-allowed":"pointer",opacity:b||!f||f.length<6?.5:1},children:b?"Изменение...":"Изменить пароль"})]})]})}),A&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:s.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"20px"},children:"Создание аккаунта для тренера"}),a.email?s.jsxs("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",marginBottom:"16px"},children:[s.jsx("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"4px"},children:"Для входа будет использован email:"}),s.jsx("div",{style:{fontSize:"15px",fontWeight:600,color:"#0c4a6e"},children:a.email})]}):s.jsx("div",{style:{padding:"12px",background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",marginBottom:"16px"},children:s.jsx("div",{style:{fontSize:"14px",color:"#92400e"},children:"⚠️ Email не указан в основных данных тренера. Пожалуйста, сначала укажите email в основных данных."})}),s.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[s.jsx("label",{className:"form-label",children:"Имя для отображения"}),s.jsx("input",{type:"text",className:"form-input",value:g,onChange:O=>v(O.target.value),placeholder:"Имя Фамилия",disabled:!0})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"form-label",children:"Пароль"}),s.jsx("input",{type:"password",className:"form-input",value:f,onChange:O=>p(O.target.value),placeholder:"Минимум 6 символов"}),s.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Пароль должен содержать минимум 6 символов. Сообщите этот пароль тренеру для входа в систему."})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:()=>{u(!1),p("")},disabled:b,style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:b?"not-allowed":"pointer",opacity:b?.5:1},children:"Отмена"}),s.jsx("button",{type:"button",onClick:R,disabled:b||!a.email||!f||f.length<6,style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:b||!a.email||!f||f.length<6?"not-allowed":"pointer",opacity:b||!a.email||!f||f.length<6?.5:1},children:b?"Создание...":"Создать аккаунт"})]})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:r?"Сохранить изменения":"Добавить тренера"})]})]})]})})},Vhe=()=>{const{admin:e,club:t}=er(),{isSuperAdmin:n}=ri(),[r,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState(""),[A,u]=y.useState("all"),[d,h]=y.useState(!1),[f,p]=y.useState(null),[g,v]=y.useState(null),[x,C]=y.useState([]),[b,w]=y.useState(!1);y.useEffect(()=>{if(n){E();const z=localStorage.getItem("selectedVenueId");z?(v(z),F(z)):o(!1)}else e!=null&&e.venueId?F(e.venueId):t!=null&&t.id?F(t.id):o(!1)},[e,t,n]);const E=async()=>{try{const V=(await Mt(Ct(_e,"venues"))).docs.map(J=>({id:J.id,...J.data()}));C(V)}catch(z){console.error("Error fetching venues:",z)}},S=z=>{v(z),localStorage.setItem("selectedVenueId",z),F(z)},F=async z=>{if(z){o(!0);try{const V=qt(Ct(_e,"trainers"),vt("clubId","==",z),hB("firstName")),J=await Mt(V),te=[];J.forEach(Ae=>{te.push({id:Ae.id,...Ae.data()})}),i(te)}catch(V){console.error("Error fetching trainers:",V)}finally{o(!1)}}},N=()=>{p(null),h(!0)},P=z=>{p(z),h(!0)},Q=async z=>{if(window.confirm("Вы уверены, что хотите удалить этого тренера?"))try{await Xc(wt(_e,"trainers",z));const V=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);V&&await F(V),w(!0),setTimeout(()=>w(!1),3e3)}catch(V){console.error("Error deleting trainer:",V),alert("Ошибка при удалении тренера")}},j=async z=>{const V=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);if(V)try{f!=null&&f.id?await en(wt(_e,"trainers",f.id),{...z,updatedAt:Ot.now()}):await Ma(Ct(_e,"trainers"),{...z,clubId:V,createdAt:Ot.now(),updatedAt:Ot.now()}),await F(V),h(!1),w(!0),setTimeout(()=>w(!1),3e3)}catch(J){console.error("Error saving trainer:",J),alert("Ошибка при сохранении тренера")}},k=r.filter(z=>{const V=z.firstName.toLowerCase().includes(l.toLowerCase())||z.lastName.toLowerCase().includes(l.toLowerCase()),J=A==="all"||z.specialization.includes(A);return V&&J}),T=z=>{switch(z){case"tennis":return"🎾";case"padel":return"🏓";case"badminton":return"🏸";default:return"🎾"}},D=z=>{switch(z){case"active":return s.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#10B981",color:"white",borderRadius:"12px"},children:"Активен"});case"vacation":return s.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#F59E0B",color:"white",borderRadius:"12px"},children:"В отпуске"});case"inactive":return s.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#6B7280",color:"white",borderRadius:"12px"},children:"Неактивен"});default:return null}},R=z=>{var Ae,U,O,M;const J=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(L=>{var W,G;return(G=(W=z.schedule)==null?void 0:W[L])==null?void 0:G.enabled});if(J.length===0)return"Не указано";if(J.length===7)return"Ежедневно";if(J.length===5&&!((U=(Ae=z.schedule)==null?void 0:Ae.saturday)!=null&&U.enabled)&&!((M=(O=z.schedule)==null?void 0:O.sunday)!=null&&M.enabled))return"Пн-Пт";const te={monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб",sunday:"Вс"};return J.length===1?te[J[0]]:`${te[J[0]]}-${te[J[J.length-1]]}`},H=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);return a?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs("div",{children:[n&&s.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Управление клубом"})}),s.jsx("div",{className:"form-group",children:s.jsxs("select",{value:g||"",onChange:z=>S(z.target.value),className:"form-select",children:[s.jsx("option",{value:"",children:"Выберите клуб"}),x.map(z=>s.jsx("option",{value:z.id,children:z.name},z.id))]})})]}),b&&s.jsxs(Kt,{severity:"success",style:{marginBottom:"24px"},children:[s.jsx(qd,{children:"Успешно"}),"Операция выполнена успешно"]}),H?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Тренеры"}),s.jsxs("button",{onClick:N,className:"btn btn-primary",children:[s.jsx(cu,{fontSize:"small"}),"Добавить тренера"]})]}),s.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[s.jsxs("div",{style:{flex:1,minWidth:"200px",position:"relative"},children:[s.jsx(T5,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontSize:"20px"}}),s.jsx("input",{type:"text",placeholder:"Поиск по имени...",value:l,onChange:z=>c(z.target.value),className:"form-input",style:{paddingLeft:"40px"}})]}),s.jsxs("select",{value:A,onChange:z=>u(z.target.value),className:"form-select",style:{width:"auto"},children:[s.jsx("option",{value:"all",children:"Все виды спорта"}),s.jsx("option",{value:"tennis",children:"Теннис"}),s.jsx("option",{value:"padel",children:"Падел"}),s.jsx("option",{value:"badminton",children:"Бадминтон"})]})]})]}),k.length>0?s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginTop:"24px"},children:k.map(z=>{var V,J;return s.jsxs("div",{className:"section-card",style:{padding:"24px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:z.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[z.firstName[0],z.lastName[0]]}),s.jsxs("div",{children:[s.jsxs("h3",{style:{margin:0,fontSize:"18px",fontWeight:600},children:[z.firstName," ",z.lastName]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[z.specialization.map(te=>s.jsx("span",{style:{fontSize:"18px"},children:T(te)},te)),z.hasAccount?s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",fontSize:"12px",background:"#e0f2fe",color:"#0369a1",borderRadius:"12px",marginLeft:"8px"},children:[s.jsx(wp,{style:{fontSize:"14px"}}),"Аккаунт"]}):s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",fontSize:"12px",background:"#fef3c7",color:"#92400e",borderRadius:"12px",marginLeft:"8px"},children:[s.jsx(Ore,{style:{fontSize:"14px"}}),"Нет аккаунта"]})]})]})]}),D(z.status)]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px",color:"#6B7280",marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx($p,{style:{fontSize:"16px"}}),s.jsx("span",{children:R(z)}),z.schedule&&Object.keys(z.schedule).find(te=>{var Ae;return(Ae=z.schedule[te])==null?void 0:Ae.enabled})&&s.jsxs("span",{style:{color:"#9CA3AF"},children:[(V=z.schedule[Object.keys(z.schedule).find(te=>{var Ae;return(Ae=z.schedule[te])==null?void 0:Ae.enabled})||"monday"])==null?void 0:V.start," -",(J=z.schedule[Object.keys(z.schedule).find(te=>{var Ae;return(Ae=z.schedule[te])==null?void 0:Ae.enabled})||"monday"])==null?void 0:J.end]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Hc,{style:{fontSize:"16px"}}),s.jsxs("span",{children:[z.pricePerHour,"₽/час"]}),z.groupPrice&&s.jsxs("span",{style:{color:"#9CA3AF"},children:["• Группа: ",z.groupPrice,"₽"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(zre,{style:{fontSize:"16px"}}),s.jsxs("span",{children:[z.experience," лет опыта"]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsxs("button",{onClick:()=>P(z),className:"btn btn-secondary",style:{flex:1},children:[s.jsx($c,{fontSize:"small"}),"Изменить"]}),s.jsx("button",{onClick:()=>Q(z.id),className:"btn btn-danger",children:s.jsx(Au,{fontSize:"small"})})]})]},z.id)})}):s.jsx("div",{className:"section-card",style:{marginTop:"24px"},children:s.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[s.jsx(Lre,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),s.jsx("p",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"8px"},children:"Тренеры не найдены"}),r.length===0&&s.jsx("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"Добавьте первого тренера вашего клуба"})]})})]}):s.jsx("div",{className:"section-card",children:s.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[s.jsx(I5,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),s.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:n?"Выберите клуб для просмотра тренеров":"Клуб не найден"})]})}),d&&s.jsx(Khe,{isOpen:d,onClose:()=>h(!1),onSave:j,trainer:f,clubId:n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id)})]})};function Ghe(){const{admin:e}=er(),t=$r(),[n,r]=y.useState(null),[i,a]=y.useState(!0),[o,l]=y.useState(!1),[c,A]=y.useState("info"),[u,d]=y.useState({});y.useEffect(()=>{e!=null&&e.trainerId?h():t("/admin/dashboard")},[e]);const h=async()=>{if(e!=null&&e.trainerId)try{const S=await fn(wt(_e,"trainers",e.trainerId));if(S.exists()){const F={id:S.id,...S.data()};r(F),d(F)}}catch(S){console.error("Error fetching trainer data:",S)}finally{a(!1)}},f=S=>{const{name:F,value:N,type:P}=S.target;if(P==="checkbox"){const Q=S.target.checked;d(j=>({...j,[F]:Q}))}else d(P==="number"?Q=>({...Q,[F]:parseFloat(N)||0}):Q=>({...Q,[F]:N}))},p=S=>{d(F=>{var N;return{...F,specialization:(N=F.specialization)!=null&&N.includes(S)?F.specialization.filter(P=>P!==S):[...F.specialization||[],S]}})},g=(S,F,N)=>{d(P=>({...P,schedule:{...P.schedule,[S]:{...P.schedule[S],[F]:N}}}))},v=()=>{const S={id:Date.now().toString(),startDate:"",endDate:"",reason:""};d(F=>({...F,vacations:[...F.vacations||[],S]}))},x=(S,F,N)=>{d(P=>{var Q;return{...P,vacations:(Q=P.vacations)==null?void 0:Q.map(j=>j.id===S?{...j,[F]:N}:j)}})},C=S=>{d(F=>{var N;return{...F,vacations:(N=F.vacations)==null?void 0:N.filter(P=>P.id!==S)}})},b=S=>{d(F=>{const N=F.blockedDates||[];return N.includes(S)?{...F,blockedDates:N.filter(P=>P!==S)}:{...F,blockedDates:[...N,S]}})},w=async()=>{if(!(!(e!=null&&e.trainerId)||!u)){l(!0);try{const{firstName:S,lastName:F,phone:N,...P}=u;await en(wt(_e,"trainers",e.trainerId),{...P,updatedAt:new Date}),alert("Профиль успешно обновлен"),await h()}catch(S){console.error("Error updating trainer:",S),alert("Ошибка при сохранении профиля")}finally{l(!1)}}},E={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return i?s.jsx("div",{className:"section-card",children:"Загрузка..."}):n?s.jsx("div",{className:"container",children:s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h1",{className:"section-title",children:"Мой профиль"}),s.jsxs("button",{className:"btn btn-primary",onClick:w,disabled:o,children:[s.jsx(Dc,{style:{fontSize:"20px",marginRight:"8px"}}),o?"Сохранение...":"Сохранить изменения"]})]}),s.jsxs("div",{style:{padding:"16px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Основная информация"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Имя"}),s.jsx("input",{type:"text",className:"form-input",value:n.firstName,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Фамилия"}),s.jsx("input",{type:"text",className:"form-input",value:n.lastName,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"text",className:"form-input",value:n.phone,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]})]})]}),s.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",marginBottom:"24px"},children:[s.jsx("button",{type:"button",onClick:()=>A("info"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:c==="info"?"2px solid var(--primary)":"2px solid transparent",color:c==="info"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Профессиональные данные"}),s.jsx("button",{type:"button",onClick:()=>A("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:c==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:c==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Расписание"}),s.jsx("button",{type:"button",onClick:()=>A("vacations"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:c==="vacations"?"2px solid var(--primary)":"2px solid transparent",color:c==="vacations"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Отпуска и выходные"})]}),c==="info"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:f,className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),s.jsx("input",{type:"number",name:"experience",value:u.experience||0,onChange:f,min:"0",max:"50",className:"form-input"})]})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[s.jsx("label",{className:"form-label",children:"Специализация"}),s.jsx("div",{style:{display:"flex",gap:"12px"},children:["tennis","padel","badminton"].map(S=>{var F;return s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:((F=u.specialization)==null?void 0:F.includes(S))||!1,onChange:()=>p(S),style:{marginRight:"6px"}}),s.jsx("span",{style:{textTransform:"capitalize"},children:S})]},S)})})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[s.jsx("label",{className:"form-label",children:"О себе"}),s.jsx("textarea",{name:"bio",value:u.bio||"",onChange:f,className:"form-input",rows:4,placeholder:"Расскажите о своем опыте, достижениях, методике тренировок..."})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость часа (₽)"}),s.jsx("input",{type:"number",name:"pricePerHour",value:u.pricePerHour||0,onChange:f,min:"0",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость группового занятия (₽)"}),s.jsx("input",{type:"number",name:"groupPrice",value:u.groupPrice||0,onChange:f,min:"0",className:"form-input"})]})]})]}),c==="schedule"&&s.jsxs("div",{children:[Object.keys(E).map(S=>{var F,N,P,Q,j,k,T,D,R,H;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:(N=(F=u.schedule)==null?void 0:F[S])!=null&&N.enabled?"#f9fafb":"white"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:((Q=(P=u.schedule)==null?void 0:P[S])==null?void 0:Q.enabled)||!1,onChange:z=>g(S,"enabled",z.target.checked),style:{marginRight:"8px"}}),s.jsx("span",{style:{fontWeight:500},children:E[S]})]}),((k=(j=u.schedule)==null?void 0:j[S])==null?void 0:k.enabled)&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("input",{type:"time",value:((D=(T=u.schedule)==null?void 0:T[S])==null?void 0:D.start)||"09:00",onChange:z=>g(S,"start",z.target.value),className:"form-input",style:{width:"140px"}}),s.jsx("span",{children:"—"}),s.jsx("input",{type:"time",value:((H=(R=u.schedule)==null?void 0:R[S])==null?void 0:H.end)||"18:00",onChange:z=>g(S,"end",z.target.value),className:"form-input",style:{width:"140px"}})]})]},S)}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginTop:"16px"},children:[s.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:u.worksOnHolidays||!1,onChange:f,style:{marginRight:"8px"}}),s.jsx("span",{children:"Работаю в праздничные дни"})]})]}),c==="vacations"&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Периоды отпусков"}),u.vacations&&u.vacations.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:u.vacations.map(S=>s.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Начало"}),s.jsx("input",{type:"date",className:"form-input",value:S.startDate,onChange:F=>x(S.id,"startDate",F.target.value),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Окончание"}),s.jsx("input",{type:"date",className:"form-input",value:S.endDate,onChange:F=>x(S.id,"endDate",F.target.value),min:S.startDate||new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Причина"}),s.jsx("input",{type:"text",className:"form-input",value:S.reason||"",onChange:F=>x(S.id,"reason",F.target.value),placeholder:"Например: Отпуск, болезнь"})]}),s.jsx("button",{type:"button",onClick:()=>C(S.id),style:{padding:"8px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",color:"#dc2626",cursor:"pointer",alignSelf:"flex-end"},children:"Удалить"})]})},S.id))}):s.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Нет запланированных отпусков"}),s.jsx("button",{type:"button",onClick:v,style:{marginTop:"12px",padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"+ Добавить период отпуска"})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Заблокированные даты"}),s.jsx("div",{style:{marginBottom:"12px"},children:s.jsx("input",{type:"date",className:"form-input",onChange:S=>{S.target.value&&(b(S.target.value),S.target.value="")},min:new Date().toISOString().split("T")[0],style:{maxWidth:"200px"}})}),u.blockedDates&&u.blockedDates.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:u.blockedDates.sort().map(S=>s.jsxs("div",{style:{padding:"4px 12px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"16px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:new Date(S+"T00:00:00").toLocaleDateString("ru-RU")}),s.jsx("button",{type:"button",onClick:()=>b(S),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:0},children:"×"})]},S))})]})]})]})}):s.jsx("div",{className:"section-card",children:"Профиль тренера не найден"})}const qhe={companyType:"ИП",fullName:"ИП ТЕН КРИСТИНА ВАДИМОВНА",shortName:"ИП Тен К.В.",inn:"026401027275",ogrn:"313028000082460",legalAddress:{postcode:"420000",region:"Республика Татарстан",city:"г. Казань",street:"ул. Павлюхина",building:"д. 114, кв. 39"},bank:{name:'АО "ТБанк"',bik:"044525974",correspondentAccount:"30101810145250000974",checkingAccount:"40802810800000000779",bankAddress:"Москва, 123060, 1-й Волоколамский проезд, д. 10, стр. 1"},contacts:{phone:"+7 (999) 123-45-67",email:"info@allcourt.ru",website:"https://allcourt.ru",supportEmail:"admin@allcourt.ru"},director:{fullName:"Тен Кристина Вадимовна",position:"Индивидуальный предприниматель",basedOn:"Свидетельства о государственной регистрации"}};function Yhe(){const{isSuperAdmin:e}=ri(),[t,n]=y.useState(!0),[r,i]=y.useState(!1),[a,o]=y.useState(qhe),[l,c]=y.useState(!1),[A,u]=y.useState(null);y.useEffect(()=>{d()},[]);const d=async()=>{try{const p=wt(_e,"settings","company"),g=await fn(p);g.exists()&&o(g.data())}catch(p){console.error("Error loading company details:",p)}finally{n(!1)}},h=async()=>{try{i(!0);const p=wt(_e,"settings","company");await fB(p,{...a,updatedAt:new Date}),c(!1),u({type:"success",text:"Реквизиты компании сохранены"}),setTimeout(()=>u(null),3e3)}catch(p){console.error("Error saving company details:",p),u({type:"error",text:"Ошибка при сохранении реквизитов"}),setTimeout(()=>u(null),3e3)}finally{i(!1)}},f=()=>{c(!1),d()};return e?t?s.jsx(Ce,{sx:{display:"flex",justifyContent:"center",p:3},children:s.jsx(nr,{})}):s.jsxs(Ce,{sx:{p:3},children:[s.jsx(q,{variant:"h4",gutterBottom:!0,children:"Реквизиты компании-владельца платформы"}),s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Эти реквизиты используются в публичной оферте, договорах и официальных документах платформы"}),A&&s.jsx(Kt,{severity:A.type,sx:{mb:3},onClose:()=>u(null),children:A.text}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(tf,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Основные реквизиты"})]}),l?s.jsxs(Ce,{children:[s.jsx(Ft,{onClick:f,sx:{mr:1},children:"Отмена"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(Dc,{}),onClick:h,disabled:r,children:r?"Сохранение...":"Сохранить"})]}):s.jsx(Ft,{variant:"outlined",onClick:()=>c(!0),children:"Редактировать"})]}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Форма собственности",value:a.companyType,onChange:p=>o({...a,companyType:p.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Краткое наименование",value:a.shortName,onChange:p=>o({...a,shortName:p.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Lt,{label:"Полное наименование",value:a.fullName,onChange:p=>o({...a,fullName:p.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsx(Lt,{label:"ИНН",value:a.inn,onChange:p=>o({...a,inn:p.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsx(Lt,{label:"КПП",value:a.kpp||"—",onChange:p=>o({...a,kpp:p.target.value}),fullWidth:!0,disabled:!l,helperText:"Для ИП не требуется"})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsx(Lt,{label:"ОГРН/ОГРНИП",value:a.ogrn,onChange:p=>o({...a,ogrn:p.target.value}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Юридический адрес"}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:2,children:s.jsx(Lt,{label:"Индекс",value:a.legalAddress.postcode,onChange:p=>o({...a,legalAddress:{...a.legalAddress,postcode:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsx(Lt,{label:"Регион",value:a.legalAddress.region,onChange:p=>o({...a,legalAddress:{...a.legalAddress,region:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:3,children:s.jsx(Lt,{label:"Город",value:a.legalAddress.city,onChange:p=>o({...a,legalAddress:{...a.legalAddress,city:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:3,children:s.jsx(Lt,{label:"Улица",value:a.legalAddress.street,onChange:p=>o({...a,legalAddress:{...a.legalAddress,street:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Дом, корпус, квартира",value:a.legalAddress.building,onChange:p=>o({...a,legalAddress:{...a.legalAddress,building:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Офис/помещение",value:a.legalAddress.office||"",onChange:p=>o({...a,legalAddress:{...a.legalAddress,office:p.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,mb:2,children:[s.jsx(Px,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Банковские реквизиты"})]}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Наименование банка",value:a.bank.name,onChange:p=>o({...a,bank:{...a.bank,name:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"БИК",value:a.bank.bik,onChange:p=>o({...a,bank:{...a.bank,bik:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Расчетный счет",value:a.bank.checkingAccount,onChange:p=>o({...a,bank:{...a.bank,checkingAccount:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Корреспондентский счет",value:a.bank.correspondentAccount,onChange:p=>o({...a,bank:{...a.bank,correspondentAccount:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Lt,{label:"Адрес банка",value:a.bank.bankAddress,onChange:p=>o({...a,bank:{...a.bank,bankAddress:p.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,mb:2,children:[s.jsx(wre,{color:"primary"}),s.jsx(q,{variant:"h6",children:"Контактная информация"})]}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Телефон",value:a.contacts.phone,onChange:p=>o({...a,contacts:{...a.contacts,phone:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Email",value:a.contacts.email,onChange:p=>o({...a,contacts:{...a.contacts,email:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Сайт",value:a.contacts.website,onChange:p=>o({...a,contacts:{...a.contacts,website:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Email поддержки",value:a.contacts.supportEmail,onChange:p=>o({...a,contacts:{...a.contacts,supportEmail:p.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Руководитель"}),s.jsxs(gt,{container:!0,spacing:2,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"ФИО",value:a.director.fullName,onChange:p=>o({...a,director:{...a.director,fullName:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Lt,{label:"Должность",value:a.director.position,onChange:p=>o({...a,director:{...a.director,position:p.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(gt,{item:!0,xs:12,children:s.jsx(Lt,{label:"Действует на основании",value:a.director.basedOn,onChange:p=>o({...a,director:{...a.director,basedOn:p.target.value}}),fullWidth:!0,disabled:!l})})]})]})})]}):s.jsx(Ce,{sx:{p:3},children:s.jsx(Kt,{severity:"error",children:"У вас нет доступа к настройкам компании"})})}function Xhe(){const{isSuperAdmin:e}=ri(),[t,n]=y.useState(!1),[r,i]=y.useState(null),[a,o]=y.useState(!1);if(!e)return s.jsx(Kt,{severity:"error",children:"Доступ запрещен. Эта страница доступна только суперадминистраторам."});const l=async()=>{o(!1),n(!0),i(null);try{const c=await Zfe();i(c)}catch(c){console.error("Ошибка миграции:",c),i({success:!1,error:c instanceof Error?c.message:"Неизвестная ошибка"})}finally{n(!1)}};return s.jsxs(Ce,{children:[s.jsx(q,{variant:"h5",component:"h2",gutterBottom:!0,children:"Инструменты миграции"}),s.jsx(Zt,{sx:{mb:3},children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Миграция тарифных планов"}),s.jsxs(Kt,{severity:"info",sx:{mb:2},children:["Эта миграция обновит старые названия тарифов на новые:",s.jsxs(Wi,{dense:!0,children:[s.jsx(mn,{children:s.jsx(vn,{primary:"СТАРТ → БАЗОВЫЙ"})}),s.jsx(mn,{children:s.jsx(vn,{primary:"СТАНДАРТ → CRM"})})]})]}),r&&s.jsx(Kt,{severity:r.success?"success":"error",sx:{mb:2},children:r.success?s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Миграция завершена успешно!"}),s.jsxs(q,{variant:"body2",children:["✅ Обновлено: ",r.updated," подписок",s.jsx("br",{}),"⏭️ Пропущено: ",r.skipped," подписок",s.jsx("br",{}),"📝 Всего обработано: ",r.total," подписок"]})]}):s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle2",gutterBottom:!0,children:"Ошибка миграции"}),s.jsx(q,{variant:"body2",children:r.error})]})}),t?s.jsxs(Ce,{sx:{width:"100%",mt:2},children:[s.jsx(q,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выполняется миграция..."}),s.jsx(LA,{})]}):s.jsx(Ft,{variant:"contained",color:"primary",startIcon:s.jsx(FD,{}),onClick:()=>o(!0),disabled:r==null?void 0:r.success,children:"Запустить миграцию"})]})}),s.jsxs(Oa,{open:a,onClose:()=>o(!1),children:[s.jsx(ss,{children:s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(zc,{color:"warning"}),"Подтверждение миграции"]})}),s.jsxs(Ra,{children:[s.jsx(q,{variant:"body1",paragraph:!0,children:"Вы уверены, что хотите запустить миграцию тарифных планов?"}),s.jsx(q,{variant:"body2",color:"text.secondary",children:"Это действие обновит все подписки со старыми названиями тарифов (СТАРТ и СТАНДАРТ) на новые (БАЗОВЫЙ и CRM)."})]}),s.jsxs(as,{children:[s.jsx(Ft,{onClick:()=>o(!1),children:"Отмена"}),s.jsx(Ft,{variant:"contained",color:"primary",onClick:l,startIcon:s.jsx(ya,{}),children:"Подтвердить"})]})]})]})}const LI=[{value:"Казань",label:"Казань",bbox:"48.802752,55.625578~49.448442,55.913057",center:{lat:55.796127,lng:49.106405}},{value:"Москва",label:"Москва",bbox:"36.803267,55.142221~38.234218,56.021276",center:{lat:55.755826,lng:37.6173}},{value:"Санкт-Петербург",label:"Санкт-Петербург",bbox:"29.438891,59.684476~31.261872,60.241194",center:{lat:59.931226,lng:30.359909}},{value:"Нижний Новгород",label:"Нижний Новгород",bbox:"43.767255,56.196689~44.115164,56.381065",center:{lat:56.296504,lng:43.936059}},{value:"Екатеринбург",label:"Екатеринбург",bbox:"60.384186,56.706139~60.840607,56.950140",center:{lat:56.838011,lng:60.597474}},{value:"Новосибирск",label:"Новосибирск",bbox:"82.707184,54.901582~83.174820,55.184899",center:{lat:55.008838,lng:82.935733}},{value:"Самара",label:"Самара",bbox:"50.044656,53.092896~50.358154,53.320475",center:{lat:53.195878,lng:50.100193}},{value:"Краснодар",label:"Краснодар",bbox:"38.869095,45.001469~39.081459,45.138085",center:{lat:45.03547,lng:38.975313}},{value:"Сочи",label:"Сочи",bbox:"39.532990,43.388969~39.791107,43.685066",center:{lat:43.585525,lng:39.723062}}],bv=[{value:"padel",label:"Падел",keywords:["падел","padel","падел клуб","padel club","падел корт"]},{value:"tennis",label:"Теннис",keywords:["теннис","tennis","теннисный клуб","теннисный корт","tennis club"]},{value:"badminton",label:"Бадминтон",keywords:["бадминтон","badminton","бадминтонный клуб","бадминтонный корт"]}];function Jhe(){const{admin:e}=er(),t=$r(),[n,r]=y.useState(""),[i,a]=y.useState(""),[o,l]=y.useState(!1),[c,A]=y.useState([]),[u,d]=y.useState(""),[h,f]=y.useState(""),[p,g]=y.useState(!1);y.useEffect(()=>{(e==null?void 0:e.role)!=="superadmin"&&t("/admin")},[e,t]);const v=async()=>{var b,w,E,S;if(!n){d("Выберите город для парсинга");return}if(!i){d("Выберите вид спорта для парсинга");return}l(!0),d(""),f(""),A([]);try{const F=Ai(qo,"parseClubs"),N=LI.find(k=>k.value===n),P=bv.find(k=>k.value===i),j=(await F({city:n,bbox:N==null?void 0:N.bbox,center:N==null?void 0:N.center,sport:i,keywords:P==null?void 0:P.keywords,timestamp:Date.now()})).data;if(console.log("Получены клубы от сервера:",(b=j.clubs)==null?void 0:b.length),j.clubs&&j.clubs.length>0){console.log("Первый клуб:",{name:j.clubs[0].name,photoUrl:j.clubs[0].photoUrl,hasGoogleMapsUrl:(w=j.clubs[0].photoUrl)==null?void 0:w.includes("googleapis.com")});const k=R=>R?(R.includes("maps.googleapis.com/maps/api/staticmap")||R.includes("maps.googleapis.com/maps/api/streetview")||R.includes("/staticmap")||R.includes("/streetview"))&&!R.includes("/place/photo"):!1,T=j.clubs.map(R=>{var H,z;return k(R.photoUrl)&&console.warn(`Обнаружен Google Maps URL в photoUrl для клуба ${R.name}:`,R.photoUrl),(H=R.photos)!=null&&H.some(V=>k(V))&&console.warn(`Обнаружены Google Maps URLs в photos для клуба ${R.name}:`,R.photos.filter(V=>k(V))),{...R,photoUrl:k(R.photoUrl)?void 0:R.photoUrl,logoUrl:k(R.logoUrl)?void 0:R.logoUrl,photos:((z=R.photos)==null?void 0:z.filter(V=>!k(V)))||[]}});await x(T);const D=((E=bv.find(R=>R.value===i))==null?void 0:E.label)||i;f(`Найдено ${j.clubs.length} ${D.toLowerCase()} клубов в городе ${n}`)}else{const k=((S=bv.find(T=>T.value===i))==null?void 0:S.label)||i;d(`${k} клубы не найдены в городе ${n}`)}}catch(F){console.error("Ошибка парсинга:",F),d(F.message||"Ошибка при запуске парсера")}finally{l(!1)}},x=async b=>{g(!0);try{const w=Ct(_e,"venues"),E=await Mt(w),S=b.map(F=>{let N=!1;return E.forEach(P=>{const Q=P.data();if(Q.address&&F.address){const j=Q.address.toLowerCase().trim(),k=F.address.toLowerCase().trim();if(j===k){N=!0;return}}if(Q.coordinates&&F.coordinates){const j=Math.abs(Q.coordinates.latitude-F.coordinates.latitude),k=Math.abs(Q.coordinates.longitude-F.coordinates.longitude);if(j<.001&&k<.001){N=!0;return}}}),{...F,isRegistered:N}});A(S)}catch(w){console.error("Ошибка проверки клубов:",w)}finally{g(!1)}},C=async b=>{var w,E;if(!b.isRegistered)try{d("");const S=Ai(qo,"registerClubFromParser");console.log("Отправляем данные клуба:",{name:b.name,coordinates:b.coordinates,hasCoordinates:!!b.coordinates,coordinatesDetails:b.coordinates?{latitude:b.coordinates.latitude,longitude:b.coordinates.longitude}:null,photos:((w=b.photos)==null?void 0:w.length)||0});const F=k=>k?(k.includes("maps.googleapis.com/maps/api/staticmap")||k.includes("maps.googleapis.com/maps/api/streetview")||k.includes("/staticmap")||k.includes("/streetview"))&&!k.includes("/place/photo"):!1,N=F(b.photoUrl)?void 0:b.photoUrl,P=F(b.logoUrl)?void 0:b.logoUrl,Q=((E=b.photos)==null?void 0:E.filter(k=>!F(k)))||[],j=await S({name:b.name,city:b.city,address:b.address,coordinates:b.coordinates,description:b.description,phones:b.phones||[],website:b.website||"",tags:b.tags,uri:b.uri,photoUrl:N,logoUrl:P,photos:Q,sportType:i});if(console.log("Результат регистрации:",j),j&&j.data){const k=j.data.venueId;k&&console.log(`Клуб зарегистрирован с ID: ${k}`)}f(`✅ Клуб "${b.name}" успешно зарегистрирован на платформе с кортом "${i}"!`),A(k=>k.map(T=>T.id===b.id?{...T,isRegistered:!0}:T)),window.scrollTo({top:0,behavior:"smooth"})}catch(S){console.error("Ошибка регистрации:",S),d(`❌ Ошибка регистрации клуба: ${S.message||"Неизвестная ошибка"}`),window.scrollTo({top:0,behavior:"smooth"})}};return s.jsxs(Ce,{sx:{p:3},children:[s.jsx(q,{variant:"h4",gutterBottom:!0,children:"🔍 Парсер клубов"}),s.jsx(Kt,{severity:"info",sx:{mb:3},children:"Этот инструмент позволяет находить спортивные клубы через Яндекс.Карты и регистрировать их на платформе."}),s.jsx(Zt,{sx:{mb:3},children:s.jsx(tn,{children:s.jsxs(gt,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(gt,{item:!0,xs:12,md:3,children:s.jsxs(po,{fullWidth:!0,required:!0,children:[s.jsx(Jo,{children:"Город *"}),s.jsx(go,{value:n,onChange:b=>r(b.target.value),label:"Город *",disabled:o,children:LI.map(b=>s.jsx(gr,{value:b.value,children:b.label},b.value))})]})}),s.jsx(gt,{item:!0,xs:12,md:3,children:s.jsxs(po,{fullWidth:!0,required:!0,children:[s.jsx(Jo,{children:"Вид спорта *"}),s.jsx(go,{value:i,onChange:b=>a(b.target.value),label:"Вид спорта *",disabled:o,children:bv.map(b=>s.jsx(gr,{value:b.value,children:b.label},b.value))})]})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsx(Ft,{variant:"contained",color:"primary",onClick:v,disabled:!n||!i||o,startIcon:o?s.jsx(nr,{size:20}):s.jsx(T5,{}),fullWidth:!0,size:"large",children:o?"Поиск...":"Начать поиск"})})]})})}),u&&s.jsx(Kt,{severity:"error",sx:{mb:2},onClose:()=>d(""),children:u}),h&&s.jsx(Kt,{severity:"success",sx:{mb:2},onClose:()=>f(""),children:h}),p&&s.jsxs(Ce,{display:"flex",justifyContent:"center",p:3,children:[s.jsx(nr,{}),s.jsx(q,{sx:{ml:2},children:"Проверка существующих клубов..."})]}),c.length>0&&!p&&s.jsx(Oo,{component:Pn,children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Фото"}),s.jsx(pt,{children:"Название"}),s.jsx(pt,{children:"Адрес"}),s.jsx(pt,{children:"Координаты"}),s.jsx(pt,{children:"Теги"}),s.jsx(pt,{align:"center",children:"Действия"})]})}),s.jsx(Lo,{children:c.map((b,w)=>{var E,S;return s.jsxs(Pr,{sx:{backgroundColor:b.isRegistered?"action.hover":"inherit",opacity:b.isRegistered?.7:1},children:[s.jsx(pt,{children:s.jsx(Ce,{sx:{width:100,height:80,position:"relative"},children:b.photoUrl&&!b.photoUrl.includes("/staticmap")&&!b.photoUrl.includes("/streetview")?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:b.photoUrl,alt:b.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",border:"1px solid #e0e0e0"},onError:F=>{const N=F.target;N.style.display="none";const P=N.parentElement;P&&(P.innerHTML='<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#f5f5f5;border-radius:8px;border:1px solid #e0e0e0"><svg width="32" height="32" viewBox="0 0 24 24" fill="#999"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>')}}),b.photoUrl&&s.jsx(Gn,{label:"Сайт",size:"small",sx:{position:"absolute",bottom:4,left:4,fontSize:"10px",height:"16px",backgroundColor:"rgba(76, 175, 80, 0.8)",color:"white"}}),b.photos&&b.photos.length>1&&s.jsx(Gn,{label:`+${b.photos.length-1}`,size:"small",sx:{position:"absolute",top:4,right:4,fontSize:"10px",height:"16px",backgroundColor:"rgba(0,0,0,0.7)",color:"white"}})]}):s.jsx(Ce,{sx:{width:"100%",height:"100%",backgroundColor:"#f5f5f5",borderRadius:"8px",border:"1px solid #e0e0e0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:.5},children:(E=b.photoUrl)!=null&&E.includes("/staticmap")||(S=b.photoUrl)!=null&&S.includes("/streetview")?s.jsxs(s.Fragment,{children:[s.jsx(Yk,{sx:{color:"text.disabled",fontSize:24}}),s.jsx(q,{variant:"caption",color:"text.secondary",sx:{fontSize:"10px"},children:b.photoUrl.includes("streetview")?"Street View":"Карта"})]}):b.coordinates?s.jsxs(s.Fragment,{children:[s.jsx(Yk,{sx:{color:"text.disabled",fontSize:24}}),s.jsx(q,{variant:"caption",color:"text.secondary",sx:{fontSize:"10px"},children:"Карта"})]}):s.jsxs(s.Fragment,{children:[s.jsx(gre,{sx:{color:"text.disabled",fontSize:24}}),s.jsx(q,{variant:"caption",color:"text.secondary",sx:{fontSize:"10px"},children:"Нет фото"})]})})})}),s.jsx(pt,{children:s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle1",fontWeight:"bold",children:b.name}),b.description&&s.jsx(q,{variant:"body2",color:"text.secondary",children:b.description})]})}),s.jsx(pt,{children:s.jsxs(Ce,{children:[s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Dre,{fontSize:"small",color:"action"}),s.jsx(q,{variant:"body2",children:b.address})]}),b.website&&s.jsxs(Ce,{display:"flex",alignItems:"center",gap:1,mt:.5,children:[s.jsx(_re,{fontSize:"small",color:"action"}),s.jsx(q,{variant:"caption",color:"primary",component:"a",href:b.website,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none","&:hover":{textDecoration:"underline"}},children:b.website})]})]})}),s.jsx(pt,{children:b.coordinates?s.jsx(T0,{title:"Открыть на карте",children:s.jsx(Gn,{size:"small",label:`${b.coordinates.latitude.toFixed(4)}, ${b.coordinates.longitude.toFixed(4)}`,onClick:()=>{var F,N;return window.open(`https://yandex.ru/maps/?ll=${(F=b.coordinates)==null?void 0:F.longitude},${(N=b.coordinates)==null?void 0:N.latitude}&z=17`,"_blank")}})}):s.jsx(q,{variant:"body2",color:"text.secondary",children:"Не определены"})}),s.jsx(pt,{children:s.jsx(Ce,{display:"flex",gap:.5,flexWrap:"wrap",children:b.tags.map(F=>s.jsx(Gn,{label:F,size:"small",variant:"outlined"},F))})}),s.jsx(pt,{align:"center",children:b.isRegistered?s.jsx(Gn,{icon:s.jsx(ya,{}),label:"Зарегистрирован",color:"success",variant:"filled"}):s.jsx(Ft,{variant:"contained",color:"primary",size:"small",startIcon:s.jsx(cu,{}),onClick:()=>C(b),children:"Зарегистрировать"})})]},b.id||w)})})]})})]})}var Jx={},q6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(q6);var G5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(G5);var q5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(q5);var Zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const A=n[a];l?A==="\\"&&a+1<i?(a++,o+=n[a]):A===l?l="":o+=A:c?A==='"'||A==="'"?l=A:A==="]"?(c=!1,r.push(o),o=""):o+=A:A==="["?(c=!0,o&&(r.push(o),o="")):A==="."?o&&(r.push(o),o=""):o+=A,a++}return o&&r.push(o),r}e.toPath=t})(Zx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q6,n=G5,r=q5,i=Zx;function a(l,c,A){if(l==null)return A;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return A;const u=l[c];return u===void 0?n.isDeepKey(c)?a(l,i.toPath(c),A):A:u}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const u=l[c];return u===void 0?A:u}default:{if(Array.isArray(c))return o(l,c,A);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return A;const u=l[c];return u===void 0?A:u}}}function o(l,c,A){if(c.length===0)return A;let u=l;for(let d=0;d<c.length;d++){if(u==null||t.isUnsafeProperty(c[d]))return A;u=u[c[d]]}return u===void 0?A:u}e.get=a})(Jx);var Zhe=Jx.get;const sf=zl(Zhe);var ns=e=>e===0?0:e>0?1:-1,mo=e=>typeof e=="number"&&e!=+e,lp=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,jn=e=>(typeof e=="number"||e instanceof Number)&&!mo(e),Ll=e=>jn(e)||typeof e=="string",epe=0,J0=e=>{var t=++epe;return"".concat(e||"").concat(t)},Ko=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!jn(t)&&typeof t!="string")return r;var a;if(lp(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return mo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Y6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},OI=(e,t)=>jn(e)&&jn(t)?n=>e+n*(t-e):()=>t;function tpe(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):sf(r,t))===n)}var eu=e=>e===null||typeof e>"u",Fg=e=>eu(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),npe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Y5(e){if(typeof e!="string")return!1;var t=npe;return t.includes(e)}var rpe=["viewBox","children"],RI=["points","pathLength"],j2={svg:rpe,polygon:RI,polyline:RI},ipe=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Y5(i)&&(r[i]=a=>n[i](n,a))}),r},ape=(e,t,n)=>r=>(e(t,n,r),null),X6=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Y5(i)&&typeof a=="function"&&(r||(r={}),r[i]=ape(a,t,n))}),r},spe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function J6(e){if(typeof e!="string")return!1;var t=spe;return t.includes(e)}function e1(e){var t=Object.entries(e).filter(n=>{var[r]=n;return J6(r)});return Object.fromEntries(t)}var QI=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",HI=null,E2=null,Z6=e=>{if(e===HI&&Array.isArray(E2))return E2;var t=[];return y.Children.forEach(e,n=>{eu(n)||(cw.isFragment(n)?t=t.concat(Z6(n.props.children)):t.push(n))}),E2=t,HI=e,t};function eU(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>QI(i)):r=[QI(t)],Z6(e).forEach(i=>{var a=sf(i,"type.displayName")||sf(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var ope=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(j2==null?void 0:j2[r]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!r&&a.includes(t)||J6(t)),c=!!n&&Y5(t);return o||l||c},cs=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;ope((o=r)===null||o===void 0?void 0:o[a],a,t,n)&&(i[a]=r[a])}),i},lpe=["children","width","height","viewBox","className","style","title","desc"];function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CC.apply(null,arguments)}function cpe(e,t){if(e==null)return{};var n,r,i=Ape(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ape(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var X5=y.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:c,desc:A}=e,u=cpe(e,lpe),d=a||{width:r,height:i,x:0,y:0},h=et("recharts-surface",o);return y.createElement("svg",CC({},cs(u,!0,"svg"),{className:h,width:r,height:i,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,A),n)}),upe=["children","className"];function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BC.apply(null,arguments)}function dpe(e,t){if(e==null)return{};var n,r,i=fpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var of=y.forwardRef((e,t)=>{var{children:n,className:r}=e,i=dpe(e,upe),a=et("recharts-layer",r);return y.createElement("g",BC({className:a},cs(i,!0),{ref:t}),n)}),tU=y.createContext(null),hpe=()=>y.useContext(tU);function dr(e){return function(){return e}}const nU=Math.cos,Z0=Math.sin,wo=Math.sqrt,ey=Math.PI,t1=2*ey,SC=Math.PI,jC=2*SC,CA=1e-6,ppe=jC-CA;function rU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rU;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rU:gpe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,A=i-n,u=o-t,d=l-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>CA)if(!(Math.abs(d*c-A*u)>CA)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-o,p=i-l,g=c*c+A*A,v=f*f+p*p,x=Math.sqrt(g),C=Math.sqrt(h),b=a*Math.tan((SC-Math.acos((g+h-v)/(2*x*C)))/2),w=b/C,E=b/x;Math.abs(w-1)>CA&&this._append`L${t+w*u},${n+w*d}`,this._append`A${a},${a},0,0,${+(d*f>u*p)},${this._x1=t+E*c},${this._y1=n+E*A}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),A=t+l,u=n+c,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${A},${u}`:(Math.abs(this._x1-A)>CA||Math.abs(this._y1-u)>CA)&&this._append`L${A},${u}`,r&&(h<0&&(h=h%jC+jC),h>ppe?this._append`A${r},${r},0,1,${d},${t-l},${n-c}A${r},${r},0,1,${d},${this._x1=A},${this._y1=u}`:h>CA&&this._append`A${r},${r},0,${+(h>=SC)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function J5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mpe(t)}function Z5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iU(e){this._context=e}iU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function n1(e){return new iU(e)}function aU(e){return e[0]}function sU(e){return e[1]}function oU(e,t){var n=dr(!0),r=null,i=n1,a=null,o=J5(l);e=typeof e=="function"?e:e===void 0?aU:dr(e),t=typeof t=="function"?t:t===void 0?sU:dr(t);function l(c){var A,u=(c=Z5(c)).length,d,h=!1,f;for(r==null&&(a=i(f=o())),A=0;A<=u;++A)!(A<u&&n(d=c[A],A,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,A,c),+t(d,A,c));if(f)return a=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function wv(e,t,n){var r=null,i=dr(!0),a=null,o=n1,l=null,c=J5(A);e=typeof e=="function"?e:e===void 0?aU:dr(+e),t=typeof t=="function"?t:dr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?sU:dr(+n);function A(d){var h,f,p,g=(d=Z5(d)).length,v,x=!1,C,b=new Array(g),w=new Array(g);for(a==null&&(l=o(C=c())),h=0;h<=g;++h){if(!(h<g&&i(v=d[h],h,d))===x)if(x=!x)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=f;--p)l.point(b[p],w[p]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(v,h,d),w[h]=+t(v,h,d),l.point(r?+r(v,h,d):b[h],n?+n(v,h,d):w[h]))}if(C)return l=null,C+""||null}function u(){return oU().defined(i).curve(o).context(a)}return A.x=function(d){return arguments.length?(e=typeof d=="function"?d:dr(+d),r=null,A):e},A.x0=function(d){return arguments.length?(e=typeof d=="function"?d:dr(+d),A):e},A.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:dr(+d),A):r},A.y=function(d){return arguments.length?(t=typeof d=="function"?d:dr(+d),n=null,A):t},A.y0=function(d){return arguments.length?(t=typeof d=="function"?d:dr(+d),A):t},A.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:dr(+d),A):n},A.lineX0=A.lineY0=function(){return u().x(e).y(t)},A.lineY1=function(){return u().x(e).y(n)},A.lineX1=function(){return u().x(r).y(t)},A.defined=function(d){return arguments.length?(i=typeof d=="function"?d:dr(!!d),A):i},A.curve=function(d){return arguments.length?(o=d,a!=null&&(l=o(a)),A):o},A.context=function(d){return arguments.length?(d==null?a=l=null:l=o(a=d),A):a},A}class lU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function vpe(e){return new lU(e,!0)}function ype(e){return new lU(e,!1)}const eS={draw(e,t){const n=wo(t/ey);e.moveTo(n,0),e.arc(0,0,n,0,t1)}},xpe={draw(e,t){const n=wo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},cU=wo(1/3),bpe=cU*2,wpe={draw(e,t){const n=wo(t/bpe),r=n*cU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Cpe={draw(e,t){const n=wo(t),r=-n/2;e.rect(r,r,n,n)}},Bpe=.8908130915292852,AU=Z0(ey/10)/Z0(7*ey/10),Spe=Z0(t1/10)*AU,jpe=-nU(t1/10)*AU,Epe={draw(e,t){const n=wo(t*Bpe),r=Spe*n,i=jpe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=t1*a/5,l=nU(o),c=Z0(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},k2=wo(3),kpe={draw(e,t){const n=-wo(t/(k2*3));e.moveTo(0,n*2),e.lineTo(-k2*n,-n),e.lineTo(k2*n,-n),e.closePath()}},bs=-.5,ws=wo(3)/2,EC=1/wo(12),Ipe=(EC/2+1)*3,Tpe={draw(e,t){const n=wo(t/Ipe),r=n/2,i=n*EC,a=r,o=n*EC+n,l=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(bs*r-ws*i,ws*r+bs*i),e.lineTo(bs*a-ws*o,ws*a+bs*o),e.lineTo(bs*l-ws*c,ws*l+bs*c),e.lineTo(bs*r+ws*i,bs*i-ws*r),e.lineTo(bs*a+ws*o,bs*o-ws*a),e.lineTo(bs*l+ws*c,bs*c-ws*l),e.closePath()}};function Npe(e,t){let n=null,r=J5(i);e=typeof e=="function"?e:dr(e||eS),t=typeof t=="function"?t:dr(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:dr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:dr(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ty(){}function ny(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function uU(e){this._context=e}uU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ny(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ny(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fpe(e){return new uU(e)}function dU(e){this._context=e}dU.prototype={areaStart:ty,areaEnd:ty,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ny(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ppe(e){return new dU(e)}function fU(e){this._context=e}fU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ny(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _pe(e){return new fU(e)}function hU(e){this._context=e}hU.prototype={areaStart:ty,areaEnd:ty,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Dpe(e){return new hU(e)}function $I(e){return e<0?-1:1}function zI(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return($I(a)+$I(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function WI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function I2(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function ry(e){this._context=e}ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:I2(this,this._t0,WI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,I2(this,WI(this,n=zI(this,e,t)),n);break;default:I2(this,this._t0,n=zI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function pU(e){this._context=new gU(e)}(pU.prototype=Object.create(ry.prototype)).point=function(e,t){ry.prototype.point.call(this,t,e)};function gU(e){this._context=e}gU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Mpe(e){return new ry(e)}function Upe(e){return new pU(e)}function mU(e){this._context=e}mU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=KI(e),i=KI(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KI(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Lpe(e){return new mU(e)}function r1(e,t){this._context=e,this._t=t}r1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ope(e){return new r1(e,.5)}function Rpe(e){return new r1(e,0)}function Qpe(e){return new r1(e,1)}function lf(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Hpe(e,t){return e[t]}function $pe(e){const t=[];return t.key=e,t}function zpe(){var e=dr([]),t=kC,n=lf,r=Hpe;function i(a){var o=Array.from(e.apply(this,arguments),$pe),l,c=o.length,A=-1,u;for(const d of a)for(l=0,++A;l<c;++l)(o[l][A]=[0,+r(d,o[l].key,A,a)]).data=d;for(l=0,u=Z5(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:dr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:dr(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?kC:typeof a=="function"?a:dr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??lf,i):n},i}function Wpe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}lf(e,t)}}function Kpe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}lf(e,t)}}function Vpe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,A=0;l<o;++l){for(var u=e[t[l]],d=u[r][1]||0,h=u[r-1][1]||0,f=(d-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[r][1]||0,x=g[r-1][1]||0;f+=v-x}c+=d,A+=f*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=A/c)}i[r-1][1]+=i[r-1][0]=n,lf(e,t)}}var Gpe=["type","size","sizeType"];function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IC.apply(null,arguments)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpe(e,t,n){return(t=Ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ype(e){var t=Xpe(e,"string");return typeof t=="symbol"?t:t+""}function Xpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jpe(e,t){if(e==null)return{};var n,r,i=Zpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vU={symbolCircle:eS,symbolCross:xpe,symbolDiamond:wpe,symbolSquare:Cpe,symbolStar:Epe,symbolTriangle:kpe,symbolWye:Tpe},ege=Math.PI/180,tge=e=>{var t="symbol".concat(Fg(e));return vU[t]||eS},nge=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*ege;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rge=(e,t)=>{vU["symbol".concat(Fg(e))]=t},tS=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Jpe(e,Gpe),a=GI(GI({},i),{},{type:t,size:n,sizeType:r}),o=()=>{var d=tge(t),h=Npe().type(d).size(nge(n,r,t));return h()},{className:l,cx:c,cy:A}=a,u=cs(a,!0);return c===+c&&A===+A&&n===+n?y.createElement("path",IC({},u,{className:et("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(A,")"),d:o()})):null};tS.registerSymbol=rge;function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TC.apply(null,arguments)}function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ige(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){nS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nS(e,t,n){return(t=age(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function age(e){var t=sge(e,"string");return typeof t=="symbol"?t:t+""}function sge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cs=32;class rS extends y.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Cs/2,a=Cs/6,o=Cs/3,l=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Cs,y2:i,className:"recharts-legend-icon"});if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Cs,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Cs/8,"h").concat(Cs,"v").concat(Cs*3/4,"h").concat(-Cs,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var A=ige({},t);return delete A.legendIcon,y.cloneElement(t.legendIcon,A)}return y.createElement(tS,{fill:l,cx:i,cy:i,size:Cs,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Cs,height:Cs},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,d)=>{var h=u.formatter||i,f=et({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?a:u.color,g=h?h(u.value,u,d):u.value;return y.createElement("li",TC({className:f,style:c,key:"legend-item-".concat(d)},X6(this.props,u,d)),y.createElement(X5,{width:n,height:n,viewBox:l,style:A,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,o)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}nS(rS,"displayName","Legend");nS(rS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var yU={},xU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(xU);var iS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(iS);var bU={},aS={},wU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(wU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(aS);var CU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(CU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aS,n=CU;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(bU);var BU={},SU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jx;function n(r){return function(i){return t.get(i,r)}}e.property=n})(SU);var jU={},T2={},N2={},sS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(sS);var oS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(oS);var i1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(i1);var YI;function oge(){return YI||(YI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS(),n=sS,r=oS,i=i1;function a(d,h,f){return typeof f!="function"?t.isMatch(d,h):o(d,h,function p(g,v,x,C,b,w){const E=f(g,v,x,C,b,w);return E!==void 0?!!E:o(g,v,p,w)},new Map)}function o(d,h,f,p){if(h===d)return!0;switch(typeof h){case"object":return l(d,h,f,p);case"function":return Object.keys(h).length>0?o(d,{...h},f,p):i.eq(d,h);default:return n.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function l(d,h,f,p){if(h==null)return!0;if(Array.isArray(h))return A(d,h,f,p);if(h instanceof Map)return c(d,h,f,p);if(h instanceof Set)return u(d,h,f,p);const g=Object.keys(h);if(d==null)return g.length===0;if(g.length===0)return!0;if(p&&p.has(h))return p.get(h)===d;p&&p.set(h,d);try{for(let v=0;v<g.length;v++){const x=g[v];if(!r.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!f(d[x],h[x],x,d,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(d,h,f,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of h.entries()){const x=d.get(g);if(f(x,v,g,d,h,p)===!1)return!1}return!0}function A(d,h,f,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<h.length;v++){const x=h[v];let C=!1;for(let b=0;b<d.length;b++){if(g.has(b))continue;const w=d[b];let E=!1;if(f(w,x,v,d,h,p)&&(E=!0),E){g.add(b),C=!0;break}}if(!C)return!1}return!0}function u(d,h,f,p){return h.size===0?!0:d instanceof Set?A([...d],[...h],f,p):!1}e.isMatchWith=a,e.isSetMatch=u}(N2)),N2}var XI;function lS(){return XI||(XI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oge();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(T2)),T2}var EU={},cS={},AS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(AS);var a1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(a1);var s1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",A="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",f="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",C="[object Uint16Array]",b="[object Uint32Array]",w="[object BigUint64Array]",E="[object Int8Array]",S="[object Int16Array]",F="[object Int32Array]",N="[object BigInt64Array]",P="[object Float32Array]",Q="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=w,e.booleanTag=i,e.dataViewTag=g,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=P,e.float64ArrayTag=Q,e.functionTag=d,e.int16ArrayTag=S,e.int32ArrayTag=F,e.int8ArrayTag=E,e.mapTag=c,e.numberTag=r,e.objectTag=f,e.regexpTag=t,e.setTag=A,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(s1);var kU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(kU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AS,n=a1,r=s1,i=oS,a=kU;function o(u,d){return l(u,void 0,u,new Map,d)}function l(u,d,h,f=new Map,p=void 0){const g=p==null?void 0:p(u,d,h,f);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const v=new Array(u.length);f.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,h,f,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;f.set(u,v);for(const[x,C]of u)v.set(x,l(C,x,h,f,p));return v}if(u instanceof Set){const v=new Set;f.set(u,v);for(const x of u)v.add(l(x,void 0,h,f,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,h,f,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,v),c(v,u,h,f,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return f.set(u,v),c(v,u,h,f,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return f.set(u,v),c(v,u,h,f,p),v}if(u instanceof Error){const v=new u.constructor;return f.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,c(v,u,h,f,p),v}if(typeof u=="object"&&A(u)){const v=Object.create(Object.getPrototypeOf(u));return f.set(u,v),c(v,u,h,f,p),v}return u}function c(u,d,h=u,f,p){const g=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<g.length;v++){const x=g[v],C=Object.getOwnPropertyDescriptor(u,x);(C==null||C.writable)&&(u[x]=l(d[x],x,h,f,p))}}function A(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(cS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(EU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS(),n=EU;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(jU);var IU={},TU={},NU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS,n=s1;function r(i,a){return t.cloneDeepWith(i,(o,l,c,A)=>{const u=a==null?void 0:a(o,l,c,A);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(NU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(TU);var FU={},uS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uS);var PU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a1;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(PU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G5,n=uS,r=PU,i=Zx;function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let A=o;for(let u=0;u<c.length;u++){const d=c[u];if((A==null||!Object.hasOwn(A,d))&&!((Array.isArray(A)||r.isArguments(A))&&n.isIndex(d)&&d<A.length))return!1;A=A[d]}return!0}e.has=a})(FU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS(),n=q5,r=TU,i=Jx,a=FU;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(A){const u=i.get(A,l);return u===void 0?a.has(A,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(IU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iS,n=SU,r=jU,i=IU;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(BU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU,n=iS,r=bU,i=BU;function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(yU);var lge=yU.uniqBy;const JI=zl(lge);function _U(e,t,n){return t===!0?JI(e,n):typeof t=="function"?JI(e,t):e}var DU={exports:{}},MU={},UU={exports:{}},LU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=y;function cge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Age=typeof Object.is=="function"?Object.is:cge,uge=cf.useState,dge=cf.useEffect,fge=cf.useLayoutEffect,hge=cf.useDebugValue;function pge(e,t){var n=t(),r=uge({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return fge(function(){i.value=n,i.getSnapshot=t,F2(i)&&a({inst:i})},[e,n,t]),dge(function(){return F2(i)&&a({inst:i}),e(function(){F2(i)&&a({inst:i})})},[e]),hge(n),n}function F2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Age(e,n)}catch{return!0}}function gge(e,t){return t()}var mge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gge:pge;LU.useSyncExternalStore=cf.useSyncExternalStore!==void 0?cf.useSyncExternalStore:mge;UU.exports=LU;var vge=UU.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=y,yge=vge;function xge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bge=typeof Object.is=="function"?Object.is:xge,wge=yge.useSyncExternalStore,Cge=o1.useRef,Bge=o1.useEffect,Sge=o1.useMemo,jge=o1.useDebugValue;MU.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Cge(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Sge(function(){function c(f){if(!A){if(A=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,bge(u,f))return p;var g=r(f);return i!==void 0&&i(p,g)?(u=f,p):(u=f,d=g)}var A=!1,u,d,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var l=wge(e,a[0],a[1]);return Bge(function(){o.hasValue=!0,o.value=l},[l]),jge(l),l};DU.exports=MU;var Ege=DU.exports,dS=y.createContext(null),kge=e=>e,Di=()=>{var e=y.useContext(dS);return e?e.store.dispatch:kge},a0=()=>{},Ige=()=>a0,Tge=(e,t)=>e===t;function yn(e){var t=y.useContext(dS);return Ege.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ige,t?t.store.getState:a0,t?t.store.getState:a0,t?e:a0,Tge)}function Nge(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Fge(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Pge(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ZI=e=>Array.isArray(e)?e:[e];function _ge(e){const t=Array.isArray(e[0])?e[0]:e;return Pge(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Dge(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Mge=class{constructor(e){this.value=e}deref(){return this.value}},Uge=typeof WeakRef<"u"?WeakRef:Mge,Lge=0,eT=1;function Cv(){return{s:Lge,v:void 0,o:null,p:null}}function OU(e,t={}){let n=Cv();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var d;let l=n;const{length:c}=arguments;for(let h=0,f=c;h<f;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(p);v===void 0?(l=Cv(),g.set(p,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(p);v===void 0?(l=Cv(),g.set(p,l)):l=v}}const A=l;let u;if(l.s===eT)u=l.v;else if(u=e.apply(null,arguments),a++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Uge(u):u}return A.s=eT,A.v=u,u}return o.clearCache=()=>{n=Cv(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Oge(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,c={},A=i.pop();typeof A=="object"&&(c=A,A=i.pop()),Nge(A,`createSelector expects an output function after the inputs, but received: [${typeof A}]`);const u={...n,...c},{memoize:d,memoizeOptions:h=[],argsMemoize:f=OU,argsMemoizeOptions:p=[]}=u,g=ZI(h),v=ZI(p),x=_ge(i),C=d(function(){return a++,A.apply(null,arguments)},...g),b=f(function(){o++;const E=Dge(x,arguments);return l=C.apply(null,E),l},...v);return Object.assign(b,{resultFunc:A,memoizedResultFunc:C,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var Xe=Oge(OU),Rge=Object.assign((e,t=Xe)=>{Fge(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>Rge}),RU={},QU={},HU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(HU);var $U={},fS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(fS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})($U);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HU,n=$U,r=Zx;function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const A=(f,p)=>{let g=f;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},u=(f,p)=>p==null||f==null?p:typeof f=="object"&&"key"in f?Object.hasOwn(p,f.key)?p[f.key]:A(p,f.path):typeof f=="function"?f(p):Array.isArray(f)?A(p,f):typeof p=="object"?p[f]:p,d=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||n.isKey(f)?f:{key:f,path:r.toPath(f)}));return a.map(f=>({original:f,criteria:d.map(p=>u(p,f))})).slice().sort((f,p)=>{for(let g=0;g<d.length;g++){const v=t.compareValues(f.criteria[g],p.criteria[g],l[g]);if(v!==0)return v}return 0}).map(f=>f.original)}e.orderBy=i})(QU);var zU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,c)=>{for(let A=0;A<l.length;A++){const u=l[A];Array.isArray(u)&&c<a?o(u,c+1):i.push(u)}};return o(n,0),i}e.flatten=t})(zU);var hS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uS,n=aS,r=sS,i=i1;function a(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}e.isIterateeCall=a})(hS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QU,n=zU,r=hS;function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(RU);var Qge=RU.sortBy;const l1=zl(Qge);var WU=e=>e.legend.settings,Hge=e=>e.legend.size,$ge=e=>e.legend.payload,zge=Xe([$ge,WU],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?l1(r,n):r});function Wge(){return yn(zge)}var Bv=1;function KU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Bv||Math.abs(o.left-t.left)>Bv||Math.abs(o.top-t.top)>Bv||Math.abs(o.width-t.width)>Bv)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Oi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kge=typeof Symbol=="function"&&Symbol.observable||"@@observable",tT=Kge,P2=()=>Math.random().toString(36).substring(7).split("").join("."),Vge={INIT:`@@redux/INIT${P2()}`,REPLACE:`@@redux/REPLACE${P2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${P2()}`},iy=Vge;function pS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VU(e,t,n){if(typeof e!="function")throw new Error(Oi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Oi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Oi(1));return n(VU)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,c=!1;function A(){o===a&&(o=new Map,a.forEach((v,x)=>{o.set(x,v)}))}function u(){if(c)throw new Error(Oi(3));return i}function d(v){if(typeof v!="function")throw new Error(Oi(4));if(c)throw new Error(Oi(5));let x=!0;A();const C=l++;return o.set(C,v),function(){if(x){if(c)throw new Error(Oi(6));x=!1,A(),o.delete(C),a=null}}}function h(v){if(!pS(v))throw new Error(Oi(7));if(typeof v.type>"u")throw new Error(Oi(8));if(typeof v.type!="string")throw new Error(Oi(17));if(c)throw new Error(Oi(9));try{c=!0,i=r(i,v)}finally{c=!1}return(a=o).forEach(C=>{C()}),v}function f(v){if(typeof v!="function")throw new Error(Oi(10));r=v,h({type:iy.REPLACE})}function p(){const v=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Oi(11));function C(){const w=x;w.next&&w.next(u())}return C(),{unsubscribe:v(C)}},[tT](){return this}}}return h({type:iy.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:f,[tT]:p}}function Gge(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:iy.INIT})>"u")throw new Error(Oi(12));if(typeof n(void 0,{type:iy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Oi(13))})}function GU(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Gge(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const A={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],f=o[d],p=h(f,l);if(typeof p>"u")throw l&&l.type,new Error(Oi(14));A[d]=p,c=c||p!==f}return c=c||r.length!==Object.keys(o).length,c?A:o}}function ay(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function qge(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Oi(15))};const o={getState:i.getState,dispatch:(c,...A)=>a(c,...A)},l=e.map(c=>c(o));return a=ay(...l)(i.dispatch),{...i,dispatch:a}}}function qU(e){return pS(e)&&"type"in e&&typeof e.type=="string"}var YU=Symbol.for("immer-nothing"),nT=Symbol.for("immer-draftable"),As=Symbol.for("immer-state");function Ao(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Af=Object.getPrototypeOf;function tu(e){return!!e&&!!e[As]}function Ol(e){var t;return e?XU(e)||Array.isArray(e)||!!e[nT]||!!((t=e.constructor)!=null&&t[nT])||Pg(e)||A1(e):!1}var Yge=Object.prototype.constructor.toString();function XU(e){if(!e||typeof e!="object")return!1;const t=Af(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Yge}function sy(e,t){c1(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function c1(e){const t=e[As];return t?t.type_:Array.isArray(e)?1:Pg(e)?2:A1(e)?3:0}function NC(e,t){return c1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JU(e,t,n){const r=c1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Xge(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pg(e){return e instanceof Map}function A1(e){return e instanceof Set}function BA(e){return e.copy_||e.base_}function FC(e,t){if(Pg(e))return new Map(e);if(A1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=XU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[As];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Af(e),r)}else{const r=Af(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function gS(e,t=!1){return u1(e)||tu(e)||!Ol(e)||(c1(e)>1&&Object.defineProperties(e,{set:{value:Sv},add:{value:Sv},clear:{value:Sv},delete:{value:Sv}}),Object.freeze(e),t&&Object.values(e).forEach(n=>gS(n,!0))),e}function Sv(){Ao(2)}function u1(e){return Object.isFrozen(e)}var Jge={};function nu(e){const t=Jge[e];return t||Ao(0,e),t}var qp;function ZU(){return qp}function Zge(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rT(e,t){t&&(nu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function PC(e){_C(e),e.drafts_.forEach(eme),e.drafts_=null}function _C(e){e===qp&&(qp=e.parent_)}function iT(e){return qp=Zge(qp,e)}function eme(e){const t=e[As];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[As].modified_&&(PC(t),Ao(4)),Ol(e)&&(e=oy(t,e),t.parent_||ly(t,e)),t.patches_&&nu("Patches").generateReplacementPatches_(n[As].base_,e,t.patches_,t.inversePatches_)):e=oy(t,n,[]),PC(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==YU?e:void 0}function oy(e,t,n){if(u1(t))return t;const r=t[As];if(!r)return sy(t,(i,a)=>sT(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ly(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),sy(a,(l,c)=>sT(e,r,i,l,c,n,o)),ly(e,i,!1),n&&e.patches_&&nu("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function sT(e,t,n,r,i,a,o){if(tu(i)){const l=a&&t&&t.type_!==3&&!NC(t.assigned_,r)?a.concat(r):void 0,c=oy(e,i,l);if(JU(n,r,c),tu(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ol(i)&&!u1(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;oy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Pg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ly(e,i)}}function ly(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gS(t,n)}function tme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ZU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=mS;n&&(i=[r],a=Yp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var mS={get(e,t){if(t===As)return e;const n=BA(e);if(!NC(n,t))return nme(e,n,t);const r=n[t];return e.finalized_||!Ol(r)?r:r===_2(e.base_,t)?(D2(e),e.copy_[t]=MC(r,e)):r},has(e,t){return t in BA(e)},ownKeys(e){return Reflect.ownKeys(BA(e))},set(e,t,n){const r=eL(BA(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_2(BA(e),t),a=i==null?void 0:i[As];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Xge(n,i)&&(n!==void 0||NC(e.base_,t)))return!0;D2(e),DC(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,D2(e),DC(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=BA(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ao(11)},getPrototypeOf(e){return Af(e.base_)},setPrototypeOf(){Ao(12)}},Yp={};sy(mS,(e,t)=>{Yp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yp.deleteProperty=function(e,t){return Yp.set.call(this,e,t,void 0)};Yp.set=function(e,t,n){return mS.set.call(this,e[0],t,n,e[0])};function _2(e,t){const n=e[As];return(n?BA(n):e)[t]}function nme(e,t,n){var i;const r=eL(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function eL(e,t){if(!(t in e))return;let n=Af(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Af(n)}}function DC(e){e.modified_||(e.modified_=!0,e.parent_&&DC(e.parent_))}function D2(e){e.copy_||(e.copy_=FC(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(c=a,...A){return o.produce(c,u=>n.call(this,u,...A))}}typeof n!="function"&&Ao(6),r!==void 0&&typeof r!="function"&&Ao(7);let i;if(Ol(t)){const a=iT(this),o=MC(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?PC(a):_C(a)}return rT(a,r),aT(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===YU&&(i=void 0),this.autoFreeze_&&gS(i,!0),r){const a=[],o=[];nu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Ao(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ol(e)||Ao(8),tu(e)&&(e=Tl(e));const t=iT(this),n=MC(e,void 0);return n[As].isManual_=!0,_C(t),n}finishDraft(e,t){const n=e&&e[As];(!n||!n.isManual_)&&Ao(9);const{scope_:r}=n;return rT(r,t),aT(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=nu("Patches").applyPatches_;return tu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function MC(e,t){const n=Pg(e)?nu("MapSet").proxyMap_(e,t):A1(e)?nu("MapSet").proxySet_(e,t):tme(e,t);return(t?t.scope_:ZU()).drafts_.push(n),n}function Tl(e){return tu(e)||Ao(10,e),tL(e)}function tL(e){if(!Ol(e)||u1(e))return e;const t=e[As];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=FC(e,t.scope_.immer_.useStrictShallowCopy_)}else n=FC(e,!0);return sy(n,(r,i)=>{JU(n,r,tL(i))}),t&&(t.finalized_=!1),n}var ime=new rme,nL=ime.produce;function rL(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var ame=rL(),sme=rL,ome=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ay:ay.apply(null,arguments)};function Ws(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(os(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>qU(r)&&r.type===e,n}var iL=class cp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cp.prototype)}static get[Symbol.species](){return cp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cp(...t[0].concat(this)):new cp(...t.concat(this))}};function oT(e){return Ol(e)?nL(e,()=>{}):e}function jv(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function lme(e){return typeof e=="boolean"}var cme=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new iL;return n&&(lme(n)?o.push(ame):o.push(sme(n.extraArgument))),o},Ame="RTK_autoBatch",lT=e=>t=>{setTimeout(t,e)},ume=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lT(10):e.type==="callback"?e.queueNotification:lT(e.timeout),A=()=>{o=!1,a&&(a=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[Ame]),a=!i,a&&(o||(o=!0,c(A))),r.dispatch(u)}finally{i=!0}}})},dme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new iL(e);return r&&i.push(ume(typeof r=="object"?r:void 0)),i};function fme(e){const t=cme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(pS(n))l=GU(n);else throw new Error(os(1));let c;typeof r=="function"?c=r(t):c=t();let A=ay;i&&(A=ome({trace:!1,...typeof i=="object"&&i}));const u=qge(...c),d=dme(u);let h=typeof o=="function"?o(d):d();const f=A(...h);return VU(l,a,f)}function aL(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(os(28));if(l in t)throw new Error(os(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function hme(e){return typeof e=="function"}function pme(e,t){let[n,r,i]=aL(t),a;if(hme(e))a=()=>oT(e());else{const l=oT(e);a=()=>l}function o(l=a(),c){let A=[n[c.type],...r.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return A.filter(u=>!!u).length===0&&(A=[i]),A.reduce((u,d)=>{if(d)if(tu(u)){const f=d(u,c);return f===void 0?u:f}else{if(Ol(u))return nL(u,h=>d(h,c));{const h=d(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return o.getInitialState=a,o}var gme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mme=(e=21)=>{let t="",n=e;for(;n--;)t+=gme[Math.random()*64|0];return t},vme=Symbol.for("rtk-slice-createasyncthunk");function yme(e,t){return`${e}/${t}`}function xme({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[vme];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(os(11));const l=(typeof i.reducers=="function"?i.reducers(wme()):i.reducers)||{},c=Object.keys(l),A={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,E){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(os(12));if(S in A.sliceCaseReducersByType)throw new Error(os(13));return A.sliceCaseReducersByType[S]=E,u},addMatcher(w,E){return A.sliceMatchers.push({matcher:w,reducer:E}),u},exposeAction(w,E){return A.actionCreators[w]=E,u},exposeCaseReducer(w,E){return A.sliceCaseReducersByName[w]=E,u}};c.forEach(w=>{const E=l[w],S={reducerName:w,type:yme(a,w),createNotation:typeof i.reducers=="function"};Bme(E)?jme(S,E,u,t):Cme(S,E,u)});function d(){const[w={},E=[],S=void 0]=typeof i.extraReducers=="function"?aL(i.extraReducers):[i.extraReducers],F={...w,...A.sliceCaseReducersByType};return pme(i.initialState,N=>{for(let P in F)N.addCase(P,F[P]);for(let P of A.sliceMatchers)N.addMatcher(P.matcher,P.reducer);for(let P of E)N.addMatcher(P.matcher,P.reducer);S&&N.addDefaultCase(S)})}const h=w=>w,f=new Map,p=new WeakMap;let g;function v(w,E){return g||(g=d()),g(w,E)}function x(){return g||(g=d()),g.getInitialState()}function C(w,E=!1){function S(N){let P=N[w];return typeof P>"u"&&E&&(P=jv(p,S,x)),P}function F(N=h){const P=jv(f,E,()=>new WeakMap);return jv(P,N,()=>{const Q={};for(const[j,k]of Object.entries(i.selectors??{}))Q[j]=bme(k,N,()=>jv(p,N,x),E);return Q})}return{reducerPath:w,getSelectors:F,get selectors(){return F(S)},selectSlice:S}}const b={name:a,reducer:v,actions:A.actionCreators,caseReducers:A.sliceCaseReducersByName,getInitialState:x,...C(o),injectInto(w,{reducerPath:E,...S}={}){const F=E??o;return w.inject({reducerPath:F,reducer:v},S),{...b,...C(F,!0)}}};return b}}function bme(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var ds=xme();function wme(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Cme({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Sme(r))throw new Error(os(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ws(e,o):Ws(e))}function Bme(e){return e._reducerDefinitionType==="asyncThunk"}function Sme(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jme({type:e,reducerName:t},n,r,i){if(!i)throw new Error(os(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:A,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),l&&r.addCase(d.pending,l),c&&r.addCase(d.rejected,c),A&&r.addMatcher(d.settled,A),r.exposeCaseReducer(t,{fulfilled:o||Ev,pending:l||Ev,rejected:c||Ev,settled:A||Ev})}function Ev(){}var Eme="task",sL="listener",oL="completed",vS="cancelled",kme=`task-${vS}`,Ime=`task-${oL}`,UC=`${sL}-${vS}`,Tme=`${sL}-${oL}`,d1=class{constructor(e){Nm(this,"name","TaskAbortError");Nm(this,"message");this.code=e,this.message=`${Eme} ${vS} (reason: ${e})`}},yS=(e,t)=>{if(typeof e!="function")throw new TypeError(os(32))},cy=()=>{},lL=(e,t=cy)=>(e.catch(t),e),cL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$A=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},zA=e=>{if(e.aborted){const{reason:t}=e;throw new d1(t)}};function AL(e,t){let n=cy;return new Promise((r,i)=>{const a=()=>i(new d1(e.reason));if(e.aborted){a();return}n=cL(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=cy})}var Nme=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof d1?"cancelled":"rejected",error:n}}finally{t==null||t()}},Ay=e=>t=>lL(AL(e,t).then(n=>(zA(e),n))),uL=e=>{const t=Ay(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ud}=Object,cT={},f1="listenerMiddleware",Fme=(e,t)=>{const n=r=>cL(e,()=>$A(r,e.reason));return(r,i)=>{yS(r);const a=new AbortController;n(a);const o=Nme(async()=>{zA(e),zA(a.signal);const l=await r({pause:Ay(a.signal),delay:uL(a.signal),signal:a.signal});return zA(a.signal),l},()=>$A(a,Ime));return i!=null&&i.autoJoin&&t.push(o.catch(cy)),{result:Ay(e)(o),cancel(){$A(a,kme)}}}},Pme=(e,t)=>{const n=async(r,i)=>{zA(t);let a=()=>{};const l=[new Promise((c,A)=>{let u=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),c([d,h.getState(),h.getOriginalState()])}});a=()=>{u(),A()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await AL(t,Promise.race(l));return zA(t),c}finally{a()}};return(r,i)=>lL(n(r,i))},dL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ws(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(os(21));return yS(a),{predicate:i,type:t,effect:a}},fL=Ud(e=>{const{type:t,predicate:n,effect:r}=dL(e);return{id:mme(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(os(22))}}},{withTypes:()=>fL}),AT=(e,t)=>{const{type:n,effect:r,predicate:i}=dL(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},LC=e=>{e.pending.forEach(t=>{$A(t,UC)})},_me=e=>()=>{e.forEach(LC),e.clear()},uT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},hL=Ud(Ws(`${f1}/add`),{withTypes:()=>hL}),Dme=Ws(`${f1}/removeAll`),pL=Ud(Ws(`${f1}/remove`),{withTypes:()=>pL}),Mme=(...e)=>{console.error(`${f1}/error`,...e)},_g=(e={})=>{const t=new Map,{extra:n,onError:r=Mme}=e;yS(r);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&LC(u)}),a=u=>{const d=AT(t,u)??fL(u);return i(d)};Ud(a,{withTypes:()=>a});const o=u=>{const d=AT(t,u);return d&&(d.unsubscribe(),u.cancelActive&&LC(d)),!!d};Ud(o,{withTypes:()=>o});const l=async(u,d,h,f)=>{const p=new AbortController,g=Pme(a,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(d,Ud({},h,{getOriginalState:f,condition:(x,C)=>g(x,C).then(Boolean),take:g,delay:uL(p.signal),pause:Ay(p.signal),extra:n,signal:p.signal,fork:Fme(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((x,C,b)=>{x!==p&&($A(x,UC),b.delete(x))})},cancel:()=>{$A(p,UC),u.pending.delete(p)},throwIfCancelled:()=>{zA(p.signal)}})))}catch(x){x instanceof d1||uT(r,x,{raisedBy:"effect"})}finally{await Promise.all(v),$A(p,Tme),u.pending.delete(p)}},c=_me(t);return{middleware:u=>d=>h=>{if(!qU(h))return d(h);if(hL.match(h))return a(h.payload);if(Dme.match(h)){c();return}if(pL.match(h))return o(h.payload);let f=u.getState();const p=()=>{if(f===cT)throw new Error(os(23));return f};let g;try{if(g=d(h),t.size>0){const v=u.getState(),x=Array.from(t.values());for(const C of x){let b=!1;try{b=C.predicate(h,v,f)}catch(w){b=!1,uT(r,w,{raisedBy:"predicate"})}b&&l(C,h,u,p)}}}finally{f=cT}return g},startListening:a,stopListening:o,clearListeners:c}};function os(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ume={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gL=ds({name:"chartLayout",initialState:Ume,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Lme,setLayout:Ome,setChartSize:Rme,setScale:Qme}=gL.actions,Hme=gL.reducer;function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(n),!0).forEach(function(r){$me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $me(e,t,n){return(t=zme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zme(e){var t=Wme(e,"string");return typeof t=="symbol"?t:t+""}function Wme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uy=Math.PI/180,Kme=e=>e*180/Math.PI,oa=(e,t,n,r)=>({x:e+Math.cos(-uy*r)*n,y:t+Math.sin(-uy*r)*n}),mL=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Vme=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Gme=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Vme({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:o,angle:Kme(c),angleInRadian:c}},qme=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Yme=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Xme=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Gme({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:A}=qme(t),u=a,d;if(c<=A){for(;u>A;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=A}else{for(;u>c;)u-=360;for(;u<A;)u+=360;d=u>=A&&u<=c}return d?fT(fT({},t),{},{radius:i,angle:Yme(u,t)}):null};function vL(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){Jme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jme(e,t,n){return(t=Zme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zme(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fi(e,t,n){return eu(e)||eu(t)?n:Ll(t)?sf(e,t,n):typeof t=="function"?t(e):n}var tve=(e,t,n,r,i)=>{var a,o=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var A=c>0?n[c-1].coordinate:n[l-1].coordinate,u=n[c].coordinate,d=c>=l-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(ns(u-A)!==ns(d-u)){var f=[];if(ns(d-u)===ns(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+A)/2),f[1]=Math.max(p,(p+A)/2)}else{h=A;var g=d+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=f[0]&&e<=f[1]){({index:o}=n[c]);break}}else{var x=Math.min(A,d),C=Math.max(A,d);if(e>(x+u)/2&&e<=(C+u)/2){({index:o}=n[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o},nve=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&jn(e[a]))return Ps(Ps({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&jn(e[o]))return Ps(Ps({},e),{},{[o]:e[o]+(i||0)})}return e},fu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",pT=1e-4,rve=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-pT,a=Math.max(r[0],r[1])+pT,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},ive=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=mo(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},ave=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=mo(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},sve={sign:ive,expand:Wpe,none:lf,silhouette:Kpe,wiggle:Vpe,positive:ave},ove=(e,t,n)=>{var r=sve[n],i=zpe().keys(t).value((a,o)=>+fi(a,o,0)).order(kC).offset(r);return i(e)},lve=e=>{var t=e.flat(2).filter(jn);return[Math.min(...t),Math.max(...t)]},cve=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ave=(e,t,n)=>{if(e!=null)return cve(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((c,A)=>{var u=vL(A,t,n),d=lve(u);return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},gT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uve=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var i=l1(t,u=>u.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],A=i[o-1];a=Math.min((c.coordinate||0)-(A.coordinate||0),a)}return a===1/0?0:a}return 0};function vT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Ps(Ps({},t),{},{dataKey:n,payload:r,value:i,name:a})}function yL(e,t){if(e)return String(e);if(typeof t=="string")return t}function dve(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?Xme({x:e,y:t},r):null}var fve=(e,t,n,r)=>{var i=t.find(A=>A&&A.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Ps(Ps(Ps({},r),oa(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=r;return Ps(Ps(Ps({},r),oa(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},hve=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Vl=e=>e.layout.width,Gl=e=>e.layout.height,pve=e=>e.layout.scale,xL=e=>e.layout.margin,xS=Xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bS=Xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),bL="data-recharts-item-index",wL="data-recharts-item-data-key",h1=60;function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){gve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gve(e,t,n){return(t=mve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e){var t=vve(e,"string");return typeof t=="symbol"?t:t+""}function vve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yve=e=>e.brush.height,ca=Xe([Vl,Gl,xL,yve,xS,bS,WU,Hge],(e,t,n,r,i,a,o,l)=>{var c=a.reduce((p,g)=>{var{orientation:v}=g;if(!g.mirror&&!g.hide){var x=typeof g.width=="number"?g.width:h1;return yc(yc({},p),{},{[v]:p[v]+x})}return p},{left:n.left||0,right:n.right||0}),A=i.reduce((p,g)=>{var{orientation:v}=g;return!g.mirror&&!g.hide?yc(yc({},p),{},{[v]:sf(p,"".concat(v))+g.height}):p},{top:n.top||0,bottom:n.bottom||0}),u=yc(yc({},A),c),d=u.bottom;u.bottom+=r,u=nve(u,o,l);var h=e-u.left-u.right,f=t-u.top-u.bottom;return yc(yc({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),xve=Xe(ca,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));Xe(Vl,Gl,(e,t)=>({x:0,y:0,width:e,height:t}));var bve=y.createContext(null),Ff=()=>y.useContext(bve)!=null,p1=e=>e.brush,g1=Xe([p1,ca,xL],(e,t,n)=>({height:e.height,x:jn(e.x)?e.x:t.left,y:jn(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:jn(e.width)?e.width:t.width})),CL=()=>{var e,t=Ff(),n=yn(xve),r=yn(g1),i=(e=yn(p1))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},wve={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Cve=()=>{var e;return(e=yn(ca))!==null&&e!==void 0?e:wve},BL=()=>yn(Vl),SL=()=>yn(Gl),Bve={top:0,right:0,bottom:0,left:0},Sve=()=>{var e;return(e=yn(t=>t.layout.margin))!==null&&e!==void 0?e:Bve},hr=e=>e.layout.layoutType,jL=()=>yn(hr),jve={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},EL=ds({name:"legend",initialState:jve,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Tl(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:xT,setLegendSettings:Eve,addLegendPayload:kve,removeLegendPayload:Ive}=EL.actions,Tve=EL.reducer,Nve=["contextPayload"];function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(null,arguments)}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){wS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wS(e,t,n){return(t=Fve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fve(e){var t=Pve(e,"string");return typeof t=="symbol"?t:t+""}function Pve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ve(e,t){if(e==null)return{};var n,r,i=Dve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mve(e){return e.value}function Uve(e){var{contextPayload:t}=e,n=_ve(e,Nve),r=_U(t,e.payloadUniqBy,Mve),i=uf(uf({},n),{},{payload:r});return y.isValidElement(e.content)?y.cloneElement(e.content,i):typeof e.content=="function"?y.createElement(e.content,i):y.createElement(rS,i)}function Lve(e,t,n,r,i,a){var{layout:o,align:l,verticalAlign:c}=t,A,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?A={left:((r||0)-a.width)/2}:A=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((i||0)-a.height)/2}:u=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),uf(uf({},A),u)}function Ove(e){var t=Di();return y.useEffect(()=>{t(Eve(e))},[t,e]),null}function Rve(e){var t=Di();return y.useEffect(()=>(t(xT(e)),()=>{t(xT({width:0,height:0}))}),[t,e]),null}function Qve(e){var t=Wge(),n=hpe(),r=Sve(),{width:i,height:a,wrapperStyle:o,portal:l}=e,[c,A]=KU([t]),u=BL(),d=SL(),h=u-(r.left||0)-(r.right||0),f=m1.getWidthOrHeight(e.layout,a,i,h),p=l?o:uf(uf({position:"absolute",width:(f==null?void 0:f.width)||i||"auto",height:(f==null?void 0:f.height)||a||"auto"},Lve(o,e,r,u,d,c)),o),g=l??n;if(g==null)return null;var v=y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:A},y.createElement(Ove,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(Rve,{width:c.width,height:c.height}),y.createElement(Uve,OC({},e,f,{margin:r,chartWidth:u,chartHeight:d,contextPayload:t})));return _y.createPortal(v,g)}class m1 extends y.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&jn(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return y.createElement(Qve,this.props)}}wS(m1,"displayName","Legend");wS(m1,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RC.apply(null,arguments)}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){Hve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hve(e,t,n){return(t=$ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ve(e){var t=zve(e,"string");return typeof t=="symbol"?t:t+""}function zve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wve(e){return Array.isArray(e)&&Ll(e[0])&&Ll(e[1])?e.join(" ~ "):e}var Kve=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:A,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,f=()=>{if(a&&a.length){var E={padding:0,margin:0},S=(l?l1(a,l):a).map((F,N)=>{if(F.type==="none")return null;var P=F.formatter||o||Wve,{value:Q,name:j}=F,k=Q,T=j;if(P){var D=P(Q,j,F,N,a);if(Array.isArray(D))[k,T]=D;else if(D!=null)k=D;else return null}var R=M2({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:R},Ll(T)?y.createElement("span",{className:"recharts-tooltip-item-name"},T):null,Ll(T)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},k),y.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:E},S)}return null},p=M2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=M2({margin:0},i),v=!eu(u),x=v?u:"",C=et("recharts-default-tooltip",c),b=et("recharts-tooltip-label",A);v&&d&&a!==void 0&&a!==null&&(x=d(u,a));var w=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",RC({className:C,style:p},w),y.createElement("p",{className:b,style:g},y.isValidElement(x)?x:"".concat(x)),f())},zh="recharts-tooltip-wrapper",Vve={visibility:"hidden"};function Gve(e){var{coordinate:t,translateX:n,translateY:r}=e;return et(zh,{["".concat(zh,"-right")]:jn(n)&&t&&jn(t.x)&&n>=t.x,["".concat(zh,"-left")]:jn(n)&&t&&jn(t.x)&&n<t.x,["".concat(zh,"-bottom")]:jn(r)&&t&&jn(t.y)&&r>=t.y,["".concat(zh,"-top")]:jn(r)&&t&&jn(t.y)&&r<t.y})}function CT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:A}=e;if(a&&jn(a[r]))return a[r];var u=n[r]-l-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=c[r];if(h==null)return 0;if(o[r]){var f=u,p=h;return f<p?Math.max(d,h):Math.max(u,h)}if(A==null)return 0;var g=d+l,v=h+A;return g>v?Math.max(u,h):Math.max(d,h)}function qve(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Yve(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,A,u,d;return o.height>0&&o.width>0&&n?(u=CT({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=CT({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),A=qve({translateX:u,translateY:d,useTranslate3d:l})):A=Vve,{cssProperties:A,cssClasses:Gve({translateX:u,translateY:d,coordinate:n})}}function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){QC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QC(e,t,n){return(t=Xve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xve(e){var t=Jve(e,"string");return typeof t=="symbol"?t:t+""}function Jve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zve extends y.PureComponent{constructor(){super(...arguments),QC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),QC(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:A,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:C,cssProperties:b}=Yve({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:A,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:f}),w=x?{}:kv(kv({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),E=kv(kv({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:E,ref:v},a)}}var e0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),v1={isSsr:e0e()},kL=()=>yn(e=>e.rootProps.accessibilityLayer);function vo(e){return Number.isFinite(e)}function dy(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function HC(){return HC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HC.apply(null,arguments)}function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){t0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0e(e,t,n){return(t=n0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0e(e){var t=r0e(e,"string");return typeof t=="symbol"?t:t+""}function r0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ET={curveBasisClosed:Ppe,curveBasisOpen:_pe,curveBasis:Fpe,curveBumpX:vpe,curveBumpY:ype,curveLinearClosed:Dpe,curveLinear:n1,curveMonotoneX:Mpe,curveMonotoneY:Upe,curveNatural:Lpe,curveStep:Ope,curveStepAfter:Qpe,curveStepBefore:Rpe},Iv=e=>vo(e.x)&&vo(e.y),Wh=e=>e.x,Kh=e=>e.y,i0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Fg(e));return(n==="curveMonotone"||n==="curveBump")&&t?ET["".concat(n).concat(t==="vertical"?"Y":"X")]:ET[n]||n1},a0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=i0e(t,i),l=a?n.filter(Iv):n,c;if(Array.isArray(r)){var A=a?r.filter(d=>Iv(d)):r,u=l.map((d,h)=>jT(jT({},d),{},{base:A[h]}));return i==="vertical"?c=wv().y(Kh).x1(Wh).x0(d=>d.base.x):c=wv().x(Wh).y1(Kh).y0(d=>d.base.y),c.defined(Iv).curve(o),c(u)}return i==="vertical"&&jn(r)?c=wv().y(Kh).x1(Wh).x0(r):jn(r)?c=wv().x(Wh).y1(Kh).y0(r):c=oU().x(Wh).y(Kh),c.defined(Iv).curve(o),c(l)},IL=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?a0e(e):r;return y.createElement("path",HC({},e1(e),ipe(e),{className:et("recharts-curve",t),d:a===null?void 0:a,ref:i}))},s0e=["x","y","top","left","width","height","className"];function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$C.apply(null,arguments)}function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(n),!0).forEach(function(r){l0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l0e(e,t,n){return(t=c0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0e(e,t){if(e==null)return{};var n,r,i=d0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var f0e=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),h0e=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,c=u0e(e,s0e),A=o0e({x:t,y:n,top:r,left:i,width:a,height:o},c);return!jn(t)||!jn(n)||!jn(a)||!jn(o)||!jn(r)||!jn(i)?null:y.createElement("path",$C({},cs(A,!0),{className:et("recharts-cross",l),d:f0e(t,n,a,o,r,i)}))};function p0e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){m0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m0e(e,t,n){return(t=v0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v0e(e){var t=y0e(e,"string");return typeof t=="symbol"?t:t+""}function y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eA(e,t){var n=g0e({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var TL={},NL={},FL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t})(FL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FL,n=AS,r=a1,i=s1,a=i1;function o(A,u,d){return l(A,u,void 0,void 0,void 0,void 0,d)}function l(A,u,d,h,f,p,g){const v=g(A,u,d,h,f,p);if(v!==void 0)return v;if(typeof A==typeof u)switch(typeof A){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return A===u;case"number":return A===u||Object.is(A,u);case"function":return A===u;case"object":return c(A,u,p,g)}return c(A,u,p,g)}function c(A,u,d,h){if(Object.is(A,u))return!0;let f=r.getTag(A),p=r.getTag(u);if(f===i.argumentsTag&&(f=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),f!==p)return!1;switch(f){case i.stringTag:return A.toString()===u.toString();case i.numberTag:{const x=A.valueOf(),C=u.valueOf();return a.eq(x,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(A.valueOf(),u.valueOf());case i.regexpTag:return A.source===u.source&&A.flags===u.flags;case i.functionTag:return A===u}d=d??new Map;const g=d.get(A),v=d.get(u);if(g!=null&&v!=null)return g===u;d.set(A,u),d.set(u,A);try{switch(f){case i.mapTag:{if(A.size!==u.size)return!1;for(const[x,C]of A.entries())if(!u.has(x)||!l(C,u.get(x),x,A,u,d,h))return!1;return!0}case i.setTag:{if(A.size!==u.size)return!1;const x=Array.from(A.values()),C=Array.from(u.values());for(let b=0;b<x.length;b++){const w=x[b],E=C.findIndex(S=>l(w,S,void 0,A,u,d,h));if(E===-1)return!1;C.splice(E,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(A)!==Buffer.isBuffer(u)||A.length!==u.length)return!1;for(let x=0;x<A.length;x++)if(!l(A[x],u[x],x,A,u,d,h))return!1;return!0}case i.arrayBufferTag:return A.byteLength!==u.byteLength?!1:c(new Uint8Array(A),new Uint8Array(u),d,h);case i.dataViewTag:return A.byteLength!==u.byteLength||A.byteOffset!==u.byteOffset?!1:c(new Uint8Array(A),new Uint8Array(u),d,h);case i.errorTag:return A.name===u.name&&A.message===u.message;case i.objectTag:{if(!(c(A.constructor,u.constructor,d,h)||t.isPlainObject(A)&&t.isPlainObject(u)))return!1;const C=[...Object.keys(A),...n.getSymbols(A)],b=[...Object.keys(u),...n.getSymbols(u)];if(C.length!==b.length)return!1;for(let w=0;w<C.length;w++){const E=C[w],S=A[E];if(!Object.hasOwn(u,E))return!1;const F=u[E];if(!l(S,F,E,A,u,d,h))return!1}return!0}default:return!1}}finally{d.delete(A),d.delete(u)}}e.isEqualWith=o})(NL);var PL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(PL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NL,n=PL;function r(i,a){return t.isEqualWith(i,a,n.noop)}e.isEqual=r})(TL);var x0e=TL.isEqual;const b0e=zl(x0e);var fy=1e-4,_L=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DL=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),TT=(e,t)=>n=>{var r=_L(e,t);return DL(r,n)},w0e=(e,t)=>n=>{var r=_L(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return DL(i,n)},NT=function(){for(var t,n,r,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,n,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,r,n,i]=o);var A=TT(t,n),u=TT(r,i),d=w0e(t,n),h=p=>p>1?1:p<0?0:p,f=p=>{for(var g=p>1?1:p,v=g,x=0;x<8;++x){var C=A(v)-g,b=d(v);if(Math.abs(C-g)<fy||b<fy)return u(v);v=h(v-C/b)}return u(v)};return f.isStepper=!1,f},C0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,c)=>{var A=-(o-l)*n,u=c*r,d=c+(A-u)*i/1e3,h=c*i/1e3+o;return Math.abs(h-l)<fy&&Math.abs(d)<fy?[l,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},ML=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NT(e);case"spring":return C0e();default:if(e.split("(")[0]==="cubic-bezier")return NT(e)}return typeof e=="function"?e:null};function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){B0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B0e(e,t,n){return(t=S0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S0e(e){var t=j0e(e,"string");return typeof t=="symbol"?t:t+""}function j0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),k0e=(e,t,n)=>e.map(r=>"".concat(E0e(r)," ").concat(t,"ms ").concat(n)).join(","),I0e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Xp=(e,t)=>Object.keys(t).reduce((n,r)=>PT(PT({},n),{},{[r]:e(r,t[r])}),{});function _T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(n),!0).forEach(function(r){T0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0e(e,t,n){return(t=N0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N0e(e){var t=F0e(e,"string");return typeof t=="symbol"?t:t+""}function F0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=(e,t,n)=>e+(t-e)*n,zC=e=>{var{from:t,to:n}=e;return t!==n},UL=(e,t,n)=>{var r=Xp((i,a)=>{if(zC(a)){var[o,l]=e(a.from,a.to,a.velocity);return Qi(Qi({},a),{},{from:o,velocity:l})}return a},t);return n<1?Xp((i,a)=>zC(a)?Qi(Qi({},a),{},{velocity:hy(a.velocity,r[i].velocity,n),from:hy(a.from,r[i].from,n)}):a,t):UL(e,r,n-1)};function P0e(e,t,n,r,i,a){var o,l=r.reduce((h,f)=>Qi(Qi({},h),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>Xp((h,f)=>f.from,l),A=()=>!Object.values(l).filter(zC).length,u=null,d=h=>{o||(o=h);var f=h-o,p=f/n.dt;l=UL(n,l,p),i(Qi(Qi(Qi({},e),t),c())),o=h,A()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{u()})}function _0e(e,t,n,r,i,a,o){var l=null,c=i.reduce((d,h)=>Qi(Qi({},d),{},{[h]:[e[h],t[h]]}),{}),A,u=d=>{A||(A=d);var h=(d-A)/r,f=Xp((g,v)=>hy(...v,n(h)),c);if(a(Qi(Qi(Qi({},e),t),f)),h<1)l=o.setTimeout(u);else{var p=Xp((g,v)=>hy(...v,n(1)),c);a(Qi(Qi(Qi({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}const LL=(e,t,n,r,i,a)=>{var o=I0e(e,t);return n.isStepper===!0?P0e(e,t,n,o,i,a):_0e(e,t,n,r,o,i,a)};function D0e(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...A]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,A),c);return}a(c),i=e.setTimeout(a.bind(null,A));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class M0e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function U0e(){return D0e(new M0e)}var L0e=y.createContext(U0e);function OL(e,t){var n=y.useContext(L0e);return y.useMemo(()=>t??n(e),[e,t,n])}var O0e=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(null,arguments)}function R0e(e,t){if(e==null)return{};var n,r,i=Q0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){FA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FA(e,t,n){return(t=H0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H0e(e){var t=$0e(e,"string");return typeof t=="symbol"?t:t+""}function $0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CS extends y.PureComponent{constructor(t,n){super(t,n),FA(this,"mounted",!1),FA(this,"manager",void 0),FA(this,"stopJSAnimation",null),FA(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:o,children:l,duration:c,animationManager:A}=this.props;if(this.manager=A,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(a){if(typeof l=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:o,from:l}=this.props,{style:c}=this.state;if(r){if(!n){var A={style:i?{[i]:o}:o};this.state&&c&&(i&&c[i]!==o||!i&&c!==o)&&this.setState(A);return}if(!(b0e(t.to,o)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=u||a?l:t.to;if(this.state&&c){var h={style:i?{[i]:d}:d};(i&&c[i]!==d||!i&&c!==d)&&this.setState(h)}this.runAnimation(xc(xc({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,A=LL(n,r,ML(a),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=A()};this.manager.start([c,o,u,i,l])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:a,easing:o,onAnimationStart:l,onAnimationEnd:c,children:A}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof A=="function"||o==="spring"){this.runJSAnimation(t);return}var u=i?{[i]:a}:a,d=k0e(Object.keys(u),r,o);this.manager.start([l,n,xc(xc({},u),{},{transition:d}),r,c])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:o,isActive:l,from:c,to:A,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=t,g=R0e(t,O0e),v=y.Children.count(n),x=this.state.style;if(typeof n=="function")return n(x);if(!l||v===0||i<=0)return n;var C=b=>{var{style:w={},className:E}=b.props,S=y.cloneElement(b,xc(xc({},g),{},{style:xc(xc({},w),x),className:E}));return S};return v===1?C(y.Children.only(n)):y.createElement("div",null,y.Children.map(n,b=>C(b)))}}FA(CS,"displayName","Animate");FA(CS,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function py(e){var t,n=OL((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return y.createElement(CS,WC({},e,{animationManager:n}))}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(null,arguments)}var MT=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,A;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,h=4;d<h;d++)u[d]=i[d]>a?a:i[d];A="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(A+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),A+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(A+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*u[1])),A+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(A+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+n-l*u[2],",").concat(t+r)),A+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(A+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-o*u[3])),A+="Z"}else if(a>0&&i===+i&&i>0){var f=Math.min(a,i);A="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+n-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*f,`
            L `).concat(e+n,",").concat(t+r-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+r,`
            L `).concat(e+l*f,",").concat(t+r,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*f," Z")}else A="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return A},z0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RL=e=>{var t=eA(e,z0e),n=y.useRef(null),[r,i]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:A,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=t;if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var v=et("recharts-rectangle",u);return g?y.createElement(py,{canBegin:r>0,from:{width:l,height:c,x:a,y:o},to:{width:l,height:c,x:a,y:o},duration:h,animationEasing:d,isActive:g},x=>{var{width:C,height:b,x:w,y:E}=x;return y.createElement(py,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:p,easing:d},y.createElement("path",gy({},cs(t,!0),{className:v,d:MT(w,E,C,b,A),ref:n})))}):y.createElement("path",gy({},cs(t,!0),{className:v,d:MT(a,o,l,c,A)}))};function QL(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=oa(t,n,r,i),l=oa(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KC.apply(null,arguments)}var W0e=(e,t)=>{var n=ns(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Tv=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,A=l*(o?1:-1)+r,u=Math.asin(l/A)/uy,d=c?i:i+a*u,h=oa(t,n,A,d),f=oa(t,n,r,d),p=c?i-a*u:i,g=oa(t,n,A*Math.cos(u*uy),p);return{center:h,circleTangency:f,lineTangency:g,theta:u}},HL=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=W0e(a,o),c=a+l,A=oa(t,n,i,a),u=oa(t,n,i,c),d="M ".concat(A.x,",").concat(A.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var h=oa(t,n,r,a),f=oa(t,n,r,c);d+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},K0e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:A}=e,u=ns(A-c),{circleTangency:d,lineTangency:h,theta:f}=Tv({cx:t,cy:n,radius:i,angle:c,sign:u,cornerRadius:a,cornerIsExternal:l}),{circleTangency:p,lineTangency:g,theta:v}=Tv({cx:t,cy:n,radius:i,angle:A,sign:-u,cornerRadius:a,cornerIsExternal:l}),x=l?Math.abs(c-A):Math.abs(c-A)-f-v;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):HL({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:A});var C="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:w,theta:E}=Tv({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:S,lineTangency:F,theta:N}=Tv({cx:t,cy:n,radius:r,angle:A,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=l?Math.abs(c-A):Math.abs(c-A)-E-N;if(P<0&&a===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},V0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$L=e=>{var t=eA(e,V0e),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:A,endAngle:u,className:d}=t;if(a<i||A===u)return null;var h=et("recharts-sector",d),f=a-i,p=Ko(o,f,0,!0),g;return p>0&&Math.abs(A-u)<360?g=K0e({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:A,endAngle:u}):g=HL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:A,endAngle:u}),y.createElement("path",KC({},cs(t,!0),{className:h,d:g}))};function G0e(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:A,outerRadius:u,angle:d}=t,h=oa(l,c,A,d),f=oa(l,c,u,d);r=h.x,i=h.y,a=f.x,o=f.y}else return QL(t);return[{x:r,y:i},{x:a,y:o}]}var zL={},WL={},KL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fS;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(KL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(WL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hS,n=WL;function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let A=0;A<l;A++)c[A]=i,i+=o;return c}e.range=r})(zL);var q0e=zL.range;const VL=zl(q0e);function Oc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BS(e){let t,n,r;e.length!==2?(t=Oc,n=(l,c)=>Oc(e(l),c),r=(l,c)=>e(l)-c):(t=e===Oc||e===Y0e?e:X0e,n=e,r=e);function i(l,c,A=0,u=l.length){if(A<u){if(t(c,c)!==0)return u;do{const d=A+u>>>1;n(l[d],c)<0?A=d+1:u=d}while(A<u)}return A}function a(l,c,A=0,u=l.length){if(A<u){if(t(c,c)!==0)return u;do{const d=A+u>>>1;n(l[d],c)<=0?A=d+1:u=d}while(A<u)}return A}function o(l,c,A=0,u=l.length){const d=i(l,c,A,u-1);return d>A&&r(l[d-1],c)>-r(l[d],c)?d-1:d}return{left:i,center:o,right:a}}function X0e(){return 0}function GL(e){return e===null?NaN:+e}function*J0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Z0e=BS(Oc),Dg=Z0e.right;BS(GL).center;class UT extends Map{constructor(t,n=nye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(LT(this,t))}has(t){return super.has(LT(this,t))}set(t,n){return super.set(eye(this,t),n)}delete(t){return super.delete(tye(this,t))}}function LT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function eye({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function tye({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nye(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rye(e=Oc){if(e===Oc)return qL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function qL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iye=Math.sqrt(50),aye=Math.sqrt(10),sye=Math.sqrt(2);function my(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=iye?10:a>=aye?5:a>=sye?2:1;let l,c,A;return i<0?(A=Math.pow(10,-i)/o,l=Math.round(e*A),c=Math.round(t*A),l/A<e&&++l,c/A>t&&--c,A=-A):(A=Math.pow(10,i)*o,l=Math.round(e/A),c=Math.round(t/A),l*A<e&&++l,c*A>t&&--c),c<l&&.5<=n&&n<2?my(e,t,n*2):[l,c,A]}function VC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?my(t,e,n):my(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let A=0;A<l;++A)c[A]=(a-A)/-o;else for(let A=0;A<l;++A)c[A]=(a-A)*o;else if(o<0)for(let A=0;A<l;++A)c[A]=(i+A)/-o;else for(let A=0;A<l;++A)c[A]=(i+A)*o;return c}function GC(e,t,n){return t=+t,e=+e,n=+n,my(e,t,n)[2]}function qC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?GC(t,e,n):GC(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function OT(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RT(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function YL(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?qL:rye(i);r>n;){if(r-n>600){const c=r-n+1,A=t-n+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(A-c/2<0?-1:1),f=Math.max(n,Math.floor(t-A*d/c+h)),p=Math.min(r,Math.floor(t+(c-A)*d/c+h));YL(e,t,f,p,i)}const a=e[t];let o=n,l=r;for(Vh(e,n,t),i(e[r],a)>0&&Vh(e,n,r);o<l;){for(Vh(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Vh(e,n,l):(++l,Vh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Vh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oye(e,t,n){if(e=Float64Array.from(J0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return RT(e);if(t>=1)return OT(e);var r,i=(r-1)*t,a=Math.floor(i),o=OT(YL(e,a).subarray(0,a+1)),l=RT(e.subarray(a+1));return o+(l-o)*(i-a)}}function lye(e,t,n=GL){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function cye(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Js(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ql(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const YC=Symbol("implicit");function SS(){var e=new UT,t=[],n=[],r=YC;function i(a){let o=e.get(a);if(o===void 0){if(r!==YC)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new UT;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SS(t,n).unknown(r)},Js.apply(i,arguments),i}function jS(){var e=SS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,c=0,A=0,u=.5;delete e.unknown;function d(){var h=t().length,f=i<r,p=f?i:r,g=f?r:i;a=(g-p)/Math.max(1,h-c+A*2),l&&(a=Math.floor(a)),p+=(g-p-a*(h-c))*u,o=a*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=cye(h).map(function(x){return p+a*x});return n(f?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,A=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(A=+h,d()):A},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return jS(t(),[r,i]).round(l).paddingInner(c).paddingOuter(A).align(u)},Js.apply(d(),arguments)}function XL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XL(t())},e}function Aye(){return XL(jS.apply(null,arguments).paddingInner(1))}function ES(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JL(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mg(){}var Jp=.7,vy=1/Jp,Ld="\\s*([+-]?\\d+)\\s*",Zp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uye=/^#([0-9a-f]{3,8})$/,dye=new RegExp(`^rgb\\(${Ld},${Ld},${Ld}\\)$`),fye=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),hye=new RegExp(`^rgba\\(${Ld},${Ld},${Ld},${Zp}\\)$`),pye=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${Zp}\\)$`),gye=new RegExp(`^hsl\\(${Zp},${Vo},${Vo}\\)$`),mye=new RegExp(`^hsla\\(${Zp},${Vo},${Vo},${Zp}\\)$`),QT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ES(Mg,eg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HT,formatHex:HT,formatHex8:vye,formatHsl:yye,formatRgb:$T,toString:$T});function HT(){return this.rgb().formatHex()}function vye(){return this.rgb().formatHex8()}function yye(){return ZL(this).formatHsl()}function $T(){return this.rgb().formatRgb()}function eg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uye.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zT(t):n===3?new Da(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dye.exec(e))?new Da(t[1],t[2],t[3],1):(t=fye.exec(e))?new Da(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hye.exec(e))?Nv(t[1],t[2],t[3],t[4]):(t=pye.exec(e))?Nv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gye.exec(e))?VT(t[1],t[2]/100,t[3]/100,1):(t=mye.exec(e))?VT(t[1],t[2]/100,t[3]/100,t[4]):QT.hasOwnProperty(e)?zT(QT[e]):e==="transparent"?new Da(NaN,NaN,NaN,0):null}function zT(e){return new Da(e>>16&255,e>>8&255,e&255,1)}function Nv(e,t,n,r){return r<=0&&(e=t=n=NaN),new Da(e,t,n,r)}function xye(e){return e instanceof Mg||(e=eg(e)),e?(e=e.rgb(),new Da(e.r,e.g,e.b,e.opacity)):new Da}function XC(e,t,n,r){return arguments.length===1?xye(e):new Da(e,t,n,r??1)}function Da(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ES(Da,XC,JL(Mg,{brighter(e){return e=e==null?vy:Math.pow(vy,e),new Da(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jp:Math.pow(Jp,e),new Da(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Da(WA(this.r),WA(this.g),WA(this.b),yy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WT,formatHex:WT,formatHex8:bye,formatRgb:KT,toString:KT}));function WT(){return`#${PA(this.r)}${PA(this.g)}${PA(this.b)}`}function bye(){return`#${PA(this.r)}${PA(this.g)}${PA(this.b)}${PA((isNaN(this.opacity)?1:this.opacity)*255)}`}function KT(){const e=yy(this.opacity);return`${e===1?"rgb(":"rgba("}${WA(this.r)}, ${WA(this.g)}, ${WA(this.b)}${e===1?")":`, ${e})`}`}function yy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function WA(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function PA(e){return e=WA(e),(e<16?"0":"")+e.toString(16)}function VT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uo(e,t,n,r)}function ZL(e){if(e instanceof uo)return new uo(e.h,e.s,e.l,e.opacity);if(e instanceof Mg||(e=eg(e)),!e)return new uo;if(e instanceof uo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new uo(o,l,c,e.opacity)}function wye(e,t,n,r){return arguments.length===1?ZL(e):new uo(e,t,n,r??1)}function uo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ES(uo,wye,JL(Mg,{brighter(e){return e=e==null?vy:Math.pow(vy,e),new uo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jp:Math.pow(Jp,e),new uo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Da(U2(e>=240?e-240:e+120,i,r),U2(e,i,r),U2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new uo(GT(this.h),Fv(this.s),Fv(this.l),yy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yy(this.opacity);return`${e===1?"hsl(":"hsla("}${GT(this.h)}, ${Fv(this.s)*100}%, ${Fv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GT(e){return e=(e||0)%360,e<0?e+360:e}function Fv(e){return Math.max(0,Math.min(1,e||0))}function U2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const kS=e=>()=>e;function Cye(e,t){return function(n){return e+n*t}}function Bye(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Sye(e){return(e=+e)==1?eO:function(t,n){return n-t?Bye(t,n,e):kS(isNaN(t)?n:t)}}function eO(e,t){var n=t-e;return n?Cye(e,n):kS(isNaN(e)?t:e)}const qT=function e(t){var n=Sye(t);function r(i,a){var o=n((i=XC(i)).r,(a=XC(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),A=eO(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=A(u),i+""}}return r.gamma=e,r}(1);function jye(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Eye(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kye(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Pf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Iye(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tye(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var JC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L2=new RegExp(JC.source,"g");function Nye(e){return function(){return e}}function Fye(e){return function(t){return e(t)+""}}function Pye(e,t){var n=JC.lastIndex=L2.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=JC.exec(e))&&(i=L2.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:xy(r,i)})),n=L2.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Fye(c[0].x):Nye(t):(t=c.length,function(A){for(var u=0,d;u<t;++u)l[(d=c[u]).i]=d.x(A);return l.join("")})}function Pf(e,t){var n=typeof t,r;return t==null||n==="boolean"?kS(t):(n==="number"?xy:n==="string"?(r=eg(t))?(t=r,qT):Pye:t instanceof eg?qT:t instanceof Date?Iye:Eye(t)?jye:Array.isArray(t)?kye:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tye:xy)(e,t)}function IS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function _ye(e,t){t===void 0&&(t=e,e=Pf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Dye(e){return function(){return e}}function by(e){return+e}var YT=[0,1];function wa(e){return e}function ZC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Dye(isNaN(t)?NaN:.5)}function Mye(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Uye(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ZC(i,r),a=n(o,a)):(r=ZC(r,i),a=n(a,o)),function(l){return a(r(l))}}function Lye(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ZC(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Dg(e,l,1,r)-1;return a[c](i[c](l))}}function Ug(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function y1(){var e=YT,t=YT,n=Pf,r,i,a,o=wa,l,c,A;function u(){var h=Math.min(e.length,t.length);return o!==wa&&(o=Mye(e[0],e[h-1])),l=h>2?Lye:Uye,c=A=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(i((A||(A=l(t,e.map(r),xy)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,by),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=IS,u()},d.clamp=function(h){return arguments.length?(o=h?!0:wa,u()):o!==wa},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,f){return r=h,i=f,u()}}function TS(){return y1()(wa,wa)}function Oye(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function df(e){return e=wy(Math.abs(e)),e?e[1]:NaN}function Rye(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Qye(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tg(e){if(!(t=Hye.exec(e)))throw new Error("invalid format: "+e);var t;return new NS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tg.prototype=NS.prototype;function NS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}NS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $ye(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tO;function zye(e,t){var n=wy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(tO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+wy(e,Math.max(0,t+a-1))[0]}function XT(e,t){var n=wy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Oye,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XT(e*100,t),r:XT,s:zye,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZT(e){return e}var eN=Array.prototype.map,tN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wye(e){var t=e.grouping===void 0||e.thousands===void 0?ZT:Rye(eN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ZT:Qye(eN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function A(d){d=tg(d);var h=d.fill,f=d.align,p=d.sign,g=d.symbol,v=d.zero,x=d.width,C=d.comma,b=d.precision,w=d.trim,E=d.type;E==="n"?(C=!0,E="g"):JT[E]||(b===void 0&&(b=12),w=!0,E="g"),(v||h==="0"&&f==="=")&&(v=!0,h="0",f="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",F=g==="$"?r:/[%p]/.test(E)?o:"",N=JT[E],P=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function Q(j){var k=S,T=F,D,R,H;if(E==="c")T=N(j)+T,j="";else{j=+j;var z=j<0||1/j<0;if(j=isNaN(j)?c:N(Math.abs(j),b),w&&(j=$ye(j)),z&&+j==0&&p!=="+"&&(z=!1),k=(z?p==="("?p:l:p==="-"||p==="("?"":p)+k,T=(E==="s"?tN[8+tO/3]:"")+T+(z&&p==="("?")":""),P){for(D=-1,R=j.length;++D<R;)if(H=j.charCodeAt(D),48>H||H>57){T=(H===46?i+j.slice(D+1):j.slice(D))+T,j=j.slice(0,D);break}}}C&&!v&&(j=t(j,1/0));var V=k.length+j.length+T.length,J=V<x?new Array(x-V+1).join(h):"";switch(C&&v&&(j=t(J+j,J.length?x-T.length:1/0),J=""),f){case"<":j=k+j+T+J;break;case"=":j=k+J+j+T;break;case"^":j=J.slice(0,V=J.length>>1)+k+j+T+J.slice(V);break;default:j=J+k+j+T;break}return a(j)}return Q.toString=function(){return d+""},Q}function u(d,h){var f=A((d=tg(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(df(h)/3)))*3,g=Math.pow(10,-p),v=tN[8+p/3];return function(x){return f(g*x)+v}}return{format:A,formatPrefix:u}}var Pv,FS,nO;Kye({thousands:",",grouping:[3],currency:["$",""]});function Kye(e){return Pv=Wye(e),FS=Pv.format,nO=Pv.formatPrefix,Pv}function Vye(e){return Math.max(0,-df(Math.abs(e)))}function Gye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(df(t)/3)))*3-df(Math.abs(e)))}function qye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,df(t)-df(e))+1}function rO(e,t,n,r){var i=qC(e,t,n),a;switch(r=tg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Gye(i,o))&&(r.precision=a),nO(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=qye(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Vye(i))&&(r.precision=a-(r.type==="%")*2);break}}return FS(r)}function tA(e){var t=e.domain;return e.ticks=function(n){var r=t();return VC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return rO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],c,A,u=10;for(l<o&&(A=o,o=l,l=A,A=i,i=a,a=A);u-- >0;){if(A=GC(o,l,n),A===c)return r[i]=o,r[a]=l,t(r);if(A>0)o=Math.floor(o/A)*A,l=Math.ceil(l/A)*A;else if(A<0)o=Math.ceil(o*A)/A,l=Math.floor(l*A)/A;else break;c=A}return e},e}function iO(){var e=TS();return e.copy=function(){return Ug(e,iO())},Js.apply(e,arguments),tA(e)}function aO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,by),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return aO(e).unknown(t)},e=arguments.length?Array.from(e,by):[0,1],tA(n)}function sO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function nN(e){return Math.log(e)}function rN(e){return Math.exp(e)}function Yye(e){return-Math.log(-e)}function Xye(e){return-Math.exp(-e)}function Jye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Zye(e){return e===10?Jye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function exe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iN(e){return(t,n)=>-e(-t,n)}function PS(e){const t=e(nN,rN),n=t.domain;let r=10,i,a;function o(){return i=exe(r),a=Zye(r),n()[0]<0?(i=iN(i),a=iN(a),e(Yye,Xye)):e(nN,rN),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let A=c[0],u=c[c.length-1];const d=u<A;d&&([A,u]=[u,A]);let h=i(A),f=i(u),p,g;const v=l==null?10:+l;let x=[];if(!(r%1)&&f-h<v){if(h=Math.floor(h),f=Math.ceil(f),A>0){for(;h<=f;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<A)){if(g>u)break;x.push(g)}}else for(;h<=f;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<A)){if(g>u)break;x.push(g)}x.length*2<v&&(x=VC(A,u,v))}else x=VC(h,f,Math.min(f-h,v)).map(a);return d?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=tg(c)).precision==null&&(c.trim=!0),c=FS(c)),l===1/0)return c;const A=Math.max(1,r*l/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=A?c(u):""}},t.nice=()=>n(sO(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function oO(){const e=PS(y1()).domain([1,10]);return e.copy=()=>Ug(e,oO()).base(e.base()),Js.apply(e,arguments),e}function aN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _S(e){var t=1,n=e(aN(t),sN(t));return n.constant=function(r){return arguments.length?e(aN(t=+r),sN(t)):t},tA(n)}function lO(){var e=_S(y1());return e.copy=function(){return Ug(e,lO()).constant(e.constant())},Js.apply(e,arguments)}function oN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function txe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nxe(e){return e<0?-e*e:e*e}function DS(e){var t=e(wa,wa),n=1;function r(){return n===1?e(wa,wa):n===.5?e(txe,nxe):e(oN(n),oN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},tA(t)}function MS(){var e=DS(y1());return e.copy=function(){return Ug(e,MS()).exponent(e.exponent())},Js.apply(e,arguments),e}function rxe(){return MS.apply(null,arguments).exponent(.5)}function lN(e){return Math.sign(e)*e*e}function ixe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cO(){var e=TS(),t=[0,1],n=!1,r;function i(a){var o=ixe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(lN(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,by)).map(lN)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Js.apply(i,arguments),tA(i)}function AO(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=lye(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Dg(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Oc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return AO().domain(e).range(t).unknown(r)},Js.apply(a,arguments)}function uO(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Dg(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var A=i.indexOf(c);return A<0?[NaN,NaN]:A<1?[e,r[0]]:A>=n?[r[n-1],t]:[r[A-1],r[A]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return uO().domain([e,t]).range(i).unknown(a)},Js.apply(tA(o),arguments)}function dO(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Dg(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dO().domain(e).range(t).unknown(n)},Js.apply(i,arguments)}const O2=new Date,R2=new Date;function bi(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let A;do c.push(A=new Date(+a)),t(a,l),e(a);while(A<a&&a<o);return c},i.filter=a=>bi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(O2.setTime(+a),R2.setTime(+o),e(O2),e(R2),Math.floor(n(O2,R2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Cy=bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cy);Cy.range;const Bl=1e3,Ls=Bl*60,Sl=Ls*60,Rl=Sl*24,US=Rl*7,cN=Rl*30,Q2=Rl*365,_A=bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bl)},(e,t)=>(t-e)/Bl,e=>e.getUTCSeconds());_A.range;const LS=bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bl)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getMinutes());LS.range;const OS=bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCMinutes());OS.range;const RS=bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bl-e.getMinutes()*Ls)},(e,t)=>{e.setTime(+e+t*Sl)},(e,t)=>(t-e)/Sl,e=>e.getHours());RS.range;const QS=bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Sl)},(e,t)=>(t-e)/Sl,e=>e.getUTCHours());QS.range;const Lg=bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ls)/Rl,e=>e.getDate()-1);Lg.range;const x1=bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rl,e=>e.getUTCDate()-1);x1.range;const fO=bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rl,e=>Math.floor(e/Rl));fO.range;function hu(e){return bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/US)}const b1=hu(0),By=hu(1),axe=hu(2),sxe=hu(3),ff=hu(4),oxe=hu(5),lxe=hu(6);b1.range;By.range;axe.range;sxe.range;ff.range;oxe.range;lxe.range;function pu(e){return bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/US)}const w1=pu(0),Sy=pu(1),cxe=pu(2),Axe=pu(3),hf=pu(4),uxe=pu(5),dxe=pu(6);w1.range;Sy.range;cxe.range;Axe.range;hf.range;uxe.range;dxe.range;const HS=bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());HS.range;const $S=bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$S.range;const Ql=bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ql.range;const Hl=bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hl.range;function hO(e,t,n,r,i,a){const o=[[_A,1,Bl],[_A,5,5*Bl],[_A,15,15*Bl],[_A,30,30*Bl],[a,1,Ls],[a,5,5*Ls],[a,15,15*Ls],[a,30,30*Ls],[i,1,Sl],[i,3,3*Sl],[i,6,6*Sl],[i,12,12*Sl],[r,1,Rl],[r,2,2*Rl],[n,1,US],[t,1,cN],[t,3,3*cN],[e,1,Q2]];function l(A,u,d){const h=u<A;h&&([A,u]=[u,A]);const f=d&&typeof d.range=="function"?d:c(A,u,d),p=f?f.range(A,+u+1):[];return h?p.reverse():p}function c(A,u,d){const h=Math.abs(u-A)/d,f=BS(([,,v])=>v).right(o,h);if(f===o.length)return e.every(qC(A/Q2,u/Q2,d));if(f===0)return Cy.every(Math.max(qC(A,u,d),1));const[p,g]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(g)}return[l,c]}const[fxe,hxe]=hO(Hl,$S,w1,fO,QS,OS),[pxe,gxe]=hO(Ql,HS,b1,Lg,RS,LS);function H2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mxe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,A=qh(i),u=Yh(i),d=qh(a),h=Yh(a),f=qh(o),p=Yh(o),g=qh(l),v=Yh(l),x=qh(c),C=Yh(c),b={a:z,A:V,b:J,B:te,c:null,d:pN,e:pN,f:Rxe,g:Yxe,G:Jxe,H:Uxe,I:Lxe,j:Oxe,L:pO,m:Qxe,M:Hxe,p:Ae,q:U,Q:vN,s:yN,S:$xe,u:zxe,U:Wxe,V:Kxe,w:Vxe,W:Gxe,x:null,X:null,y:qxe,Y:Xxe,Z:Zxe,"%":mN},w={a:O,A:M,b:L,B:W,c:null,d:gN,e:gN,f:r1e,g:f1e,G:p1e,H:e1e,I:t1e,j:n1e,L:mO,m:i1e,M:a1e,p:G,q:se,Q:vN,s:yN,S:s1e,u:o1e,U:l1e,V:c1e,w:A1e,W:u1e,x:null,X:null,y:d1e,Y:h1e,Z:g1e,"%":mN},E={a:Q,A:j,b:k,B:T,c:D,d:fN,e:fN,f:Pxe,g:dN,G:uN,H:hN,I:hN,j:Ixe,L:Fxe,m:kxe,M:Txe,p:P,q:Exe,Q:Dxe,s:Mxe,S:Nxe,u:wxe,U:Cxe,V:Bxe,w:bxe,W:Sxe,x:R,X:H,y:dN,Y:uN,Z:jxe,"%":_xe};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(X,ge){return function(ce){var Y=[],ne=-1,oe=0,fe=X.length,ie,Te,be;for(ce instanceof Date||(ce=new Date(+ce));++ne<fe;)X.charCodeAt(ne)===37&&(Y.push(X.slice(oe,ne)),(Te=AN[ie=X.charAt(++ne)])!=null?ie=X.charAt(++ne):Te=ie==="e"?" ":"0",(be=ge[ie])&&(ie=be(ce,Te)),Y.push(ie),oe=ne+1);return Y.push(X.slice(oe,ne)),Y.join("")}}function F(X,ge){return function(ce){var Y=Gh(1900,void 0,1),ne=N(Y,X,ce+="",0),oe,fe;if(ne!=ce.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ge&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(oe=$2(Gh(Y.y,0,1)),fe=oe.getUTCDay(),oe=fe>4||fe===0?Sy.ceil(oe):Sy(oe),oe=x1.offset(oe,(Y.V-1)*7),Y.y=oe.getUTCFullYear(),Y.m=oe.getUTCMonth(),Y.d=oe.getUTCDate()+(Y.w+6)%7):(oe=H2(Gh(Y.y,0,1)),fe=oe.getDay(),oe=fe>4||fe===0?By.ceil(oe):By(oe),oe=Lg.offset(oe,(Y.V-1)*7),Y.y=oe.getFullYear(),Y.m=oe.getMonth(),Y.d=oe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),fe="Z"in Y?$2(Gh(Y.y,0,1)).getUTCDay():H2(Gh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(fe+5)%7:Y.w+Y.U*7-(fe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,$2(Y)):H2(Y)}}function N(X,ge,ce,Y){for(var ne=0,oe=ge.length,fe=ce.length,ie,Te;ne<oe;){if(Y>=fe)return-1;if(ie=ge.charCodeAt(ne++),ie===37){if(ie=ge.charAt(ne++),Te=E[ie in AN?ge.charAt(ne++):ie],!Te||(Y=Te(X,ce,Y))<0)return-1}else if(ie!=ce.charCodeAt(Y++))return-1}return Y}function P(X,ge,ce){var Y=A.exec(ge.slice(ce));return Y?(X.p=u.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function Q(X,ge,ce){var Y=f.exec(ge.slice(ce));return Y?(X.w=p.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function j(X,ge,ce){var Y=d.exec(ge.slice(ce));return Y?(X.w=h.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function k(X,ge,ce){var Y=x.exec(ge.slice(ce));return Y?(X.m=C.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function T(X,ge,ce){var Y=g.exec(ge.slice(ce));return Y?(X.m=v.get(Y[0].toLowerCase()),ce+Y[0].length):-1}function D(X,ge,ce){return N(X,t,ge,ce)}function R(X,ge,ce){return N(X,n,ge,ce)}function H(X,ge,ce){return N(X,r,ge,ce)}function z(X){return o[X.getDay()]}function V(X){return a[X.getDay()]}function J(X){return c[X.getMonth()]}function te(X){return l[X.getMonth()]}function Ae(X){return i[+(X.getHours()>=12)]}function U(X){return 1+~~(X.getMonth()/3)}function O(X){return o[X.getUTCDay()]}function M(X){return a[X.getUTCDay()]}function L(X){return c[X.getUTCMonth()]}function W(X){return l[X.getUTCMonth()]}function G(X){return i[+(X.getUTCHours()>=12)]}function se(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ge=S(X+="",b);return ge.toString=function(){return X},ge},parse:function(X){var ge=F(X+="",!1);return ge.toString=function(){return X},ge},utcFormat:function(X){var ge=S(X+="",w);return ge.toString=function(){return X},ge},utcParse:function(X){var ge=F(X+="",!0);return ge.toString=function(){return X},ge}}}var AN={"-":"",_:" ",0:"0"},Mi=/^\s*\d+/,vxe=/^%/,yxe=/[\\^$*+?|[\]().{}]/g;function Qn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function xxe(e){return e.replace(yxe,"\\$&")}function qh(e){return new RegExp("^(?:"+e.map(xxe).join("|")+")","i")}function Yh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function bxe(e,t,n){var r=Mi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function wxe(e,t,n){var r=Mi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Cxe(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Bxe(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Sxe(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function uN(e,t,n){var r=Mi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dN(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jxe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Exe(e,t,n){var r=Mi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kxe(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fN(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ixe(e,t,n){var r=Mi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function hN(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Txe(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Nxe(e,t,n){var r=Mi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Fxe(e,t,n){var r=Mi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Pxe(e,t,n){var r=Mi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _xe(e,t,n){var r=vxe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Dxe(e,t,n){var r=Mi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mxe(e,t,n){var r=Mi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pN(e,t){return Qn(e.getDate(),t,2)}function Uxe(e,t){return Qn(e.getHours(),t,2)}function Lxe(e,t){return Qn(e.getHours()%12||12,t,2)}function Oxe(e,t){return Qn(1+Lg.count(Ql(e),e),t,3)}function pO(e,t){return Qn(e.getMilliseconds(),t,3)}function Rxe(e,t){return pO(e,t)+"000"}function Qxe(e,t){return Qn(e.getMonth()+1,t,2)}function Hxe(e,t){return Qn(e.getMinutes(),t,2)}function $xe(e,t){return Qn(e.getSeconds(),t,2)}function zxe(e){var t=e.getDay();return t===0?7:t}function Wxe(e,t){return Qn(b1.count(Ql(e)-1,e),t,2)}function gO(e){var t=e.getDay();return t>=4||t===0?ff(e):ff.ceil(e)}function Kxe(e,t){return e=gO(e),Qn(ff.count(Ql(e),e)+(Ql(e).getDay()===4),t,2)}function Vxe(e){return e.getDay()}function Gxe(e,t){return Qn(By.count(Ql(e)-1,e),t,2)}function qxe(e,t){return Qn(e.getFullYear()%100,t,2)}function Yxe(e,t){return e=gO(e),Qn(e.getFullYear()%100,t,2)}function Xxe(e,t){return Qn(e.getFullYear()%1e4,t,4)}function Jxe(e,t){var n=e.getDay();return e=n>=4||n===0?ff(e):ff.ceil(e),Qn(e.getFullYear()%1e4,t,4)}function Zxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qn(t/60|0,"0",2)+Qn(t%60,"0",2)}function gN(e,t){return Qn(e.getUTCDate(),t,2)}function e1e(e,t){return Qn(e.getUTCHours(),t,2)}function t1e(e,t){return Qn(e.getUTCHours()%12||12,t,2)}function n1e(e,t){return Qn(1+x1.count(Hl(e),e),t,3)}function mO(e,t){return Qn(e.getUTCMilliseconds(),t,3)}function r1e(e,t){return mO(e,t)+"000"}function i1e(e,t){return Qn(e.getUTCMonth()+1,t,2)}function a1e(e,t){return Qn(e.getUTCMinutes(),t,2)}function s1e(e,t){return Qn(e.getUTCSeconds(),t,2)}function o1e(e){var t=e.getUTCDay();return t===0?7:t}function l1e(e,t){return Qn(w1.count(Hl(e)-1,e),t,2)}function vO(e){var t=e.getUTCDay();return t>=4||t===0?hf(e):hf.ceil(e)}function c1e(e,t){return e=vO(e),Qn(hf.count(Hl(e),e)+(Hl(e).getUTCDay()===4),t,2)}function A1e(e){return e.getUTCDay()}function u1e(e,t){return Qn(Sy.count(Hl(e)-1,e),t,2)}function d1e(e,t){return Qn(e.getUTCFullYear()%100,t,2)}function f1e(e,t){return e=vO(e),Qn(e.getUTCFullYear()%100,t,2)}function h1e(e,t){return Qn(e.getUTCFullYear()%1e4,t,4)}function p1e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hf(e):hf.ceil(e),Qn(e.getUTCFullYear()%1e4,t,4)}function g1e(){return"+0000"}function mN(){return"%"}function vN(e){return+e}function yN(e){return Math.floor(+e/1e3)}var od,yO,xO;m1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m1e(e){return od=mxe(e),yO=od.format,od.parse,xO=od.utcFormat,od.utcParse,od}function v1e(e){return new Date(e)}function y1e(e){return e instanceof Date?+e:+new Date(+e)}function zS(e,t,n,r,i,a,o,l,c,A){var u=TS(),d=u.invert,h=u.domain,f=A(".%L"),p=A(":%S"),g=A("%I:%M"),v=A("%I %p"),x=A("%a %d"),C=A("%b %d"),b=A("%B"),w=A("%Y");function E(S){return(c(S)<S?f:l(S)<S?p:o(S)<S?g:a(S)<S?v:r(S)<S?i(S)<S?x:C:n(S)<S?b:w)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,y1e)):h().map(v1e)},u.ticks=function(S){var F=h();return e(F[0],F[F.length-1],S??10)},u.tickFormat=function(S,F){return F==null?E:A(F)},u.nice=function(S){var F=h();return(!S||typeof S.range!="function")&&(S=t(F[0],F[F.length-1],S??10)),S?h(sO(F,S)):u},u.copy=function(){return Ug(u,zS(e,t,n,r,i,a,o,l,c,A))},u}function x1e(){return Js.apply(zS(pxe,gxe,Ql,HS,b1,Lg,RS,LS,_A,yO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function b1e(){return Js.apply(zS(fxe,hxe,Hl,$S,w1,x1,QS,OS,_A,xO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C1(){var e=0,t=1,n,r,i,a,o=wa,l=!1,c;function A(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(a(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}A.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),A):[e,t]},A.clamp=function(d){return arguments.length?(l=!!d,A):l},A.interpolator=function(d){return arguments.length?(o=d,A):o};function u(d){return function(h){var f,p;return arguments.length?([f,p]=h,o=d(f,p),A):[o(0),o(1)]}}return A.range=u(Pf),A.rangeRound=u(IS),A.unknown=function(d){return arguments.length?(c=d,A):c},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),A}}function nA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bO(){var e=tA(C1()(wa));return e.copy=function(){return nA(e,bO())},ql.apply(e,arguments)}function wO(){var e=PS(C1()).domain([1,10]);return e.copy=function(){return nA(e,wO()).base(e.base())},ql.apply(e,arguments)}function CO(){var e=_S(C1());return e.copy=function(){return nA(e,CO()).constant(e.constant())},ql.apply(e,arguments)}function WS(){var e=DS(C1());return e.copy=function(){return nA(e,WS()).exponent(e.exponent())},ql.apply(e,arguments)}function w1e(){return WS.apply(null,arguments).exponent(.5)}function BO(){var e=[],t=wa;function n(r){if(r!=null&&!isNaN(r=+r))return t((Dg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Oc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>oye(e,a/r))},n.copy=function(){return BO(t).domain(e)},ql.apply(n,arguments)}function B1(){var e=0,t=.5,n=1,r=1,i,a,o,l,c,A=wa,u,d=!1,h;function f(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?l:c),A(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,f):[e,t,n]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(A=g,f):A};function p(g){return function(v){var x,C,b;return arguments.length?([x,C,b]=v,A=_ye(g,[x,C,b]),f):[A(0),A(.5),A(1)]}}return f.range=p(Pf),f.rangeRound=p(IS),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return u=g,i=g(e),a=g(t),o=g(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,f}}function SO(){var e=tA(B1()(wa));return e.copy=function(){return nA(e,SO())},ql.apply(e,arguments)}function jO(){var e=PS(B1()).domain([.1,1,10]);return e.copy=function(){return nA(e,jO()).base(e.base())},ql.apply(e,arguments)}function EO(){var e=_S(B1());return e.copy=function(){return nA(e,EO()).constant(e.constant())},ql.apply(e,arguments)}function KS(){var e=DS(B1());return e.copy=function(){return nA(e,KS()).exponent(e.exponent())},ql.apply(e,arguments)}function C1e(){return KS.apply(null,arguments).exponent(.5)}const Ap=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jS,scaleDiverging:SO,scaleDivergingLog:jO,scaleDivergingPow:KS,scaleDivergingSqrt:C1e,scaleDivergingSymlog:EO,scaleIdentity:aO,scaleImplicit:YC,scaleLinear:iO,scaleLog:oO,scaleOrdinal:SS,scalePoint:Aye,scalePow:MS,scaleQuantile:AO,scaleQuantize:uO,scaleRadial:cO,scaleSequential:bO,scaleSequentialLog:wO,scaleSequentialPow:WS,scaleSequentialQuantile:BO,scaleSequentialSqrt:w1e,scaleSequentialSymlog:CO,scaleSqrt:rxe,scaleSymlog:lO,scaleThreshold:dO,scaleTime:x1e,scaleUtc:b1e,tickFormat:rO},Symbol.toStringTag,{value:"Module"}));var rA=e=>e.chartData,VS=Xe([rA],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),kO=(e,t,n,r)=>r?VS(e):rA(e);function pf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(vo(t)&&vo(n))return!0}return!1}function xN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function B1e(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(vo(n))i=n;else if(typeof n=="function")return;if(vo(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(pf(o))return o}}function S1e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(pf(r))return xN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(jn(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&gT.test(i)){var c=gT.exec(i);if(c==null||t==null)o=void 0;else{var A=+c[1];o=t[0]-A}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(jn(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&mT.test(a)){var u=mT.exec(a);if(u==null||t==null)l=void 0;else{var d=+u[1];l=t[1]+d}}else l=t==null?void 0:t[1];var h=[o,l];if(pf(h))return t==null?h:xN(h,t,n)}}}var _f=1e9,j1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qS,jr=!0,Ks="[DecimalError] ",KA=Ks+"Invalid argument: ",GS=Ks+"Exponent out of range: ",Df=Math.floor,SA=Math.pow,E1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,es,Ii=1e7,mr=7,IO=9007199254740991,jy=Df(IO/mr),Vt={};Vt.absoluteValue=Vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Vt.comparedTo=Vt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Vt.decimalPlaces=Vt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*mr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Vt.dividedBy=Vt.div=function(e){return Nl(this,new this.constructor(e))};Vt.dividedToIntegerBy=Vt.idiv=function(e){var t=this,n=t.constructor;return or(Nl(t,new n(e),0,1),n.precision)};Vt.equals=Vt.eq=function(e){return!this.cmp(e)};Vt.exponent=function(){return hi(this)};Vt.greaterThan=Vt.gt=function(e){return this.cmp(e)>0};Vt.greaterThanOrEqualTo=Vt.gte=function(e){return this.cmp(e)>=0};Vt.isInteger=Vt.isint=function(){return this.e>this.d.length-2};Vt.isNegative=Vt.isneg=function(){return this.s<0};Vt.isPositive=Vt.ispos=function(){return this.s>0};Vt.isZero=function(){return this.s===0};Vt.lessThan=Vt.lt=function(e){return this.cmp(e)<0};Vt.lessThanOrEqualTo=Vt.lte=function(e){return this.cmp(e)<1};Vt.logarithm=Vt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(es))throw Error(Ks+"NaN");if(n.s<1)throw Error(Ks+(n.s?"NaN":"-Infinity"));return n.eq(es)?new r(0):(jr=!1,t=Nl(ng(n,a),ng(e,a),a),jr=!0,or(t,i))};Vt.minus=Vt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FO(t,e):TO(t,(e.s=-e.s,e))};Vt.modulo=Vt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ks+"NaN");return n.s?(jr=!1,t=Nl(n,e,0,1).times(e),jr=!0,n.minus(t)):or(new r(n),i)};Vt.naturalExponential=Vt.exp=function(){return NO(this)};Vt.naturalLogarithm=Vt.ln=function(){return ng(this)};Vt.negated=Vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Vt.plus=Vt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TO(t,e):FO(t,(e.s=-e.s,e))};Vt.precision=Vt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(KA+e);if(t=hi(i)+1,r=i.d.length-1,n=r*mr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Vt.squareRoot=Vt.sqrt=function(){var e,t,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ks+"NaN")}for(e=hi(l),jr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ho(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Df((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Nl(l,a,o+2)).times(.5),Ho(a.d).slice(0,o)===(t=Ho(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(or(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return jr=!0,or(r,n)};Vt.times=Vt.mul=function(e){var t,n,r,i,a,o,l,c,A,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,c=h.length,A=f.length,c<A&&(a=h,h=f,f=a,o=c,c=A,A=o),a=[],o=c+A,r=o;r--;)a.push(0);for(r=A;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+f[r]*h[i-r-1]+t,a[i--]=l%Ii|0,t=l/Ii|0;a[i]=(a[i]+t)%Ii|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,jr?or(e,d.precision):e};Vt.toDecimalPlaces=Vt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Zo(e,0,_f),t===void 0?t=r.rounding:Zo(t,0,8),or(n,e+hi(n)+1,t))};Vt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ru(r,!0):(Zo(e,0,_f),t===void 0?t=i.rounding:Zo(t,0,8),r=or(new i(r),e+1,t),n=ru(r,!0,e+1)),n};Vt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ru(i):(Zo(e,0,_f),t===void 0?t=a.rounding:Zo(t,0,8),r=or(new a(i),e+hi(i)+1,t),n=ru(r.abs(),!1,e+hi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Vt.toInteger=Vt.toint=function(){var e=this,t=e.constructor;return or(new t(e),hi(e)+1,t.rounding)};Vt.toNumber=function(){return+this};Vt.toPower=Vt.pow=function(e){var t,n,r,i,a,o,l=this,c=l.constructor,A=12,u=+(e=new c(e));if(!e.s)return new c(es);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ks+"Infinity");return l}if(l.eq(es))return l;if(r=c.precision,e.eq(es))return or(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=u<0?-u:u)<=IO){for(i=new c(es),t=Math.ceil(r/mr+4),jr=!1;n%2&&(i=i.times(l),wN(i.d,t)),n=Df(n/2),n!==0;)l=l.times(l),wN(l.d,t);return jr=!0,e.s<0?new c(es).div(i):or(i,r)}}else if(a<0)throw Error(Ks+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,jr=!1,i=e.times(ng(l,r+A)),jr=!0,i=NO(i),i.s=a,i};Vt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=hi(i),r=ru(i,n<=a.toExpNeg||n>=a.toExpPos)):(Zo(e,1,_f),t===void 0?t=a.rounding:Zo(t,0,8),i=or(new a(i),e,t),n=hi(i),r=ru(i,e<=n||n<=a.toExpNeg,e)),r};Vt.toSignificantDigits=Vt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Zo(e,1,_f),t===void 0?t=r.rounding:Zo(t,0,8)),or(new r(n),e,t)};Vt.toString=Vt.valueOf=Vt.val=Vt.toJSON=Vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hi(e),n=e.constructor;return ru(e,t<=n.toExpNeg||t>=n.toExpPos)};function TO(e,t){var n,r,i,a,o,l,c,A,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),jr?or(t,d):t;if(c=e.d,A=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=A.length):(r=A,i=o,l=c.length),o=Math.ceil(d/mr),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=A.length,l-a<0&&(a=l,r=A,A=c,c=r),n=0;a;)n=(c[--a]=c[a]+A[a]+n)/Ii|0,c[a]%=Ii;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,jr?or(t,d):t}function Zo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(KA+e)}function Ho(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=mr-r.length,n&&(a+=Bc(n)),a+=r;o=e[t],r=o+"",n=mr-r.length,n&&(a+=Bc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Nl=function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%Ii|0,o=a/Ii|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ii+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,A,u,d,h,f,p,g,v,x,C,b,w,E,S,F,N,P=r.constructor,Q=r.s==i.s?1:-1,j=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ks+"Division by zero");for(c=r.e-i.e,F=k.length,E=j.length,f=new P(Q),p=f.d=[],A=0;k[A]==(j[A]||0);)++A;if(k[A]>(j[A]||0)&&--c,a==null?C=a=P.precision:o?C=a+(hi(r)-hi(i))+1:C=a,C<0)return new P(0);if(C=C/mr+2|0,A=0,F==1)for(u=0,k=k[0],C++;(A<E||u)&&C--;A++)b=u*Ii+(j[A]||0),p[A]=b/k|0,u=b%k|0;else{for(u=Ii/(k[0]+1)|0,u>1&&(k=e(k,u),j=e(j,u),F=k.length,E=j.length),w=F,g=j.slice(0,F),v=g.length;v<F;)g[v++]=0;N=k.slice(),N.unshift(0),S=k[0],k[1]>=Ii/2&&++S;do u=0,l=t(k,g,F,v),l<0?(x=g[0],F!=v&&(x=x*Ii+(g[1]||0)),u=x/S|0,u>1?(u>=Ii&&(u=Ii-1),d=e(k,u),h=d.length,v=g.length,l=t(d,g,h,v),l==1&&(u--,n(d,F<h?N:k,h))):(u==0&&(l=u=1),d=k.slice()),h=d.length,h<v&&d.unshift(0),n(g,d,v),l==-1&&(v=g.length,l=t(k,g,F,v),l<1&&(u++,n(g,F<v?N:k,v))),v=g.length):l===0&&(u++,g=[0]),p[A++]=u,l&&g[0]?g[v++]=j[w]||0:(g=[j[w]],v=1);while((w++<E||g[0]!==void 0)&&C--)}return p[0]||p.shift(),f.e=c,or(f,o?a+hi(f)+1:a)}}();function NO(e,t){var n,r,i,a,o,l,c=0,A=0,u=e.constructor,d=u.precision;if(hi(e)>16)throw Error(GS+hi(e));if(!e.s)return new u(es);for(jr=!1,l=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),A+=5;for(r=Math.log(SA(2,A))/Math.LN10*2+5|0,l+=r,n=i=a=new u(es),u.precision=l;;){if(i=or(i.times(e),l),n=n.times(++c),o=a.plus(Nl(i,n,l)),Ho(o.d).slice(0,l)===Ho(a.d).slice(0,l)){for(;A--;)a=or(a.times(a),l);return u.precision=d,t==null?(jr=!0,or(a,d)):a}a=o}}function hi(e){for(var t=e.e*mr,n=e.d[0];n>=10;n/=10)t++;return t}function z2(e,t,n){if(t>e.LN10.sd())throw jr=!0,n&&(e.precision=n),Error(Ks+"LN10 precision limit exceeded");return or(new e(e.LN10),t)}function Bc(e){for(var t="";e--;)t+="0";return t}function ng(e,t){var n,r,i,a,o,l,c,A,u,d=1,h=10,f=e,p=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(Ks+(f.s?"NaN":"-Infinity"));if(f.eq(es))return new g(0);if(t==null?(jr=!1,A=v):A=t,f.eq(10))return t==null&&(jr=!0),z2(g,A);if(A+=h,g.precision=A,n=Ho(p),r=n.charAt(0),a=hi(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(e),n=Ho(f.d),r=n.charAt(0),d++;a=hi(f),r>1?(f=new g("0."+n),a++):f=new g(r+"."+n.slice(1))}else return c=z2(g,A+2,v).times(a+""),f=ng(new g(r+"."+n.slice(1)),A-h).plus(c),g.precision=v,t==null?(jr=!0,or(f,v)):f;for(l=o=f=Nl(f.minus(es),f.plus(es),A),u=or(f.times(f),A),i=3;;){if(o=or(o.times(u),A),c=l.plus(Nl(o,new g(i),A)),Ho(c.d).slice(0,A)===Ho(l.d).slice(0,A))return l=l.times(2),a!==0&&(l=l.plus(z2(g,A+2,v).times(a+""))),l=Nl(l,new g(d),A),g.precision=v,t==null?(jr=!0,or(l,v)):l;l=c,i+=2}}function bN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Df(n/mr),e.d=[],r=(n+1)%mr,n<0&&(r+=mr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=mr;r<i;)e.d.push(+t.slice(r,r+=mr));t=t.slice(r),r=mr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),jr&&(e.e>jy||e.e<-jy))throw Error(GS+n)}else e.s=0,e.e=0,e.d=[0];return e}function or(e,t,n){var r,i,a,o,l,c,A,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=mr,i=t,A=d[u=0];else{if(u=Math.ceil((r+1)/mr),a=d.length,u>=a)return e;for(A=a=d[u],o=1;a>=10;a/=10)o++;r%=mr,i=r-mr+o}if(n!==void 0&&(a=SA(10,o-i-1),l=A/a%10|0,c=t<0||d[u+1]!==void 0||A%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?A/SA(10,o-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return c?(a=hi(e),d.length=1,t=t-a-1,d[0]=SA(10,(mr-t%mr)%mr),e.e=Df(-t/mr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=SA(10,mr-r),d[u]=i>0?(A/SA(10,o-i)%SA(10,i)|0)*a:0),c)for(;;)if(u==0){(d[0]+=a)==Ii&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=Ii)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(jr&&(e.e>jy||e.e<-jy))throw Error(GS+hi(e));return e}function FO(e,t){var n,r,i,a,o,l,c,A,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),jr?or(t,f):t;if(c=e.d,d=t.d,r=t.e,A=e.e,c=c.slice(),o=A-r,o){for(u=o<0,u?(n=c,o=-o,l=d.length):(n=d,r=A,l=c.length),i=Math.max(Math.ceil(f/mr),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=d.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}o=0}for(u&&(n=c,c=d,d=n,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=Ii-1;--c[a],c[i]+=Ii}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,jr?or(t,f):t):new h(0)}function ru(e,t,n){var r,i=hi(e),a=Ho(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Bc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Bc(-i-1)+a,n&&(r=n-o)>0&&(a+=Bc(r))):i>=o?(a+=Bc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Bc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Bc(r))),e.s<0?"-"+a:a}function wN(e,t){if(e.length>t)return e.length=t,!0}function PO(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(KA+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return bN(o,a.toString())}else if(typeof a!="string")throw Error(KA+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,E1e.test(a))bN(o,a);else throw Error(KA+a)}if(i.prototype=Vt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PO,i.config=i.set=k1e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function k1e(e){if(!e||typeof e!="object")throw Error(Ks+"Object expected");var t,n,r,i=["precision",1,_f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Df(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(KA+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(KA+n+": "+r);return this}var qS=PO(j1e);es=new qS(1);const Jn=qS;var I1e=e=>e,_O={},DO=e=>e===_O,CN=e=>function t(){return arguments.length===0||arguments.length===1&&DO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},MO=(e,t)=>e===1?t:CN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==_O).length;return a>=e?t(...r):MO(e-a,CN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var A=r.map(u=>DO(u)?l.shift():u);return t(...A,...l)}))}),S1=e=>MO(e.length,e),eB=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},T1e=S1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),N1e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return I1e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},tB=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),UO=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,n=e(...i)),n}};function LO(e){var t;return e===0?t=1:t=Math.floor(new Jn(e).abs().log(10).toNumber())+1,t}function OO(e,t,n){for(var r=new Jn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}S1((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});S1((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});S1((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var RO=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},QO=(e,t,n)=>{if(e.lte(0))return new Jn(0);var r=LO(e.toNumber()),i=new Jn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Jn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?new Jn(c.toNumber()):new Jn(Math.ceil(c.toNumber()))},F1e=(e,t,n)=>{var r=new Jn(1),i=new Jn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Jn(10).pow(LO(e)-1),i=new Jn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Jn(Math.floor(e)))}else e===0?i=new Jn(Math.floor((t-1)/2)):n||(i=new Jn(Math.floor(e)));var o=Math.floor((t-1)/2),l=N1e(T1e(c=>i.add(new Jn(c-o).mul(r)).toNumber()),eB);return l(0,t)},HO=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Jn(0),tickMin:new Jn(0),tickMax:new Jn(0)};var o=QO(new Jn(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Jn(0):(l=new Jn(t).add(n).div(2),l=l.sub(new Jn(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),A=Math.ceil(new Jn(n).sub(l).div(o).toNumber()),u=c+A+1;return u>r?HO(t,n,r,i,a+1):(u<r&&(A=n>0?A+(r-u):A,c=n>0?c:c+(r-u)),{step:o,tickMin:l.sub(new Jn(c).mul(o)),tickMax:l.add(new Jn(A).mul(o))})};function P1e(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=RO([t,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...eB(0,r-1).map(()=>1/0)]:[...eB(0,r-1).map(()=>-1/0),l];return t>n?tB(c):c}if(o===l)return F1e(o,r,i);var{step:A,tickMin:u,tickMax:d}=HO(o,l,a,i,0),h=OO(u,d.add(new Jn(.1).mul(A)),A);return t>n?tB(h):h}function _1e(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=RO([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var l=Math.max(t,2),c=QO(new Jn(o).sub(a).div(l-1),i,0),A=[...OO(new Jn(a),new Jn(o),c),o];return i===!1&&(A=A.map(u=>Math.round(u))),n>r?tB(A):A}var D1e=UO(P1e),M1e=UO(_1e),U1e=e=>e.rootProps.barCategoryGap,Og=e=>e.rootProps.stackOffset,YS=e=>e.options.chartName,XS=e=>e.rootProps.syncId,$O=e=>e.rootProps.syncMethod,JS=e=>e.options.eventEmitter,wl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},j1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},L1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:wl.reversed,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:wl.type,unit:void 0},O1e={allowDataOverflow:Xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:Xa.tickCount,ticks:void 0,type:Xa.type,unit:void 0},R1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Q1e={allowDataOverflow:Xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:Xa.tickCount,ticks:void 0,type:"category",unit:void 0},ZS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?R1e:L1e,ej=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Q1e:O1e,E1=e=>e.polarOptions,tj=Xe([Vl,Gl,ca],mL),zO=Xe([E1,tj],(e,t)=>{if(e!=null)return Ko(e.innerRadius,t,0)}),WO=Xe([E1,tj],(e,t)=>{if(e!=null)return Ko(e.outerRadius,t,t*.8)}),H1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},KO=Xe([E1],H1e);Xe([ZS,KO],j1);var VO=Xe([tj,zO,WO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Xe([ej,VO],j1);var $1e=Xe([hr,E1,zO,WO,Vl,Gl],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:A}=t;return{cx:Ko(o,i,i/2),cy:Ko(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:A,clockWise:!1}}}),Er=(e,t)=>t,Rg=(e,t,n)=>n;function GO(e){return e==null?void 0:e.id}var wi=e=>{var t=hr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mf=e=>e.tooltip.settings.axisId,Ci=e=>{var t=wi(e),n=Mf(e);return Qg(e,t,n)};function qO(e,t,n){var{chartData:r=[]}=t,i=n==null?void 0:n.dataKey,a=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var A=GO(o);c.forEach((u,d)=>{var h=i==null?d:String(fi(u,i,null)),f=fi(u,o.dataKey,0),p;a.has(h)?p=a.get(h):p={},Object.assign(p,{[A]:f}),a.set(h,p)})}}),Array.from(a.values())}function nj(e){return e.stackId!=null&&e.dataKey!=null}function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(n),!0).forEach(function(r){z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z1e(e,t,n){return(t=W1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W1e(e){var t=K1e(e,"string");return typeof t=="symbol"?t:t+""}function K1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nB=[0,"auto"],V1e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Uf=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??V1e},G1e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:h1},Lf=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??G1e},q1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??q1e},ii=(e,t,n)=>{switch(t){case"xAxis":return Uf(e,n);case"yAxis":return Lf(e,n);case"zAxis":return rj(e,n);case"angleAxis":return ZS(e,n);case"radiusAxis":return ej(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Y1e=(e,t,n)=>{switch(t){case"xAxis":return Uf(e,n);case"yAxis":return Lf(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Qg=(e,t,n)=>{switch(t){case"xAxis":return Uf(e,n);case"yAxis":return Lf(e,n);case"angleAxis":return ZS(e,n);case"radiusAxis":return ej(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},YO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ij(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var X1e=e=>e.graphicalItems.cartesianItems,J1e=Xe([Er,Rg],ij),aj=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Hg=Xe([X1e,ii,J1e],aj),XO=Xe([Hg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(nj)),JO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ZO=Xe([Hg],JO),sj=e=>e.map(t=>t.data).filter(Boolean).flat(1),Z1e=Xe([Hg],sj),oj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},lj=Xe([Z1e,kO],oj),cj=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:fi(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:fi(i,r)}))):e.map(r=>({value:r})),k1=Xe([lj,ii,Hg],cj);function eR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gu(e){return e.filter(t=>Ll(t)||t instanceof Date).map(Number).filter(t=>mo(t)===!1)}function ebe(e,t,n){return!n||typeof t!="number"||mo(t)?[]:n.length?gu(n.flatMap(r=>{var i=fi(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!vo(a)||!vo(o)))return[t-a,t+o]})):[]}var tbe=Xe([XO,kO,Ci],qO),tR=(e,t,n)=>{var r={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(GO);return[o,{stackedData:ove(e,c,n),graphicalItems:l}]}))},nbe=Xe([tbe,XO,Og],tR),nR=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=Ave(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},rbe=Xe([nbe,rA,Er],nR),rR=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var l,c,A=(l=r[o.id])===null||l===void 0?void 0:l.filter(d=>eR(i,d)),u=fi(a,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:ebe(a,u,A)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:fi(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),I1=e=>e.errorBars,iR=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>eR(n,r));Xe([ZO,I1,Er],iR);var ibe=Xe([lj,ii,ZO,I1,Er],rR);function abe(e){var{value:t}=e;if(Ll(t)||t instanceof Date)return t}var SN=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=gu(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sbe=(e,t,n)=>{var r=e.map(abe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Y6(r))?VL(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Aj=e=>{var t;if(e==null||!("domain"in e))return nB;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=gu(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:nB},ky=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},aR=e=>e.referenceElements.dots,Of=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),obe=Xe([aR,Er,Rg],Of),sR=e=>e.referenceElements.areas,lbe=Xe([sR,Er,Rg],Of),oR=e=>e.referenceElements.lines,cbe=Xe([oR,Er,Rg],Of),lR=(e,t)=>{var n=gu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Abe=Xe(obe,Er,lR),cR=(e,t)=>{var n=gu(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ube=Xe([lbe,Er],cR),AR=(e,t)=>{var n=gu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dbe=Xe(cbe,Er,AR),fbe=Xe(Abe,dbe,ube,(e,t,n)=>ky(e,n,t)),uR=Xe([ii],Aj),uj=(e,t,n,r,i,a,o)=>{var l=B1e(t,e.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",A=c?ky(n,i,SN(r)):ky(i,SN(r));return S1e(t,A,e.allowDataOverflow)},hbe=Xe([ii,uR,rbe,ibe,fbe,hr,Er],uj),pbe=[0,1],dj=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,A=fu(t,a);return A&&l==null?VL(0,n.length):c==="category"?sbe(r,e,A):i==="expand"?pbe:o}},fj=Xe([ii,hr,lj,k1,Og,Er,hbe],dj),dR=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Fg(a));return l in Ap?l:"point"}}},Rf=Xe([ii,hr,YO,YS,Er],dR);function gbe(e){if(e!=null){if(e in Ap)return Ap[e]();var t="scale".concat(Fg(e));if(t in Ap)return Ap[t]()}}function hj(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=gbe(t);if(i!=null){var a=i.domain(n).range(r);return rve(a),a}}}var pj=(e,t,n)=>{var r=Aj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pf(e))return D1e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pf(e))return M1e(e,t.tickCount,t.allowDecimals)}},gj=Xe([fj,Qg,Rf],pj),mj=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},mbe=Xe([ii,fj,gj,Er],mj),vbe=Xe(k1,ii,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(gu(e.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),fR=Xe(vbe,hr,U1e,ca,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!vo(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ko(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),ybe=(e,t)=>{var n=Uf(e,t);return n==null||typeof n.padding!="string"?0:fR(e,"xAxis",t,n.padding)},xbe=(e,t)=>{var n=Lf(e,t);return n==null||typeof n.padding!="string"?0:fR(e,"yAxis",t,n.padding)},bbe=Xe(Uf,ybe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),wbe=Xe(Lf,xbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Cbe=Xe([ca,bbe,g1,p1,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Bbe=Xe([ca,hr,wbe,g1,p1,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),$g=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Cbe(e,n,r);case"yAxis":return Bbe(e,n,r);case"zAxis":return(i=rj(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return KO(e);case"radiusAxis":return VO(e,n);default:return}},hR=Xe([ii,$g],j1),T1=Xe([ii,Rf,mbe,hR],hj);Xe([Hg,I1,Er],iR);function pR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var N1=(e,t)=>t,F1=(e,t,n)=>n,Sbe=Xe(xS,N1,F1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pR)),jbe=Xe(bS,N1,F1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pR)),gR=(e,t)=>({width:e.width,height:t.height}),Ebe=(e,t)=>{var n=typeof t.width=="number"?t.width:h1;return{width:n,height:e.height}};Xe(ca,Uf,gR);var kbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Ibe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}};Xe(Gl,ca,Sbe,N1,F1,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=gR(t,l);o==null&&(o=kbe(t,r,e));var A=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(A)*c.height,o+=(A?-1:1)*c.height}),a});Xe(Vl,ca,jbe,N1,F1,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=Ebe(t,l);o==null&&(o=Ibe(t,r,e));var A=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(A)*c.width,o+=(A?-1:1)*c.width}),a});Xe(ca,Lf,(e,t)=>{var n=typeof t.width=="number"?t.width:h1;return{width:n,height:e.height}});var mR=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=fu(e,r),c=t.map(A=>A.value);if(o&&l&&a==="category"&&i&&Y6(c))return c}},vj=Xe([hr,k1,ii,Er],mR),vR=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=fu(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},yj=Xe([hr,k1,Qg,Er],vR);Xe([hr,Y1e,Rf,T1,vj,yj,$g,gj,Er],(e,t,n,r,i,a,o,l,c)=>{if(t==null)return null;var A=fu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:A,niceTicks:l,range:o,realScaleType:n,scale:r}});var Tbe=(e,t,n,r,i,a,o,l,c)=>{if(!(t==null||r==null)){var A=fu(e,c),{type:u,ticks:d,tickCount:h}=t,f=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;p=c==="angleAxis"&&a!=null&&a.length>=2?ns(a[0]-a[1])*2*p:p;var g=d||i;if(g){var v=g.map((x,C)=>{var b=o?o.indexOf(x):x;return{index:C,coordinate:r(b)+p,value:x,offset:p}});return v.filter(x=>!mo(x.coordinate))}return A&&l?l.map((x,C)=>({coordinate:r(x)+p,value:x,index:C,offset:p})):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,C)=>({coordinate:r(x)+p,value:o?o[x]:x,index:C,offset:p}))}};Xe([hr,Qg,Rf,T1,gj,$g,vj,yj,Er],Tbe);var Nbe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=fu(e,o),{tickCount:c}=t,A=0;return A=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ns(r[0]-r[1])*2*A:A,l&&a?a.map((u,d)=>({coordinate:n(u)+A,value:u,index:d,offset:A})):n.ticks?n.ticks(c).map(u=>({coordinate:n(u)+A,value:u,offset:A})):n.domain().map((u,d)=>({coordinate:n(u)+A,value:i?i[u]:u,index:d,offset:A}))}};Xe([hr,Qg,T1,$g,vj,yj,Er],Nbe);Xe(ii,T1,(e,t)=>{if(!(e==null||t==null))return Ey(Ey({},e),{},{scale:t})});var Fbe=Xe([ii,Rf,fj,hR],hj);Xe((e,t,n)=>rj(e,n),Fbe,(e,t)=>{if(!(e==null||t==null))return Ey(Ey({},e),{},{scale:t})});var Pbe=Xe([hr,xS,bS],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yR=e=>e.options.defaultTooltipEventType,xR=e=>e.options.validateTooltipEventTypes;function bR(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function xj(e,t){var n=yR(e),r=xR(e);return bR(t,n,r)}function _be(e){return yn(t=>xj(t,e))}var wR=(e,t)=>{var n,r=Number(t);if(!(mo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Dbe=e=>e.tooltip.settings,Sc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Mbe={itemInteraction:{click:Sc,hover:Sc},axisInteraction:{click:Sc,hover:Sc},keyboardInteraction:Sc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CR=ds({name:"tooltip",initialState:Mbe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Tl(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ube,removeTooltipEntrySettings:Lbe,setTooltipSettingsState:Obe,setActiveMouseOverItemIndex:BR,mouseLeaveItem:Rbe,mouseLeaveChart:SR,setActiveClickItemIndex:Qbe,setMouseOverAxisIndex:jR,setMouseClickAxisIndex:Hbe,setSyncInteraction:rB,setKeyboardInteraction:iB}=CR.actions,$be=CR.reducer;function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){zbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zbe(e,t,n){return(t=Wbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wbe(e){var t=Kbe(e,"string");return typeof t=="symbol"?t:t+""}function Kbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vbe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Gbe(e){return e.index!=null}var ER=(e,t,n,r)=>{if(t==null)return Sc;var i=Vbe(e,t,n);if(i==null)return Sc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Gbe(i)){if(a)return _v(_v({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _v(_v({},Sc),{},{coordinate:i.coordinate})},bj=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!vo(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},kR=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],A=c==null?void 0:l(c.positions,a);if(A!=null)return A;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},IR=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},zg=e=>e.options.tooltipPayloadSearcher,Qf=e=>e.tooltip;function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){qbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qbe(e,t,n){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ybe(e){var t=Xbe(e,"string");return typeof t=="symbol"?t:t+""}function Xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jbe(e,t){return e??t}var TR=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:A,dataEndIndex:u}=n,d=[];return e.reduce((h,f)=>{var p,{dataDefinedOnItem:g,settings:v}=f,x=Jbe(g,l),C=Array.isArray(x)?vL(x,A,u):x,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:r==null?void 0:r.dataKey,w=v==null?void 0:v.nameKey,E;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?E=tpe(C,r.dataKey,i):E=a(C,t,c,w),Array.isArray(E))E.forEach(F=>{var N=kN(kN({},v),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});h.push(vT({tooltipEntrySettings:N,dataKey:F.dataKey,payload:F.payload,value:fi(F.payload,F.dataKey),name:F.name}))});else{var S;h.push(vT({tooltipEntrySettings:v,dataKey:b,payload:E,value:fi(E,b),name:(S=fi(E,w))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return h},d)}},wj=Xe([Ci,hr,YO,YS,wi],dR),Zbe=Xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),e2e=Xe([wi,Mf],ij),Wg=Xe([Zbe,Ci,e2e],aj),t2e=Xe([Wg],e=>e.filter(nj)),n2e=Xe([Wg],sj),Hf=Xe([n2e,rA],oj),r2e=Xe([t2e,rA,Ci],qO),Cj=Xe([Hf,Ci,Wg],cj),i2e=Xe([Ci],Aj),a2e=Xe([Wg],e=>e.filter(nj)),s2e=Xe([r2e,a2e,Og],tR),o2e=Xe([s2e,rA,wi],nR),l2e=Xe([Wg],JO),c2e=Xe([Hf,Ci,l2e,I1,wi],rR),A2e=Xe([aR,wi,Mf],Of),u2e=Xe([A2e,wi],lR),d2e=Xe([sR,wi,Mf],Of),f2e=Xe([d2e,wi],cR),h2e=Xe([oR,wi,Mf],Of),p2e=Xe([h2e,wi],AR),g2e=Xe([u2e,p2e,f2e],ky),m2e=Xe([Ci,i2e,o2e,c2e,g2e,hr,wi],uj),NR=Xe([Ci,hr,Hf,Cj,Og,wi,m2e],dj),v2e=Xe([NR,Ci,wj],pj),y2e=Xe([Ci,NR,v2e,wi],mj),FR=e=>{var t=wi(e),n=Mf(e),r=!1;return $g(e,t,n,r)},PR=Xe([Ci,FR],j1),_R=Xe([Ci,wj,y2e,PR],hj),x2e=Xe([hr,Cj,Ci,wi],mR),b2e=Xe([hr,Cj,Ci,wi],vR),w2e=(e,t,n,r,i,a,o,l)=>{if(t){var{type:c}=t,A=fu(e,l);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=c==="category"&&r.bandwidth?r.bandwidth()/u:0;return d=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ns(i[0]-i[1])*2*d:d,A&&o?o.map((h,f)=>({coordinate:r(h)+d,value:h,index:f,offset:d})):r.domain().map((h,f)=>({coordinate:r(h)+d,value:a?a[h]:h,index:f,offset:d}))}}},Yl=Xe([hr,Ci,wj,_R,FR,x2e,b2e,wi],w2e),Bj=Xe([yR,xR,Dbe],(e,t,n)=>bR(n.shared,e,t)),DR=e=>e.tooltip.settings.trigger,Sj=e=>e.tooltip.settings.defaultIndex,P1=Xe([Qf,Bj,DR,Sj],ER),rg=Xe([P1,Hf],bj),MR=Xe([Yl,rg],wR),C2e=Xe([P1],e=>{if(e)return e.dataKey}),UR=Xe([Qf,Bj,DR,Sj],IR),B2e=Xe([Vl,Gl,hr,ca,Yl,Sj,UR,zg],kR),S2e=Xe([P1,B2e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),j2e=Xe([P1],e=>e.active),E2e=Xe([UR,rg,rA,Ci,MR,zg,Bj],TR);Xe([E2e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){k2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k2e(e,t,n){return(t=I2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I2e(e){var t=T2e(e,"string");return typeof t=="symbol"?t:t+""}function T2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N2e=()=>yn(Ci),F2e=()=>{var e=N2e(),t=yn(Yl),n=yn(_R);return uve(TN(TN({},e),{},{scale:n}),t)},P2e=()=>yn(YS),jj=(e,t)=>t,LR=(e,t,n)=>n,Ej=(e,t,n,r)=>r,_2e=Xe(Yl,e=>l1(e,t=>t.coordinate)),kj=Xe([Qf,jj,LR,Ej],ER),OR=Xe([kj,Hf],bj),D2e=(e,t,n)=>{if(t!=null){var r=Qf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},RR=Xe([Qf,jj,LR,Ej],IR),Iy=Xe([Vl,Gl,hr,ca,Yl,Ej,RR,zg],kR),M2e=Xe([kj,Iy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),QR=Xe(Yl,OR,wR),U2e=Xe([RR,OR,rA,Ci,QR,zg,jj],TR),L2e=Xe([kj],e=>({isActive:e.active,activeIndex:e.index})),O2e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a)){var c=dve(e.chartX,e.chartY,t,n,l);if(c){var A=hve(c,t),u=tve(A,o,a,r,i),d=fve(t,a,u,c);return{activeIndex:String(u),activeCoordinate:d}}}};function aB(){return aB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aB.apply(null,arguments)}function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){R2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R2e(e,t,n){return(t=Q2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q2e(e){var t=H2e(e,"string");return typeof t=="symbol"?t:t+""}function H2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $2e(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:A}=e,u=t,d=n,h=r;if(!l||!u||A!=="ScatterChart"&&c!=="axis")return null;var f,p;if(A==="ScatterChart")f=u,p=h0e;else if(A==="BarChart")f=p0e(o,u,i,a),p=RL;else if(o==="radial"){var{cx:g,cy:v,radius:x,startAngle:C,endAngle:b}=QL(u);f={cx:g,cy:v,startAngle:C,endAngle:b,innerRadius:x,outerRadius:x},p=$L}else f={points:G0e(o,u,i)},p=IL;var w=typeof l=="object"&&"className"in l?l.className:void 0,E=Dv(Dv(Dv(Dv({stroke:"#ccc",pointerEvents:"none"},i),f),cs(l,!1)),{},{payload:d,payloadIndex:h,className:et("recharts-tooltip-cursor",w)});return y.isValidElement(l)?y.cloneElement(l,E):y.createElement(p,E)}function z2e(e){var t=F2e(),n=Cve(),r=jL(),i=P2e();return y.createElement($2e,aB({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var HR=y.createContext(null),W2e=()=>y.useContext(HR),$R={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,A,u){this.fn=c,this.context=A,this.once=u||!1}function a(c,A,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||c,h),p=n?n+A:A;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,A){--c._eventsCount===0?c._events=new r:delete c._events[A]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var A=[],u,d;if(this._eventsCount===0)return A;for(d in u=this._events)t.call(u,d)&&A.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(u)):A},l.prototype.listeners=function(A){var u=n?n+A:A,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},l.prototype.listenerCount=function(A){var u=n?n+A:A,d=this._events[u];return d?d.fn?1:d.length:0},l.prototype.emit=function(A,u,d,h,f,p){var g=n?n+A:A;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,C,b;if(v.fn){switch(v.once&&this.removeListener(A,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,f),!0;case 6:return v.fn.call(v.context,u,d,h,f,p),!0}for(b=1,C=new Array(x-1);b<x;b++)C[b-1]=arguments[b];v.fn.apply(v.context,C)}else{var w=v.length,E;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(A,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,h);break;default:if(!C)for(E=1,C=new Array(x-1);E<x;E++)C[E-1]=arguments[E];v[b].fn.apply(v[b].context,C)}}return!0},l.prototype.on=function(A,u,d){return a(this,A,u,d,!1)},l.prototype.once=function(A,u,d){return a(this,A,u,d,!0)},l.prototype.removeListener=function(A,u,d,h){var f=n?n+A:A;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,v=[],x=p.length;g<x;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&v.push(p[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(A){var u;return A?(u=n?n+A:A,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})($R);var K2e=$R.exports;const V2e=zl(K2e);var ig=new V2e,sB="recharts.syncEvent.tooltip",FN="recharts.syncEvent.brush";function G2e(e,t){if(t){var n=Number.parseInt(t,10);if(!mo(n))return e==null?void 0:e[n]}}var q2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zR=ds({name:"options",initialState:q2e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Y2e=zR.reducer,{createEventEmitter:X2e}=zR.actions;function J2e(e){return e.tooltip.syncInteraction}var Z2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WR=ds({name:"chartData",initialState:Z2e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:PN,setDataStartEndIndexes:ewe,setComputedData:A4e}=WR.actions,twe=WR.reducer,KR=()=>{};function nwe(){var e=yn(XS),t=yn(JS),n=Di(),r=yn($O),i=yn(Yl),a=jL(),o=CL(),l=yn(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return KR;var c=(A,u,d)=>{if(t!==d&&e===A){if(r==="index"){n(u);return}if(i!=null){var h;if(typeof r=="function"){var f={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=r(i,f);h=i[p]}else r==="value"&&(h=i.find(S=>String(S.value)===u.payload.label));var{coordinate:g}=u.payload;if(h==null||u.payload.active===!1||g==null||o==null){n(rB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:x}=g,C=Math.min(v,o.x+o.width),b=Math.min(x,o.y+o.height),w={x:a==="horizontal"?h.coordinate:C,y:a==="horizontal"?b:h.coordinate},E=rB({active:u.payload.active,coordinate:w,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});n(E)}}};return ig.on(sB,c),()=>{ig.off(sB,c)}},[l,n,t,e,r,i,a,o])}function rwe(){var e=yn(XS),t=yn(JS),n=Di();y.useEffect(()=>{if(e==null)return KR;var r=(i,a,o)=>{t!==o&&e===i&&n(ewe(a))};return ig.on(FN,r),()=>{ig.off(FN,r)}},[n,t,e])}function iwe(){var e=Di();y.useEffect(()=>{e(X2e())},[e]),nwe(),rwe()}function awe(e,t,n,r,i,a){var o=yn(h=>D2e(h,e,t)),l=yn(JS),c=yn(XS),A=yn($O),u=yn(J2e),d=u==null?void 0:u.active;y.useEffect(()=>{if(!d&&c!=null&&l!=null){var h=rB({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});ig.emit(sB,c,h,l)}},[d,n,o,i,r,l,c,A,a])}function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(r){swe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function swe(e,t,n){return(t=owe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function owe(e){var t=lwe(e,"string");return typeof t=="symbol"?t:t+""}function lwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cwe(e){return e.dataKey}function Awe(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(Kve,t)}var MN=[],uwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!v1.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function dwe(e){var t=eA(e,uwe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:A,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:f,wrapperStyle:p,cursor:g,shared:v,trigger:x,defaultIndex:C,portal:b,axisId:w}=t,E=Di(),S=typeof C=="number"?String(C):C;y.useEffect(()=>{E(Obe({shared:v,trigger:x,axisId:w,active:n,defaultIndex:S}))},[E,v,x,w,n,S]);var F=CL(),N=kL(),P=_be(v),{activeIndex:Q,isActive:j}=yn(L=>L2e(L,P,x,S)),k=yn(L=>U2e(L,P,x,S)),T=yn(L=>QR(L,P,x,S)),D=yn(L=>M2e(L,P,x,S)),R=k,H=W2e(),z=n??j,[V,J]=KU([R,z]),te=P==="axis"?T:void 0;awe(P,x,D,te,Q,z);var Ae=b??H;if(Ae==null)return null;var U=R??MN;z||(U=MN),l&&U.length&&(U=_U(R.filter(L=>L.value!=null&&(L.hide!==!0||t.includeHidden)),u,cwe));var O=U.length>0,M=y.createElement(Zve,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:z,coordinate:D,hasPayload:O,offset:A,position:d,reverseDirection:h,useTranslate3d:f,viewBox:F,wrapperStyle:p,lastBoundingBox:V,innerRef:J,hasPortalFromProps:!!b},Awe(o,DN(DN({},t),{},{payload:U,label:te,active:z,coordinate:D,accessibilityLayer:N})));return y.createElement(y.Fragment,null,_y.createPortal(M,Ae),z&&y.createElement(z2e,{cursor:g,tooltipEventType:P,coordinate:D,payload:R,index:Q}))}var VR={},GR={},qR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),A=a==null||a.includes("trailing"),u=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},d=()=>{A&&u(),g()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),o=void 0,l=null},v=()=>{u()},x=function(...C){if(i!=null&&i.aborted)return;o=this,l=C;const b=h==null;f(),c&&b&&u()};return x.schedule=f,x.cancel=g,x.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(qR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,A=Array(2);o&&(A[0]="leading"),l&&(A[1]="trailing");let u,d=null;const h=t.debounce(function(...g){u=r.apply(this,g),d=null},i,{edges:A}),f=function(...g){return c!=null&&(d===null&&(d=Date.now()),Date.now()-d>=c)?(u=r.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},p=()=>(h.flush(),u);return f.cancel=h.cancel,f.flush=p,f}e.debounce=n})(GR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GR;function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(VR);var fwe=VR.throttle;const hwe=zl(fwe);var W2=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pwe(e,t,n){return(t=gwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gwe(e){var t=mwe(e,"string");return typeof t=="symbol"?t:t+""}function mwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vwe=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:A,debounce:u=0,id:d,className:h,onResize:f,style:p={}}=e,g=y.useRef(null),v=y.useRef();v.current=f,y.useImperativeHandle(t,()=>g.current);var[x,C]=y.useState({containerWidth:r.width,containerHeight:r.height}),b=y.useCallback((E,S)=>{C(F=>{var N=Math.round(E),P=Math.round(S);return F.containerWidth===N&&F.containerHeight===P?F:{containerWidth:N,containerHeight:P}})},[]);y.useEffect(()=>{var E=P=>{var Q,{width:j,height:k}=P[0].contentRect;b(j,k),(Q=v.current)===null||Q===void 0||Q.call(v,j,k)};u>0&&(E=hwe(E,u,{trailing:!0,leading:!1}));var S=new ResizeObserver(E),{width:F,height:N}=g.current.getBoundingClientRect();return b(F,N),S.observe(g.current),()=>{S.disconnect()}},[b,u]);var w=y.useMemo(()=>{var{containerWidth:E,containerHeight:S}=x;if(E<0||S<0)return null;W2(lp(i)||lp(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),W2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=lp(i)?E:i,N=lp(a)?S:a;return n&&n>0&&(F?N=F/n:N&&(F=N*n),c&&N>c&&(N=c)),W2(F>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,N,i,a,o,l,n),y.Children.map(A,P=>y.cloneElement(P,{width:F,height:N,style:K2({width:F,height:N},P.props.style)}))},[n,A,a,c,l,o,x,i]);return y.createElement("div",{id:d?"".concat(d):void 0,className:et("recharts-responsive-container",h),style:K2(K2({},p),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:g},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),_1=e=>null;_1.displayName="Cell";function ywe(e,t,n){return(t=xwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xwe(e){var t=bwe(e,"string");return typeof t=="symbol"?t:t+""}function bwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wwe{constructor(t){ywe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){Bwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bwe(e,t,n){return(t=Swe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Swe(e){var t=jwe(e,"string");return typeof t=="symbol"?t:t+""}function jwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ewe={cacheSize:2e3,enableCache:!0},YR=Cwe({},Ewe),ON=new wwe(YR.cacheSize),kwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RN="recharts_measurement_span";function Iwe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var QN=(e,t)=>{try{var n=document.getElementById(RN);n||(n=document.createElement("span"),n.setAttribute("id",RN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,kwe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},HN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||v1.isSsr)return{width:0,height:0};if(!YR.enableCache)return QN(t,n);var r=Iwe(t,n),i=ON.get(r);if(i)return i;var a=QN(t,n);return ON.set(r,a),a},$N=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Twe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fwe=Object.keys(XR),wd="NaN";function Pwe(e,t){return e*XR[t]}class Fa{static parse(t){var n,[,r,i]=(n=Nwe.exec(t))!==null&&n!==void 0?n:[];return new Fa(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,mo(t)&&(this.unit=""),n!==""&&!Twe.test(n)&&(this.num=NaN,this.unit=""),Fwe.includes(n)&&(this.num=Pwe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Fa(NaN,""):new Fa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fa(NaN,""):new Fa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fa(NaN,""):new Fa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fa(NaN,""):new Fa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mo(this.num)}}function JR(e){if(e.includes(wd))return wd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=$N.exec(t))!==null&&n!==void 0?n:[],o=Fa.parse(r??""),l=Fa.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return wd;t=t.replace($N,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var A,[,u,d,h]=(A=zN.exec(t))!==null&&A!==void 0?A:[],f=Fa.parse(u??""),p=Fa.parse(h??""),g=d==="+"?f.add(p):f.subtract(p);if(g.isNaN())return wd;t=t.replace(zN,g.toString())}return t}var WN=/\(([^()]*)\)/;function _we(e){for(var t=e,n;(n=WN.exec(t))!=null;){var[,r]=n;t=t.replace(WN,JR(r))}return t}function Dwe(e){var t=e.replace(/\s+/g,"");return t=_we(t),t=JR(t),t}function Mwe(e){try{return Dwe(e)}catch{return wd}}function V2(e){var t=Mwe(e.slice(5,-1));return t===wd?"":t}var Uwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lwe=["dx","dy","angle","className","breakAll"];function oB(){return oB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oB.apply(null,arguments)}function KN(e,t){if(e==null)return{};var n,r,i=Owe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Owe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZR=/[ \f\n\r\t\v\u2028\u2029]+/,e8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];eu(t)||(n?i=t.toString().split(""):i=t.toString().split(ZR));var a=i.map(l=>({word:l,width:HN(l,r).width})),o=n?0:HN(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Rwe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=e,A=jn(a),u=o,d=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((k,T)=>{var{word:D,width:R}=T,H=k[k.length-1];if(H&&(r==null||i||H.width+R+n<Number(r)))H.words.push(D),H.width+=R+n;else{var z={words:[D],width:R};k.push(z)}return k},[])},h=d(t),f=Q=>Q.reduce((j,k)=>j.width>k.width?j:k);if(!A||i)return h;var p=h.length>a||f(h).width>Number(r);if(!p)return h;for(var g="…",v=Q=>{var j=u.slice(0,Q),k=e8({breakAll:c,style:l,children:j+g}).wordsWithComputedWidth,T=d(k),D=T.length>a||f(T).width>Number(r);return[D,T]},x=0,C=u.length-1,b=0,w;x<=C&&b<=u.length-1;){var E=Math.floor((x+C)/2),S=E-1,[F,N]=v(S),[P]=v(E);if(!F&&!P&&(x=E+1),F&&P&&(C=E-1),!F&&P){w=N;break}b++}return w||h},VN=e=>{var t=eu(e)?[]:e.toString().split(ZR);return[{words:t}]},Qwe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!v1.isSsr){var l,c,A=e8({breakAll:a,children:r,style:i});if(A){var{wordsWithComputedWidth:u,spaceWidth:d}=A;l=u,c=d}else return VN(r);return Rwe({breakAll:a,children:r,maxLines:o,style:i},l,c,t,n)}return VN(r)},GN="#808080",t8=y.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:A=GN}=e,u=KN(e,Uwe),d=y.useMemo(()=>Qwe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:f,angle:p,className:g,breakAll:v}=u,x=KN(u,Lwe);if(!Ll(n)||!Ll(r))return null;var C=n+(jn(h)?h:0),b=r+(jn(f)?f:0),w;switch(c){case"start":w=V2("calc(".concat(a,")"));break;case"middle":w=V2("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:w=V2("calc(".concat(d.length-1," * -").concat(i,")"));break}var E=[];if(o){var S=d[0].width,{width:F}=u;E.push("scale(".concat(jn(F)?F/S:1,")"))}return p&&E.push("rotate(".concat(p,", ").concat(C,", ").concat(b,")")),E.length&&(x.transform=E.join(" ")),y.createElement("text",oB({},cs(x,!0),{ref:t,x:C,y:b,className:et("recharts-text",g),textAnchor:l,fill:A.includes("url")?GN:A}),d.map((N,P)=>{var Q=N.words.join(v?"":" ");return y.createElement("tspan",{x:C,dy:P===0?w:i,key:"".concat(Q,"-").concat(P)},Q)}))});t8.displayName="Text";var n8=e=>e.graphicalItems.polarItems,Hwe=Xe([Er,Rg],ij),Ij=Xe([n8,ii,Hwe],aj),$we=Xe([Ij],sj),Tj=Xe([$we,VS],oj),zwe=Xe([Tj,ii,Ij],cj),Wwe=Xe([Tj,ii,Ij],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=fi(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:fi(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),qN=()=>{},Kwe=Xe([ii,uR,qN,Wwe,qN,hr,Er],uj),r8=Xe([ii,hr,Tj,zwe,Og,Er,Kwe],dj),Vwe=Xe([r8,ii,Rf],pj);Xe([ii,r8,Vwe,Er],mj);var Gwe={radiusAxis:{},angleAxis:{}},i8=ds({name:"polarAxis",initialState:Gwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:u4e,removeRadiusAxis:d4e,addAngleAxis:f4e,removeAngleAxis:h4e}=i8.actions,qwe=i8.reducer;function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){Ywe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ywe(e,t,n){return(t=Xwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xwe(e){var t=Jwe(e,"string");return typeof t=="symbol"?t:t+""}function Jwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zwe=(e,t)=>t,Nj=Xe([n8,Zwe],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),eCe=[],Fj=(e,t,n)=>(n==null?void 0:n.length)===0?eCe:n,a8=Xe([VS,Nj,Fj],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>XN(XN({},t.presentationProps),a.props))),i!=null)return i}}),tCe=Xe([a8,Nj,Fj],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,o=fi(r,t.nameKey,t.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:yL(o,t.dataKey),color:l,payload:r,type:t.legendType}})}),nCe=Xe([a8,Nj,Fj,ca],(e,t,n,r)=>{if(!(t==null||e==null))return ZCe({offset:r,pieSettings:t,displayedData:e,cells:n})}),s8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(s8);var rCe=s8.isPlainObject;const iCe=zl(rCe);function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}var JN=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},aCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sCe=e=>{var t=eA(e,aCe),n=y.useRef(),[r,i]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:a,y:o,upperWidth:l,lowerWidth:c,height:A,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=t;if(a!==+a||o!==+o||l!==+l||c!==+c||A!==+A||l===0&&c===0||A===0)return null;var g=et("recharts-trapezoid",u);return p?y.createElement(py,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:A,x:a,y:o},to:{upperWidth:l,lowerWidth:c,height:A,x:a,y:o},duration:h,animationEasing:d,isActive:p},v=>{var{upperWidth:x,lowerWidth:C,height:b,x:w,y:E}=v;return y.createElement(py,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:d},y.createElement("path",Ty({},cs(t,!0),{className:g,d:JN(w,E,x,C,b),ref:n})))}):y.createElement("g",null,y.createElement("path",Ty({},cs(t,!0),{className:g,d:JN(a,o,l,c,A)})))},oCe=["option","shapeType","propTransformer","activeClassName","isActive"];function lCe(e,t){if(e==null)return{};var n,r,i=cCe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){ACe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ACe(e,t,n){return(t=uCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uCe(e){var t=dCe(e,"string");return typeof t=="symbol"?t:t+""}function dCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fCe(e,t){return Ny(Ny({},t),e)}function hCe(e,t){return e==="symbols"}function eF(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(RL,n);case"trapezoid":return y.createElement(sCe,n);case"sector":return y.createElement($L,n);case"symbols":if(hCe(t))return y.createElement(tS,n);break;default:return null}}function pCe(e){return y.isValidElement(e)?e.props:e}function gCe(e){var{option:t,shapeType:n,propTransformer:r=fCe,activeClassName:i="recharts-active-shape",isActive:a}=e,o=lCe(e,oCe),l;if(y.isValidElement(t))l=y.cloneElement(t,Ny(Ny({},o),pCe(t)));else if(typeof t=="function")l=t(o);else if(iCe(t)&&typeof t!="boolean"){var c=r(t,o);l=y.createElement(eF,{shapeType:n,elementProps:c})}else{var A=o;l=y.createElement(eF,{shapeType:n,elementProps:A})}return a?y.createElement(of,{className:i},l):l}var mCe=(e,t)=>{var n=Di();return(r,i)=>a=>{e==null||e(r,i,a),n(BR({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},vCe=e=>{var t=Di();return(n,r)=>i=>{e==null||e(n,r,i),t(Rbe())}},yCe=(e,t)=>{var n=Di();return(r,i)=>a=>{e==null||e(r,i,a),n(Qbe({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function xCe(e){var{fn:t,args:n}=e,r=Di(),i=Ff();return y.useEffect(()=>{if(!i){var a=t(n);return r(Ube(a)),()=>{r(Lbe(a))}}},[t,n,r,i]),null}var bCe=()=>{};function wCe(e){var{legendPayload:t}=e,n=Di(),r=yn(hr);return y.useEffect(()=>r!=="centric"&&r!=="radial"?bCe:(n(kve(t)),()=>{n(Ive(t))}),[n,r,t]),null}function CCe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(J0(t)),r=y.useRef(e);return r.current!==e&&(n.current=J0(t),r.current=e),n.current}var G2,BCe=()=>{var[e]=y.useState(()=>J0("uid-"));return e},SCe=(G2=s0.useId)!==null&&G2!==void 0?G2:BCe;function jCe(e,t){var n=SCe();return t||(e?"".concat(e,"-").concat(n):n)}var ECe=y.createContext(void 0),kCe=e=>{var{id:t,type:n,children:r}=e,i=jCe("recharts-".concat(n),t);return y.createElement(ECe.Provider,{value:i},r(i))},ICe={cartesianItems:[],polarItems:[]},o8=ds({name:"graphicalItems",initialState:ICe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Tl(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Tl(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Tl(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:p4e,replaceCartesianGraphicalItem:g4e,removeCartesianGraphicalItem:m4e,addPolarGraphicalItem:TCe,removePolarGraphicalItem:NCe}=o8.actions,FCe=o8.reducer;function PCe(e){var t=Di();return y.useEffect(()=>(t(TCe(e)),()=>{t(NCe(e))}),[t,e]),null}function _Ce(){}var DCe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tF={t:0},q2={t:1};function MCe(e){var t=eA(e,DCe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:A}=t,u=OL("JavascriptAnimate",t.animationManager),[d,h]=y.useState(n?tF:q2),f=y.useRef(null);return y.useEffect(()=>{n||h(q2)},[n]),y.useEffect(()=>{if(!n||!r)return _Ce;var p=LL(tF,q2,ML(a),i,h,u.getTimeoutController()),g=()=>{f.current=p()};return u.start([c,o,g,i,l]),()=>{u.stop(),f.current&&f.current(),l()}},[n,r,i,a,o,c,l,u]),A(d.t)}var UCe=["onMouseEnter","onClick","onMouseLeave"],LCe=["id"],OCe=["id"];function Pj(e,t){if(e==null)return{};var n,r,i=RCe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(n),!0).forEach(function(r){QCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QCe(e,t,n){return(t=HCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HCe(e){var t=$Ce(e,"string");return typeof t=="symbol"?t:t+""}function $Ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(null,arguments)}function zCe(e){var t=y.useMemo(()=>eU(e.children,_1),[e.children]),n=yn(r=>tCe(r,e.id,t));return n==null?null:y.createElement(wCe,{legendPayload:n})}function WCe(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:A}=e;return{dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:yL(l,t),hide:c,type:A,color:o,unit:""}}}var KCe=(e,t)=>e>t?"start":e<t?"end":"middle",VCe=(e,t,n)=>typeof t=="function"?t(e):Ko(t,n,n*.8),GCe=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,l=mL(a,o),c=i+Ko(e.cx,a,a/2),A=r+Ko(e.cy,o,o/2),u=Ko(e.innerRadius,l,0),d=VCe(n,e.outerRadius,l),h=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:A,innerRadius:u,outerRadius:d,maxRadius:h}},qCe=(e,t)=>{var n=ns(t-e),r=Math.min(Math.abs(t-e),360);return n*r},YCe=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=et("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(IL,$l({},t,{type:"linear",className:n}))},XCe=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),y.isValidElement(r)))return r;var i=et("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(t8,$l({},t,{alignmentBaseline:"middle",className:i}),r)};function JCe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!t)return null;var l=e1(n),c=cs(i,!1),A=cs(a,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=t.map((h,f)=>{var p=(h.startAngle+h.endAngle)/2,g=oa(h.cx,h.cy,h.outerRadius+u,p),v=Qr(Qr(Qr(Qr({},l),h),{},{stroke:"none"},c),{},{index:f,textAnchor:KCe(g.x,h.cx)},g),x=Qr(Qr(Qr(Qr({},l),h),{},{fill:"none",stroke:h.fill},A),{},{index:f,points:[oa(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return y.createElement(of,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(f)},a&&YCe(a,x),XCe(i,v,fi(h,o)))});return y.createElement(of,{className:"recharts-pie-labels"},d)}function l8(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:a}=e,o=yn(rg),{onMouseEnter:l,onClick:c,onMouseLeave:A}=i,u=Pj(i,UCe),d=mCe(l,i.dataKey),h=vCe(A),f=yCe(c,i.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var v=n&&String(g)===o,x=o?r:null,C=v?n:x,b=Qr(Qr({},p),{},{stroke:p.stroke,tabIndex:-1,[bL]:g,[wL]:i.dataKey});return y.createElement(of,$l({tabIndex:-1,className:"recharts-pie-sector"},X6(u,p,g),{onMouseEnter:d(p,g),onMouseLeave:h(p,g),onClick:f(p,g),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),y.createElement(gCe,$l({option:C,isActive:v,shapeType:"sector"},b)))}),y.createElement(JCe,{sectors:t,props:i,showLabels:a}))}function ZCe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:A,nameKey:u,tooltipType:d}=n,h=Math.abs(n.minAngle),f=qCe(l,c),p=Math.abs(f),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,v=r.filter(S=>fi(S,A,0)!==0).length,x=(p>=360?v:v-1)*g,C=p-v*h-x,b=r.reduce((S,F)=>{var N=fi(F,A,0);return S+(jn(N)?N:0)},0),w;if(b>0){var E;w=r.map((S,F)=>{var N=fi(S,A,0),P=fi(S,u,F),Q=GCe(n,a,S),j=(jn(N)?N:0)/b,k,T=Qr(Qr({},S),i&&i[F]&&i[F].props);F?k=E.endAngle+ns(f)*g*(N!==0?1:0):k=l;var D=k+ns(f)*((N!==0?h:0)+j*C),R=(k+D)/2,H=(Q.innerRadius+Q.outerRadius)/2,z=[{name:P,value:N,payload:T,dataKey:A,type:d}],V=oa(Q.cx,Q.cy,H,R);return E=Qr(Qr(Qr(Qr({},n.presentationProps),{},{percent:j,cornerRadius:o,name:P,tooltipPayload:z,midAngle:R,middleRadius:H,tooltipPosition:V},T),Q),{},{value:fi(S,A),startAngle:k,endAngle:D,payload:T,paddingAngle:ns(f)*g}),E})}return w}function eBe(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:A,onAnimationStart:u,onAnimationEnd:d}=t,h=CCe(t,"recharts-pie-"),f=n.current,[p,g]=y.useState(!0),v=y.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),x=y.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return y.createElement(MCe,{begin:a,duration:o,isActive:i,easing:l,onAnimationStart:x,onAnimationEnd:v,key:h},C=>{var b=[],w=r&&r[0],E=w.startAngle;return r.forEach((S,F)=>{var N=f&&f[F],P=F>0?sf(S,"paddingAngle",0):0;if(N){var Q=OI(N.endAngle-N.startAngle,S.endAngle-S.startAngle),j=Qr(Qr({},S),{},{startAngle:E+P,endAngle:E+Q(C)+P});b.push(j),E=j.endAngle}else{var{endAngle:k,startAngle:T}=S,D=OI(0,k-T),R=D(C),H=Qr(Qr({},S),{},{startAngle:E+P,endAngle:E+R+P});b.push(H),E=H.endAngle}}),n.current=b,y.createElement(of,null,y.createElement(l8,{sectors:b,activeShape:c,inactiveShape:A,allOtherPieProps:t,showLabels:!p}))})}function tBe(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,a=y.useRef(null),o=a.current;return n&&t&&t.length&&(!o||o!==t)?y.createElement(eBe,{props:e,previousSectorsRef:a}):y.createElement(l8,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function nBe(e){var{hide:t,className:n,rootTabIndex:r}=e,i=et("recharts-pie",n);return t?null:y.createElement(of,{tabIndex:r,className:i},y.createElement(tBe,e))}var rBe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!v1.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function iBe(e){var{id:t}=e,n=Pj(e,LCe),r=y.useMemo(()=>eU(e.children,_1),[e.children]),i=yn(a=>nCe(a,t,r));return y.createElement(y.Fragment,null,y.createElement(xCe,{fn:WCe,args:Qr(Qr({},e),{},{sectors:i})}),y.createElement(nBe,$l({},n,{sectors:i})))}function c8(e){var t=eA(e,rBe),{id:n}=t,r=Pj(t,OCe),i=e1(r);return y.createElement(kCe,{id:n,type:"pie"},a=>y.createElement(y.Fragment,null,y.createElement(PCe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),y.createElement(zCe,$l({},r,{id:a})),y.createElement(iBe,$l({},r,{id:a})),r.children))}c8.displayName="Pie";var aBe=Xe([ca],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),sBe=Xe([aBe,Vl,Gl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),oBe=()=>yn(sBe),lBe={},A8=ds({name:"errorBars",initialState:lBe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:v4e,removeErrorBar:y4e}=A8.actions,cBe=A8.reducer,ABe=e=>{var{chartData:t}=e,n=Di(),r=Ff();return y.useEffect(()=>r?()=>{}:(n(PN(t)),()=>{n(PN(void 0))}),[t,n,r]),null},rF={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},u8=ds({name:"brush",initialState:rF,reducers:{setBrushSettings(e,t){return t.payload==null?rF:t.payload}}}),{setBrushSettings:x4e}=u8.actions,uBe=u8.reducer,dBe={dots:[],areas:[],lines:[]},d8=ds({name:"referenceElements",initialState:dBe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Tl(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Tl(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Tl(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:b4e,removeDot:w4e,addArea:C4e,removeArea:B4e,addLine:S4e,removeLine:j4e}=d8.actions,fBe=d8.reducer,hBe=y.createContext(void 0),pBe=e=>{var{children:t}=e,[n]=y.useState("".concat(J0("recharts"),"-clip")),r=oBe();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return y.createElement(hBe.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function iF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(n),!0).forEach(function(r){gBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gBe(e,t,n){return(t=mBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mBe(e){var t=vBe(e,"string");return typeof t=="symbol"?t:t+""}function vBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yBe={xAxis:{},yAxis:{},zAxis:{}},f8=ds({name:"cartesianAxis",initialState:yBe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=aF(aF({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:E4e,removeXAxis:k4e,addYAxis:I4e,removeYAxis:T4e,addZAxis:N4e,removeZAxis:F4e,updateYAxisWidth:P4e}=f8.actions,xBe=f8.reducer,bBe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=y;function wBe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CBe=typeof Object.is=="function"?Object.is:wBe,BBe=Kg.useSyncExternalStore,SBe=Kg.useRef,jBe=Kg.useEffect,EBe=Kg.useMemo,kBe=Kg.useDebugValue;bBe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=SBe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=EBe(function(){function c(f){if(!A){if(A=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,CBe(u,f))return p;var g=r(f);return i!==void 0&&i(p,g)?(u=f,p):(u=f,d=g)}var A=!1,u,d,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var l=BBe(e,a[0],a[1]);return jBe(function(){o.hasValue=!0,o.value=l},[l]),kBe(l),l};function IBe(e){e()}function TBe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){IBe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var sF={notify(){},get:()=>[]};function NBe(e,t){let n,r=sF,i=0,a=!1;function o(g){u();const v=r.subscribe(g);let x=!1;return()=>{x||(x=!0,v(),d())}}function l(){r.notify()}function c(){p.onStateChange&&p.onStateChange()}function A(){return a}function u(){i++,n||(n=e.subscribe(c),r=TBe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sF)}function h(){a||(a=!0,u())}function f(){a&&(a=!1,d())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:A,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return p}var FBe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PBe=FBe(),_Be=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DBe=_Be(),MBe=()=>PBe||DBe?y.useLayoutEffect:y.useEffect,UBe=MBe(),Y2=Symbol.for("react-redux-context"),X2=typeof globalThis<"u"?globalThis:{};function LBe(){if(!y.createContext)return{};const e=X2[Y2]??(X2[Y2]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var OBe=LBe();function RBe(e){const{children:t,context:n,serverState:r,store:i}=e,a=y.useMemo(()=>{const c=NBe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=y.useMemo(()=>i.getState(),[i]);UBe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=n||OBe;return y.createElement(l.Provider,{value:a},t)}var QBe=RBe,HBe=(e,t)=>t,_j=Xe([HBe,hr,$1e,wi,PR,Yl,_2e,ca],O2e),Dj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},h8=Ws("mouseClick"),p8=_g();p8.startListening({actionCreator:h8,effect:(e,t)=>{var n=e.payload,r=_j(t.getState(),Dj(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Hbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var lB=Ws("mouseMove"),g8=_g();g8.startListening({actionCreator:lB,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=xj(r,r.tooltip.settings.shared),a=_j(r,Dj(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(jR({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(SR()))}});function $Be(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var oF={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},m8=ds({name:"rootProps",initialState:oF,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:oF.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),zBe=m8.reducer,{updateOptions:WBe}=m8.actions,v8=ds({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:KBe}=v8.actions,VBe=v8.reducer,y8=Ws("keyDown"),x8=Ws("focus"),Mj=_g();Mj.startListening({actionCreator:y8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(bj(i,Hf(n))),l=Yl(n);if(a==="Enter"){var c=Iy(n,"axis","hover",String(i.index));t.dispatch(iB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var A=Pbe(n),u=A==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=o+d*u;if(!(l==null||h>=l.length||h<0)){var f=Iy(n,"axis","hover",String(h));t.dispatch(iB({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});Mj.startListening({actionCreator:x8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Iy(n,"axis","hover",String(a));t.dispatch(iB({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ss=Ws("externalEvent"),b8=_g();b8.startListening({actionCreator:Ss,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:S2e(n),activeDataKey:C2e(n),activeIndex:rg(n),activeLabel:MR(n),activeTooltipIndex:rg(n),isTooltipActive:j2e(n)};e.payload.handler(r,e.payload.reactEvent)}}});var GBe=Xe([Qf],e=>e.tooltipItemPayloads),qBe=Xe([GBe,zg,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),w8=Ws("touchMove"),C8=_g();C8.startListening({actionCreator:w8,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=xj(r,r.tooltip.settings.shared);if(i==="axis"){var a=_j(r,Dj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(jR({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var A=c.getAttribute(bL),u=(o=c.getAttribute(wL))!==null&&o!==void 0?o:void 0,d=qBe(t.getState(),A,u);t.dispatch(BR({activeDataKey:u,activeIndex:A,activeCoordinate:d}))}}});var YBe=GU({brush:uBe,cartesianAxis:xBe,chartData:twe,errorBars:cBe,graphicalItems:FCe,layout:Hme,legend:Tve,options:Y2e,polarAxis:qwe,polarOptions:VBe,referenceElements:fBe,rootProps:zBe,tooltip:$be}),XBe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return fme({reducer:YBe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([p8.middleware,g8.middleware,Mj.middleware,b8.middleware,C8.middleware]),devTools:{serialize:{replacer:$Be},name:"recharts-".concat(n)}})};function JBe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ff(),a=y.useRef(null);if(i)return n;a.current==null&&(a.current=XBe(t,r));var o=dS;return y.createElement(QBe,{context:o,store:a.current},n)}function ZBe(e){var{layout:t,width:n,height:r,margin:i}=e,a=Di(),o=Ff();return y.useEffect(()=>{o||(a(Ome(t)),a(Rme({width:n,height:r})),a(Lme(i)))},[a,o,t,n,r,i]),null}function e5e(e){var t=Di();return y.useEffect(()=>{t(WBe(e))},[t,e]),null}var t5e=["children"];function n5e(e,t){if(e==null)return{};var n,r,i=r5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}var i5e={width:"100%",height:"100%"},a5e=y.forwardRef((e,t)=>{var n=BL(),r=SL(),i=kL();if(!dy(n)||!dy(r))return null;var{children:a,otherAttributes:o,title:l,desc:c}=e,A,u;return typeof o.tabIndex=="number"?A=o.tabIndex:A=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,y.createElement(X5,Fy({},o,{title:l,desc:c,role:u,tabIndex:A,width:n,height:r,style:i5e,ref:t}),a)}),s5e=e=>{var{children:t}=e,n=yn(g1);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return y.createElement(X5,{width:r,height:i,x:o,y:a},t)},lF=y.forwardRef((e,t)=>{var{children:n}=e,r=n5e(e,t5e),i=Ff();return i?y.createElement(s5e,null,n):y.createElement(a5e,Fy({ref:t},r),n)});function o5e(){var e=Di(),[t,n]=y.useState(null),r=yn(pve);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;vo(a)&&a!==r&&e(Qme(a))}},[t,e,r]),n}function cF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(n),!0).forEach(function(r){c5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c5e(e,t,n){return(t=A5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A5e(e){var t=u5e(e,"string");return typeof t=="symbol"?t:t+""}function u5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d5e=y.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:A,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:v,width:x}=e,C=Di(),[b,w]=y.useState(null),[E,S]=y.useState(null);iwe();var F=o5e(),N=y.useCallback(U=>{F(U),typeof t=="function"&&t(U),w(U),S(U)},[F,t,w,S]),P=y.useCallback(U=>{C(h8(U)),C(Ss({handler:a,reactEvent:U}))},[C,a]),Q=y.useCallback(U=>{C(lB(U)),C(Ss({handler:A,reactEvent:U}))},[C,A]),j=y.useCallback(U=>{C(SR()),C(Ss({handler:u,reactEvent:U}))},[C,u]),k=y.useCallback(U=>{C(lB(U)),C(Ss({handler:d,reactEvent:U}))},[C,d]),T=y.useCallback(()=>{C(x8())},[C]),D=y.useCallback(U=>{C(y8(U.key))},[C]),R=y.useCallback(U=>{C(Ss({handler:o,reactEvent:U}))},[C,o]),H=y.useCallback(U=>{C(Ss({handler:l,reactEvent:U}))},[C,l]),z=y.useCallback(U=>{C(Ss({handler:c,reactEvent:U}))},[C,c]),V=y.useCallback(U=>{C(Ss({handler:h,reactEvent:U}))},[C,h]),J=y.useCallback(U=>{C(Ss({handler:g,reactEvent:U}))},[C,g]),te=y.useCallback(U=>{C(w8(U)),C(Ss({handler:p,reactEvent:U}))},[C,p]),Ae=y.useCallback(U=>{C(Ss({handler:f,reactEvent:U}))},[C,f]);return y.createElement(HR.Provider,{value:b},y.createElement(tU.Provider,{value:E},y.createElement("div",{className:et("recharts-wrapper",r),style:l5e({position:"relative",cursor:"default",width:x,height:i},v),onClick:P,onContextMenu:R,onDoubleClick:H,onFocus:T,onKeyDown:D,onMouseDown:z,onMouseEnter:Q,onMouseLeave:j,onMouseMove:k,onMouseUp:V,onTouchEnd:Ae,onTouchMove:te,onTouchStart:J,ref:N},n)))}),f5e=["children","className","width","height","style","compact","title","desc"];function h5e(e,t){if(e==null)return{};var n,r,i=p5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g5e=y.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:l,title:c,desc:A}=e,u=h5e(e,f5e),d=e1(u);return l?y.createElement(lF,{otherAttributes:d,title:c,desc:A},n):y.createElement(d5e,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(lF,{otherAttributes:d,title:c,desc:A,ref:t},y.createElement(pBe,null,n)))});function m5e(e){var t=Di();return y.useEffect(()=>{t(KBe(e))},[t,e]),null}var v5e=["width","height","layout"];function cB(){return cB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cB.apply(null,arguments)}function y5e(e,t){if(e==null)return{};var n,r,i=x5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var b5e={top:5,right:5,bottom:5,left:5},w5e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:b5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},C5e=y.forwardRef(function(t,n){var r,i=eA(t.categoricalChartProps,w5e),{width:a,height:o,layout:l}=i,c=y5e(i,v5e);if(!dy(a)||!dy(o))return null;var{chartName:A,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,f={chartName:A,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return y.createElement(JBe,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:A},y.createElement(ABe,{chartData:i.data}),y.createElement(ZBe,{width:a,height:o,layout:l,margin:i.margin}),y.createElement(e5e,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(m5e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(g5e,cB({width:a,height:o},c,{ref:n})))}),B5e=["item"],S5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},j5e=y.forwardRef((e,t)=>{var n=eA(e,S5e);return y.createElement(C5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:B5e,tooltipPayloadSearcher:G2e,categoricalChartProps:n,ref:t})});function J2(e){const{children:t,value:n,index:r,...i}=e;return s.jsx("div",{role:"tabpanel",hidden:n!==r,id:`platform-tabpanel-${r}`,"aria-labelledby":`platform-tab-${r}`,...i,children:n===r&&s.jsx(Ce,{sx:{py:3},children:t})})}function E5e(){const{isSuperAdmin:e}=ri(),[t,n]=y.useState(!0),[r,i]=y.useState(0),[a,o]=y.useState("month"),[l,c]=y.useState(""),[A,u]=y.useState(""),[d,h]=y.useState({totalRevenue:0,platformCommission:0,acquiringFees:0,netProfit:0,profitMargin:0,transactionsCount:0,averageTransaction:0,averageAcquiringRate:0}),[f,p]=y.useState([]),[g,v]=y.useState([]),[x,C]=y.useState([]);y.useEffect(()=>{if(!e){n(!1);return}b()},[a,l,A,e]);const b=async()=>{try{n(!0);const N=new Date;let P=new Date,Q=new Date;switch(a){case"today":P.setHours(0,0,0,0),Q.setHours(23,59,59,999);break;case"week":P.setDate(N.getDate()-7);break;case"month":P.setMonth(N.getMonth()-1);break;case"year":P.setFullYear(N.getFullYear()-1);break;case"custom":l&&A&&(P=new Date(l),Q=new Date(A),Q.setHours(23,59,59,999));break}const j=qt(Ct(_e,"payouts"),vt("processedAt",">=",Ot.fromDate(P)),vt("processedAt","<=",Ot.fromDate(Q)),hB("processedAt","desc"),Rc(1e3)),k=await Mt(j);let T=0,D=0,R=0,H=0,z=0;const V={},J={};k.forEach(L=>{const W=L.data();T+=W.totalGrossAmount||0,D+=W.platformFee||0,R+=W.acquiringFee||0,W.actualAcquiringFees&&(H+=W.actualAcquiringFees),z+=W.bookingsCount||0;const G=W.venueId;V[G]||(V[G]={venueId:G,venueName:W.venueName,revenue:0,platformCommission:0,acquiringFees:0,netProfit:0,transactionsCount:0}),V[G].revenue+=W.totalGrossAmount||0,V[G].platformCommission+=W.platformFee||0,V[G].acquiringFees+=W.acquiringFee||0,V[G].transactionsCount+=W.bookingsCount||0,W.bookingDetails&&W.bookingDetails.forEach(se=>{const X=se.paymentMethod||"card";J[X]||(J[X]={method:X,revenue:0,count:0,acquiringFees:0}),J[X].revenue+=se.amount||0,J[X].count++,J[X].acquiringFees+=se.actualAcquiringFee||0})});const te=H||R,Ae=D+R-te,U=T>0?Ae/T*100:0,O=T>0?te/T*100:0;Object.values(V).forEach(L=>{L.netProfit=L.platformCommission,L.profitMargin=L.revenue>0?L.netProfit/L.revenue*100:0}),h({totalRevenue:T,platformCommission:D,acquiringFees:R,netProfit:Ae,profitMargin:U,transactionsCount:z,averageTransaction:z>0?T/z:0,averageAcquiringRate:O}),p(Object.values(V).sort((L,W)=>W.revenue-L.revenue));const M=Object.values(J).map(L=>({name:w(L.method),value:L.count,revenue:L.revenue,averageAcquiring:L.count>0?L.acquiringFees/L.revenue*100:0}));v(M)}catch(N){console.error("Error loading platform analytics:",N)}finally{n(!1)}},w=N=>({card:"Банковская карта",sbp:"СБП",apple_pay:"Apple Pay",google_pay:"Google Pay",yandex_pay:"Yandex Pay"})[N]||N,E=(N,P)=>{i(P)},S=()=>{alert("Экспорт в Excel будет добавлен в следующей версии")};if(!e)return s.jsx(Kt,{severity:"error",children:"Доступ запрещен. Этот раздел доступен только суперадминистраторам."});if(t)return s.jsx(Ce,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(nr,{})});const F=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return s.jsxs(Ce,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(q,{variant:"h5",component:"h2",children:"Аналитика платформы"}),s.jsxs(Ce,{display:"flex",gap:2,children:[s.jsxs(Lt,{select:!0,size:"small",label:"Период",value:a,onChange:N=>o(N.target.value),sx:{minWidth:120},SelectProps:{native:!0},children:[s.jsx("option",{value:"today",children:"Сегодня"}),s.jsx("option",{value:"week",children:"Неделя"}),s.jsx("option",{value:"month",children:"Месяц"}),s.jsx("option",{value:"year",children:"Год"}),s.jsx("option",{value:"custom",children:"Произвольный"})]}),s.jsx(Ft,{variant:"outlined",startIcon:s.jsx(Sre,{}),onClick:S,children:"Экспорт"})]})]}),a==="custom"&&s.jsxs(Ce,{display:"flex",gap:2,mb:3,children:[s.jsx(Lt,{label:"Начальная дата",type:"date",value:l,onChange:N=>c(N.target.value),size:"small",InputLabelProps:{shrink:!0}}),s.jsx(Lt,{label:"Конечная дата",type:"date",value:A,onChange:N=>u(N.target.value),size:"small",InputLabelProps:{shrink:!0}})]}),s.jsxs(gt,{container:!0,spacing:3,mb:4,children:[s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsxs(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(Hc,{color:"primary"}),s.jsx(Gn,{size:"small",label:`${d.profitMargin.toFixed(1)}%`,color:d.profitMargin>0?"success":"error",icon:d.profitMargin>0?s.jsx(kg,{}):s.jsx(Yre,{})})]}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Общий оборот"}),s.jsxs(q,{variant:"h5",component:"div",children:[d.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(Px,{color:"success"})}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Чистая прибыль"}),s.jsxs(q,{variant:"h5",component:"div",color:"success.main",children:[d.netProfit.toLocaleString("ru-RU")," ₽"]}),s.jsxs(q,{variant:"caption",color:"text.secondary",children:["Маржинальность: ",d.profitMargin.toFixed(2),"%"]})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(ED,{color:"warning"})}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Средний эквайринг"}),s.jsxs(q,{variant:"h5",component:"div",children:[d.averageAcquiringRate.toFixed(2),"%"]}),s.jsx(q,{variant:"caption",color:"text.secondary",children:"Заложено: 2.6%"})]})})}),s.jsx(gt,{item:!0,xs:12,sm:6,md:3,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(Ce,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(TD,{color:"info"})}),s.jsx(q,{color:"text.secondary",variant:"body2",children:"Транзакций"}),s.jsx(q,{variant:"h5",component:"div",children:d.transactionsCount}),s.jsxs(q,{variant:"caption",color:"text.secondary",children:["Средний чек: ",Math.round(d.averageTransaction).toLocaleString("ru-RU")," ₽"]})]})})})]}),s.jsx(Ce,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(Fx,{value:r,onChange:E,children:[s.jsx(xa,{label:"По клубам"}),s.jsx(xa,{label:"По способам оплаты"}),s.jsx(xa,{label:"Детализация"})]})}),s.jsx(J2,{value:r,index:0,children:s.jsx(Oo,{component:Pn,children:s.jsxs(Uo,{children:[s.jsx(Ro,{children:s.jsxs(Pr,{children:[s.jsx(pt,{children:"Клуб"}),s.jsx(pt,{align:"right",children:"Оборот"}),s.jsx(pt,{align:"right",children:"Комиссия платформы"}),s.jsx(pt,{align:"right",children:"Эквайринг (план)"}),s.jsx(pt,{align:"right",children:"Чистая прибыль"}),s.jsx(pt,{align:"center",children:"Маржа"}),s.jsx(pt,{align:"center",children:"Транзакций"})]})}),s.jsx(Lo,{children:f.map(N=>s.jsxs(Pr,{hover:!0,children:[s.jsx(pt,{children:N.venueName}),s.jsxs(pt,{align:"right",children:[N.revenue.toLocaleString("ru-RU")," ₽"]}),s.jsxs(pt,{align:"right",children:[N.platformCommission.toLocaleString("ru-RU")," ₽"]}),s.jsxs(pt,{align:"right",children:[N.acquiringFees.toLocaleString("ru-RU")," ₽"]}),s.jsx(pt,{align:"right",children:s.jsxs("strong",{children:[N.netProfit.toLocaleString("ru-RU")," ₽"]})}),s.jsx(pt,{align:"center",children:s.jsx(Gn,{label:`${N.profitMargin.toFixed(1)}%`,size:"small",color:N.profitMargin>2?"success":"warning"})}),s.jsx(pt,{align:"center",children:N.transactionsCount})]},N.venueId))})]})})}),s.jsx(J2,{value:r,index:1,children:s.jsxs(gt,{container:!0,spacing:3,children:[s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Распределение по способам оплаты"}),s.jsx(vwe,{width:"100%",height:300,children:s.jsxs(j5e,{children:[s.jsx(c8,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:N=>`${N.name}: ${N.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:g.map((N,P)=>s.jsx(_1,{fill:F[P%F.length]},`cell-${P}`))}),s.jsx(dwe,{}),s.jsx(m1,{})]})})]})})}),s.jsx(gt,{item:!0,xs:12,md:6,children:s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Эффективность по способам оплаты"}),s.jsx(Wi,{children:g.map((N,P)=>s.jsxs(wn.Fragment,{children:[s.jsx(mn,{children:s.jsx(vn,{primary:N.name,secondary:s.jsxs(Ce,{children:[s.jsxs(q,{variant:"body2",children:["Оборот: ",N.revenue.toLocaleString("ru-RU")," ₽"]}),s.jsxs(q,{variant:"body2",children:["Средний эквайринг: ",N.averageAcquiring.toFixed(2),"%"]}),s.jsx(LA,{variant:"determinate",value:Math.min(N.averageAcquiring*40,100),color:N.averageAcquiring<1.5?"success":N.averageAcquiring<2.5?"warning":"error",sx:{mt:1}})]})})}),P<g.length-1&&s.jsx(ks,{})]},N.name))})]})})})]})}),s.jsxs(J2,{value:r,index:2,children:[s.jsx(Kt,{severity:"info",sx:{mb:2},children:"Детальная информация по транзакциям с реальными комиссиями эквайринга будет доступна после интеграции с webhook Т-Банка."}),s.jsx(Zt,{children:s.jsxs(tn,{children:[s.jsx(q,{variant:"h6",gutterBottom:!0,children:"Сводка по комиссиям"}),s.jsxs(gt,{container:!0,spacing:3,children:[s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle2",color:"text.secondary",children:"Собрано комиссий с клубов"}),s.jsxs(q,{variant:"h6",children:[(d.platformCommission+d.acquiringFees).toLocaleString("ru-RU")," ₽"]})]})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle2",color:"text.secondary",children:"Фактический эквайринг (оценка)"}),s.jsxs(q,{variant:"h6",children:[d.acquiringFees.toLocaleString("ru-RU")," ₽"]})]})}),s.jsx(gt,{item:!0,xs:12,md:4,children:s.jsxs(Ce,{children:[s.jsx(q,{variant:"subtitle2",color:"text.secondary",children:"Чистая прибыль платформы"}),s.jsxs(q,{variant:"h6",color:"success.main",children:[d.netProfit.toLocaleString("ru-RU")," ₽"]})]})})]})]})})]})]})}class k5e extends y.Component{constructor(n){super(n);Nm(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:Mw(n)}}componentDidCatch(n,r){const i=Mw(n);_D(i,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):s.jsx(Ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:s.jsxs(Pn,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[s.jsx(Ere,{sx:{fontSize:64,color:"error.main",mb:2}}),s.jsx(q,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),s.jsx(q,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,s.jsx(Ft,{variant:"contained",startIcon:s.jsx(k5,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}function I5e({children:e}){const{admin:t}=er(),n=$r();return y.useEffect(()=>{(t==null?void 0:t.role)==="trainer"&&n("/admin/bookings",{replace:!0})},[t,n]),(t==null?void 0:t.role)==="trainer"?null:s.jsx(s.Fragment,{children:e})}const T5e={contentPadding:{padding:"var(--spacing-xl)"}},Z2={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function ew({src:e,alt:t,className:n,style:r,onClick:i,loading:a="lazy",onMouseOver:o,onMouseOut:l}){const[c,A]=y.useState(a==="eager"),[u,d]=y.useState(!1),h=y.useRef(null);return y.useEffect(()=>{if(a==="eager"||!h.current)return;const f=new IntersectionObserver(p=>{p.forEach(g=>{g.isIntersecting&&(A(!0),f.unobserve(g.target))})},{rootMargin:"50px"});return f.observe(h.current),()=>{h.current&&f.unobserve(h.current)}},[a]),u?s.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:s.jsx("span",{children:"📷"})}):s.jsx("img",{ref:h,src:c?e:void 0,alt:t,className:n,style:r,onClick:i,onMouseOver:o,onMouseOut:l,onError:()=>d(!0),loading:a})}function N5e({isOpen:e,onClose:t,court:n,venue:r}){const[i,a]=y.useState("datetime"),[o,l]=y.useState(Lc()),[c,A]=y.useState(""),[u,d]=y.useState(60),[h,f]=y.useState("private"),[p,g]=y.useState([]),[v,x]=y.useState(!1),[C,b]=y.useState(""),[w,E]=y.useState("+7"),[S,F]=y.useState(""),[N,P]=y.useState(null),[Q,j]=y.useState(window.innerWidth<=768);y.useEffect(()=>{const te=()=>{j(window.innerWidth<=768)};return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),y.useEffect(()=>{if(e){console.log("Modal opened, venue:",r,"bookingDurations:",r.bookingDurations);const te=r.bookingDurations||{60:!0,90:!0,120:!0},Ae=[60,90,120].filter(U=>te[U]!==!1);console.log("Available durations:",Ae),Ae.length>0&&!Ae.includes(u)&&d(Ae[0]),a("datetime"),A(""),g([]),n&&r&&k()}else N&&(N(),P(null))},[e]),y.useEffect(()=>{if(i==="datetime"&&o&&n&&r){k();const te=new Date(o);te.setHours(0,0,0,0);const Ae=new Date(o);Ae.setHours(23,59,59,999);const U=qt(Ct(_e,"bookings"),vt("courtId","==",n.id),vt("date",">=",Ot.fromDate(te)),vt("date","<=",Ot.fromDate(Ae))),O=Do(U,L=>{console.log("Real-time update: bookings changed (timestamp date)",L.docs.length,"bookings"),L.docs.forEach(W=>{console.log("Booking:",W.id,W.data())}),k()}),M=()=>{O()};P(()=>M)}return()=>{N&&(N(),P(null))}},[i,o,u,n.id,r.id]);const k=async(te,Ae)=>{var M;const U=te||u,O=Ae||o;console.log("Loading time slots for:",{date:O,courtId:n.id,courtName:n.name,venue:r.name,duration:U,workingHours:r.workingHours}),x(!0);try{const L=new Date(O);L.setHours(0,0,0,0);const W=new Date(O);W.setHours(23,59,59,999);const G=qt(Ct(_e,"bookings"),vt("courtId","==",n.id),vt("date",">=",Ot.fromDate(L)),vt("date","<=",Ot.fromDate(W))),X=(await Mt(G)).docs.filter(Ze=>{const ye=Ze.data();return ye.status==="confirmed"||ye.paymentStatus==="paid"||ye.paymentStatus==="awaiting_payment"}).map(Ze=>{const ye=Ze.data();let Ue=ye.duration||60;return console.log("Processing booking:",Ze.id,{duration:ye.duration,amount:ye.amount,price:ye.price,startTime:ye.startTime,endTime:ye.endTime}),{time:ye.time||ye.startTime,startTime:ye.startTime||ye.time,endTime:ye.endTime,duration:Ue}});console.log("Found bookings:",X.length,X);const ge=O.getDay(),ce=ge===0||ge===6,ne=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ge];console.log("Day of week:",ge,"Day name:",ne,"Is weekend:",ce,"Working hours:",r.workingHours);const oe=[];let fe="07:00",ie="23:00";if((M=r.workingHours)!=null&&M[ne]){const Ze=r.workingHours[ne];if(console.log("Found day-specific hours:",ne,Ze),typeof Ze=="object"&&Ze.open&&Ze.close)fe=Ze.open,ie=Ze.close;else if(typeof Ze=="string"&&Ze.includes("-")){const[ye,Ue]=Ze.split("-").map(ke=>ke.trim());ye&&Ue&&(fe=ye,ie=Ue)}}else if(r.workingHours){const Ze=r.workingHours[ce?"weekend":"weekday"];if(console.log("Using weekday/weekend format:",ce?"weekend":"weekday",Ze),typeof Ze=="string"&&Ze.includes("-")){const[ye,Ue]=Ze.split("-").map(ke=>ke.trim());ye&&Ue&&(fe=ye,ie=Ue)}else typeof Ze=="object"&&Ze.open&&Ze.close&&(fe=Ze.open,ie=Ze.close)}else console.log("No working hours found, using defaults");console.log("Working hours parsed:",{openTime:fe,closeTime:ie});const[Te,be]=fe.split(":").map(Number),[xe,Ne]=ie.split(":").map(Number),Fe=new Date,He=sn(O,"yyyy-MM-dd")===sn(Fe,"yyyy-MM-dd");let Ge=Te*60+be;const lt=xe*60+Ne,bt=r.bookingSlotInterval||60;for(bt===60&&Ge%60!==0&&(Ge=Math.ceil(Ge/60)*60);Ge<lt;){const Ze=Math.floor(Ge/60),ye=Ge%60,Ue=`${Ze.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`,ke=H6(Q6(new Date(O),Ze),ye);if(He&&yr(ke,Fe)){Ge+=bt;continue}if(Ge+U>lt)break;let rt=!0;for(const _t of X){const qe=_t.startTime.split(":");if(qe.length!==2)continue;const we=parseInt(qe[0]),he=parseInt(qe[1]),Le=we*60+he,ve=Le+_t.duration,De=Ge+U;if(Ge<ve&&De>Le){rt=!1;break}}const Ie=af(O,Ue,U,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend);oe.push({time:Ue,available:rt,price:Ie}),Ge+=bt}g(oe),console.log("Loaded time slots:",oe.length,oe)}catch(L){console.error("Error loading time slots:",L),g([])}finally{x(!1)}},T=te=>{l(te),A(""),k(u,te)},D=async te=>{x(!0);try{const Ae=new Date(o);Ae.setHours(0,0,0,0);const U=new Date(o);U.setHours(23,59,59,999);const O=qt(Ct(_e,"bookings"),vt("courtId","==",n.id),vt("date",">=",Ot.fromDate(Ae)),vt("date","<=",Ot.fromDate(U))),L=(await Mt(O)).docs.filter(ce=>{const Y=ce.data();return Y.status==="confirmed"||Y.paymentStatus==="paid"||Y.paymentStatus==="awaiting_payment"}).map(ce=>{const Y=ce.data();let ne=Y.duration||60;return console.log("Processing booking:",ce.id,{duration:Y.duration,amount:Y.amount,price:Y.price,startTime:Y.startTime,endTime:Y.endTime}),{time:Y.time||Y.startTime,startTime:Y.startTime||Y.time,endTime:Y.endTime,duration:ne}}),[W,G]=te.split(":").map(Number),se=W*60+G,X=se+u;let ge=!0;for(const ce of L){const Y=ce.startTime.split(":");if(Y.length!==2)continue;const ne=parseInt(Y[0]),oe=parseInt(Y[1]),fe=ne*60+oe,ie=fe+ce.duration;if(se<ie&&X>fe){ge=!1;break}}if(!ge){alert("К сожалению, это время было только что забронировано. Пожалуйста, выберите другое время."),await k();return}A(te),a("gameType")}catch(Ae){console.error("Error checking availability:",Ae),alert("Ошибка проверки доступности. Попробуйте еще раз.")}finally{x(!1)}},R=te=>{f(te)},H=async()=>{if(!C||!w){alert("Пожалуйста, заполните обязательные поля");return}if(!K6(C)){alert("Имя должно быть от 2 до 100 символов");return}if(!W6(w)){alert("Некорректный номер телефона");return}if(S&&!$fe(S)){alert("Некорректный email");return}if(!V6(o)){alert("Нельзя забронировать на прошедшую дату");return}x(!0);try{const[te,Ae]=c.split(":").map(Number),U=new Date(o);U.setHours(te,Ae,0,0);const O=new Date(U.getTime()+u*60*1e3),M=p.find(oe=>oe.time===c),L=o.getFullYear(),W=o.getMonth(),G=o.getDate(),se=new Date(Date.UTC(L,W,G,0,0,0,0)),X={courtId:n.id,courtName:n.name,venueId:r.id,venueName:r.name,date:Ot.fromDate(se),time:c,startTime:c,endTime:`${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`,duration:u,gameType:h,customerName:Tp(C),customerPhone:bd(w),customerEmail:S?S.toLowerCase().trim():"",clientName:Tp(C),clientPhone:bd(w),price:M?M.price:0,amount:M?M.price:0,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Ot.now(),action:"created",userId:"web-client",userName:C}],createdBy:{userId:"web-client",userName:C,userRole:"client"},createdAt:new Date,source:"web"};if(console.log("Venue payment settings from props:",{paymentEnabled:r.paymentEnabled,paymentProvider:r.paymentProvider,paymentTestMode:r.paymentTestMode,phone:r.phone}),!r.paymentEnabled){const oe=r.phone||"не указан";alert(`К сожалению, клуб "${r.name}" пока не подключил онлайн оплату.

Пожалуйста, позвоните по телефону клуба для бронирования:
${oe}`),x(!1);return}console.log("Creating booking with data:",X);const ge=await Ma(Ct(_e,"bookings"),X);console.log("Booking created with ID:",ge.id);const ce=Ai(qo,"initBookingPayment");console.log("Calling initBookingPayment with params:",{bookingId:ge.id,amount:X.price,description:`Бронирование ${n.name} на ${sn(o,"d MMMM",{locale:ba})} ${c}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${ge.id}`,userId:"",customerEmail:S,customerPhone:w});const Y=await ce({bookingId:ge.id,amount:X.price,description:`Бронирование ${n.name} на ${sn(o,"d MMMM",{locale:ba})} ${c}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${ge.id}`,userId:"",customerEmail:S,customerPhone:w});console.log("Payment result:",Y);const ne=Y.data;if(ne.success&&ne.paymentUrl)window.location.href=ne.paymentUrl;else{try{await Xc(ge),console.log("Booking deleted due to payment initialization failure")}catch(oe){console.error("Failed to delete booking after payment failure:",oe)}throw new Error(ne.error||"Ошибка инициализации платежа")}}catch(te){console.error("Error creating booking:",te),console.error("Error details:",{message:te.message,code:te.code,details:te.details,stack:te.stack});let Ae="Ошибка при создании бронирования";te.code==="functions/not-found"?Ae="Функция оплаты не найдена. Проверьте настройки.":te.code==="functions/failed-precondition"?Ae="Платежи не настроены для этого клуба":te.message&&(Ae=`Ошибка: ${te.message}`),alert(Ae)}finally{x(!1)}};if(!e)return null;const z=()=>{var O;const te=[],Ae=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],U=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];for(let M=0;M<14;M++)te.push(Il(Lc(),M));return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:Q?"calc(100vh - var(--spacing-lg) * 2)":"auto",position:"relative"},children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)",flexShrink:0},children:"Выберите дату и время"}),s.jsxs("div",{style:{display:Q?"block":"grid",gridTemplateColumns:Q?"1fr":"300px 1fr",gap:"var(--spacing-xl)",flex:1,overflowY:"auto",paddingBottom:Q?"140px":"0"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Дата бронирования"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-xs)"},children:te.map((M,L)=>{const W=sn(M,"yyyy-MM-dd")===sn(o,"yyyy-MM-dd"),G=L===0,se=U[M.getDay()],X=L===0||M.getDate()===1,ge=sn(M,"yyyy-MM-dd");return s.jsxs("div",{style:{textAlign:"center"},children:[X&&s.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px",fontSize:"11px"},children:Ae[M.getMonth()]}),!X&&s.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),s.jsxs("button",{onClick:()=>T(M),style:{width:"100%",aspectRatio:"1",padding:"4px",border:`2px solid ${W||G?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:W?"var(--primary)":"var(--white)",color:W?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:[s.jsx("div",{className:"caption",style:{fontWeight:600,color:W?"white":"var(--gray)"},children:se}),s.jsx("div",{className:"body-bold",style:{fontSize:"16px",color:W?"white":"var(--dark)"},children:M.getDate()})]})]},ge)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(M=>(r.bookingDurations||{60:!0,90:!0,120:!0})[M]!==!1?(o.getDay(),af(o,"12:00",M,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend),s.jsx("button",{onClick:()=>{M!==u&&(d(M),A(""),k(M))},style:{flex:1,padding:Q?"var(--spacing-sm) var(--spacing-xs)":"var(--spacing-md)",border:`2px solid ${u===M?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:u===M?"var(--primary)":"var(--white)",color:u===M?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:s.jsx("span",{className:"body-bold",style:{fontSize:Q?"14px":"16px"},children:M===60?"1 час":M===90?"1.5 часа":"2 часа"})},`duration-${M}`)):null)})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",sn(o,"d MMMM",{locale:ba})]}),v?s.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-3xl)"},children:s.jsx("div",{className:"spinner"})}):p.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:Q?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)",maxHeight:Q?"400px":"500px",overflowY:"auto",paddingRight:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:p.map(M=>{const L=c===M.time;return s.jsxs("button",{onClick:()=>M.available&&A(M.time),disabled:!M.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",border:`2px solid ${M.available?L?"var(--primary)":"var(--light-gray)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:M.available?L?"var(--primary)":"var(--white)":"var(--extra-light-gray)",color:M.available?L?"white":"var(--dark)":"var(--gray)",cursor:M.available?"pointer":"not-allowed",transition:"all 0.2s",opacity:M.available?1:.5,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:"65px",justifyContent:"center"},children:[s.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[M.time,"-",(()=>{const[W,G]=M.time.split(":").map(Number),se=new Date;return se.setHours(W,G,0,0),se.setTime(se.getTime()+u*60*1e3),`${se.getHours().toString().padStart(2,"0")}:${se.getMinutes().toString().padStart(2,"0")}`})()]}),M.available?L?s.jsx("span",{className:"caption",style:{color:"white",fontWeight:600},children:"Выбрано"}):s.jsxs("span",{className:"caption",style:{color:"var(--primary)",fontWeight:600},children:[M.price,"₽"]}):s.jsx("span",{className:"caption",children:"Занято"})]},`slot-${M.time}`)})}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap",marginTop:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--extra-light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Выбрано"})]})]})]}):s.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--gray)"},children:s.jsx("p",{className:"body",children:"Нет доступных слотов на выбранную дату"})})]})]}),s.jsxs("div",{style:{position:Q?"fixed":"sticky",bottom:0,left:Q?0:"auto",right:Q?0:"auto",width:Q?"100%":"auto",marginLeft:Q?0:"calc(-1 * var(--spacing-xl))",marginRight:Q?0:"calc(-1 * var(--spacing-xl))",marginBottom:Q?0:"calc(-1 * var(--spacing-xl))",marginTop:Q?0:"var(--spacing-xl)",padding:"var(--spacing-lg) var(--spacing-xl)",background:"var(--white)",borderTop:"1px solid var(--extra-light-gray)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.05)",zIndex:10},children:[c&&s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"center"},children:[s.jsx("span",{className:"body-bold",children:sn(o,"d MMMM",{locale:ba})}),s.jsxs("span",{className:"body-bold",children:[c,"-",(()=>{const[M,L]=c.split(":").map(Number),W=new Date;return W.setHours(M,L,0,0),W.setTime(W.getTime()+u*60*1e3),`${W.getHours().toString().padStart(2,"0")}:${W.getMinutes().toString().padStart(2,"0")}`})()]})]}),s.jsxs("div",{className:"h3",style:{color:"var(--primary)"},children:[((O=p.find(M=>M.time===c))==null?void 0:O.price)||0," ₽"]})]}),s.jsx("button",{className:"flutter-button",onClick:()=>D(c),disabled:!o||!c,style:{width:"100%",padding:"var(--spacing-lg)",fontSize:"16px",fontWeight:"600"},children:"Далее"})]})]})},V=()=>s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите тип игры"}),s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-md)"},children:[s.jsxs("button",{onClick:()=>R("private"),style:{padding:"var(--spacing-lg)",border:`2px solid ${h==="private"?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:h==="private"?"var(--primary-light)":"var(--white)",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[s.jsx("div",{className:"body-bold",children:"Приватная игра"}),s.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Для вас и ваших друзей"})]}),s.jsxs("button",{style:{padding:"var(--spacing-lg)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",background:"var(--extra-light-gray)",cursor:"not-allowed",transition:"all 0.2s",textAlign:"left",opacity:.6},disabled:!0,children:[s.jsx("div",{className:"body-bold",style:{color:"var(--gray)"},children:"Открытая игра"}),s.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Присоединиться к игре (доступно в приложении)"})]})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:Q?"fixed":"static",bottom:Q?"0":"auto",left:Q?"0":"auto",right:Q?"0":"auto",padding:Q?"var(--spacing-lg)":"0",background:Q?"var(--white)":"transparent",borderTop:Q?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("button",{className:"flutter-button-outlined",onClick:()=>a("datetime"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),s.jsx("button",{className:"flutter-button",onClick:()=>a("payment"),style:{flex:1},children:"Далее"})]})]}),J=()=>{const te=(()=>{const Ae=p.find(U=>U.time===c);return(Ae==null?void 0:Ae.price)||0})();return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Оплата бронирования"}),s.jsx("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-sm)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Корт:"}),s.jsx("span",{className:"body-bold",children:n.name})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Дата:"}),s.jsx("span",{className:"body-bold",children:sn(o,"d MMMM yyyy",{locale:ba})})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Время:"}),s.jsxs("span",{className:"body-bold",children:[c," - ",(()=>{const[Ae,U]=c.split(":").map(Number),O=new Date;return O.setHours(Ae,U,0,0),O.setTime(O.getTime()+u*60*1e3),`${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`})()]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Тип игры:"}),s.jsx("span",{className:"body-bold",children:"Приватная"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-sm)",borderTop:"1px solid var(--extra-light-gray)"},children:[s.jsx("span",{className:"body-bold",children:"Итого:"}),s.jsxs("span",{className:"h3",style:{color:"var(--primary)"},children:[te,"₽"]})]})]})}),s.jsxs("div",{style:{marginBottom:"var(--spacing-lg)"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя"}),s.jsx("input",{type:"text",className:"form-input",value:C,onChange:Ae=>b(Ae.target.value),placeholder:"Иван Иванов",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",value:w,onChange:Ae=>E(Ae.target.value),placeholder:"+7 (900) 123-45-67",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email (необязательно)"}),s.jsx("input",{type:"email",className:"form-input",value:S,onChange:Ae=>F(Ae.target.value),placeholder:"email@example.com"}),s.jsx("div",{className:"caption",style:{marginTop:"8px",color:"var(--gray)"},children:S?"Чек будет отправлен на указанный email":"Если не указать email, чек можно будет получить только в клубе"})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"20px",color:"var(--primary)"},children:"ℹ️"}),s.jsx("p",{className:"caption",style:{color:"var(--primary-dark)"},children:"Бронирование будет подтверждено только после успешной оплаты"})]})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:Q?"fixed":"static",bottom:Q?"0":"auto",left:Q?"0":"auto",right:Q?"0":"auto",padding:Q?"var(--spacing-lg)":"0",background:Q?"var(--white)":"transparent",borderTop:Q?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("button",{className:"flutter-button-outlined",onClick:()=>a("gameType"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),s.jsx("button",{className:"flutter-button",onClick:H,disabled:v||!C||!w,style:{flex:1},children:v?s.jsx("div",{className:"spinner"}):"Перейти к оплате"})]})]})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:e?"block":"none",animation:"fadeIn 0.2s ease"}}),s.jsxs("div",{className:"modal-content",style:{position:"fixed",top:Q?"0":"50%",left:Q?"0":"50%",transform:Q?"none":"translate(-50%, -50%)",background:"var(--white)",borderRadius:Q?"0":"var(--radius-xl)",padding:Q?"var(--spacing-lg)":"var(--spacing-2xl)",maxWidth:Q?"100%":"1000px",width:Q?"100%":"90%",height:Q?"100vh":"auto",maxHeight:Q?"100vh":"85vh",overflowY:"auto",zIndex:1001,display:e?"block":"none",boxShadow:Q?"none":"var(--shadow-xl)",animation:Q?"slideUp 0.3s ease":"slideIn 0.3s ease"},children:[s.jsx("button",{onClick:t,style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--gray)"},children:"×"}),i==="datetime"&&z(),i==="gameType"&&V(),i==="payment"&&J()]}),s.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -45%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(100%);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--extra-light-gray);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
          .modal-content {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            width: 100% !important;
            height: 100vh !important;
            max-width: 100% !important;
            max-height: 100vh !important;
            border-radius: 0 !important;
            padding: var(--spacing-lg) !important;
          }
        }
      `})]})}const AF={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},tw={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},uF={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function F5e(){const{clubId:e}=el();$r();const[t,n]=y.useState(null),[r,i]=y.useState([]),[a,o]=y.useState(!0),[l,c]=y.useState(""),[A,u]=y.useState(null),[d,h]=y.useState(!1),[f,p]=y.useState(!1),[g,v]=y.useState(0);y.useEffect(()=>{var k;if((k=t==null?void 0:t.photos)!=null&&k[0]){const T=document.createElement("link");return T.rel="preload",T.as="image",T.href=t.photos[0],document.head.appendChild(T),()=>{document.head.removeChild(T)}}},[t==null?void 0:t.photos]),y.useEffect(()=>{const k=performance.now();if(x().then(()=>{const T=performance.now()-k;console.log(`ClubPage loaded in ${T.toFixed(0)}ms`)}),e){const T=[],D=Do(wt(_e,"venues",e),H=>{if(H.exists()){const z={id:H.id,...H.data()};if(H.data().status!=="active"){c("Клуб временно недоступен"),o(!1);return}console.log("Venue data updated:",z),n(z)}else c("Клуб не найден"),o(!1)},H=>{console.error("Error listening to venue updates:",H),c("Ошибка при загрузке данных клуба"),o(!1)});T.push(D);const R=Do(qt(Ct(_e,"venues",e,"courts"),vt("status","==","active")),H=>{const z=H.docs.map(V=>({id:V.id,...V.data()}));i(z)},H=>{console.error("Error listening to courts updates:",H)});return T.push(R),()=>{T.forEach(H=>H())}}},[e]),y.useEffect(()=>{if(f){const k=T=>{T.key==="Escape"?F():T.key==="ArrowLeft"?N("prev"):T.key==="ArrowRight"&&N("next")};return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}}},[f]);const x=async()=>{if(!e){c("ID клуба не указан"),o(!1);return}try{const[k,T]=await Promise.all([fn(wt(_e,"venues",e)),Mt(qt(Ct(_e,"venues",e,"courts"),vt("status","==","active")))]);if(!k.exists()){c("Клуб не найден"),o(!1);return}const D={id:k.id,...k.data()};if(k.data().status!=="active"){c("Клуб временно недоступен"),o(!1);return}console.log("Loaded venue data:",D),console.log("Payment settings:",{paymentEnabled:D.paymentEnabled,paymentProvider:D.paymentProvider,paymentTestMode:D.paymentTestMode});const R=T.docs.map(H=>({id:H.id,...H.data()}));n(D),i(R),o(!1)}catch(k){console.error("Error loading venue:",k),c("Ошибка при загрузке данных клуба"),o(!1)}},C=k=>{u(k)},b=[{key:"monday",label:"Понедельник",short:"Пн"},{key:"tuesday",label:"Вторник",short:"Вт"},{key:"wednesday",label:"Среда",short:"Ср"},{key:"thursday",label:"Четверг",short:"Чт"},{key:"friday",label:"Пятница",short:"Пт"},{key:"saturday",label:"Суббота",short:"Сб"},{key:"sunday",label:"Воскресенье",short:"Вс"}],w=k=>{if(k.pricing){const D=[];if(Object.values(k.pricing).forEach(R=>{R&&R.basePrice&&(D.push(R.basePrice),R.intervals&&Array.isArray(R.intervals)&&R.intervals.forEach(H=>{H.price&&D.push(H.price)}))}),D.length>0){const R=Math.min(...D),H=Math.max(...D);return R===H?{min:R,max:H,display:`${R}₽`}:{min:R,max:H,display:`от ${R}₽`}}}const T=k.pricePerHour||k.priceWeekday||0;return{min:T,max:T,display:`${T}₽`}},E=()=>{if(A){if(!j){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",A),h(!0)}},S=k=>{v(k),p(!0)},F=()=>{p(!1)},N=k=>{t!=null&&t.photos&&v(k==="prev"?T=>T===0?t.photos.length-1:T-1:T=>T===t.photos.length-1?0:T+1)},P={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},loadingContent:{textAlign:"center"},spinner:{marginBottom:"16px"},errorContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px"},errorCard:{maxWidth:"400px",textAlign:"center",padding:"40px"},errorIcon:{fontSize:"48px",marginBottom:"16px"},errorTitle:{marginBottom:"12px"},errorText:{color:"var(--gray)"},pageContainer:{minHeight:"100vh",background:"var(--background)"},heroImage:{width:"100%",height:"300px",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"300px",background:"var(--extra-light-gray)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heroPlaceholderIcon:{fontSize:"48px",marginBottom:"8px"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",cursor:"pointer",transition:"transform 0.2s"},clubInfoWrapper:{padding:"20px"},clubTitle:{marginBottom:"16px"},clubInfoItems:{display:"flex",flexDirection:"column",gap:"12px"},infoIcon:{fontSize:"18px"},courtsWrapper:{padding:"20px"},courtsWrapperDesktop:{marginTop:"32px"},courtsTitle:{marginBottom:"16px"},noCourtsCard:{padding:"40px",textAlign:"center"},noCourtsIcon:{fontSize:"48px",marginBottom:"8px",display:"block"},noCourtsText:{color:"var(--gray)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},courtInfo:{flex:1},courtName:{marginBottom:"8px"},courtDetails:{display:"flex",alignItems:"center",gap:"8px"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},courtPricing:{textAlign:"right"},courtPrice:{color:"var(--primary)",marginBottom:"4px"},courtPriceUnit:{color:"var(--gray)"},sidebarBookingCard:{position:"sticky",top:"20px"},selectedCourtSection:{marginBottom:"8px"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary-dark)",fontWeight:"600"}};if(a)return s.jsxs("div",{style:P.loadingContainer,children:[s.jsxs("div",{style:P.loadingContent,children:[s.jsx("div",{className:"spinner",style:P.spinner}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return s.jsx("div",{style:P.errorContainer,children:s.jsxs("div",{className:"flutter-card",style:P.errorCard,children:[s.jsx("div",{style:P.errorIcon,children:"❌"}),s.jsx("h2",{className:"h2",style:P.errorTitle,children:"Ошибка"}),s.jsx("p",{className:"body",style:P.errorText,children:l})]})});if(!t)return null;const Q=window.innerWidth>768,j=t.status==="active";return s.jsxs("div",{style:P.pageContainer,children:[!j&&s.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[s.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),s.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),Q&&s.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?s.jsx(ew,{loading:"eager",src:t.photos[0],alt:t.name,style:P.heroImage,onClick:()=>S(0)}):s.jsxs("div",{style:P.heroPlaceholder,children:[s.jsx("span",{style:P.heroPlaceholderIcon,children:"🏸"}),s.jsx("span",{className:"body-small",style:P.heroPlaceholderText,children:"Фото клуба"})]})}),!Q&&t.photos&&t.photos.length>0&&s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginTop:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",paddingLeft:"var(--spacing-xl)",paddingRight:"var(--spacing-xl)",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:t.photos.map((k,T)=>s.jsx(ew,{loading:"lazy",src:k,alt:`${t.name} - фото ${T+1}`,style:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},onClick:()=>S(T)},T))}),!Q&&s.jsxs("div",{style:{...P.clubInfoWrapper,padding:"0 var(--spacing-xl)"},children:[s.jsx("h1",{className:"h1",style:P.clubTitle,children:t.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",marginBottom:"var(--spacing-lg)",flexWrap:"nowrap"},children:[t.phone&&s.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",flexShrink:0,transition:"background 0.2s"},onClick:k=>k.stopPropagation(),children:[s.jsx("span",{style:{...P.infoIcon,marginBottom:0},children:"📞"}),s.jsx("span",{className:"body-bold",children:t.phone})]}),s.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flex:1,minWidth:0,textDecoration:"none",color:"inherit"},onClick:k=>k.stopPropagation(),children:[s.jsx("span",{style:P.infoIcon,children:"📍"}),s.jsx("span",{className:"body",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textDecoration:"underline",textDecorationStyle:"dotted",textUnderlineOffset:"2px"},children:t.address})]})]})]}),!Q&&s.jsxs("div",{style:{...P.courtsWrapper,padding:"0 var(--spacing-xl)"},children:[s.jsx("h3",{className:"h2",style:P.courtsTitle,children:"Доступные корты"}),r.length===0?s.jsxs("div",{className:"flutter-card",style:P.noCourtsCard,children:[s.jsx("span",{style:P.noCourtsIcon,children:"🎾"}),s.jsx("p",{className:"body",style:P.noCourtsText,children:"Нет доступных кортов"})]}):s.jsx("div",{children:r.map(k=>{const T=(A==null?void 0:A.id)===k.id;return s.jsx("div",{className:`court-card ${T?"selected":""}`,onClick:()=>C(k),children:s.jsxs("div",{style:P.courtCardContent,children:[s.jsxs("div",{style:P.courtInfo,children:[s.jsx("h4",{className:"body-bold",style:P.courtName,children:k.name}),s.jsxs("div",{style:P.courtDetails,children:[s.jsx("span",{className:`sport-chip ${k.type}`,style:{backgroundColor:AF[k.type]},children:tw[k.type]}),k.indoor&&s.jsx("span",{className:"caption",style:P.courtIndoor,children:"Крытый"}),k.surface&&s.jsxs("span",{className:"caption",style:P.courtSurface,children:["• ",k.surface]})]})]}),s.jsxs("div",{style:P.courtPricing,children:[s.jsx("div",{className:"h3",style:{...P.courtPrice,color:T?"var(--primary-dark)":"var(--primary)"},children:w(k).display}),s.jsx("div",{className:"caption",style:P.courtPriceUnit,children:"за час"})]})]})},k.id)})})]}),s.jsxs("div",{style:Q?Z2.container:T5e.contentPadding,children:[s.jsxs("div",{style:Q?Z2.mainContent:{},children:[Q&&t.photos&&t.photos.length>0&&s.jsx("div",{style:P.desktopGallery,children:t.photos.map((k,T)=>s.jsx(ew,{loading:"lazy",src:k,alt:`${t.name} - фото ${T+1}`,className:"gallery-image",style:P.galleryImage,onMouseOver:D=>D.currentTarget.style.transform="scale(1.05)",onMouseOut:D=>D.currentTarget.style.transform="scale(1)",onClick:()=>S(T)},T))}),Q&&s.jsxs("div",{style:P.clubInfoWrapper,children:[s.jsx("h1",{className:"h1",style:P.clubTitle,children:t.name}),s.jsxs("div",{style:P.clubInfoItems,children:[t.phone&&s.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:k=>k.stopPropagation(),children:[s.jsx("span",{style:P.infoIcon,children:"📞"}),s.jsx("span",{className:"body",children:t.phone})]}),s.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:k=>k.stopPropagation(),children:[s.jsx("span",{style:P.infoIcon,children:"📍"}),s.jsx("span",{className:"body",children:t.address})]})]})]}),!Q&&t.description&&s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-section-title",children:"О клубе"}),s.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]}),!Q&&s.jsxs(s.Fragment,{children:[t.workingHours&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Часы работы"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:b.map(k=>{const T=t.workingHours[k.key];return T?s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:k.short}),s.jsx("span",{className:"body",style:{color:"var(--gray)"},children:T})]},k.key):null})})]}),t.amenities&&t.amenities.length>0&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Удобства"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(k=>s.jsxs("div",{className:"amenity-item",children:[s.jsx("span",{className:"check-icon",children:"✓"}),s.jsx("span",{className:"body",children:uF[k]||k})]},k))})]})]}),Q&&s.jsxs("div",{style:P.courtsWrapperDesktop,children:[s.jsx("h3",{className:"h2",style:P.courtsTitle,children:"Доступные корты"}),r.length===0?s.jsxs("div",{className:"flutter-card",style:P.noCourtsCard,children:[s.jsx("span",{style:P.noCourtsIcon,children:"🎾"}),s.jsx("p",{className:"body",style:P.noCourtsText,children:"Нет доступных кортов"})]}):s.jsx("div",{className:"courts-grid",children:r.map(k=>{const T=(A==null?void 0:A.id)===k.id;return s.jsx("div",{className:`court-card ${T?"selected":""}`,onClick:()=>C(k),children:s.jsxs("div",{style:P.courtCardContent,children:[s.jsxs("div",{style:P.courtInfo,children:[s.jsx("h4",{className:"body-bold",style:P.courtName,children:k.name}),s.jsxs("div",{style:P.courtDetails,children:[s.jsx("span",{className:`sport-chip ${k.type}`,style:{backgroundColor:AF[k.type]},children:tw[k.type]}),k.indoor&&s.jsx("span",{className:"caption",style:P.courtIndoor,children:"Крытый"}),k.surface&&s.jsxs("span",{className:"caption",style:P.courtSurface,children:["• ",k.surface]})]})]}),s.jsxs("div",{style:P.courtPricing,children:[s.jsx("div",{className:"h3",style:{...P.courtPrice,color:T?"var(--primary-dark)":"var(--primary)"},children:w(k).display}),s.jsx("div",{className:"caption",style:P.courtPriceUnit,children:"за час"})]})]})},k.id)})})]}),Q&&t.description&&s.jsxs("div",{className:"info-section",style:{marginTop:"var(--spacing-2xl)"},children:[s.jsx("h3",{className:"info-section-title",children:"О клубе"}),s.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]})]}),Q&&s.jsxs("div",{style:Z2.sidebar,children:[s.jsxs("div",{className:"sticky-bottom-bar",style:P.sidebarBookingCard,children:[A&&s.jsxs("div",{className:"selected-court-summary",children:[s.jsx("h4",{className:"body-bold",style:P.selectedCourtSection,children:A.name}),s.jsxs("div",{style:P.selectedCourtDetails,children:[s.jsx("span",{className:"body-small",style:P.selectedCourtType,children:tw[A.type]}),s.jsxs("span",{className:"body-bold",style:P.selectedCourtPrice,children:[w(A).display,"/час"]})]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:E,disabled:!A,children:A?"Выбрать время":"Выберите корт"}),s.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4",color:"var(--gray)",textAlign:"center",marginBottom:"var(--spacing-md)"},children:["Продолжая, соглашаюсь с"," ",s.jsx(up,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),t.workingHours&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Часы работы"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:b.map(k=>{const T=t.workingHours[k.key];return T?s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"caption",children:k.short}),s.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:T})]},k.key):null})})]}),t.amenities&&t.amenities.length>0&&s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-section-title",children:"Удобства"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(k=>s.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[s.jsx("span",{className:"check-icon",children:"✓"}),s.jsx("span",{className:"caption",children:uF[k]||k})]},k))})]})]})]}),!Q&&s.jsxs("div",{className:"sticky-bottom-bar",children:[s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:E,disabled:!A,children:A?`Выбрать время для ${A.name}`:"Выберите корт"}),s.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.3",color:"var(--gray)",textAlign:"center"},children:["Продолжая, соглашаюсь с"," ",s.jsx(up,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),A&&t&&s.jsx(N5e,{isOpen:d,onClose:()=>h(!1),court:A,venue:t}),f&&(t==null?void 0:t.photos)&&s.jsx("div",{className:"modal-backdrop",onClick:F,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:s.jsxs("div",{onClick:k=>k.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx("button",{onClick:F,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&s.jsx("button",{onClick:()=>N("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),s.jsx("img",{src:t.photos[g],alt:`${t.name} - фото ${g+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&s.jsx("button",{onClick:()=>N("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&s.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[g+1," / ",t.photos.length]})]})}),s.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:Q?"40px":"20px",paddingBottom:Q?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[s.jsx(up,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:k=>{k.currentTarget.style.color="var(--primary)",k.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:k=>{k.currentTarget.style.color="var(--text-secondary)",k.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:"Пользовательское соглашение"}),(t==null?void 0:t.legalName)&&s.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:["© ",new Date().getFullYear()," ",t.legalName]})]})]})}var AB={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(c,A){switch(c){case"P":return A.date({width:"short"});case"PP":return A.date({width:"medium"});case"PPP":return A.date({width:"long"});case"PPPP":default:return A.date({width:"full"})}},r=function(c,A){switch(c){case"p":return A.time({width:"short"});case"pp":return A.time({width:"medium"});case"ppp":return A.time({width:"long"});case"pppp":default:return A.time({width:"full"})}},i=function(c,A){var u=c.match(/(P+)(p+)?/)||[],d=u[1],h=u[2];if(!h)return n(c,A);var f;switch(d){case"P":f=A.dateTime({width:"short"});break;case"PP":f=A.dateTime({width:"medium"});break;case"PPP":f=A.dateTime({width:"long"});break;case"PPPP":default:f=A.dateTime({width:"full"});break}return f.replace("{{date}}",n(d,A)).replace("{{time}}",r(h,A))},a={p:r,P:i},o=a;t.default=o,e.exports=t.default})(AB,AB.exports);var P5e=AB.exports;const _5e=zl(P5e),D5e={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},M5e={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class U5e{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=D5e,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=a=>typeof a>"u"?new Date:a===null?null:new Date(a),this.dateWithTimezone=a=>this.date(a),this.getTimezone=()=>"default",this.setTimezone=a=>a,this.toJsDate=a=>a,this.getCurrentLocaleCode=()=>{var a;return((a=this.locale)==null?void 0:a.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=a=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return a.match(o).map(l=>{const c=l[0];if(c==="p"||c==="P"){const A=this.longFormatters[c];return A(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=a=>this.expandFormat(a).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=a=>a===null,this.formatNumber=a=>a,this.getMeridiemText=a=>a==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:i}=t;this.locale=n,this.formats=K({},M5e,r),this.longFormatters=i}}class L5e extends U5e{constructor({locale:t,formats:n}={}){if(typeof Il!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??z5,formats:n,longFormatters:_5e}),this.parseISO=r=>xfe(r),this.toISO=r=>ode(r,{format:"extended"}),this.parse=(r,i)=>r===""?null:Sr(r,i,new Date,{locale:this.locale}),this.isValid=r=>w6(this.date(r)),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>sn(r,i,{locale:this.locale}),this.getDiff=(r,i,a)=>{switch(a){case"years":return uue(r,this.date(i));case"quarters":return lue(r,this.date(i));case"months":return B6(r,this.date(i));case"weeks":return Aue(r,this.date(i));case"days":return C6(r,this.date(i));case"hours":return aue(r,this.date(i));case"minutes":return sue(r,this.date(i));case"seconds":return cue(r,this.date(i));default:return Xx(r,this.date(i))}},this.isEqual=(r,i)=>r===null&&i===null?!0:yde(r,i),this.isSameYear=(r,i)=>vfe(r,i),this.isSameMonth=(r,i)=>mfe(r,i),this.isSameDay=(r,i)=>b6(r,i),this.isSameHour=(r,i)=>gfe(r,i),this.isAfter=(r,i)=>di(r,i),this.isAfterYear=(r,i)=>di(r,b2(i)),this.isAfterDay=(r,i)=>di(r,xC(i)),this.isBefore=(r,i)=>yr(r,i),this.isBeforeYear=(r,i)=>yr(r,yv(i)),this.isBeforeDay=(r,i)=>yr(r,Gc(i)),this.isWithinRange=(r,[i,a])=>yfe(r,{start:i,end:a}),this.startOfYear=r=>yv(r),this.startOfMonth=r=>kI(r),this.startOfWeek=r=>HA(r,{locale:this.locale}),this.startOfDay=r=>Gc(r),this.endOfYear=r=>b2(r),this.endOfMonth=r=>bC(r),this.endOfWeek=r=>w2(r,{locale:this.locale}),this.endOfDay=r=>xC(r),this.addYears=(r,i)=>SI(r,i),this.addMonths=(r,i)=>i0(r,i),this.addWeeks=(r,i)=>ZAe(r,i),this.addDays=(r,i)=>Il(r,i),this.addHours=(r,i)=>VAe(r,i),this.addMinutes=(r,i)=>Za(r,i),this.addSeconds=(r,i)=>JAe(r,i),this.getYear=r=>vde(r),this.getMonth=r=>dde(r),this.getDate=r=>lde(r),this.getHours=r=>cde(r),this.getMinutes=r=>ude(r),this.getSeconds=r=>fde(r),this.getMilliseconds=r=>Ade(r),this.setYear=(r,i)=>Rfe(r,i),this.setMonth=(r,i)=>Mfe(r,i),this.setDate=(r,i)=>Ufe(r,i),this.setHours=(r,i)=>Q6(r,i),this.setMinutes=(r,i)=>H6(r,i),this.setSeconds=(r,i)=>Ofe(r,i),this.setMilliseconds=(r,i)=>Lfe(r,i),this.getDaysInMonth=r=>P6(r),this.getNextMonth=r=>i0(r,1),this.getPreviousMonth=r=>i0(r,-1),this.getMonthArray=r=>{const a=[yv(r)];for(;a.length<12;){const o=a[a.length-1];a.push(this.getNextMonth(o))}return a},this.mergeDateAndTime=(r,i)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const r=new Date;return due({start:HA(r,{locale:this.locale}),end:w2(r,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=r=>{const i=HA(kI(r),{locale:this.locale}),a=w2(bC(r),{locale:this.locale});let o=0,l=i;const c=[];for(;yr(l,a);){const A=Math.floor(o/7);c[A]=c[A]||[],c[A].push(l),l=Il(l,1),o+=1}return c},this.getWeekNumber=r=>mde(r,{locale:this.locale}),this.getYearRange=(r,i)=>{const a=yv(r),o=b2(i),l=[];let c=a;for(;yr(c,o);)l.push(c),c=SI(c,1);return l}}}const O5e=["localeText"],uB=y.createContext(null),R5e=function(t){var n;const{localeText:r}=t,i=ot(t,O5e),{utils:a,localeText:o}=(n=y.useContext(uB))!=null?n:{utils:void 0,localeText:void 0},l=Ys({props:i,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:A,dateFormats:u,dateLibInstance:d,adapterLocale:h,localeText:f}=l,p=y.useMemo(()=>K({},f,o,r),[f,o,r]),g=y.useMemo(()=>{if(!A)return a||null;const C=new A({locale:h,formats:u,instance:d});if(!C.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return C},[A,h,u,d,a]),v=y.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),x=y.useMemo(()=>({utils:g,defaultDates:v,localeText:p}),[v,g,p]);return s.jsx(uB.Provider,{value:x,children:c})};function Q5e(e){return typeof e=="string"}function H5e(e,t,n){return e===void 0||Q5e(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function $5e(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function z5e(e,t,n){return typeof e=="function"?e(t,n):e}function W5e(...e){const t=y.useRef(void 0),n=y.useCallback(r=>{const i=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},e);return y.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function dF(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function K5e(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const f=et(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),p={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},g={...n,...i,...r};return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=$5e({...i,...r}),l=dF(r),c=dF(i),A=t(o),u=et(A==null?void 0:A.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),d={...A==null?void 0:A.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...A,...n,...c,...l};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:A.ref}}function Pc(e){var d;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=e,o=i?{}:z5e(n,r),{props:l,internalRef:c}=K5e({...a,externalSlotProps:o}),A=W5e(c,o==null?void 0:o.ref,(d=e.additionalProps)==null?void 0:d.ref);return H5e(t,{...l,ref:A},r)}const Py=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},Np=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:i,isDateDisabled:a,utils:o,timezone:l})=>{const c=Py(o,o.dateWithTimezone(void 0,l),e);n&&o.isBefore(i,c)&&(i=c),t&&o.isAfter(r,c)&&(r=c);let A=e,u=e;for(o.isBefore(e,i)&&(A=i,u=null),o.isAfter(e,r)&&(u&&(u=r),A=null);A||u;){if(A&&o.isAfter(A,r)&&(A=null),u&&o.isBefore(u,i)&&(u=null),A){if(!a(A))return A;A=o.addDays(A,1)}if(u){if(!a(u))return u;u=o.addDays(u,-1)}}return null},V5e=(e,t)=>t==null||!e.isValid(t)?null:t,qc=(e,t,n)=>t==null||!e.isValid(t)?n:t,G5e=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),q5e=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const i=r[r.length-1];r.push(e.addMonths(i,1))}return r},B8=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),Y5e=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},X5e=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:a,disablePast:o,disableFuture:l,timezone:c}=e,A=n.utils.dateWithTimezone(void 0,c),u=qc(n.utils,e.minDate,n.defaultDates.minDate),d=qc(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(i&&i(t)):return"shouldDisableMonth";case!!(a&&a(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,A)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(t,A)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(d&&n.utils.isAfterDay(t,d)):return"maxDate";default:return null}},J5e=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:K({},e)}}}}),S8={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Z5e=S8;J5e(S8);const D1=()=>{const e=y.useContext(uB);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=y.useMemo(()=>K({},Z5e,e.localeText),[e.localeText]);return y.useMemo(()=>K({},e,{localeText:t}),[e,t])},Ba=()=>D1().utils,Uj=()=>D1().defaultDates,j8=()=>D1().localeText,M1=e=>{const t=Ba(),n=y.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},E8=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:a,disablePast:o,timezone:l})=>{const c=D1();return y.useCallback(A=>X5e({adapter:c,value:A,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:a,disablePast:o,timezone:l}})!==null,[c,e,t,n,r,i,a,o,l])},fF=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),eSe=(e,t)=>(n,r)=>e?t.isAfter(n,r):fF(n,t)>fF(r,t),xl={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},Xh=(e,t,n)=>{if(t===xl.year)return e.startOfYear(n);if(t===xl.month)return e.startOfMonth(n);if(t===xl.day)return e.startOfDay(n);let r=n;return t<xl.minutes&&(r=e.setMinutes(r,0)),t<xl.seconds&&(r=e.setSeconds(r,0)),t<xl.milliseconds&&(r=e.setMilliseconds(r,0)),r},tSe=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:i})=>{var a;let o=i?i():Xh(t,n,B8(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=Xh(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=Xh(t,n,e.maxDate));const l=eSe((a=e.disableIgnoringDatePartForTimeValidation)!=null?a:!1,t);return e.minTime!=null&&l(e.minTime,o)&&(o=Xh(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:Py(t,o,e.minTime))),e.maxTime!=null&&l(o,e.maxTime)&&(o=Xh(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Py(t,o,e.maxTime))),o},nSe=["value","referenceDate"],gf={emptyValue:null,getTodayValue:B8,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=ot(e,nSe);return t!=null&&r.utils.isValid(t)?t:n??tSe(r)},cleanValue:V5e,areValuesEqual:G5e,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},rSe=(e,t,n)=>(r,i)=>{switch(i.type){case"changeMonth":return K({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return K({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const a=i.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,i.focusedDay);return K({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:a&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:a?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},iSe=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:i,disablePast:a,disableSwitchToMonthOnDayFocus:o=!1,maxDate:l,minDate:c,onMonthChange:A,reduceAnimations:u,shouldDisableDate:d,timezone:h}=e,f=Ba(),p=y.useRef(rSe(!!u,o,f)).current,g=y.useMemo(()=>{let F=null;return n?F=n:r&&(F=f.startOfMonth(r)),gf.getInitialReferenceValue({value:t,utils:f,timezone:h,props:e,referenceDate:F,granularity:xl.day})},[]),[v,x]=y.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"}),C=y.useCallback(F=>{x(K({type:"changeMonth"},F)),A&&A(F.newMonth)},[A]),b=y.useCallback(F=>{const N=F;f.isSameMonth(N,v.currentMonth)||C({newMonth:f.startOfMonth(N),direction:f.isAfterDay(N,v.currentMonth)?"left":"right"})},[v.currentMonth,C,f]),w=E8({shouldDisableDate:d,minDate:c,maxDate:l,disableFuture:i,disablePast:a,timezone:h}),E=y.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),S=pn((F,N)=>{w(F)||x({type:"changeFocusedDay",focusedDay:F,withoutMonthSwitchingAnimation:N})});return{referenceDate:g,calendarState:v,changeMonth:b,changeFocusedDay:S,isDateDisabled:w,onMonthSwitchingAnimationEnd:E,handleChangeMonth:C}},aSe=e=>jt("MuiPickersFadeTransitionGroup",e);Et("MuiPickersFadeTransitionGroup",["root"]);const sSe=e=>{const{classes:t}=e;return It({root:["root"]},aSe,t)},oSe=Ke(wg,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function k8(e){const t=Ys({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:a}=t,o=sSe(t),l=qs();return i?n:s.jsx(oSe,{className:et(o.root,r),children:s.jsx(Sg,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},a)})}const ag=36,U1=2,Lj=320,lSe=280,I8=334;function cSe(e){return jt("MuiPickersDay",e)}const gA=Et("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),ASe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],uSe=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:a,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:l,classes:c}=e,A=o&&!l;return It({root:["root",t&&!A&&"selected",a&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",o&&l&&"dayOutsideMonth",A&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},cSe,c)},T8=({theme:e,ownerState:t})=>K({},e.typography.caption,{width:ag,height:ag,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Hd(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Hd(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${gA.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${gA.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${gA.disabled}:not(.${gA.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${gA.disabled}&.${gA.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${U1}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${gA.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),N8=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},dSe=Ke(Yo,{name:"MuiPickersDay",slot:"Root",overridesResolver:N8})(T8),fSe=Ke("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:N8})(({theme:e,ownerState:t})=>K({},T8({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),Jh=()=>{},hSe=y.forwardRef(function(t,n){const r=Ys({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:a,day:o,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:A=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:f=Jh,onBlur:p=Jh,onKeyDown:g=Jh,onMouseDown:v=Jh,onMouseEnter:x=Jh,outsideCurrentMonth:C,selected:b=!1,showDaysOutsideCurrentMonth:w=!1,children:E,today:S=!1}=r,F=ot(r,ASe),N=K({},r,{autoFocus:i,disabled:l,disableHighlightToday:c,disableMargin:A,selected:b,showDaysOutsideCurrentMonth:w,today:S}),P=uSe(N),Q=Ba(),j=y.useRef(null),k=br(j,n);la(()=>{i&&!l&&!u&&!C&&j.current.focus()},[i,l,u,C]);const T=R=>{v(R),C&&R.preventDefault()},D=R=>{l||h(o),C&&R.currentTarget.focus(),d&&d(R)};return C&&!w?s.jsx(fSe,{className:et(P.root,P.hiddenDaySpacingFiller,a),ownerState:N,role:F.role}):s.jsx(dSe,K({className:et(P.root,a),ref:k,centerRipple:!0,disabled:l,tabIndex:b?0:-1,onKeyDown:R=>g(R,o),onFocus:R=>f(R,o),onBlur:R=>p(R,o),onMouseEnter:R=>x(R,o),onClick:D,onMouseDown:T},F,{ownerState:N,children:E||Q.format(o,"dayOfMonth")}))}),pSe=y.memo(hSe),gSe=e=>jt("MuiPickersSlideTransition",e),Bs=Et("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),mSe=["children","className","reduceAnimations","slideDirection","transKey","classes"],vSe=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return It(r,gSe,t)},ySe=Ke(wg,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Bs["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Bs["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Bs.slideEnterActive}`]:t.slideEnterActive},{[`.${Bs.slideExit}`]:t.slideExit},{[`.${Bs["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Bs["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Bs["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Bs["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Bs.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Bs.slideExit}`]:{transform:"translate(0%)"},[`& .${Bs["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Bs["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function xSe(e){const t=Ys({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:a}=t,o=ot(t,mSe),l=vSe(t),c=qs();if(i)return s.jsx("div",{className:et(l.root,r),children:n});const A={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return s.jsx(ySe,{className:et(l.root,r),childFactory:u=>y.cloneElement(u,{classNames:A}),role:"presentation",children:s.jsx(o5,K({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:A},o,{children:n}),a)})}const bSe=e=>jt("MuiDayCalendar",e);Et("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const wSe=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],CSe=["ownerState"],BSe=e=>{const{classes:t}=e;return It({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},bSe,t)},F8=(ag+U1*2)*6,SSe=Ke("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),jSe=Ke("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),ESe=Ke(q,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),kSe=Ke(q,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),ISe=Ke(q,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>K({},e.typography.caption,{width:ag,height:ag,padding:0,margin:`0 ${U1}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),TSe=Ke("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:F8}),NSe=Ke(xSe,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:F8}),FSe=Ke("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),PSe=Ke("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${U1}px 0`,display:"flex",justifyContent:"center"});function _Se(e){var t,n,r;let{parentProps:i,day:a,focusableDay:o,selectedDays:l,isDateDisabled:c,currentMonthNumber:A,isViewFocused:u}=e,d=ot(e,wSe);const{disabled:h,disableHighlightToday:f,isMonthSwitchingAnimating:p,showDaysOutsideCurrentMonth:g,components:v,componentsProps:x,slots:C,slotProps:b,timezone:w}=i,E=Ba(),S=M1(w),F=o!==null&&E.isSameDay(a,o),N=l.some(z=>E.isSameDay(z,a)),P=E.isSameDay(a,S),Q=(t=(n=C==null?void 0:C.day)!=null?n:v==null?void 0:v.Day)!=null?t:pSe,j=Pc({elementType:Q,externalSlotProps:(r=b==null?void 0:b.day)!=null?r:x==null?void 0:x.day,additionalProps:K({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:p,"data-timestamp":E.toJsDate(a).valueOf()},d),ownerState:K({},i,{day:a,selected:N})}),k=ot(j,CSe),T=y.useMemo(()=>h||c(a),[h,c,a]),D=y.useMemo(()=>E.getMonth(a)!==A,[E,a,A]),R=y.useMemo(()=>{const z=E.startOfMonth(E.setMonth(a,A));return g?E.isSameDay(a,E.startOfWeek(z)):E.isSameDay(a,z)},[A,a,g,E]),H=y.useMemo(()=>{const z=E.endOfMonth(E.setMonth(a,A));return g?E.isSameDay(a,E.endOfWeek(z)):E.isSameDay(a,z)},[A,a,g,E]);return s.jsx(Q,K({},k,{day:a,disabled:T,autoFocus:u&&F,today:P,outsideCurrentMonth:D,isFirstVisibleCell:R,isLastVisibleCell:H,selected:N,tabIndex:F?0:-1,"aria-selected":N,"aria-current":P?"date":void 0}))}function DSe(e){const t=Ys({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:i,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:A,readOnly:u,reduceAnimations:d,renderLoading:h=()=>s.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:p,disablePast:g,disableFuture:v,minDate:x,maxDate:C,shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:E,dayOfWeekFormatter:S,hasFocus:F,onFocusedViewChange:N,gridLabelId:P,displayWeekNumber:Q,fixedWeekNumber:j,autoFocus:k,timezone:T}=t,D=M1(T),R=Ba(),H=BSe(t),V=qs().direction==="rtl",J=S||((be,xe)=>R.format(xe,"weekdayShort").charAt(0).toUpperCase()),te=E8({shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:E,minDate:x,maxDate:C,disablePast:g,disableFuture:v,timezone:T}),Ae=j8(),[U,O]=Go({name:"DayCalendar",state:"hasFocus",controlled:F,default:k??!1}),[M,L]=y.useState(()=>o||D),W=pn(be=>{u||c(be)}),G=be=>{te(be)||(n(be),L(be),N==null||N(!0),O(!0))},se=pn((be,xe)=>{switch(be.key){case"ArrowUp":G(R.addDays(xe,-7)),be.preventDefault();break;case"ArrowDown":G(R.addDays(xe,7)),be.preventDefault();break;case"ArrowLeft":{const Ne=R.addDays(xe,V?1:-1),Fe=R.addMonths(xe,V?1:-1),He=Np({utils:R,date:Ne,minDate:V?Ne:R.startOfMonth(Fe),maxDate:V?R.endOfMonth(Fe):Ne,isDateDisabled:te,timezone:T});G(He||Ne),be.preventDefault();break}case"ArrowRight":{const Ne=R.addDays(xe,V?-1:1),Fe=R.addMonths(xe,V?-1:1),He=Np({utils:R,date:Ne,minDate:V?R.startOfMonth(Fe):Ne,maxDate:V?Ne:R.endOfMonth(Fe),isDateDisabled:te,timezone:T});G(He||Ne),be.preventDefault();break}case"Home":G(R.startOfWeek(xe)),be.preventDefault();break;case"End":G(R.endOfWeek(xe)),be.preventDefault();break;case"PageUp":G(R.addMonths(xe,1)),be.preventDefault();break;case"PageDown":G(R.addMonths(xe,-1)),be.preventDefault();break}}),X=pn((be,xe)=>G(xe)),ge=pn((be,xe)=>{U&&R.isSameDay(M,xe)&&(N==null||N(!1))}),ce=R.getMonth(i),Y=y.useMemo(()=>a.filter(be=>!!be).map(be=>R.startOfDay(be)),[R,a]),ne=ce,oe=y.useMemo(()=>y.createRef(),[ne]),fe=R.startOfWeek(D),ie=y.useMemo(()=>{const be=R.startOfMonth(i),xe=R.endOfMonth(i);return te(M)||R.isAfterDay(M,xe)||R.isBeforeDay(M,be)?Np({utils:R,date:M,minDate:be,maxDate:xe,disablePast:g,disableFuture:v,isDateDisabled:te,timezone:T}):M},[i,v,g,M,te,R,T]),Te=y.useMemo(()=>{const be=R.setTimezone(i,T),xe=R.getWeekArray(be);let Ne=R.addMonths(be,1);for(;j&&xe.length<j;){const Fe=R.getWeekArray(Ne),He=R.isSameDay(xe[xe.length-1][0],Fe[0][0]);Fe.slice(He?1:0).forEach(Ge=>{xe.length<j&&xe.push(Ge)}),Ne=R.addMonths(Ne,1)}return xe},[i,j,R,T]);return s.jsxs(SSe,{role:"grid","aria-labelledby":P,className:H.root,children:[s.jsxs(jSe,{role:"row",className:H.header,children:[Q&&s.jsx(kSe,{variant:"caption",role:"columnheader","aria-label":Ae.calendarWeekNumberHeaderLabel,className:H.weekNumberLabel,children:Ae.calendarWeekNumberHeaderText}),Y5e(R,D).map((be,xe)=>{var Ne;const Fe=R.format(be,"weekdayShort");return s.jsx(ESe,{variant:"caption",role:"columnheader","aria-label":R.format(R.addDays(fe,xe),"weekday"),className:H.weekDayLabel,children:(Ne=J==null?void 0:J(Fe,be))!=null?Ne:Fe},Fe+xe.toString())})]}),l?s.jsx(TSe,{className:H.loadingContainer,children:h()}):s.jsx(NSe,K({transKey:ne,onExited:A,reduceAnimations:d,slideDirection:f,className:et(r,H.slideTransition)},p,{nodeRef:oe,children:s.jsx(FSe,{ref:oe,role:"rowgroup",className:H.monthContainer,children:Te.map((be,xe)=>s.jsxs(PSe,{role:"row",className:H.weekContainer,"aria-rowindex":xe+1,children:[Q&&s.jsx(ISe,{className:H.weekNumber,role:"rowheader","aria-label":Ae.calendarWeekNumberAriaLabelText(R.getWeekNumber(be[0])),children:Ae.calendarWeekNumberText(R.getWeekNumber(be[0]))}),be.map((Ne,Fe)=>s.jsx(_Se,{parentProps:t,day:Ne,selectedDays:Y,focusableDay:ie,onKeyDown:se,onFocus:X,onBlur:ge,onDaySelect:W,isDateDisabled:te,currentMonthNumber:ce,isViewFocused:U,"aria-colindex":Fe+1},Ne.toString()))]},`week-${be[0]}`))})}))]})}function MSe(e){return jt("MuiPickersMonth",e)}const Mv=Et("MuiPickersMonth",["root","monthButton","disabled","selected"]),USe=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],LSe=e=>{const{disabled:t,selected:n,classes:r}=e;return It({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},MSe,r)},OSe=Ke("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),RSe=Ke("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${Mv.disabled}`]:t.disabled},{[`&.${Mv.selected}`]:t.selected}]})(({theme:e})=>K({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Hd(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Hd(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Mv.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Mv.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),QSe=y.memo(function(t){const n=Ys({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:i,disabled:a,selected:o,value:l,tabIndex:c,onClick:A,onKeyDown:u,onFocus:d,onBlur:h,"aria-current":f,"aria-label":p}=n,g=ot(n,USe),v=y.useRef(null),x=LSe(n);return la(()=>{if(r){var C;(C=v.current)==null||C.focus()}},[r]),s.jsx(OSe,K({className:x.root,ownerState:n},g,{children:s.jsx(RSe,{ref:v,disabled:a,type:"button",role:"radio",tabIndex:a?-1:c,"aria-current":f,"aria-checked":o,"aria-label":p,onClick:C=>A(C,l),onKeyDown:C=>u(C,l),onFocus:C=>d(C,l),onBlur:C=>h(C,l),className:x.monthButton,ownerState:n,children:i})}))});function HSe(e){return jt("MuiMonthCalendar",e)}Et("MuiMonthCalendar",["root"]);const $Se=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:i})=>{var a,o;const l=Ba(),c=y.useRef(n),A=(a=t??c.current)!=null?a:i.emptyValue,u=y.useMemo(()=>i.getTimezone(l,A),[l,i,A]),d=pn(g=>u==null?g:i.setTimezone(l,u,g)),h=(o=e??u)!=null?o:"default",f=y.useMemo(()=>i.setTimezone(l,h,A),[i,l,h,A]),p=pn((g,...v)=>{const x=d(g);r==null||r(x,...v)});return{value:f,handleValueChange:p,timezone:h}},Oj=({name:e,timezone:t,value:n,defaultValue:r,onChange:i,valueManager:a})=>{const[o,l]=Go({name:e,state:"value",controlled:n,default:r??a.emptyValue}),c=pn((A,...u)=>{l(A),i==null||i(A,...u)});return $Se({timezone:t,value:o,defaultValue:void 0,onChange:c,valueManager:a})},zSe=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],WSe=e=>{const{classes:t}=e;return It({root:["root"]},HSe,t)};function KSe(e,t){const n=Ba(),r=Uj(),i=Ys({props:e,name:t});return K({disableFuture:!1,disablePast:!1},i,{minDate:qc(n,i.minDate,r.minDate),maxDate:qc(n,i.maxDate,r.maxDate)})}const VSe=Ke("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Lj,boxSizing:"border-box"}),GSe=y.forwardRef(function(t,n){const r=KSe(t,"MuiMonthCalendar"),{className:i,value:a,defaultValue:o,referenceDate:l,disabled:c,disableFuture:A,disablePast:u,maxDate:d,minDate:h,onChange:f,shouldDisableMonth:p,readOnly:g,disableHighlightToday:v,autoFocus:x=!1,onMonthFocus:C,hasFocus:b,onFocusedViewChange:w,monthsPerRow:E=3,timezone:S,gridLabelId:F}=r,N=ot(r,zSe),{value:P,handleValueChange:Q,timezone:j}=Oj({name:"MonthCalendar",timezone:S,value:a,defaultValue:o,onChange:f,valueManager:gf}),k=M1(j),T=bf(),D=Ba(),R=y.useMemo(()=>gf.getInitialReferenceValue({value:P,utils:D,props:r,timezone:j,referenceDate:l,granularity:xl.month}),[]),H=r,z=WSe(H),V=y.useMemo(()=>D.getMonth(k),[D,k]),J=y.useMemo(()=>P!=null?D.getMonth(P):v?null:D.getMonth(R),[P,D,v,R]),[te,Ae]=y.useState(()=>J||V),[U,O]=Go({name:"MonthCalendar",state:"hasFocus",controlled:b,default:x??!1}),M=pn(ce=>{O(ce),w&&w(ce)}),L=y.useCallback(ce=>{const Y=D.startOfMonth(u&&D.isAfter(k,h)?k:h),ne=D.startOfMonth(A&&D.isBefore(k,d)?k:d),oe=D.startOfMonth(ce);return D.isBefore(oe,Y)||D.isAfter(oe,ne)?!0:p?p(oe):!1},[A,u,d,h,k,p,D]),W=pn((ce,Y)=>{if(g)return;const ne=D.setMonth(P??R,Y);Q(ne)}),G=pn(ce=>{L(D.setMonth(P??R,ce))||(Ae(ce),M(!0),C&&C(ce))});y.useEffect(()=>{Ae(ce=>J!==null&&ce!==J?J:ce)},[J]);const se=pn((ce,Y)=>{switch(ce.key){case"ArrowUp":G((12+Y-3)%12),ce.preventDefault();break;case"ArrowDown":G((12+Y+3)%12),ce.preventDefault();break;case"ArrowLeft":G((12+Y+(T.direction==="ltr"?-1:1))%12),ce.preventDefault();break;case"ArrowRight":G((12+Y+(T.direction==="ltr"?1:-1))%12),ce.preventDefault();break}}),X=pn((ce,Y)=>{G(Y)}),ge=pn((ce,Y)=>{te===Y&&M(!1)});return s.jsx(VSe,K({ref:n,className:et(z.root,i),ownerState:H,role:"radiogroup","aria-labelledby":F},N,{children:q5e(D,P??R).map(ce=>{const Y=D.getMonth(ce),ne=D.format(ce,"monthShort"),oe=D.format(ce,"month"),fe=Y===J,ie=c||L(ce);return s.jsx(QSe,{selected:fe,value:Y,onClick:W,onKeyDown:se,autoFocus:U&&Y===te,disabled:ie,tabIndex:Y===te?0:-1,onFocus:X,onBlur:ge,"aria-current":V===Y?"date":void 0,"aria-label":oe,monthsPerRow:E,children:ne},ne)})}))});function qSe(e){return jt("MuiPickersYear",e)}const Uv=Et("MuiPickersYear",["root","yearButton","selected","disabled"]),YSe=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],XSe=e=>{const{disabled:t,selected:n,classes:r}=e;return It({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},qSe,r)},JSe=Ke("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),ZSe=Ke("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${Uv.disabled}`]:t.disabled},{[`&.${Uv.selected}`]:t.selected}]})(({theme:e})=>K({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Hd(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Hd(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Uv.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Uv.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),eje=y.memo(function(t){const n=Ys({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:a,disabled:o,selected:l,value:c,tabIndex:A,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":p}=n,g=ot(n,YSe),v=y.useRef(null),x=XSe(n);return y.useEffect(()=>{r&&v.current.focus()},[r]),s.jsx(JSe,K({className:et(x.root,i),ownerState:n},g,{children:s.jsx(ZSe,{ref:v,disabled:o,type:"button",role:"radio",tabIndex:o?-1:A,"aria-current":p,"aria-checked":l,onClick:C=>u(C,c),onKeyDown:C=>d(C,c),onFocus:C=>h(C,c),onBlur:C=>f(C,c),className:x.yearButton,ownerState:n,children:a})}))});function tje(e){return jt("MuiYearCalendar",e)}Et("MuiYearCalendar",["root"]);const nje=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],rje=e=>{const{classes:t}=e;return It({root:["root"]},tje,t)};function ije(e,t){var n;const r=Ba(),i=Uj(),a=Ys({props:e,name:t});return K({disablePast:!1,disableFuture:!1},a,{yearsPerRow:(n=a.yearsPerRow)!=null?n:3,minDate:qc(r,a.minDate,i.minDate),maxDate:qc(r,a.maxDate,i.maxDate)})}const aje=Ke("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Lj,maxHeight:lSe,boxSizing:"border-box",position:"relative"}),sje=y.forwardRef(function(t,n){const r=ije(t,"MuiYearCalendar"),{autoFocus:i,className:a,value:o,defaultValue:l,referenceDate:c,disabled:A,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onChange:p,readOnly:g,shouldDisableYear:v,disableHighlightToday:x,onYearFocus:C,hasFocus:b,onFocusedViewChange:w,yearsPerRow:E,timezone:S,gridLabelId:F}=r,N=ot(r,nje),{value:P,handleValueChange:Q,timezone:j}=Oj({name:"YearCalendar",timezone:S,value:o,defaultValue:l,onChange:p,valueManager:gf}),k=M1(j),T=bf(),D=Ba(),R=y.useMemo(()=>gf.getInitialReferenceValue({value:P,utils:D,props:r,timezone:j,referenceDate:c,granularity:xl.year}),[]),H=r,z=rje(H),V=y.useMemo(()=>D.getYear(k),[D,k]),J=y.useMemo(()=>P!=null?D.getYear(P):x?null:D.getYear(R),[P,D,x,R]),[te,Ae]=y.useState(()=>J||V),[U,O]=Go({name:"YearCalendar",state:"hasFocus",controlled:b,default:i??!1}),M=pn(ne=>{O(ne),w&&w(ne)}),L=y.useCallback(ne=>{if(d&&D.isBeforeYear(ne,k)||u&&D.isAfterYear(ne,k)||f&&D.isBeforeYear(ne,f)||h&&D.isAfterYear(ne,h))return!0;if(!v)return!1;const oe=D.startOfYear(ne);return v(oe)},[u,d,h,f,k,v,D]),W=pn((ne,oe)=>{if(g)return;const fe=D.setYear(P??R,oe);Q(fe)}),G=pn(ne=>{L(D.setYear(P??R,ne))||(Ae(ne),M(!0),C==null||C(ne))});y.useEffect(()=>{Ae(ne=>J!==null&&ne!==J?J:ne)},[J]);const se=pn((ne,oe)=>{switch(ne.key){case"ArrowUp":G(oe-E),ne.preventDefault();break;case"ArrowDown":G(oe+E),ne.preventDefault();break;case"ArrowLeft":G(oe+(T.direction==="ltr"?-1:1)),ne.preventDefault();break;case"ArrowRight":G(oe+(T.direction==="ltr"?1:-1)),ne.preventDefault();break}}),X=pn((ne,oe)=>{G(oe)}),ge=pn((ne,oe)=>{te===oe&&M(!1)}),ce=y.useRef(null),Y=br(n,ce);return y.useEffect(()=>{if(i||ce.current===null)return;const ne=ce.current.querySelector('[tabindex="0"]');if(!ne)return;const oe=ne.offsetHeight,fe=ne.offsetTop,ie=ce.current.clientHeight,Te=ce.current.scrollTop,be=fe+oe;oe>ie||fe<Te||(ce.current.scrollTop=be-ie/2-oe/2)},[i]),s.jsx(aje,K({ref:Y,className:et(z.root,a),ownerState:H,role:"radiogroup","aria-labelledby":F},N,{children:D.getYearRange(f,h).map(ne=>{const oe=D.getYear(ne),fe=oe===J,ie=A||L(ne);return s.jsx(eje,{selected:fe,value:oe,onClick:W,onKeyDown:se,autoFocus:U&&oe===te,disabled:ie,tabIndex:oe===te?0:-1,onFocus:X,onBlur:ge,"aria-current":V===oe?"date":void 0,yearsPerRow:E,children:D.format(ne,"year")},D.format(ne,"year"))})}))});function oje({onChange:e,onViewChange:t,openTo:n,view:r,views:i,autoFocus:a,focusedView:o,onFocusedViewChange:l}){var c,A;const u=y.useRef(n),d=y.useRef(i),h=y.useRef(i.includes(n)?n:i[0]),[f,p]=Go({name:"useViews",state:"view",controlled:r,default:h.current}),g=y.useRef(a?f:null),[v,x]=Go({name:"useViews",state:"focusedView",controlled:o,default:g.current});y.useEffect(()=>{(u.current&&u.current!==n||d.current&&d.current.some(P=>!i.includes(P)))&&(p(i.includes(n)?n:i[0]),d.current=i,u.current=n)},[n,p,f,i]);const C=i.indexOf(f),b=(c=i[C-1])!=null?c:null,w=(A=i[C+1])!=null?A:null,E=pn((P,Q)=>{x(Q?P:j=>P===j?null:j),l==null||l(P,Q)}),S=pn(P=>{E(P,!0),P!==f&&(p(P),t&&t(P))}),F=pn(()=>{w&&S(w)}),N=pn((P,Q,j)=>{const k=Q==="finish",T=j?i.indexOf(j)<i.length-1:!!w;if(e(P,k&&T?"partial":Q,j),j&&j!==f){const R=i[i.indexOf(j)+1];R&&S(R)}else k&&F()});return{view:f,setView:S,focusedView:v,setFocusedView:E,nextView:w,previousView:b,defaultView:i.includes(n)?n:i[0],goToNextView:F,setValueAndGoToNextView:N}}const lje=e=>jt("MuiPickersCalendarHeader",e),cje=Et("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Aje=ht(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),uje=ht(s.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),dje=ht(s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");ht(s.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ht(s.jsxs(y.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ht(s.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ht(s.jsxs(y.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");ht(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function fje(e){return jt("MuiPickersArrowSwitcher",e)}Et("MuiPickersArrowSwitcher",["root","spacer","button"]);const hje=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],pje=["ownerState"],gje=["ownerState"],mje=Ke("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),vje=Ke("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),hF=Ke(Pi,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>K({},e.hidden&&{visibility:"hidden"})),yje=e=>{const{classes:t}=e;return It({root:["root"],spacer:["spacer"],button:["button"]},fje,t)},xje=y.forwardRef(function(t,n){var r,i,a,o;const c=qs().direction==="rtl",A=Ys({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:h,slotProps:f,isNextDisabled:p,isNextHidden:g,onGoToNext:v,nextLabel:x,isPreviousDisabled:C,isPreviousHidden:b,onGoToPrevious:w,previousLabel:E}=A,S=ot(A,hje),F=A,N=yje(F),P={isDisabled:p,isHidden:g,goTo:v,label:x},Q={isDisabled:C,isHidden:b,goTo:w,label:E},j=(r=h==null?void 0:h.previousIconButton)!=null?r:hF,k=Pc({elementType:j,externalSlotProps:f==null?void 0:f.previousIconButton,additionalProps:{size:"medium",title:Q.label,"aria-label":Q.label,disabled:Q.isDisabled,edge:"end",onClick:Q.goTo},ownerState:K({},F,{hidden:Q.isHidden}),className:N.button}),T=(i=h==null?void 0:h.nextIconButton)!=null?i:hF,D=Pc({elementType:T,externalSlotProps:f==null?void 0:f.nextIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"start",onClick:P.goTo},ownerState:K({},F,{hidden:P.isHidden}),className:N.button}),R=(a=h==null?void 0:h.leftArrowIcon)!=null?a:uje,H=Pc({elementType:R,externalSlotProps:f==null?void 0:f.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),z=ot(H,pje),V=(o=h==null?void 0:h.rightArrowIcon)!=null?o:dje,J=Pc({elementType:V,externalSlotProps:f==null?void 0:f.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),te=ot(J,gje);return s.jsxs(mje,K({ref:n,className:et(N.root,d),ownerState:F},S,{children:[s.jsx(j,K({},k,{children:c?s.jsx(V,K({},te)):s.jsx(R,K({},z))})),u?s.jsx(q,{variant:"subtitle1",component:"span",children:u}):s.jsx(vje,{className:N.spacer,ownerState:F}),s.jsx(T,K({},D,{children:c?s.jsx(R,K({},z)):s.jsx(V,K({},te))}))]}))});function bje(e,{disableFuture:t,maxDate:n,timezone:r}){const i=Ba();return y.useMemo(()=>{const a=i.dateWithTimezone(void 0,r),o=i.startOfMonth(t&&i.isBefore(a,n)?a:n);return!i.isAfter(o,e)},[t,n,e,i,r])}function wje(e,{disablePast:t,minDate:n,timezone:r}){const i=Ba();return y.useMemo(()=>{const a=i.dateWithTimezone(void 0,r),o=i.startOfMonth(t&&i.isAfter(a,n)?a:n);return!i.isBefore(o,e)},[t,n,e,i,r])}const Cje=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Bje=["ownerState"],Sje=e=>{const{classes:t}=e;return It({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},lje,t)},jje=Ke("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),Eje=Ke("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>K({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),kje=Ke("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Ije=Ke(Pi,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>K({marginRight:"auto"},e.view==="year"&&{[`.${cje.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Tje=Ke(Aje,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Nje=y.forwardRef(function(t,n){var r,i,a,o;const l=j8(),c=Ba(),A=Ys({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:d,components:h,currentMonth:f,disabled:p,disableFuture:g,disablePast:v,maxDate:x,minDate:C,onMonthChange:b,onViewChange:w,view:E,reduceAnimations:S,views:F,labelId:N,className:P,timezone:Q}=A,j=ot(A,Cje),k=A,T=Sje(A),D=(r=(i=u==null?void 0:u.switchViewButton)!=null?i:h==null?void 0:h.SwitchViewButton)!=null?r:Ije,R=Pc({elementType:D,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(E)},ownerState:k,className:T.switchViewButton}),H=(a=(o=u==null?void 0:u.switchViewIcon)!=null?o:h==null?void 0:h.SwitchViewIcon)!=null?a:Tje,z=Pc({elementType:H,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:void 0,className:T.switchViewIcon}),V=ot(z,Bje),J=()=>b(c.addMonths(f,1),"left"),te=()=>b(c.addMonths(f,-1),"right"),Ae=bje(f,{disableFuture:g,maxDate:x,timezone:Q}),U=wje(f,{disablePast:v,minDate:C,timezone:Q}),O=()=>{if(!(F.length===1||!w||p))if(F.length===2)w(F.find(M=>M!==E)||F[0]);else{const M=F.indexOf(E)!==0?0:1;w(F[M])}};return F.length===1&&F[0]==="year"?null:s.jsxs(jje,K({},j,{ownerState:k,className:et(P,T.root),ref:n,children:[s.jsxs(Eje,{role:"presentation",onClick:O,ownerState:k,"aria-live":"polite",className:T.labelContainer,children:[s.jsx(k8,{reduceAnimations:S,transKey:c.format(f,"monthAndYear"),children:s.jsx(kje,{id:N,ownerState:k,className:T.label,children:c.format(f,"monthAndYear")})}),F.length>1&&!p&&s.jsx(D,K({},R,{children:s.jsx(H,K({},V))}))]}),s.jsx(Sg,{in:E==="day",children:s.jsx(xje,{slots:u,slotProps:d,onGoToPrevious:te,isPreviousDisabled:U,previousLabel:l.previousMonth,onGoToNext:J,isNextDisabled:Ae,nextLabel:l.nextMonth})})]}))}),Fje=Ke("div")({overflow:"hidden",width:Lj,maxHeight:I8,display:"flex",flexDirection:"column",margin:"0 auto"}),Pje="@media (prefers-reduced-motion: reduce)",Od=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),pF=Od&&Od[1]?parseInt(Od[1],10):null,gF=Od&&Od[2]?parseInt(Od[2],10):null,_je=pF&&pF<10||gF&&gF<13||!1,Dje=()=>B9(Pje,{defaultMatches:!1})||_je,Mje=e=>jt("MuiDateCalendar",e);Et("MuiDateCalendar",["root","viewTransitionContainer"]);const Uje=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Lje=e=>{const{classes:t}=e;return It({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Mje,t)};function Oje(e,t){var n,r,i,a,o,l,c;const A=Ba(),u=Uj(),d=Dje(),h=Ys({props:e,name:t});return K({},h,{loading:(n=h.loading)!=null?n:!1,disablePast:(r=h.disablePast)!=null?r:!1,disableFuture:(i=h.disableFuture)!=null?i:!1,openTo:(a=h.openTo)!=null?a:"day",views:(o=h.views)!=null?o:["year","day"],reduceAnimations:(l=h.reduceAnimations)!=null?l:d,renderLoading:(c=h.renderLoading)!=null?c:()=>s.jsx("span",{children:"..."}),minDate:qc(A,h.minDate,u.minDate),maxDate:qc(A,h.maxDate,u.maxDate)})}const Rje=Ke(Fje,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:I8}),Qje=Ke(k8,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Hje=y.forwardRef(function(t,n){var r,i,a;const o=Ba(),l=wf(),c=Oje(t,"MuiDateCalendar"),{autoFocus:A,onViewChange:u,value:d,defaultValue:h,referenceDate:f,disableFuture:p,disablePast:g,defaultCalendarMonth:v,onChange:x,onYearChange:C,onMonthChange:b,reduceAnimations:w,shouldDisableDate:E,shouldDisableMonth:S,shouldDisableYear:F,view:N,views:P,openTo:Q,className:j,disabled:k,readOnly:T,minDate:D,maxDate:R,disableHighlightToday:H,focusedView:z,onFocusedViewChange:V,showDaysOutsideCurrentMonth:J,fixedWeekNumber:te,dayOfWeekFormatter:Ae,components:U,componentsProps:O,slots:M,slotProps:L,loading:W,renderLoading:G,displayWeekNumber:se,yearsPerRow:X,monthsPerRow:ge,timezone:ce}=c,Y=ot(c,Uje),{value:ne,handleValueChange:oe,timezone:fe}=Oj({name:"DateCalendar",timezone:ce,value:d,defaultValue:h,onChange:x,valueManager:gf}),{view:ie,setView:Te,focusedView:be,setFocusedView:xe,goToNextView:Ne,setValueAndGoToNextView:Fe}=oje({view:N,views:P,openTo:Q,onChange:oe,onViewChange:u,autoFocus:A,focusedView:z,onFocusedViewChange:V}),{referenceDate:He,calendarState:Ge,changeFocusedDay:lt,changeMonth:bt,handleChangeMonth:Ze,isDateDisabled:ye,onMonthSwitchingAnimationEnd:Ue}=iSe({value:ne,defaultCalendarMonth:v,referenceDate:f,reduceAnimations:w,onMonthChange:b,minDate:D,maxDate:R,shouldDisableDate:E,disablePast:g,disableFuture:p,timezone:fe}),ke=k&&ne||D,rt=k&&ne||R,Ie=`${l}-grid-label`,_t=be!==null,qe=(r=(i=M==null?void 0:M.calendarHeader)!=null?i:U==null?void 0:U.CalendarHeader)!=null?r:Nje,we=Pc({elementType:qe,externalSlotProps:(a=L==null?void 0:L.calendarHeader)!=null?a:O==null?void 0:O.calendarHeader,additionalProps:{views:P,view:ie,currentMonth:Ge.currentMonth,onViewChange:Te,onMonthChange:(Oe,Ye)=>Ze({newMonth:Oe,direction:Ye}),minDate:ke,maxDate:rt,disabled:k,disablePast:g,disableFuture:p,reduceAnimations:w,timezone:fe,labelId:Ie,slots:M,slotProps:L},ownerState:c}),he=pn(Oe=>{const Ye=o.startOfMonth(Oe),We=o.endOfMonth(Oe),Ve=ye(Oe)?Np({utils:o,date:Oe,minDate:o.isBefore(D,Ye)?Ye:D,maxDate:o.isAfter(R,We)?We:R,disablePast:g,disableFuture:p,isDateDisabled:ye,timezone:fe}):Oe;Ve?(Fe(Ve,"finish"),b==null||b(Ye)):(Ne(),bt(Ye)),lt(Ve,!0)}),Le=pn(Oe=>{const Ye=o.startOfYear(Oe),We=o.endOfYear(Oe),Ve=ye(Oe)?Np({utils:o,date:Oe,minDate:o.isBefore(D,Ye)?Ye:D,maxDate:o.isAfter(R,We)?We:R,disablePast:g,disableFuture:p,isDateDisabled:ye,timezone:fe}):Oe;Ve?(Fe(Ve,"finish"),C==null||C(Ve)):(Ne(),bt(Ye)),lt(Ve,!0)}),ve=pn(Oe=>oe(Oe&&Py(o,Oe,ne??He),"finish",ie));y.useEffect(()=>{ne!=null&&o.isValid(ne)&&bt(ne)},[ne]);const De=c,de=Lje(De),Se={disablePast:g,disableFuture:p,maxDate:R,minDate:D},Re={disableHighlightToday:H,readOnly:T,disabled:k,timezone:fe,gridLabelId:Ie},it=y.useRef(ie);y.useEffect(()=>{it.current!==ie&&(be===it.current&&xe(ie,!0),it.current=ie)},[be,xe,ie]);const ut=y.useMemo(()=>[ne],[ne]);return s.jsxs(Rje,K({ref:n,className:et(de.root,j),ownerState:De},Y,{children:[s.jsx(qe,K({},we)),s.jsx(Qje,{reduceAnimations:w,className:de.viewTransitionContainer,transKey:ie,ownerState:De,children:s.jsxs("div",{children:[ie==="year"&&s.jsx(sje,K({},Se,Re,{value:ne,onChange:Le,shouldDisableYear:F,hasFocus:_t,onFocusedViewChange:Oe=>xe("year",Oe),yearsPerRow:X,referenceDate:He})),ie==="month"&&s.jsx(GSe,K({},Se,Re,{hasFocus:_t,className:j,value:ne,onChange:he,shouldDisableMonth:S,onFocusedViewChange:Oe=>xe("month",Oe),monthsPerRow:ge,referenceDate:He})),ie==="day"&&s.jsx(DSe,K({},Ge,Se,Re,{onMonthSwitchingAnimationEnd:Ue,onFocusedDayChange:lt,reduceAnimations:w,selectedDays:ut,onSelectedDaysChange:ve,shouldDisableDate:E,shouldDisableMonth:S,shouldDisableYear:F,hasFocus:_t,onFocusedViewChange:Oe=>xe("day",Oe),showDaysOutsideCurrentMonth:J,fixedWeekNumber:te,dayOfWeekFormatter:Ae,displayWeekNumber:se,components:U,componentsProps:O,slots:M,slotProps:L,loading:W,renderLoading:G}))]})})]}))});function $je(){const{clubId:e,courtId:t}=el(),n=$r(),[r,i]=y.useState(Lc()),[a,o]=y.useState(null),[l,c]=y.useState(null),[A,u]=y.useState(!0),[d,h]=y.useState("");y.useEffect(()=>{f()},[e,t]);const f=async()=>{if(!e||!t){h("Некорректные параметры"),u(!1);return}try{const v=await fn(wt(_e,"courts",t));if(!v.exists()){h("Корт не найден"),u(!1);return}const x={id:v.id,...v.data()};if(x.venueId!==e){h("Корт не принадлежит указанному клубу"),u(!1);return}o(x);const C=await fn(wt(_e,"venues",e));C.exists()&&c({id:C.id,...C.data()}),u(!1)}catch(v){console.error("Error loading data:",v),h("Ошибка при загрузке данных"),u(!1)}},p=()=>{r&&n(`/club/${e}/court/${t}/time?date=${sn(r,"yyyy-MM-dd")}`)},g=v=>{const x=Lc();if(v<x)return!0;const C=Il(x,30);if(v>C)return!0;if(l!=null&&l.workingHours){const w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][v.getDay()],E=l.workingHours[w];if(!E||!E.open&&!E.close)return!0}return!1};return A?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):d?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:d})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:v=>v.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:v=>v.currentTarget.style.background="none",children:"←"})}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),a&&l&&s.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",a.name]}),s.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:s.jsx(R5e,{dateAdapter:L5e,adapterLocale:ba,children:s.jsx(Hje,{value:r,onChange:v=>i(v),shouldDisableDate:g,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),s.jsx("h3",{className:"h3",children:sn(r,"d MMMM yyyy",{locale:ba})})]}),s.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:s.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),s.jsx("div",{className:"sticky-bottom-bar",children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:p,disabled:!r,children:"Выбрать время →"})})]})}function zje(){var z,V;const{clubId:e,courtId:t}=el(),n=$r(),[r]=iu(),i=r.get("date"),a=i?Sr(i,"yyyy-MM-dd",new Date):new Date,[o,l]=y.useState(null),[c,A]=y.useState(null),[u,d]=y.useState([]),[h,f]=y.useState(null),[p,g]=y.useState(60),[v,x]=y.useState([60,90,120]),[C,b]=y.useState(!0),[w,E]=y.useState(""),[S,F]=y.useState([]),[N,P]=y.useState([]),[Q,j]=y.useState(0);y.useEffect(()=>{k()},[]),y.useEffect(()=>{T()},[e,t,Q]),y.useEffect(()=>{c&&o&&D()},[c,o,u,p,Q]);const k=()=>{const J=[],te=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let Ae=-1;for(let U=0;U<7;U++){const O=Il(Lc(),U);J.push({date:O,day:te[O.getDay()],dayNumber:sn(O,"d")}),sn(O,"yyyy-MM-dd")===i&&(Ae=U)}P(J),j(Ae>=0?Ae:0)},T=async()=>{var J;if(!e||!t){E("Некорректные параметры"),b(!1);return}try{const te=await fn(wt(_e,"courts",t));if(!te.exists()){E("Корт не найден"),b(!1);return}const Ae={id:te.id,...te.data()};l(Ae);const U=await fn(wt(_e,"venues",e));if(U.exists()){const ce={id:U.id,...U.data()};if(A(ce),ce.bookingDurations){const Y=[60,90,120].filter(ne=>ce.bookingDurations[ne]!==!1);x(Y),Y.includes(p)||g(Y[0]||60)}}const O=((J=N[Q])==null?void 0:J.date)||a,M=sn(O,"yyyy-MM-dd"),L=new Date(Date.UTC(O.getFullYear(),O.getMonth(),O.getDate(),0,0,0)),W=new Date(Date.UTC(O.getFullYear(),O.getMonth(),O.getDate(),23,59,59)),G=qt(Ct(_e,"bookings"),vt("courtId","==",t),vt("date",">=",Ot.fromDate(L)),vt("date","<=",Ot.fromDate(W))),ge=(await Mt(G)).docs.map(ce=>({id:ce.id,...ce.data()})).filter(ce=>{const Y=ce.status||"pending",ne=ce.paymentStatus||"awaiting_payment";return Y!=="cancelled"&&ne!=="cancelled"&&ne!=="refunded"&&ne!=="error"&&(Y==="confirmed"||Y==="pending"||ne==="paid"||ne==="awaiting_payment")});d(ge),b(!1)}catch(te){console.error("Error loading data:",te),E("Ошибка при загрузке данных"),b(!1)}},D=()=>{var ce;if(!(c!=null&&c.workingHours)||!o)return;const J=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],te=((ce=N[Q])==null?void 0:ce.date)||a,Ae=J[te.getDay()],U=c.workingHours[Ae];if(!U)return;let O="08:00",M="22:00";if(typeof U=="string"&&U.includes("-")){const[Y,ne]=U.split("-").map(oe=>oe.trim());O=Y||"08:00",M=ne||"22:00"}else U.open&&U.close&&(O=U.open,M=U.close);const L=[],W=Sr(O,"HH:mm",te),G=Sr(M,"HH:mm",te),se=c.bookingSlotInterval||60;let X=W;const ge=new Date;for(se===60&&X.getMinutes()!==0&&(X.getMinutes()<30?X=new Date(X.setMinutes(0)):X=Za(new Date(X.setMinutes(0)),60));yr(X,G);){const Y=sn(X,"HH:mm"),ne=Za(X,p);let oe=!0;if(O6(te)&&yr(X,ge)&&(oe=!1),di(ne,G)&&(oe=!1),oe)for(const Te of u){const be=Sr(Te.startTime,"HH:mm",te),xe=Sr(Te.endTime,"HH:mm",te);if(di(X,be)&&yr(X,xe)||di(ne,be)&&yr(ne,xe)||yr(X,be)&&di(ne,xe)||sn(X,"HH:mm")===Te.startTime){oe=!1;break}}const ie=af(a||new Date,Y,p,o.pricing,o.holidayPricing,o.priceWeekday,o.priceWeekend||o.pricePerHour);L.push({time:Y,available:oe,price:Math.round(ie)}),X=Za(X,se)}F(L)},R=()=>{var Ae;if(!h)return;const J=((Ae=N[Q])==null?void 0:Ae.date)||a,te=sn(J,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${te}&time=${h}&duration=${p}`)},H=J=>{j(J),f(null)};return C?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):w?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:w})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsxs("div",{children:[s.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),o&&c&&s.jsxs("p",{className:"caption",children:[c.name," • ",o.name]})]})]})}),s.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:N.map((J,te)=>{const Ae=Q===te;return s.jsxs("button",{onClick:()=>H(te),style:{minWidth:"60px",height:"60px",backgroundColor:Ae?"var(--primary)":"var(--white)",color:Ae?"white":"var(--dark)",border:`2px solid ${Ae?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[s.jsx("span",{className:"caption-bold",children:J.day}),s.jsx("span",{className:"body-bold",children:J.dayNumber})]},te)})})}),s.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(J=>{const te=v.includes(J);return s.jsx("button",{onClick:()=>{te&&(g(J),f(null))},disabled:!te,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:p===J?"var(--primary)":te?"var(--white)":"var(--extra-light-gray)",color:p===J?"white":te?"var(--dark)":"var(--gray)",border:`2px solid ${p===J?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:te?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:te?1:.5},children:J===60?"1 час":J===90?"1.5 часа":"2 часа"},J)})})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),S.length===0?s.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:s.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:S.map(J=>{const te=h===J.time;return s.jsxs("button",{onClick:()=>J.available&&f(J.time),disabled:!J.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:J.available?te?"var(--primary)":"var(--primary-light)":"var(--busy)",color:J.available?te?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${J.available?te?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:J.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[s.jsx("span",{className:"body-bold",children:J.time}),J.available?s.jsx("span",{className:"caption",style:{color:te?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:te?"Выбрано":`${J.price}₽`}):s.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},J.time)})})]}),s.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]})]}),s.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:h&&N[Q]&&`${sn(N[Q].date,"d MMMM",{locale:ba})}, ${h}-${sn(Za(Sr(h,"HH:mm",new Date),p),"HH:mm")}`}),h&&((z=S.find(J=>J.time===h))==null?void 0:z.available)&&s.jsxs("span",{className:"h2",children:[(V=S.find(J=>J.time===h))==null?void 0:V.price," ₽"]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:R,disabled:!h,children:"Далее"})]})]})}function Wje(){const{clubId:e,courtId:t}=el(),n=$r(),[r]=iu(),i=r.get("date"),a=r.get("time"),o=r.get("duration"),l=r.get("trainer"),[c,A]=y.useState("open"),[u,d]=y.useState(!1),[h,f]=y.useState(null),[p,g]=y.useState(!0);y.useEffect(()=>{v()},[t]);const v=async()=>{if(t)try{const P=await fn(wt(_e,"venues",e,"courts",t));P.exists()&&f({id:P.id,...P.data()})}catch(P){console.error("Error loading court:",P)}finally{g(!1)}},[x,C]=y.useState({name:"",phone:"+7",email:"",comment:""}),[b,w]=y.useState({}),[E,S]=y.useState(!1),F=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--primary)",tags:["Только для вас","Без посторонних"],available:!0},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--success)",tags:["Найти партнёров","Разделить оплату"],available:!1},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],N=P=>{if(P.available){const Q=i?Sr(i,"yyyy-MM-dd",new Date):new Date,j=h?Math.round(af(Q,a||"09:00",parseInt(o||"60"),h.pricing,h.holidayPricing,h.priceWeekday,h.priceWeekend||h.pricePerHour)):0,k=new URLSearchParams({date:i||"",time:a||"",duration:o||"60",gameType:P.id,playersCount:(P.playersCount||1).toString(),price:j.toString(),pricePerPlayer:(P.pricePerPlayer||j).toString()});l&&k.append("trainer",l),n(`/club/${e}/court/${t}/payment?${k.toString()}`)}else if(window.confirm(`Функция "${P.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)){let j=`allcourts://club/${e}/court/${t}?date=${i}&time=${a}&duration=${o}`;l&&(j+=`&trainer=${l}`),window.location.href=j}};return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsx("div",{children:s.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[F.map(P=>s.jsxs("div",{onClick:()=>N(P),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${c===P.id&&P.available?"var(--primary)":"transparent"}`,boxShadow:c===P.id&&P.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:P.available?1:.7,position:"relative"},onMouseEnter:Q=>{P.available&&(Q.currentTarget.style.transform="translateY(-2px)",Q.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:Q=>{Q.currentTarget.style.transform="none",Q.currentTarget.style.boxShadow="none"},children:[!P.available&&s.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:c===P.id&&P.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:s.jsx("span",{style:{filter:c===P.id&&P.available?"brightness(0) invert(1)":"none"},children:P.icon})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:P.title}),s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:P.subtitle}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:P.tags.map((Q,j)=>s.jsx("span",{style:{padding:"4px 16px",backgroundColor:c===P.id&&P.available?"var(--primary-light)":"var(--divider)",color:c===P.id&&P.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:Q},j))})]})]})]},P.id)),s.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:s.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function Kje(){const{clubId:e,courtId:t}=el(),n=$r(),[r]=iu(),i=r.get("date")||"",a=r.get("time")||"",o=parseInt(r.get("duration")||"60"),l=r.get("gameType")||"simple",c=parseInt(r.get("playersCount")||"1"),A=parseInt(r.get("price")||"0"),u=parseInt(r.get("pricePerPlayer")||"0"),d=r.get("customerName")||"",h=r.get("customerPhone")||"",f=r.get("customerEmail")||"",[p,g]=y.useState(null),[v,x]=y.useState(null),[C,b]=y.useState(!0),[w,E]=y.useState(!1),[S,F]=y.useState(""),[N,P]=y.useState(!1),[Q,j]=y.useState(d),[k,T]=y.useState(h),[D,R]=y.useState(f),[H,z]=y.useState(window.innerWidth<=768);y.useEffect(()=>{const L=()=>z(window.innerWidth<=768);return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),y.useEffect(()=>{V()},[e,t]),y.useEffect(()=>{!C&&p&&v&&d&&h&&!w&&!N&&(P(!0),setTimeout(()=>{M()},500))},[C,p,v,d,h,w,N]);const V=async()=>{if(!e||!t){F("Некорректные параметры"),b(!1);return}try{const L=await fn(wt(_e,"venues",e,"courts",t));if(!L.exists()){F("Корт не найден"),b(!1);return}const W={id:L.id,...L.data(),venueId:e};g(W);const G=await fn(wt(_e,"venues",e));if(G.exists()){const se={id:G.id,...G.data()};x(se)}b(!1)}catch(L){console.error("Error loading data:",L),F("Ошибка при загрузке данных"),b(!1)}},J=L=>{const W=Sr(L,"yyyy-MM-dd",new Date);return sn(W,"d MMMM",{locale:ba})},te=(L,W)=>{const[G,se]=L.split(":").map(Number),X=G*60+se+W,ge=Math.floor(X/60),ce=X%60;return`${ge.toString().padStart(2,"0")}:${ce.toString().padStart(2,"0")}`},Ae=L=>{const W=L.replace(/\D/g,"");return W.length<=1?W:W.length<=4?`+7 (${W.slice(1)})`:W.length<=7?`+7 (${W.slice(1,4)}) ${W.slice(4)}`:W.length<=9?`+7 (${W.slice(1,4)}) ${W.slice(4,7)}-${W.slice(7)}`:`+7 (${W.slice(1,4)}) ${W.slice(4,7)}-${W.slice(7,9)}-${W.slice(9,11)}`},U=L=>{const W=Ae(L.target.value);T(W)},O=()=>Q.trim()?!k||k.replace(/\D/g,"").length<11?(alert("Пожалуйста, введите корректный номер телефона"),!1):D&&!D.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(alert("Пожалуйста, введите корректный email"),!1):!0:(alert("Пожалуйста, введите ваше имя"),!1),M=async()=>{if(!(!O()||!p||!v)){E(!0);try{const L=new Date(i+"T00:00:00"),W=new Date(Date.UTC(L.getFullYear(),L.getMonth(),L.getDate(),0,0,0)),G=new Date(Date.UTC(L.getFullYear(),L.getMonth(),L.getDate(),23,59,59)),se=qt(Ct(_e,"bookings"),vt("courtId","==",t),vt("date",">=",Ot.fromDate(W)),vt("date","<=",Ot.fromDate(G))),ge=(await Mt(se)).docs.map(Te=>({id:Te.id,...Te.data()})).filter(Te=>{const be=Te.status||"pending",xe=Te.paymentStatus||"awaiting_payment";return be!=="cancelled"&&xe!=="cancelled"&&xe!=="refunded"&&xe!=="error"&&(be==="confirmed"||be==="pending"||xe==="paid"||xe==="awaiting_payment")}),ce=Sr(a,"HH:mm",new Date),Y=Za(ce,o);for(const Te of ge){const be=Sr(Te.startTime,"HH:mm",new Date),xe=Sr(Te.endTime,"HH:mm",new Date);if(di(ce,be)&&yr(ce,xe)||di(Y,be)&&yr(Y,xe)||yr(ce,be)&&di(Y,xe)||sn(ce,"HH:mm")===Te.startTime){E(!1),alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),n(`/club/${e}/court/${t}/time?date=${i}`);return}}try{await Ai(qo,"validateBookingRequest")({phoneNumber:k,venueId:e,source:"web"})}catch(Te){E(!1),alert(Te.message||"Не удалось создать бронирование. Попробуйте позже.");return}const ne=new Date(i+"T00:00:00"),oe=Ot.fromDate(ne),fe={courtId:t,courtName:p.name,venueId:e,venueName:v.name,date:oe,startTime:a,endTime:te(a,o),duration:o,gameType:l,playersCount:l==="open"||l==="open_join"?c:1,totalPrice:A,pricePerPlayer:l==="open"||l==="open_join"?u:A,customerName:Q,customerPhone:k,customerEmail:D||null,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Ot.now(),action:"created",userId:"web-booking",userName:Q||"Клиент",note:"Бронирование создано через веб-сайт"}],createdAt:Ot.now(),updatedAt:Ot.now()},ie=await Ma(Ct(_e,"bookings"),fe);if(v.paymentEnabled&&v.paymentProvider)try{const xe=(await Ai(qo,"initBookingPayment")({bookingId:ie.id,amount:A,description:`Бронирование ${p.name} на ${J(i)} ${a}`,returnUrl:`${window.location.origin}/club/${e}/booking-confirmation/${ie.id}`,userId:"",customerEmail:D||void 0,customerPhone:k})).data;if(console.log("Payment initialization result:",xe),xe.success&&xe.paymentUrl)console.log("Updating booking with payment info:",{bookingId:ie.id,paymentId:xe.paymentId,paymentUrl:xe.paymentUrl,paymentProvider:v.paymentProvider}),await en(ie,{paymentId:xe.paymentId,paymentUrl:xe.paymentUrl,paymentProvider:v.paymentProvider}),console.log("Booking updated successfully, redirecting to payment page"),window.location.href=xe.paymentUrl;else throw new Error(xe.error||"Ошибка инициализации платежа")}catch(Te){console.error("Payment initialization error:",Te),await en(ie,{paymentStatus:"error",paymentError:Te.message}),alert("Ошибка при создании платежа. Пожалуйста, свяжитесь с администратором клуба."),n(`/club/${e}/booking-confirmation/${ie.id}?paymentError=true`)}else await en(ie,{status:"confirmed",paymentStatus:"not_required"}),n(`/club/${e}/booking-confirmation/${ie.id}`)}catch(L){console.error("Error creating booking:",L),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{E(!1)}}};return C||d&&h&&w?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:w?"Создание бронирования...":"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):S?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:S})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsx("div",{children:s.jsx("h1",{className:"h3",children:"Оплата бронирования"})})]})}),s.jsxs("div",{style:{padding:H?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:"calc(100px + var(--spacing-xl))",maxWidth:"800px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:s.jsxs("div",{children:[s.jsx("p",{className:"body",children:v==null?void 0:v.name}),s.jsx("p",{className:"body-small",style:{color:"var(--gray)"},children:p==null?void 0:p.name})]})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsxs("div",{children:[s.jsx("p",{className:"body",children:J(i)}),s.jsxs("p",{className:"body-small",style:{color:"var(--gray)"},children:[a,"-",te(a,o)]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("p",{className:"h3",style:{color:"var(--primary)"},children:(l==="open"||l==="open_join")&&c>1?`${u} ₽/чел`:`${A} ₽`}),(l==="open"||l==="open_join")&&c>1&&s.jsxs("p",{className:"caption",style:{color:"var(--gray)"},children:["Всего: ",A," ₽"]})]})]}),(l==="open"||l==="open_join")&&s.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("span",{style:{fontSize:"16px"},children:"👥"}),s.jsx("span",{className:"caption",style:{color:"var(--primary-dark)"},children:l==="open_join"?"Присоединение к открытой игре":`Открытая игра • ${c} игрока`})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),s.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:s.jsx("input",{type:"text",value:Q,onChange:L=>j(L.target.value),placeholder:"Ваше имя",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),s.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:s.jsx("input",{type:"tel",value:k,onChange:U,placeholder:"Номер телефона",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),s.jsx("div",{children:s.jsx("input",{type:"email",value:D,onChange:L=>R(L.target.value),placeholder:"Email (необязательно)",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})})]}),s.jsxs("div",{style:{padding:"var(--spacing-md)",backgroundColor:v!=null&&v.paymentEnabled?"rgba(255, 152, 0, 0.08)":"var(--chip-background)",borderRadius:"var(--radius-md)",border:v!=null&&v.paymentEnabled?"1px solid rgba(255, 152, 0, 0.3)":"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"20px",color:v!=null&&v.paymentEnabled?"#ff9800":"var(--primary)"},children:v!=null&&v.paymentEnabled?"⏱️":"ℹ️"}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{color:v!=null&&v.paymentEnabled?"#e65100":"var(--primary-dark)",fontWeight:v!=null&&v.paymentEnabled?"500":"400",marginBottom:v!=null&&v.paymentEnabled?"8px":"0"},children:v!=null&&v.paymentEnabled?"Бронирование будет подтверждено только после успешной оплаты. Возврат по бронированию осуществляется не позже 12 часов до игры в мобильном приложении":"Оплата производится на месте при посещении клуба"}),(v==null?void 0:v.paymentEnabled)&&s.jsx("p",{className:"caption",style:{color:"#e65100",fontWeight:"600",fontSize:"14px"},children:"⚠️ На оплату дается 10 минут. После этого бронирование будет автоматически отменено."})]})]})]}),s.jsx("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:M,disabled:w,children:w?"Создание бронирования...":v!=null&&v.paymentEnabled?"Перейти к оплате":"Забронировать"})})]})}function Vje(){const{clubId:e,bookingId:t}=el(),n=$r(),[r]=iu(),[i,a]=y.useState(null),[o,l]=y.useState(null),[c,A]=y.useState(null),[u,d]=y.useState(!0),[h,f]=y.useState(""),[p,g]=y.useState(null),v=r.get("paymentError")==="true",x=r.get("processing")==="true";y.useEffect(()=>{console.log("BookingConfirmationPage loaded with params:",{bookingId:t,clubId:e,searchParams:Array.from(r.entries())}),C()},[t]),y.useEffect(()=>{if(i&&i.paymentStatus==="awaiting_payment"&&i.createdAt){const w=()=>{const S=i.createdAt.toDate?i.createdAt.toDate():new Date(i.createdAt),N=Math.floor((new Date().getTime()-S.getTime())/1e3),P=Math.max(0,15*60-N);return P===0&&window.location.reload(),P};g(w());const E=setInterval(()=>{g(w())},1e3);return()=>clearInterval(E)}},[i]),y.useEffect(()=>{if(x&&i&&i.paymentStatus!=="paid"){const w=setInterval(async()=>{try{const E=await fn(wt(_e,"bookings",t));E.exists()&&E.data().paymentStatus==="paid"&&window.location.reload()}catch(E){console.error("Error checking payment status:",E)}},3e3);return()=>clearInterval(w)}},[x,i,t]);const C=async()=>{var w;if(!t){f("ID бронирования не указан"),d(!1);return}try{const E=await fn(wt(_e,"bookings",t));if(!E.exists()){f("cancelled"),d(!1);return}const S={id:E.id,...E.data()};if(console.log("Booking data loaded:",{id:S.id,paymentStatus:S.paymentStatus,paymentUrl:S.paymentUrl,paymentMethod:S.paymentMethod,status:S.status}),S.paymentStatus!=="paid")if(S.status==="cancelled"||S.paymentStatus==="cancelled"||S.paymentStatus==="expired"){f("cancelled"),d(!1);return}else!S.paymentStatus&&S.status==="pending"&&(S.paymentStatus="awaiting_payment");a(S);const F=await fn(wt(_e,"venues",S.venueId));F.exists()&&l(F.data());const N=await fn(wt(_e,"venues",S.venueId,"courts",S.courtId));N.exists()&&A(N.data()),d(!1)}catch(E){console.error("Error loading booking:",E),(E==null?void 0:E.code)==="permission-denied"||(E==null?void 0:E.code)==="not-found"||(w=E==null?void 0:E.message)!=null&&w.includes("Missing or insufficient permissions")?f("not-found"):f("Ошибка при загрузке данных бронирования"),d(!1)}};if(u)return s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(x&&!i)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"⏳"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Обработка платежа"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)"},children:"Ваш платеж обрабатывается. Пожалуйста, подождите несколько секунд..."}),s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})});if(h)return h==="not-found"?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"🔍"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование не найдено"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)",lineHeight:"1.6"},children:"Бронирование с таким ID не существует или было удалено."}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n("/"),children:"На главную"})]})}):h==="cancelled"?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование отменено"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-lg)",lineHeight:"1.6"},children:"Данное бронирование было отменено. Возможные причины:"}),s.jsxs("ul",{style:{textAlign:"left",marginBottom:"var(--spacing-xl)",paddingLeft:"var(--spacing-xl)",color:"var(--text-secondary)",lineHeight:"1.8"},children:[s.jsx("li",{children:"Истекло время оплаты (15 минут)"}),s.jsx("li",{children:"Бронирование было отменено администратором"}),s.jsx("li",{children:"Вы отменили бронирование в приложении"})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)",marginTop:"var(--spacing-xl)"},children:[s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>n("/"),children:"На главную"})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-2xl)",padding:"var(--spacing-lg)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Или позвоните в клуб для бронирования по телефону"}),s.jsx("p",{className:"body-bold",style:{color:"var(--primary)"},children:"📞 Контакты клуба доступны на странице клуба"})]})]})}):s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:h}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginTop:"var(--spacing-xl)"},onClick:()=>n("/"),children:"На главную"})]})});if(!i||!o||!c)return null;const b=i.date.toDate?i.date.toDate():new Date(i.date);return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{backgroundColor:i.paymentStatus==="awaiting_payment"?"var(--warning)":v?"var(--error)":"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[s.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:i.paymentStatus==="awaiting_payment"?"⏰":v?"❌":"✅"}),s.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:i.paymentStatus==="paid"||i.status==="confirmed"?"Бронирование подтверждено!":i.paymentStatus==="awaiting_payment"?"Требуется оплата!":v?"Ошибка оплаты":"Заявка отправлена!"}),s.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:i.paymentStatus==="paid"||i.status==="confirmed"?"Ваше бронирование успешно оплачено и подтверждено":i.paymentStatus==="awaiting_payment"?"Бронирование будет автоматически отменено, если не будет оплачено в течение 15 минут":v?"Произошла ошибка при оплате. Пожалуйста, свяжитесь с администратором":"Ваша заявка на бронирование успешно отправлена"}),i.paymentStatus==="awaiting_payment"&&p!==null&&s.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"white",marginTop:"var(--spacing-lg)",padding:"var(--spacing-md)",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"var(--radius-md)",display:"inline-block"},children:["⏳ Осталось: ",Math.floor(p/60),":",String(p%60).padStart(2,"0")]})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[console.log("Button display check:",{paymentStatus:i.paymentStatus,hasPaymentUrl:!!i.paymentUrl,paymentUrl:i.paymentUrl,shouldShowButton:i.paymentStatus==="awaiting_payment"&&i.paymentUrl}),i.paymentStatus==="awaiting_payment"&&i.paymentUrl&&s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)",backgroundColor:"#FFF3CD",border:"3px solid var(--warning)",boxShadow:"0 4px 20px rgba(255, 193, 7, 0.3)"},children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-md)",color:"#856404",fontSize:"20px",textAlign:"center"},children:"⚠️ Завершите оплату, чтобы подтвердить бронирование"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-lg)",color:"#856404",textAlign:"center",fontSize:"16px"},children:"Без оплаты бронирование будет автоматически отменено"}),s.jsx("button",{className:"flutter-button",style:{width:"100%",backgroundColor:"var(--success)",fontSize:"18px",padding:"var(--spacing-lg) var(--spacing-xl)",fontWeight:"bold",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",animation:"pulse 2s infinite"},onClick:()=>{i.paymentUrl&&(window.location.href=i.paymentUrl)},children:"💳 Оплатить сейчас"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",marginTop:"var(--spacing-md)",backgroundColor:"transparent",color:"#856404",border:"2px solid #856404",fontSize:"16px",padding:"var(--spacing-md) var(--spacing-lg)"},onClick:async()=>{if(window.confirm("Вы уверены, что хотите отменить бронирование? Это действие нельзя отменить."))try{await en(wt(_e,"bookings",t),{status:"cancelled",paymentStatus:"cancelled",cancelledAt:Ot.now(),cancelledBy:"customer",cancelReason:"Отменено клиентом на странице ожидания оплаты"}),alert("Бронирование успешно отменено"),window.location.reload()}catch(w){console.error("Error cancelling booking:",w),alert("Ошибка при отмене бронирования. Попробуйте еще раз.")}},children:"Отменить бронирование"}),s.jsx("style",{children:`
                @keyframes pulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.02); }
                  100% { transform: scale(1); }
                }
              `})]}),i.paymentStatus!=="awaiting_payment"&&s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"⚠️"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Отмена бронирования"}),s.jsx("p",{className:"caption",children:"Отменить можно за 24 часа до игры через мобильное приложение или позвонив администратору в рабочее время"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#25D366",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"white",fontSize:"18px"},children:"💬"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Нужен тренер?"}),o&&o.phone&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Напишите на WhatsApp"}),s.jsxs("a",{href:`https://wa.me/${o.phone.replace(/[^0-9]/g,"").replace(/^8/,"7")}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#25D366",color:"white",borderRadius:"8px",textDecoration:"none",fontSize:"14px",fontWeight:"600",transition:"transform 0.2s"},onMouseEnter:w=>w.currentTarget.style.transform="scale(1.05)",onMouseLeave:w=>w.currentTarget.style.transform="scale(1)",children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),s.jsx("span",{children:"WhatsApp"})]})]})]})]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),s.jsx("p",{className:"body-bold",children:o.name}),s.jsx("p",{className:"caption",children:o.address})]}),s.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),s.jsxs("div",{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),s.jsx("p",{className:"body-bold",children:c.name})]}),s.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),s.jsx("p",{className:"body-bold",children:sn(b,"d MMMM",{locale:ba})})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),s.jsxs("p",{className:"body-bold",children:[i.startTime," - ",i.endTime]})]})]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:i.customerName}),s.jsx("p",{className:"caption",children:i.customerPhone}),i.customerEmail&&s.jsx("p",{className:"caption",children:i.customerEmail})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),s.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),s.jsxs("a",{href:`tel:${o.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",o.phone]})]})]})]})}function Gje(){const[e]=iu(),t=$r(),[n,r]=y.useState(!0),[i,a]=y.useState("");y.useEffect(()=>{o()},[e]);const o=async()=>{e.get("paymentId");const l=e.get("orderId")||e.get("OrderId"),c=e.get("status")||e.get("Status");if(!l){a("Неверные параметры платежа"),r(!1);return}try{const A=await fn(wt(_e,"bookings",l));if(!A.exists()){a("Бронирование не найдено"),r(!1);return}const d=A.data().venueId;if(c==="success"||c==="CONFIRMED"||c==="succeeded"){const f=A.data();f.paymentStatus==="paid"||f.status==="confirmed"?t(`/club/${d}/booking-confirmation/${l}`,{replace:!0}):setTimeout(async()=>{const p=await fn(wt(_e,"bookings",l));if(p.exists()){const g=p.data();g.paymentStatus==="paid"||g.status==="confirmed"?t(`/club/${d}/booking-confirmation/${l}`,{replace:!0}):t(`/club/${d}/booking-confirmation/${l}?processing=true`,{replace:!0})}},2e3)}else t(`/club/${d}/payment-error?paymentError=true&bookingId=${l}`,{replace:!0})}catch(A){console.error("Error processing payment result:",A),a("Ошибка при обработке результата платежа"),r(!1)}};return n?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Обработка платежа..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):i?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:i}),s.jsx("button",{className:"flutter-button",style:{marginTop:"var(--spacing-lg)"},onClick:()=>t("/"),children:"На главную"})]})}):null}function qje(){const{clubId:e}=el(),t=$r(),[n]=iu(),[r,i]=y.useState(null),[a,o]=y.useState(!0);n.get("paymentError"),y.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){o(!1);return}try{const A=await fn(wt(_e,"venues",e));A.exists()&&i(A.data()),o(!1)}catch(A){console.error("Error loading venue:",A),o(!1)}},c=A=>{if(A.startsWith("+7")){const u=A.replace(/\D/g,"");if(u.length===11)return`+7 (${u.slice(1,4)}) ${u.slice(4,7)}-${u.slice(7,9)}-${u.slice(9,11)}`}return A};return a?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{backgroundColor:"var(--error)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[s.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"❌"}),s.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Ошибка оплаты"}),s.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Платеж не был завершен успешно"})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)",maxWidth:"600px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что произошло?"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-md)",color:"var(--text-secondary)"},children:"Без успешной оплаты бронирование не может быть подтверждено. Это может произойти по следующим причинам:"}),s.jsxs("ul",{style:{marginLeft:"var(--spacing-lg)",color:"var(--text-secondary)",marginBottom:"var(--spacing-md)"},children:[s.jsx("li",{children:"Недостаточно средств на карте"}),s.jsx("li",{children:"Превышен лимит по карте"}),s.jsx("li",{children:"Платеж был отменен"}),s.jsx("li",{children:"Технические проблемы с платежной системой"})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что делать дальше?"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Попробуйте забронировать снова"}),s.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Проверьте баланс карты и повторите попытку бронирования"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Свяжитесь с администратором"}),s.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:"Позвоните в клуб для бронирования по телефону"}),(r==null?void 0:r.phone)&&s.jsxs("a",{href:`tel:${r.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-sm) var(--spacing-md)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",fontWeight:600,fontSize:"var(--text-body)"},children:["📞 ",c(r.phone)]})]})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsx("button",{className:"flutter-button",onClick:()=>t(`/club/${e}`),style:{width:"100%"},children:"Попробовать снова"}),(r==null?void 0:r.phone)&&s.jsxs("a",{href:`tel:${r.phone}`,className:"flutter-button-secondary",style:{width:"100%",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:[s.jsx("span",{children:"📞"}),"Позвонить в клуб"]})]})]})]})}function Yje(){var U,O;const{clubId:e,courtId:t}=el(),n=$r(),i=new URLSearchParams(window.location.search).get("trainer"),[a,o]=y.useState(null),[l,c]=y.useState(null),[A,u]=y.useState([]),[d,h]=y.useState(Lc()),[f,p]=y.useState(null),[g,v]=y.useState(60),[x,C]=y.useState([60,90,120]),[b,w]=y.useState(!0),[E,S]=y.useState(""),[F,N]=y.useState([]),[P,Q]=y.useState([]),[j,k]=y.useState(window.innerWidth<=768),[T,D]=y.useState(null);y.useEffect(()=>{const M=()=>k(window.innerWidth<=768);return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useEffect(()=>{R()},[]),y.useEffect(()=>{H()},[e,t]),y.useEffect(()=>{i&&e&&z(i)},[i,e]),y.useEffect(()=>{l&&a&&V()},[l,a,d,g]);const R=()=>{const M=[],L=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],W=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let G=0;G<14;G++){const se=Il(Lc(),G);M.push({date:se,day:L[se.getDay()],dayNumber:sn(se,"d"),month:G===0||se.getDate()===1?W[se.getMonth()]:void 0})}Q(M)},H=async()=>{if(!e||!t){S("Некорректные параметры"),w(!1);return}try{const M=await fn(wt(_e,"courts",t));if(!M.exists()){S("Корт не найден"),w(!1);return}const L={id:M.id,...M.data()};o(L);const W=await fn(wt(_e,"venues",e));if(W.exists()){const G={id:W.id,...W.data()};if(c(G),G.bookingDurations){const se=[60,90,120].filter(X=>G.bookingDurations[X]!==!1);C(se),se.includes(g)||v(se[0]||60)}}w(!1)}catch(M){console.error("Error loading data:",M),S("Ошибка при загрузке данных"),w(!1)}},z=async M=>{try{const L=await fn(wt(_e,"trainers",M));if(L.exists()){const W={id:L.id,...L.data()};D(W),console.log("Загружен тренер:",W)}}catch(L){console.error("Error loading trainer:",L)}},V=async()=>{if(!(!(l!=null&&l.workingHours)||!a))try{const M=sn(d,"yyyy-MM-dd"),L=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0)),W=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),23,59,59)),G=qt(Ct(_e,"bookings"),vt("courtId","==",t),vt("date",">=",Ot.fromDate(L)),vt("date","<=",Ot.fromDate(W))),ge=(await Mt(G)).docs.map(ce=>({id:ce.id,...ce.data()})).filter(ce=>{const Y=ce.status||"pending",ne=ce.paymentStatus||"awaiting_payment";return Y!=="cancelled"&&ne!=="cancelled"&&ne!=="refunded"&&ne!=="error"&&(Y==="confirmed"||Y==="pending"||ne==="paid"||ne==="awaiting_payment")});u(ge),J(ge)}catch(M){console.error("Error loading bookings:",M)}},J=M=>{if(!(l!=null&&l.workingHours)||!a)return;const W=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],G=l.workingHours[W];if(!G)return;const se=[],X=Sr(G.open,"HH:mm",d),ge=Sr(G.close,"HH:mm",d),ce=l.bookingSlotInterval||60;let Y=X;const ne=new Date;for(ce===60&&Y.getMinutes()!==0&&(Y.getMinutes()<30?Y=new Date(Y.setMinutes(0)):Y=Za(new Date(Y.setMinutes(0)),60));yr(Y,ge);){const oe=sn(Y,"HH:mm"),fe=Za(Y,g);let ie=!0;if(O6(d)&&yr(Y,ne)&&(ie=!1),di(fe,ge)&&(ie=!1),ie)for(const xe of M){const Ne=Sr(xe.startTime,"HH:mm",d),Fe=Sr(xe.endTime,"HH:mm",d);if(di(Y,Ne)&&yr(Y,Fe)||di(fe,Ne)&&yr(fe,Fe)||yr(Y,Ne)&&di(fe,Fe)||sn(Y,"HH:mm")===xe.startTime){ie=!1;break}}const be=af(d,oe,g,a.pricing,a.holidayPricing,a.priceWeekday,a.priceWeekend||a.pricePerHour);se.push({time:oe,available:ie,price:Math.round(be)}),Y=Za(Y,ce)}N(se)},te=()=>{if(!f)return;const M=sn(d,"yyyy-MM-dd");let L=`/club/${e}/court/${t}/game-type?date=${M}&time=${f}&duration=${g}`;i&&(L+=`&trainer=${i}`),n(L)},Ae=M=>{const L=Lc();if(M<L)return!0;const W=Il(L,30);if(M>W)return!0;if(l!=null&&l.workingHours){const se=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][M.getDay()],X=l.workingHours[se];if(!X||!X.open&&!X.close)return!0}return!1};return b?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):E?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:E})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsxs("div",{children:[s.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),a&&l&&s.jsxs("p",{className:"caption",children:[l.name," • ",a.name,T&&` • Тренер: ${T.firstName} ${T.lastName}`]})]})]})}),s.jsx("div",{style:{padding:j?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:j?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:s.jsxs("div",{style:{display:j?"block":"grid",gridTemplateColumns:j?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:P.map((M,L)=>{const W=sn(d,"yyyy-MM-dd")===sn(M.date,"yyyy-MM-dd"),G=Ae(M.date),se=L===0;return s.jsxs("div",{style:{textAlign:"center"},children:[M.month&&s.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:M.month}),!M.month&&s.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),s.jsxs("button",{onClick:()=>!G&&h(M.date),disabled:G,style:{width:"100%",aspectRatio:"1",backgroundColor:W?"var(--primary)":G?"var(--extra-light-gray)":"var(--white)",color:W?"white":G?"var(--gray)":"var(--dark)",border:`2px solid ${W||se&&!G?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:G?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:G?.5:1,fontSize:"var(--text-caption)"},children:[s.jsx("span",{className:"caption-bold",children:M.day}),s.jsx("span",{className:"body-bold",children:M.dayNumber})]})]},L)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(M=>{const L=x.includes(M);return s.jsx("button",{onClick:()=>{L&&(v(M),p(null))},disabled:!L,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:g===M?"var(--primary)":L?"var(--white)":"var(--extra-light-gray)",color:g===M?"white":L?"var(--dark)":"var(--gray)",border:`2px solid ${g===M?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:L?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:L?1:.5},children:M===60?"1 час":M===90?"1.5 часа":"2 часа"},M)})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",sn(d,"d MMMM",{locale:ba})]}),F.length===0?s.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:s.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:j?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:F.map(M=>{const L=f===M.time;return s.jsxs("button",{onClick:()=>M.available&&p(M.time),disabled:!M.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:M.available?L?"var(--primary)":"var(--primary-light)":"var(--busy)",color:M.available?L?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${M.available?L?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:M.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:j?"60px":"70px",justifyContent:"center"},children:[s.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[M.time,"-",(()=>{const[W,G]=M.time.split(":").map(Number),se=Za(Sr(M.time,"HH:mm",new Date),g);return sn(se,"HH:mm")})()]}),M.available?L&&s.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):s.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},M.time)})}),s.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),s.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:f&&`${sn(d,"d MMMM",{locale:ba})}, ${f}-${sn(Za(Sr(f,"HH:mm",new Date),g),"HH:mm")}`}),f&&((U=F.find(M=>M.time===f))==null?void 0:U.available)&&s.jsxs("span",{className:"h2",children:[(O=F.find(M=>M.time===f))==null?void 0:O.price," ₽"]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:te,disabled:!f,children:"Далее"})]})]})}function Xje(){const{clubId:e}=el(),[t,n]=y.useState(null),[r,i]=y.useState(!0),[a,o]=y.useState("");y.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const u=wt(_e,"venues",e),d=await fn(u);d.exists()?n(d.data()):o("Клуб не найден")}catch(u){console.error("Error loading club data:",u),o("Ошибка загрузки данных")}finally{i(!1)}},c=()=>{window.print()},A=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?s.jsx(UA,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:s.jsx(nr,{})}):a||!t?s.jsxs(UA,{maxWidth:"md",sx:{py:4},children:[s.jsx(q,{color:"error",children:a||"Данные не найдены"}),s.jsx(Ft,{component:up,to:"/",startIcon:s.jsx(zk,{}),sx:{mt:2},children:"Вернуться на главную"})]}):s.jsxs(UA,{maxWidth:"md",sx:{py:4},children:[s.jsxs(Ce,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[s.jsx(Ft,{component:up,to:`/club/${e}`,startIcon:s.jsx(zk,{}),children:"Вернуться к клубу"}),s.jsx(Ft,{variant:"outlined",startIcon:s.jsx(Qre,{}),onClick:c,children:"Печать"})]}),s.jsxs(Pn,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[s.jsx(q,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ"}),s.jsx(q,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"об оказании услуг по предоставлению спортивных площадок"}),s.jsxs(q,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:["Дата публикации: ",A()]}),s.jsxs(Ce,{sx:{mt:4},children:[s.jsxs(q,{paragraph:!0,children:["Настоящее Пользовательское соглашение (далее – «Соглашение») регулирует отношения между ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,", именуемым в дальнейшем «Исполнитель», с одной стороны, и физическим лицом, именуемым в дальнейшем «Заказчик», с другой стороны, совместно именуемые «Стороны», по поводу оказания услуг по предоставлению спортивных площадок для занятий спортом."]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ"}),s.jsxs(q,{paragraph:!0,children:["1.1. ",s.jsx("strong",{children:"Клуб"})," — спортивный комплекс, расположенный по адресу: ",t.address,", управляемый Исполнителем."]}),s.jsxs(q,{paragraph:!0,children:["1.2. ",s.jsx("strong",{children:"Корт/Площадка"})," — специально оборудованная спортивная площадка для занятий теннисом, паделом, бадминтоном или иными видами спорта."]}),s.jsxs(q,{paragraph:!0,children:["1.3. ",s.jsx("strong",{children:"Бронирование"})," — резервирование Корта на определенную дату и время через мобильное приложение «Все Корты» или иным способом, предусмотренным Исполнителем."]}),s.jsxs(q,{paragraph:!0,children:["1.4. ",s.jsx("strong",{children:"Услуги"})," — предоставление Корта во временное пользование Заказчику для занятий спортом."]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2. ПРЕДМЕТ СОГЛАШЕНИЯ"}),s.jsx(q,{paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику во временное пользование Корт для занятий спортом, а Заказчик обязуется оплатить Услуги в соответствии с условиями настоящего Соглашения."}),s.jsx(q,{paragraph:!0,children:"2.2. Конкретные условия предоставления Услуг (дата, время, продолжительность, стоимость) определяются при Бронировании."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3. ПОРЯДОК БРОНИРОВАНИЯ И ОПЛАТЫ"}),s.jsxs(q,{paragraph:!0,children:["3.1. Бронирование осуществляется через мобильное приложение «Все Корты», по телефону ",t.phone,"или иным доступным способом."]}),s.jsx(q,{paragraph:!0,children:"3.2. Оплата Услуг производится в соответствии с действующими тарифами Исполнителя одним из следующих способов:"}),s.jsxs(q,{component:"div",paragraph:!0,sx:{pl:2},children:["• Онлайн-оплата банковской картой через приложение",s.jsx("br",{}),"• Оплата наличными в кассе Клуба",s.jsx("br",{}),"• Оплата банковской картой на месте",s.jsx("br",{}),"• Безналичный перевод по реквизитам Исполнителя"]}),s.jsx(q,{paragraph:!0,children:"3.3. Бронирование считается подтвержденным после получения оплаты или подтверждения от администратора Клуба."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),s.jsx(q,{paragraph:!0,children:s.jsx("strong",{children:"4.1. Исполнитель обязуется:"})}),s.jsxs(q,{component:"div",paragraph:!0,sx:{pl:2},children:["• Предоставить Корт в соответствии с Бронированием",s.jsx("br",{}),"• Обеспечить надлежащее состояние Корта и оборудования",s.jsx("br",{}),"• Предоставить раздевалки и душевые (при наличии)",s.jsx("br",{}),"• Обеспечить безопасность на территории Клуба"]}),s.jsx(q,{paragraph:!0,children:s.jsx("strong",{children:"4.2. Заказчик обязуется:"})}),s.jsxs(q,{component:"div",paragraph:!0,sx:{pl:2},children:["• Своевременно оплатить Услуги",s.jsx("br",{}),"• Соблюдать правила поведения в Клубе",s.jsx("br",{}),"• Бережно относиться к имуществу Клуба",s.jsx("br",{}),"• Использовать спортивную обувь и форму",s.jsx("br",{}),"• Освободить Корт по истечении оплаченного времени"]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5. ОТМЕНА И ПЕРЕНОС БРОНИРОВАНИЯ"}),s.jsx(q,{paragraph:!0,children:"5.1. Заказчик вправе отменить или перенести Бронирование не позднее чем за 24 часа до начала оказания Услуг."}),s.jsx(q,{paragraph:!0,children:"5.2. При отмене Бронирования менее чем за 24 часа, внесенная предоплата не возвращается."}),s.jsx(q,{paragraph:!0,children:"5.3. Исполнитель вправе отменить Бронирование по техническим причинам с полным возвратом предоплаты."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6. ОТВЕТСТВЕННОСТЬ СТОРОН"}),s.jsx(q,{paragraph:!0,children:"6.1. Исполнитель не несет ответственности за вред, причиненный жизни и здоровью Заказчика в результате нарушения им правил техники безопасности и правил поведения в Клубе."}),s.jsx(q,{paragraph:!0,children:"6.2. Заказчик несет материальную ответственность за ущерб, причиненный имуществу Клуба."}),s.jsx(q,{paragraph:!0,children:"6.3. Исполнитель не несет ответственности за сохранность личных вещей Заказчика."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7. ПЕРСОНАЛЬНЫЕ ДАННЫЕ"}),s.jsx(q,{paragraph:!0,children:"7.1. Заказчик дает согласие на обработку своих персональных данных в соответствии с Федеральным законом «О персональных данных» №152-ФЗ."}),s.jsx(q,{paragraph:!0,children:"7.2. Исполнитель обязуется использовать персональные данные Заказчика исключительно для оказания Услуг и не передавать их третьим лицам без согласия Заказчика."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ"}),s.jsx(q,{paragraph:!0,children:"8.1. Настоящее Соглашение вступает в силу с момента акцепта Заказчиком его условий путем оформления Бронирования и действует до полного исполнения Сторонами своих обязательств."}),s.jsx(q,{paragraph:!0,children:"8.2. Все споры и разногласия решаются путем переговоров, а при невозможности достижения соглашения — в судебном порядке."}),s.jsx(q,{paragraph:!0,children:"8.3. Исполнитель вправе в одностороннем порядке изменять условия настоящего Соглашения, публикуя изменения на сайте и в приложении."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),s.jsx(Ce,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:s.jsxs(q,{variant:"body2",component:"div",children:[s.jsx("strong",{children:t.legalName||t.name}),s.jsx("br",{}),t.legalAddress&&s.jsxs(s.Fragment,{children:["Юридический адрес: ",t.legalAddress,s.jsx("br",{})]}),t.inn&&s.jsxs(s.Fragment,{children:["ИНН: ",t.inn,s.jsx("br",{})]}),t.kpp&&s.jsxs(s.Fragment,{children:["КПП: ",t.kpp,s.jsx("br",{})]}),t.ogrn&&s.jsxs(s.Fragment,{children:["ОГРН: ",t.ogrn,s.jsx("br",{})]}),t.bankAccount&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Банковские реквизиты:"}),s.jsx("br",{}),"Расчетный счет: ",t.bankAccount,s.jsx("br",{}),t.bankName&&s.jsxs(s.Fragment,{children:["Банк: ",t.bankName,s.jsx("br",{})]}),t.bankBik&&s.jsxs(s.Fragment,{children:["БИК: ",t.bankBik,s.jsx("br",{})]}),t.bankCorrespondentAccount&&s.jsxs(s.Fragment,{children:["Корр. счет: ",t.bankCorrespondentAccount,s.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Руководитель:"}),s.jsx("br",{}),t.directorPosition&&s.jsxs(s.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Контакты:"}),s.jsx("br",{}),t.phone&&s.jsxs(s.Fragment,{children:["Телефон: ",t.phone,s.jsx("br",{})]}),t.email&&s.jsxs(s.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}function Jje(){return $r(),s.jsx(UA,{maxWidth:"md",sx:{py:4},children:s.jsxs(Pn,{sx:{p:4},children:[s.jsx(q,{variant:"h4",gutterBottom:!0,align:"center",children:"ПУБЛИЧНАЯ ОФЕРТА"}),s.jsx(q,{variant:"subtitle1",gutterBottom:!0,align:"center",color:"text.secondary",children:"о заключении договора на оказание услуг системы бронирования"}),s.jsx(q,{variant:"body2",sx:{mt:2,mb:4},align:"center",color:"text.secondary",children:"Дата публикации: 01 января 2025 года"}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"1. ОБЩИЕ ПОЛОЖЕНИЯ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"1.1. Настоящая публичная оферта (далее – «Оферта») является официальным предложением ИП ТЕН КРИСТИНА ВАДИМОВНА (ОГРНИП 313028000082460, ИНН 026401027275), именуемого в дальнейшем «Исполнитель», заключить договор на оказание услуг системы бронирования «Все Корты» (далее – «Система») на условиях, изложенных в настоящей Оферте."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"1.2. Акцептом настоящей Оферты является регистрация в Системе и/или оплата услуг Исполнителя."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"1.3. Акцепт Оферты означает полное и безоговорочное согласие Заказчика с условиями настоящей Оферты."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"2. ПРЕДМЕТ ДОГОВОРА"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику доступ к Системе бронирования спортивных площадок, а Заказчик обязуется оплатить услуги в соответствии с выбранным тарифным планом."}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["2.2. Система предоставляет следующие основные функции:",s.jsx("br",{}),"• Онлайн-бронирование спортивных площадок",s.jsx("br",{}),"• Управление расписанием и загрузкой кортов",s.jsx("br",{}),"• Прием онлайн-платежей от клиентов",s.jsx("br",{}),"• Система уведомлений (SMS/Email)",s.jsx("br",{}),"• Аналитика и отчетность",s.jsx("br",{}),"• Мобильное приложение для клиентов"]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"3. ТАРИФНЫЕ ПЛАНЫ И СТОИМОСТЬ УСЛУГ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["3.1. Стоимость услуг определяется в соответствии с выбранным тарифным планом:",s.jsx("br",{}),"• ",s.jsx("strong",{children:"СТАРТ"})," - бесплатно (до 2 кортов)",s.jsx("br",{}),"• ",s.jsx("strong",{children:"СТАНДАРТ"})," - 990 рублей за корт в месяц (первые 3 месяца бесплатно)",s.jsx("br",{}),"• ",s.jsx("strong",{children:"ПРОФИ"})," - 1990 рублей за корт в месяц"]}),s.jsx(q,{variant:"body1",paragraph:!0,children:"3.2. SMS-уведомления тарифицируются отдельно: 6 рублей за сообщение для всех тарифов."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"3.3. Оплата производится ежемесячно путем списания с привязанной банковской карты или по выставленному счету."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["4.1. Исполнитель обязуется:",s.jsx("br",{}),"• Обеспечить круглосуточный доступ к Системе (за исключением времени технического обслуживания)",s.jsx("br",{}),"• Обеспечить сохранность данных Заказчика",s.jsx("br",{}),"• Предоставлять техническую поддержку в соответствии с тарифным планом",s.jsx("br",{}),"• Не взимать комиссию с платежей клиентов Заказчика"]}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["4.2. Заказчик обязуется:",s.jsx("br",{}),"• Своевременно оплачивать услуги",s.jsx("br",{}),"• Не использовать Систему в противоправных целях",s.jsx("br",{}),"• Соблюдать авторские права Исполнителя",s.jsx("br",{}),"• Предоставлять достоверную информацию при регистрации"]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"5. ОТВЕТСТВЕННОСТЬ СТОРОН"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"5.1. Исполнитель не несет ответственности за упущенную выгоду и иные косвенные убытки Заказчика."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"5.2. Исполнитель не несет ответственности за качество услуг связи, предоставляемых третьими лицами."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"5.3. Совокупная ответственность Исполнителя ограничена суммой, уплаченной Заказчиком за последний месяц использования Системы."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"6. КОНФИДЕНЦИАЛЬНОСТЬ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"6.1. Стороны обязуются соблюдать конфиденциальность информации, полученной в рамках исполнения настоящего Договора."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"6.2. Обработка персональных данных осуществляется в соответствии с Политикой конфиденциальности, размещенной на сайте Системы."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"7. СРОК ДЕЙСТВИЯ И ПОРЯДОК РАСТОРЖЕНИЯ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"7.1. Договор вступает в силу с момента акцепта Оферты и действует до его расторжения любой из Сторон."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"7.2. Заказчик может расторгнуть Договор в любое время через личный кабинет в Системе."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"7.3. Исполнитель вправе расторгнуть Договор в одностороннем порядке при нарушении Заказчиком условий настоящей Оферты."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"8. РАЗРЕШЕНИЕ СПОРОВ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"8.1. Все споры решаются путем переговоров. При недостижении согласия споры передаются на рассмотрение в Арбитражный суд Республики Татарстан."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:[s.jsx("strong",{children:"ИП ТЕН КРИСТИНА ВАДИМОВНА"}),s.jsx("br",{}),"ИНН: 026401027275",s.jsx("br",{}),"ОГРНИП: 313028000082460",s.jsx("br",{}),"Юридический адрес: 420000, Республика Татарстан, г. Казань, ул. Павлюхина, д. 114, кв. 39",s.jsx("br",{}),s.jsx("br",{}),"Банковские реквизиты:",s.jsx("br",{}),"Расчетный счет: 40802810800000000779",s.jsx("br",{}),'Банк: АО "ТБанк"',s.jsx("br",{}),"БИК: 044525974",s.jsx("br",{}),"Корр. счет: 30101810145250000974",s.jsx("br",{}),s.jsx("br",{}),"Email: admin@allcourt.ru",s.jsx("br",{}),"Телефон: +7 (999) 123-45-67"]}),s.jsx(Ce,{sx:{mt:4,pt:2,borderTop:1,borderColor:"divider"},children:s.jsx(q,{variant:"body2",color:"text.secondary",align:"center",children:'Нажимая кнопку "Зарегистрироваться" или оплачивая услуги, вы принимаете условия настоящей Оферты'})})]})})}function Zje(){return s.jsx(UA,{maxWidth:"md",sx:{py:4},children:s.jsxs(Pn,{sx:{p:4},children:[s.jsx(q,{variant:"h4",gutterBottom:!0,align:"center",children:"ПОЛИТИКА КОНФИДЕНЦИАЛЬНОСТИ"}),s.jsx(q,{variant:"body2",sx:{mt:2,mb:4},align:"center",color:"text.secondary",children:"Дата вступления в силу: 01 января 2025 года"}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"1. ОБЩИЕ ПОЛОЖЕНИЯ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"1.1. Настоящая Политика конфиденциальности (далее – «Политика») определяет порядок обработки и защиты ИП ТЕН КРИСТИНА ВАДИМОВНА (ИНН 026401027275, ОГРНИП 313028000082460) информации о физических лицах (далее – «Пользователи»), которая может быть получена при использовании системы бронирования «Все Корты» (далее – «Система»)."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"1.2. Целью настоящей Политики является обеспечение надлежащей защиты информации о Пользователях, в том числе их персональных данных, от несанкционированного доступа и разглашения."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"2. СОБИРАЕМАЯ ИНФОРМАЦИЯ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["2.1. В рамках использования Системы могут быть собраны следующие данные:",s.jsx("br",{}),"• Имя, фамилия, отчество",s.jsx("br",{}),"• Номер телефона",s.jsx("br",{}),"• Адрес электронной почты",s.jsx("br",{}),"• Данные о местоположении (при использовании функций геолокации)",s.jsx("br",{}),"• История бронирований",s.jsx("br",{}),"• Платежная информация (обрабатывается платежными системами)",s.jsx("br",{}),"• IP-адрес и данные об устройстве"]}),s.jsx(q,{variant:"body1",paragraph:!0,children:"2.2. Система не собирает и не хранит данные банковских карт. Вся платежная информация обрабатывается напрямую сертифицированными платежными системами (ЮКасса, Сбербанк, Тинькофф)."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"3. ЦЕЛИ ОБРАБОТКИ ДАННЫХ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["3.1. Персональные данные Пользователей обрабатываются в следующих целях:",s.jsx("br",{}),"• Предоставление доступа к функциям Системы",s.jsx("br",{}),"• Обработка бронирований спортивных площадок",s.jsx("br",{}),"• Отправка уведомлений о статусе бронирований",s.jsx("br",{}),"• Проведение платежей за услуги",s.jsx("br",{}),"• Улучшение качества обслуживания",s.jsx("br",{}),"• Соблюдение требований законодательства РФ"]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"4. ПРАВОВЫЕ ОСНОВАНИЯ ОБРАБОТКИ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["4.1. Обработка персональных данных осуществляется на основании:",s.jsx("br",{}),"• Согласия Пользователя на обработку персональных данных",s.jsx("br",{}),"• Необходимости исполнения договора, стороной которого является Пользователь",s.jsx("br",{}),"• Необходимости соблюдения требований законодательства РФ"]}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"5. ЗАЩИТА ПЕРСОНАЛЬНЫХ ДАННЫХ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"5.1. Мы принимаем необходимые и достаточные организационные и технические меры для защиты персональных данных Пользователей от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"5.2. Доступ к персональным данным имеют только уполномоченные сотрудники, подписавшие соглашение о неразглашении конфиденциальной информации."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"5.3. Все данные передаются по защищенному протоколу HTTPS с использованием SSL-шифрования."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"6. ПЕРЕДАЧА ДАННЫХ ТРЕТЬИМ ЛИЦАМ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["6.1. Персональные данные Пользователей не передаются третьим лицам, за исключением случаев:",s.jsx("br",{}),"• Пользователь выразил согласие на такие действия",s.jsx("br",{}),"• Передача необходима для оказания услуги Пользователю",s.jsx("br",{}),"• Передача предусмотрена российским законодательством"]}),s.jsx(q,{variant:"body1",paragraph:!0,children:"6.2. При обработке платежей данные могут передаваться платежным системам в объеме, необходимом для проведения платежа."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"7. ПРАВА ПОЛЬЗОВАТЕЛЕЙ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["7.1. Пользователи имеют право:",s.jsx("br",{}),"• Получать информацию об обработке своих персональных данных",s.jsx("br",{}),"• Требовать уточнения, блокирования или уничтожения персональных данных",s.jsx("br",{}),"• Отозвать согласие на обработку персональных данных",s.jsx("br",{}),"• Обжаловать действия или бездействие в Роскомнадзор"]}),s.jsx(q,{variant:"body1",paragraph:!0,children:"7.2. Для реализации своих прав Пользователь может обратиться по email: admin@allcourt.ru"}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"8. ИСПОЛЬЗОВАНИЕ COOKIES"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["8.1. Система использует файлы cookies для:",s.jsx("br",{}),"• Аутентификации пользователей",s.jsx("br",{}),"• Сохранения настроек и предпочтений",s.jsx("br",{}),"• Сбора статистики использования",s.jsx("br",{}),"• Улучшения пользовательского опыта"]}),s.jsx(q,{variant:"body1",paragraph:!0,children:"8.2. Пользователь может отключить использование cookies в настройках браузера, однако это может повлиять на доступность некоторых функций Системы."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"9. ХРАНЕНИЕ ДАННЫХ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"9.1. Персональные данные хранятся в течение срока, необходимого для достижения целей их обработки, но не менее срока, установленного законодательством РФ."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"9.2. При удалении аккаунта персональные данные удаляются в течение 30 дней, за исключением данных, хранение которых требуется по закону."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"10. ОБРАБОТКА ДАННЫХ НЕСОВЕРШЕННОЛЕТНИХ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"10.1. Система не предназначена для использования лицами младше 18 лет без согласия родителей или законных представителей."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"10.2. Если нам станет известно, что мы собрали персональные данные несовершеннолетнего без соответствующего согласия, мы предпримем меры для удаления такой информации."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"11. ИЗМЕНЕНИЯ В ПОЛИТИКЕ"}),s.jsx(q,{variant:"body1",paragraph:!0,children:"11.1. Мы оставляем за собой право вносить изменения в настоящую Политику. Новая версия Политики вступает в силу с момента ее размещения в Системе."}),s.jsx(q,{variant:"body1",paragraph:!0,children:"11.2. Продолжение использования Системы после внесения изменений означает согласие Пользователя с новой версией Политики."}),s.jsx(q,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"12. КОНТАКТНАЯ ИНФОРМАЦИЯ"}),s.jsxs(q,{variant:"body1",paragraph:!0,children:["По всем вопросам, связанным с обработкой персональных данных, вы можете обратиться:",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"ИП ТЕН КРИСТИНА ВАДИМОВНА"}),s.jsx("br",{}),"Email: admin@allcourt.ru",s.jsx("br",{}),"Телефон: +7 (999) 123-45-67",s.jsx("br",{}),"Адрес: 420000, Республика Татарстан, г. Казань, ул. Павлюхина, д. 114, кв. 39"]}),s.jsx(Ce,{sx:{mt:4,pt:2,borderTop:1,borderColor:"divider"},children:s.jsx(q,{variant:"body2",color:"text.secondary",align:"center",children:"Используя Систему «Все Корты», вы подтверждаете, что ознакомились с настоящей Политикой конфиденциальности и согласны с ее условиями"})})]})})}function e4e(){const{clubId:e,trainingId:t}=el(),n=$r(),[r,i]=y.useState(null),[a,o]=y.useState(null),[l,c]=y.useState(!0),[A,u]=y.useState(!1),[d,h]=y.useState(""),[f,p]=y.useState(""),[g,v]=y.useState("+7"),[x,C]=y.useState(""),[b,w]=y.useState([]);y.useEffect(()=>{E()},[e,t]);const E=async()=>{if(!e||!t){h("Некорректные параметры"),c(!1);return}try{console.log("Loading training:",t);const P=await fn(wt(_e,"bookings",t));if(!P.exists()){h("Групповая тренировка не найдена"),c(!1);return}const Q={id:P.id,...P.data()};if(console.log("Training data loaded:",Q),Q.bookingType!=="group"){h("Это не групповая тренировка"),c(!1);return}if(Q.status==="cancelled"){h("Тренировка отменена"),c(!1);return}const j=Q.amount||0,k=Math.round(j/Q.maxParticipants),T=Q.trainerPrice?Math.round(Q.trainerPrice/Q.maxParticipants):0,D=k+T;i({...Q,pricePerPerson:D});const R=await fn(wt(_e,"venues",e));R.exists()&&o({id:R.id,...R.data()}),console.log("Loading participants for training:",t);const H=qt(Ct(_e,"groupParticipants"),vt("groupTrainingId","==",t)),V=(await Mt(H)).docs.map(J=>({id:J.id,...J.data()}));console.log("Participants loaded:",V),w(V)}catch(P){console.error("Error loading data:",P),h("Ошибка загрузки данных")}finally{c(!1)}},S=async P=>{if(P.preventDefault(),!f||!g){alert("Заполните обязательные поля");return}if(!r||!a){alert("Ошибка загрузки данных");return}if(r.currentParticipants>=r.maxParticipants){alert("К сожалению, все места заняты");return}u(!0),h("");try{const Q=qt(Ct(_e,"groupParticipants"),vt("groupTrainingId","==",t),vt("phone","==",g.trim()));if(!(await Mt(Q)).empty){alert("Участник с таким номером телефона уже зарегистрирован на эту тренировку"),u(!1);return}const k={groupTrainingId:t,name:f.trim(),phone:g.trim(),email:x.trim(),paymentStatus:"pending",paymentAmount:r.pricePerPerson,registeredAt:Ot.now()},T=await Ma(Ct(_e,"groupParticipants"),k);if(r.paymentMethod==="online"&&a.paymentEnabled&&a.paymentProvider)try{const H=(await Ai(qo,"initGroupParticipantPayment")({participantId:T.id,groupTrainingId:t,amount:r.pricePerPerson,customerName:f,customerPhone:g,customerEmail:x,description:`Оплата участия в групповой тренировке ${sn(r.date.toDate(),"dd.MM.yyyy",{locale:ba})} в ${r.startTime}`,returnUrl:`${window.location.origin}/club/${e}/group/${t}/success`})).data;if(H.success&&H.paymentUrl)await en(T,{paymentId:H.paymentId}),window.location.href=H.paymentUrl;else throw new Error(H.error||"Ошибка инициализации платежа")}catch(D){throw console.error("Payment initialization error:",D),await Xc(T),new Error("Не удалось инициализировать платеж: "+D.message)}else{const D=r.paymentMethod&&r.paymentMethod!=="online"?"pending":"paid";await en(T,{paymentStatus:D}),await en(wt(_e,"bookings",t),{currentParticipants:WQ(1)}),r.paymentMethod&&r.paymentMethod!=="online"?alert("Вы успешно записались на тренировку! Оплатите участие выбранным способом."):alert("Вы успешно записались на тренировку!"),window.location.reload()}}catch(Q){console.error("Registration error:",Q),h(Q.message||"Ошибка при регистрации")}finally{u(!1)}};if(l)return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(d&&!r)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)"},children:d}),s.jsx("button",{className:"flutter-button",style:{minWidth:"200px"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"})]})});if(!r||!a)return null;const N=r.maxParticipants-r.currentParticipants<=0;return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-lg)",textAlign:"center"},children:[s.jsx("h1",{className:"h2",children:a.name}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:"Групповая тренировка"})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Тренер:"}),s.jsx("span",{className:"body-bold",children:r.trainerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Дата:"}),s.jsx("span",{className:"body-bold",children:sn(r.date.toDate(),"dd MMMM yyyy",{locale:ba})})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Время:"}),s.jsxs("span",{className:"body-bold",children:[r.startTime," (",r.duration," мин)"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Корт:"}),s.jsx("span",{className:"body-bold",children:r.courtName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Стоимость с человека:"}),s.jsxs("span",{className:"body-bold",style:{color:"var(--primary)",fontSize:"var(--text-body-large)"},children:[r.pricePerPerson," ₽"]})]}),r.pricePerPerson&&r.amount&&s.jsxs("div",{style:{paddingLeft:"var(--spacing-lg)",fontSize:"var(--text-body-small)",color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:[s.jsxs("div",{children:["• Корт: ",Math.round(r.amount/r.maxParticipants)," ₽"]}),r.trainerPrice>0&&s.jsxs("div",{children:["• Тренер: ",Math.round(r.trainerPrice/r.maxParticipants)," ₽"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Участники:"}),s.jsxs("span",{className:"body-bold",children:[r.currentParticipants," / ",r.maxParticipants]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsxs("h3",{className:"h3",style:{marginBottom:"var(--spacing-md)"},children:["Зарегистрированные участники (",b.length,")"]}),b.length>0?s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:b.map((P,Q)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--background)",borderRadius:"var(--radius-sm)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--primary-light)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",color:"var(--primary-dark)"},children:Q+1}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{fontWeight:"500"},children:P.name}),s.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:P.paymentStatus==="paid"?"✓ Оплачено":"Ожидает оплаты"})]})]},P.id))}):s.jsx("div",{style:{padding:"var(--spacing-lg)",textAlign:"center",color:"var(--text-secondary)"},children:"Пока никто не записался"})]}),N?s.jsxs("div",{className:"flutter-card",style:{textAlign:"center",marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-sm)"},children:"Регистрация закрыта"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:"Все места на тренировку заняты"})]}):s.jsxs("form",{onSubmit:S,className:"flutter-card",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Регистрация на тренировку"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Ваше имя *"}),s.jsx("input",{type:"text",className:"form-input",value:f,onChange:P=>p(P.target.value),placeholder:"Иван Иванов",required:!0,disabled:A})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон *"}),s.jsx("input",{type:"tel",className:"form-input",value:g,onChange:P=>v(P.target.value),placeholder:"+7 (999) 123-45-67",required:!0,disabled:A})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",className:"form-input",value:x,onChange:P=>C(P.target.value),placeholder:"email@example.com",disabled:A})]}),d&&s.jsx("div",{style:{padding:"var(--spacing-sm)",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-sm)",color:"var(--error)",marginBottom:"var(--spacing-md)"},children:d}),s.jsx("button",{type:"submit",className:"flutter-button",style:{width:"100%"},disabled:A,children:A?"Обработка...":r.paymentMethod==="online"?`Зарегистрироваться и оплатить ${r.pricePerPerson} ₽`:"Зарегистрироваться на тренировку"})]}),s.jsx("div",{style:{textAlign:"center"},children:s.jsx("button",{className:"flutter-button-outlined",style:{minWidth:"200px"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"})})]})})}const t4e=UB({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function n4e(){return s.jsxs(vz,{theme:t4e,children:[s.jsx(wz,{}),s.jsx(k5e,{children:s.jsx(kV,{children:s.jsx(vQ,{children:s.jsxs(yQ,{children:[s.jsx(cn,{path:"/",element:s.jsx(hd,{to:"/admin/dashboard",replace:!0})}),s.jsx(cn,{path:"/info",element:s.jsx(Gfe,{})}),s.jsx(cn,{path:"/club/:clubId",element:s.jsx(F5e,{})}),s.jsx(cn,{path:"/club/:clubId/court/:courtId/booking",element:s.jsx(Yje,{})}),s.jsx(cn,{path:"/club/:clubId/court/:courtId/date",element:s.jsx($je,{})}),s.jsx(cn,{path:"/club/:clubId/court/:courtId/time",element:s.jsx(zje,{})}),s.jsx(cn,{path:"/club/:clubId/court/:courtId/game-type",element:s.jsx(Wje,{})}),s.jsx(cn,{path:"/club/:clubId/court/:courtId/payment",element:s.jsx(Kje,{})}),s.jsx(cn,{path:"/club/:clubId/booking-confirmation/:bookingId",element:s.jsx(Vje,{})}),s.jsx(cn,{path:"/club/:clubId/group/:trainingId",element:s.jsx(e4e,{})}),s.jsx(cn,{path:"/payment-result",element:s.jsx(Gje,{})}),s.jsx(cn,{path:"/club/:clubId/payment-error",element:s.jsx(qje,{})}),s.jsx(cn,{path:"/club/:clubId/user-agreement",element:s.jsx(Xje,{})}),s.jsx(cn,{path:"/offer",element:s.jsx(Jje,{})}),s.jsx(cn,{path:"/privacy",element:s.jsx(Zje,{})}),s.jsx(cn,{path:"/login",element:s.jsx(nie,{})}),s.jsx(cn,{path:"/register",element:s.jsx(rie,{})}),s.jsx(cn,{path:"/admin/login",element:s.jsx(hd,{to:"/login",replace:!0})}),s.jsx(cn,{path:"/admin/register",element:s.jsx(hd,{to:"/register",replace:!0})}),s.jsxs(cn,{path:"/admin",element:s.jsx(ore,{children:s.jsx(eie,{})}),children:[s.jsx(cn,{index:!0,element:s.jsx(hd,{to:"/admin/dashboard",replace:!0})}),s.jsx(cn,{path:"dashboard",element:s.jsx(I5e,{children:s.jsx(UAe,{})})}),s.jsx(cn,{path:"venues",element:s.jsx(Jfe,{})}),s.jsx(cn,{path:"billing-settings",element:s.jsx(rhe,{})}),s.jsx(cn,{path:"admins",element:s.jsx(Xfe,{})}),s.jsx(cn,{path:"club",element:s.jsx(LAe,{})}),s.jsx(cn,{path:"subscription",element:s.jsx(the,{})}),s.jsx(cn,{path:"payment-settings",element:s.jsx(nhe,{})}),s.jsx(cn,{path:"courts",element:s.jsx(OAe,{})}),s.jsx(cn,{path:"trainers",element:s.jsx(Vhe,{})}),s.jsx(cn,{path:"trainer-profile",element:s.jsx(Ghe,{})}),s.jsx(cn,{path:"bookings",element:s.jsx(Kfe,{})}),s.jsx(cn,{path:"finance",element:s.jsx(ihe,{})}),s.jsx(cn,{path:"platform-analytics",element:s.jsx(E5e,{})}),s.jsx(cn,{path:"customers",element:s.jsx(Vfe,{})}),s.jsx(cn,{path:"marketing",element:s.jsx(ahe,{})}),s.jsx(cn,{path:"settings",element:s.jsx(Ohe,{})}),s.jsx(cn,{path:"company-settings",element:s.jsx(Yhe,{})}),s.jsx(cn,{path:"debug",element:s.jsx(Rhe,{})}),s.jsx(cn,{path:"fix-booking-dates",element:s.jsx(Qhe,{})}),s.jsx(cn,{path:"fix-booking-dates-advanced",element:s.jsx(Hhe,{})}),s.jsx(cn,{path:"find-august18-bookings",element:s.jsx($he,{})}),s.jsx(cn,{path:"fix-permissions",element:s.jsx(Whe,{})}),s.jsx(cn,{path:"migration-tools",element:s.jsx(Xhe,{})}),s.jsx(cn,{path:"parser",element:s.jsx(Jhe,{})})]})]})})})})]})}rw.createRoot(document.getElementById("root")).render(s.jsx(wn.StrictMode,{children:s.jsx(n4e,{})}));export{Rt as _};
//# sourceMappingURL=index-D669tIdm.js.map
